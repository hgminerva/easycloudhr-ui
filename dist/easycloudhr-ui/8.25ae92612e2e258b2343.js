(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{uuoW:function(e,t,i){"use strict";i.r(t),i.d(t,"SoftwareModule",(function(){return b_}));var n={};i.r(n),i.d(n,"Binding",(function(){return Pi})),i.d(n,"Event",(function(){return Ii})),i.d(n,"EventArgs",(function(){return Ti})),i.d(n,"CancelEventArgs",(function(){return Ai})),i.d(n,"PropertyChangedEventArgs",(function(){return Bi})),i.d(n,"RequestErrorEventArgs",(function(){return ji})),i.d(n,"NotifyCollectionChangedAction",(function(){return Ui})),i.d(n,"NotifyCollectionChangedEventArgs",(function(){return Ni})),i.d(n,"SortDescription",(function(){return zi})),i.d(n,"PageChangingEventArgs",(function(){return Gi})),i.d(n,"GroupDescription",(function(){return Yi})),i.d(n,"PropertyGroupDescription",(function(){return Qi})),i.d(n,"getVersion",(function(){return Wi})),i.d(n,"setLicenseKey",(function(){return qi})),i.d(n,"Key",(function(){return Hi})),i.d(n,"DataType",(function(){return Fi})),i.d(n,"tryCast",(function(){return Ki})),i.d(n,"isPrimitive",(function(){return $i})),i.d(n,"isString",(function(){return Ji})),i.d(n,"isNullOrWhiteSpace",(function(){return Zi})),i.d(n,"isNumber",(function(){return Xi})),i.d(n,"isInt",(function(){return en})),i.d(n,"isBoolean",(function(){return tn})),i.d(n,"isFunction",(function(){return nn})),i.d(n,"isUndefined",(function(){return on})),i.d(n,"isDate",(function(){return an})),i.d(n,"isArray",(function(){return rn})),i.d(n,"isObject",(function(){return sn})),i.d(n,"isEmpty",(function(){return ln})),i.d(n,"getUniqueId",(function(){return cn})),i.d(n,"mouseToPage",(function(){return dn})),i.d(n,"getType",(function(){return hn})),i.d(n,"getTypes",(function(){return un})),i.d(n,"changeType",(function(){return pn})),i.d(n,"toFixed",(function(){return bn})),i.d(n,"format",(function(){return mn})),i.d(n,"glbz",(function(){return fn})),i.d(n,"evalTemplate",(function(){return gn})),i.d(n,"clamp",(function(){return _n})),i.d(n,"copy",(function(){return vn})),i.d(n,"assert",(function(){return wn})),i.d(n,"_deprecated",(function(){return Cn})),i.d(n,"asString",(function(){return Dn})),i.d(n,"asNumber",(function(){return Sn})),i.d(n,"asInt",(function(){return xn})),i.d(n,"asBoolean",(function(){return kn})),i.d(n,"asDate",(function(){return Ln})),i.d(n,"asFunction",(function(){return Vn})),i.d(n,"asArray",(function(){return On})),i.d(n,"asType",(function(){return Un})),i.d(n,"asEnum",(function(){return En})),i.d(n,"asCollectionView",(function(){return Mn})),i.d(n,"hasItems",(function(){return Pn})),i.d(n,"toHeaderCase",(function(){return Rn})),i.d(n,"escapeHtml",(function(){return In})),i.d(n,"escapeRegExp",(function(){return Bn})),i.d(n,"toPlainText",(function(){return jn})),i.d(n,"hasClass",(function(){return Hn})),i.d(n,"addClass",(function(){return Fn})),i.d(n,"removeClass",(function(){return Nn})),i.d(n,"toggleClass",(function(){return zn})),i.d(n,"setAttribute",(function(){return Gn})),i.d(n,"setAriaLabel",(function(){return Yn})),i.d(n,"setSelectionRange",(function(){return Qn})),i.d(n,"disableAutoComplete",(function(){return Wn})),i.d(n,"removeChild",(function(){return qn})),i.d(n,"getActiveElement",(function(){return Kn})),i.d(n,"moveFocus",(function(){return $n})),i.d(n,"saveFile",(function(){return Jn})),i.d(n,"getElement",(function(){return Zn})),i.d(n,"createElement",(function(){return Xn})),i.d(n,"setText",(function(){return eo})),i.d(n,"contains",(function(){return to})),i.d(n,"closest",(function(){return io})),i.d(n,"closestClass",(function(){return no})),i.d(n,"enable",(function(){return oo})),i.d(n,"getElementRect",(function(){return ao})),i.d(n,"setCss",(function(){return ro})),i.d(n,"animate",(function(){return so})),i.d(n,"Point",(function(){return lo})),i.d(n,"Size",(function(){return co})),i.d(n,"Rect",(function(){return ho})),i.d(n,"DateTime",(function(){return uo})),i.d(n,"httpRequest",(function(){return po})),i.d(n,"_registerModule",(function(){return mo})),i.d(n,"_getModule",(function(){return fo})),i.d(n,"Color",(function(){return go})),i.d(n,"culture",(function(){return yo})),i.d(n,"Globalize",(function(){return _o})),i.d(n,"_updateCulture",(function(){return vo})),i.d(n,"_addCultureInfo",(function(){return wo})),i.d(n,"_MaskProvider",(function(){return Co})),i.d(n,"_MaskElement",(function(){return Do})),i.d(n,"isMobile",(function(){return ko})),i.d(n,"isiOS",(function(){return Vo})),i.d(n,"isFirefox",(function(){return Uo})),i.d(n,"isSafari",(function(){return Mo})),i.d(n,"isEdge",(function(){return Ro})),i.d(n,"isIE",(function(){return To})),i.d(n,"isIE9",(function(){return Bo})),i.d(n,"isIE10",(function(){return Ho})),i.d(n,"getEventOptions",(function(){return No})),i.d(n,"supportsFocusOptions",(function(){return Go})),i.d(n,"_startDrag",(function(){return Yo})),i.d(n,"PrintDocument",(function(){return Jo})),i.d(n,"Aggregate",(function(){return $o})),i.d(n,"getAggregate",(function(){return Zo})),i.d(n,"ArrayBase",(function(){return Xo})),i.d(n,"ObservableArray",(function(){return na})),i.d(n,"SortNulls",(function(){return ia})),i.d(n,"CollectionView",(function(){return oa})),i.d(n,"CollectionViewGroup",(function(){return aa})),i.d(n,"controlBaseClass",(function(){return ra})),i.d(n,"ControlBase",(function(){return da})),i.d(n,"Control",(function(){return ha})),i.d(n,"Clipboard",(function(){return ua})),i.d(n,"_ClickRepeater",(function(){return pa})),i.d(n,"PopupPosition",(function(){return la})),i.d(n,"showPopup",(function(){return ba})),i.d(n,"hidePopup",(function(){return ma})),i.d(n,"Tooltip",(function(){return _a})),i.d(n,"TooltipEventArgs",(function(){return va})),i.d(n,"_updateWme",(function(){return Sa}));var o={};i.r(o),i.d(o,"InputNumber",(function(){return Mr})),i.d(o,"InputMask",(function(){return Pr})),i.d(o,"ColorPicker",(function(){return Rr})),i.d(o,"CollectionViewNavigator",(function(){return Ir})),i.d(o,"ListBox",(function(){return Tr})),i.d(o,"FormatItemEventArgs",(function(){return Ar})),i.d(o,"MultiSelectListBox",(function(){return jr})),i.d(o,"DateSelectionMode",(function(){return Br})),i.d(o,"Calendar",(function(){return Fr})),i.d(o,"ClickAction",(function(){return Hr})),i.d(o,"DropDown",(function(){return Gr})),i.d(o,"PopupTrigger",(function(){return zr})),i.d(o,"Popup",(function(){return Yr})),i.d(o,"PopupBoundsChangingEventArgs",(function(){return Qr})),i.d(o,"InputDate",(function(){return Wr})),i.d(o,"InputColor",(function(){return qr})),i.d(o,"ComboBox",(function(){return Kr})),i.d(o,"MultiSelect",(function(){return $r})),i.d(o,"Menu",(function(){return Jr})),i.d(o,"InputTime",(function(){return Zr})),i.d(o,"InputDateTime",(function(){return Xr})),i.d(o,"AutoComplete",(function(){return es})),i.d(o,"MultiAutoComplete",(function(){return ts}));var a={};i.r(a),i.d(a,"DataMapEditor",(function(){return ns})),i.d(a,"DataMap",(function(){return rs})),i.d(a,"CellRange",(function(){return ss})),i.d(a,"CellType",(function(){return as})),i.d(a,"GridPanel",(function(){return hs})),i.d(a,"CellRangeEventArgs",(function(){return us})),i.d(a,"FormatItemEventArgs",(function(){return ps})),i.d(a,"CellEditEndingEventArgs",(function(){return bs})),i.d(a,"SelectionMode",(function(){return ls})),i.d(a,"SelectedState",(function(){return cs})),i.d(a,"SelMove",(function(){return ds})),i.d(a,"_SelectionHandler",(function(){return fs})),i.d(a,"RowColFlags",(function(){return ms})),i.d(a,"RowCol",(function(){return ws})),i.d(a,"Column",(function(){return Cs})),i.d(a,"Row",(function(){return Ds})),i.d(a,"GroupRow",(function(){return Ss})),i.d(a,"RowColCollection",(function(){return xs})),i.d(a,"ColumnCollection",(function(){return ks})),i.d(a,"RowCollection",(function(){return Ls})),i.d(a,"AllowSorting",(function(){return gs})),i.d(a,"AllowPinning",(function(){return ys})),i.d(a,"HeadersVisibility",(function(){return _s})),i.d(a,"ClipStringOptions",(function(){return vs})),i.d(a,"FlexGrid",(function(){return Os})),i.d(a,"_ImeHandler",(function(){return Us})),i.d(a,"_ColumnGroupHandler",(function(){return Es})),i.d(a,"ColumnGroup",(function(){return Ms})),i.d(a,"_AddNewHandler",(function(){return Ps})),i.d(a,"_NewRowTemplate",(function(){return Rs})),i.d(a,"AllowMerging",(function(){return Vs})),i.d(a,"MergeManager",(function(){return Is})),i.d(a,"HitTestInfo",(function(){return Ts})),i.d(a,"softInput",(function(){return As})),i.d(a,"CellFactory",(function(){return Bs})),i.d(a,"_EditHandler",(function(){return zs})),i.d(a,"_CustomEditor",(function(){return Gs})),i.d(a,"KeyAction",(function(){return Ns})),i.d(a,"_KeyboardHandler",(function(){return qs})),i.d(a,"AllowResizing",(function(){return Ys})),i.d(a,"AutoSizeMode",(function(){return Qs})),i.d(a,"AllowDragging",(function(){return Ws})),i.d(a,"_MouseHandler",(function(){return Ks}));var r={};i.r(r),i.d(r,"softInput",(function(){return Js})),i.d(r,"softGridDetail",(function(){return Zs})),i.d(r,"DirectiveCellFactoryBase",(function(){return tl})),i.d(r,"GridCellTemplateType",(function(){return el}));var s={};i.r(s),i.d(s,"FilterCondition",(function(){return fl})),i.d(s,"Operator",(function(){return il})),i.d(s,"ConditionFilter",(function(){return yl})),i.d(s,"ConditionFilterEditor",(function(){return _l})),i.d(s,"ValueFilter",(function(){return vl})),i.d(s,"ValueFilterEditor",(function(){return wl})),i.d(s,"ColumnFilter",(function(){return Cl})),i.d(s,"FilterType",(function(){return gl})),i.d(s,"FlexGridFilter",(function(){return Dl})),i.d(s,"ColumnFilterEditor",(function(){return Sl}));var l=i("ofXK"),c=i("3Pt+"),d=i("tyNb"),h=i("fXoL");let u=(()=>{class e{constructor(e){this.router=e}canActivate(){return null!=localStorage.getItem("access_token")||(this.router.navigate(["/security/login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(d.b))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac}),e})();var p=i("0MNC"),b=i("mrSG"),m=i("24n0"),f=i("tk/3");let g=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/user/list",this.appSettings.defaultOptions)}))}RegisterUser(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/user/register",JSON.stringify(e),this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),y=(()=>{class e{constructor(){}openModule(e){let t=!1;if(null!=localStorage.getItem("userRights"))try{let n=JSON.parse(localStorage.getItem("userRights"));for(var i=0;i<=n.length-1;i++)n[i].Module===e&&(t=!0)}catch(Ei){console.log(Ei)}return t}GetModuleRights(e){let t=[];if(null!=localStorage.getItem("userRights"))try{let n=JSON.parse(localStorage.getItem("userRights"));for(var i=0;i<=n.length-1;i++)if(n[i].Module===e){t=n[i];break}}catch(Ei){console.log(Ei)}return t}openGroupModule(e){let t=!1;if(null!=localStorage.getItem("user"))try{localStorage.getItem("userRights"),t="Dashboard"===e||"User List"===e||"User Detail"===e||"Employee List"===e||"Employee Detail"===e||"Compnay List"===e||"Compnay Detail"===e}catch(Ei){console.log(Ei)}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _=i("/t3+"),v=i("bTqV"),w=i("NFeN"),C=i("u47x"),D=i("8LU1"),S=i("FtGj"),x=i("XNiG"),k=i("quSY"),L=i("VRyK"),V=i("LRne"),O=i("7Hc7"),U=i("JX91"),E=i("eIep"),M=i("IzEk"),P=i("pLZG"),R=i("1G5W"),I=i("D0XW"),T=i("7o/Q"),A=i("WMd4");function B(e,t=I.a){var i;const n=(i=e)instanceof Date&&!isNaN(+i)?+e-t.now():Math.abs(e);return e=>e.lift(new j(n,t))}class j{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new H(e,this.delay,this.scheduler))}}class H extends T.a{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,n=e.scheduler,o=e.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(o);if(i.length>0){const t=Math.max(0,i[0].time-n.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(H.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new F(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(A.a.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(A.a.createComplete()),this.unsubscribe()}}class F{constructor(e,t){this.time=e,this.notification=t}}var N=i("R0Ic"),z=i("+rOU"),G=i("FKr1"),Y=i("rDax"),Q=i("nLfN"),W=i("vxfF"),q=i("cH1L");const K=["mat-menu-item",""],$=["*"];function J(e,t){if(1&e){const e=h.Wb();h.Vb(0,"div",0),h.dc("keydown",(function(t){return h.rc(e),h.hc()._handleKeydown(t)}))("click",(function(){return h.rc(e),h.hc().closed.emit("click")}))("@transformMenu.start",(function(t){return h.rc(e),h.hc()._onAnimationStart(t)}))("@transformMenu.done",(function(t){return h.rc(e),h.hc()._onAnimationDone(t)})),h.Vb(1,"div",1),h.ic(2),h.Ub(),h.Ub()}if(2&e){const e=h.hc();h.kc("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),h.Fb("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Z={transformMenu:Object(N.m)("transformMenu",[Object(N.j)("void",Object(N.k)({opacity:0,transform:"scale(0.8)"})),Object(N.l)("void => enter",Object(N.g)([Object(N.h)(".mat-menu-content, .mat-mdc-menu-content",Object(N.e)("100ms linear",Object(N.k)({opacity:1}))),Object(N.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(N.k)({transform:"scale(1)"}))])),Object(N.l)("* => void",Object(N.e)("100ms 25ms linear",Object(N.k)({opacity:0})))]),fadeInItems:Object(N.m)("fadeInItems",[Object(N.j)("showing",Object(N.k)({opacity:1})),Object(N.l)("void => *",[Object(N.k)({opacity:0}),Object(N.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},X=new h.t("MatMenuContent"),ee=new h.t("MAT_MENU_PANEL");class te{}const ie=Object(G.w)(Object(G.x)(te));let ne=(()=>{class e extends ie{constructor(e,t,i,n){super(),this._elementRef=e,this._focusMonitor=i,this._parentMenu=n,this.role="menuitem",this._hovered=new x.a,this._focused=new x.a,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.addItem&&n.addItem(this),this._document=t}focus(e="program",t){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement,t=this._document?this._document.TEXT_NODE:3;let i="";if(e.childNodes){const n=e.childNodes.length;for(let o=0;o<n;o++)e.childNodes[o].nodeType===t&&(i+=e.childNodes[o].textContent)}return i.trim()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(l.c),h.Qb(C.g),h.Qb(ee,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,t){1&e&&h.dc("click",(function(e){return t._checkDisabled(e)}))("mouseenter",(function(){return t._handleMouseEnter()})),2&e&&(h.Fb("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled.toString())("disabled",t.disabled||null),h.Hb("mat-menu-item",!0)("mat-menu-item-highlighted",t._highlighted)("mat-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[h.Bb],attrs:K,ngContentSelectors:$,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,t){1&e&&(h.jc(),h.ic(0),h.Rb(1,"div",0)),2&e&&(h.Eb(1),h.kc("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()))},directives:[G.q],encapsulation:2,changeDetection:0}),e})();const oe=new h.t("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ae=0,re=(()=>{class e{constructor(e,t,i){this._elementRef=e,this._ngZone=t,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new h.H,this._tabSubscription=k.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new x.a,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new h.p,this.close=this.closed,this.panelId="mat-menu-panel-"+ae++}get xPosition(){return this._xPosition}set xPosition(e){"before"!==e&&"after"!==e&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){"above"!==e&&"below"!==e&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Object(D.b)(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Object(D.b)(e)}set panelClass(e){const t=this._previousPanelClass;t&&t.length&&t.split(" ").forEach(e=>{this._classList[e]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(e=>{this._classList[e]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new C.f(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Object(U.a)(this._directDescendantItems),Object(E.a)(e=>Object(L.a)(...e.map(e=>e._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Object(U.a)(this._directDescendantItems),Object(E.a)(e=>Object(L.a)(...e.map(e=>e._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const t=e.keyCode,i=this._keyManager;switch(t){case S.f:Object(S.r)(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case S.h:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case S.l:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case S.g:case S.d:Object(S.r)(e)||(t===S.g?i.setFirstItemActive():i.setLastItemActive(),e.preventDefault());break;default:t!==S.o&&t!==S.c||i.setFocusOrigin("keyboard"),i.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(M.a)(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const t=this._keyManager;if(t.setFocusOrigin(e).setFirstItemActive(),!t.activeItem&&this._directDescendantItems.length){let e=this._directDescendantItems.first._getHostElement().parentElement;for(;e;){if("menu"===e.getAttribute("role")){e.focus();break}e=e.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const t="mat-elevation-z"+Math.min(4+e,24),i=Object.keys(this._classList).find(e=>e.startsWith("mat-elevation-z"));i&&i!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[t]=!0,this._previousElevation=t)}setPositionClasses(e=this.xPosition,t=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===t,i["mat-menu-below"]="below"===t}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Object(U.a)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(e=>e._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.D),h.Qb(oe))},e.\u0275dir=h.Lb({type:e,contentQueries:function(e,t,i){var n;1&e&&(h.Jb(i,X,!0),h.Jb(i,ne,!0),h.Jb(i,ne,!1)),2&e&&(h.pc(n=h.ec())&&(t.lazyContent=n.first),h.pc(n=h.ec())&&(t._allItems=n),h.pc(n=h.ec())&&(t.items=n))},viewQuery:function(e,t){var i;1&e&&h.Ec(h.P,!0),2&e&&h.pc(i=h.ec())&&(t.templateRef=i.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),e})(),se=(()=>{class e extends re{}return e.\u0275fac=function(t){return le(t||e)},e.\u0275dir=h.Lb({type:e,features:[h.Bb]}),e})();const le=h.Xb(se);let ce=(()=>{class e extends se{constructor(e,t,i){super(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.D),h.Qb(oe))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[h.Db([{provide:ee,useExisting:se},{provide:se,useExisting:e}]),h.Bb],ngContentSelectors:$,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,t){1&e&&(h.jc(),h.xc(0,J,3,6,"ng-template"))},directives:[l.j],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[Z.transformMenu,Z.fadeInItems]},changeDetection:0}),e})();const de=new h.t("mat-menu-scroll-strategy"),he={provide:de,deps:[Y.c],useFactory:function(e){return()=>e.scrollStrategies.reposition()}},ue=Object(Q.f)({passive:!0});let pe=(()=>{class e{constructor(e,t,i,n,o,a,r,s){this._overlay=e,this._element=t,this._viewContainerRef=i,this._parentMenu=o,this._menuItemInstance=a,this._dir=r,this._focusMonitor=s,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=k.a.EMPTY,this._hoverSubscription=k.a.EMPTY,this._menuCloseSubscription=k.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new h.p,this.onMenuOpen=this.menuOpened,this.menuClosed=new h.p,this.onMenuClose=this.menuClosed,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,ue),a&&(a._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=n}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.asObservable().subscribe(e=>{this._destroyMenu(),"click"!==e&&"tab"!==e||!this._parentMenu||this._parentMenu.closed.emit(e)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ue),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),t=e.getConfig();this._setPosition(t.positionStrategy),t.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof se&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e="program",t){this._focusMonitor?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),e instanceof se?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(Object(P.a)(e=>"void"===e.toState),Object(M.a)(1),Object(R.a)(e.lazyContent._attached)).subscribe({next:()=>e.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let e=0,t=this.menu.parentMenu;for(;t;)e++,t=t.parentMenu;this.menu.setElevation(e)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Y.d({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(e=>{this.menu.setPositionClasses("start"===e.connectionPair.overlayX?"after":"before","top"===e.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[t,i]="before"===this.menu.xPosition?["end","start"]:["start","end"],[n,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,r]=[n,o],[s,l]=[t,i],c=0;this.triggersSubmenu()?(l=t="before"===this.menu.xPosition?"start":"end",i=s="end"===t?"start":"end",c="bottom"===n?8:-8):this.menu.overlapTrigger||(a="top"===n?"bottom":"top",r="top"===o?"bottom":"top"),e.withPositions([{originX:t,originY:a,overlayX:s,overlayY:n,offsetY:c},{originX:i,originY:a,overlayX:l,overlayY:n,offsetY:c},{originX:t,originY:r,overlayX:s,overlayY:o,offsetY:-c},{originX:i,originY:r,overlayX:l,overlayY:o,offsetY:-c}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),i=this._parentMenu?this._parentMenu.closed:Object(V.a)(),n=this._parentMenu?this._parentMenu._hovered().pipe(Object(P.a)(e=>e!==this._menuItemInstance),Object(P.a)(()=>this._menuOpen)):Object(V.a)();return Object(L.a)(e,i,n,t)}_handleMousedown(e){Object(C.k)(e)||(this._openedBy=0===e.button?"mouse":null,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const t=e.keyCode;this.triggersSubmenu()&&(t===S.l&&"ltr"===this.dir||t===S.h&&"rtl"===this.dir)&&this.openMenu()}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(P.a)(e=>e===this._menuItemInstance&&!e.disabled),B(0,O.a)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof se&&this.menu._isAnimating?this.menu._animationDone.pipe(Object(M.a)(1),B(0,O.a),Object(R.a)(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new z.i(this.menu.templateRef,this._viewContainerRef)),this._portal}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Y.c),h.Qb(h.n),h.Qb(h.T),h.Qb(de),h.Qb(se,8),h.Qb(ne,10),h.Qb(q.b,8),h.Qb(C.g))},e.\u0275dir=h.Lb({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,t){1&e&&h.dc("mousedown",(function(e){return t._handleMousedown(e)}))("keydown",(function(e){return t._handleKeydown(e)}))("click",(function(e){return t._handleClick(e)})),2&e&&h.Fb("aria-expanded",t.menuOpen||null)("aria-controls",t.menuOpen?t.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),e})(),be=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},providers:[he],imports:[G.h]}),e})(),me=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},providers:[he],imports:[[l.b,G.h,G.r,Y.f,be],W.b,G.h,be]}),e})();var fe=i("xgIS"),ge=i("/uUt"),ye=i("lJxs"),_e=i("Kj3r"),ve=i("R1ws");const we=["*"];function Ce(e,t){if(1&e){const e=h.Wb();h.Vb(0,"div",2),h.dc("click",(function(){return h.rc(e),h.hc()._onBackdropClicked()})),h.Ub()}if(2&e){const e=h.hc();h.Hb("mat-drawer-shown",e._isShowingBackdrop())}}function De(e,t){1&e&&(h.Vb(0,"mat-drawer-content"),h.ic(1,2),h.Ub())}const Se=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],xe=["mat-drawer","mat-drawer-content","*"];function ke(e,t){if(1&e){const e=h.Wb();h.Vb(0,"div",2),h.dc("click",(function(){return h.rc(e),h.hc()._onBackdropClicked()})),h.Ub()}if(2&e){const e=h.hc();h.Hb("mat-drawer-shown",e._isShowingBackdrop())}}function Le(e,t){1&e&&(h.Vb(0,"mat-sidenav-content",3),h.ic(1,2),h.Ub())}const Ve=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Oe=["mat-sidenav","mat-sidenav-content","*"],Ue={transformDrawer:Object(N.m)("transform",[Object(N.j)("open, open-instant",Object(N.k)({transform:"none",visibility:"visible"})),Object(N.j)("void",Object(N.k)({"box-shadow":"none",visibility:"hidden"})),Object(N.l)("void => open-instant",Object(N.e)("0ms")),Object(N.l)("void <=> open, open-instant => void",Object(N.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function Ee(e){throw Error(`A drawer was already declared for 'position="${e}"'`)}const Me=new h.t("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Pe=new h.t("MAT_DRAWER_CONTAINER");let Re=(()=>{class e extends W.a{constructor(e,t,i,n,o){super(i,n,o),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.h),h.Qb(Object(h.X)(()=>Te)),h.Qb(h.n),h.Qb(W.c),h.Qb(h.D))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&h.wc("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[h.Bb],ngContentSelectors:we,decls:1,vars:0,template:function(e,t){1&e&&(h.jc(),h.ic(0))},encapsulation:2,changeDetection:0}),e})(),Ie=(()=>{class e{constructor(e,t,i,n,o,a,r){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=i,this._platform=n,this._ngZone=o,this._doc=a,this._container=r,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new x.a,this._animationEnd=new x.a,this._animationState="void",this.openedChange=new h.p(!0),this._destroyed=new x.a,this.onPositionChanged=new h.p,this._modeChanged=new x.a,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Object(fe.a)(this._elementRef.nativeElement,"keydown").pipe(Object(P.a)(e=>e.keyCode===S.f&&!this.disableClose&&!Object(S.r)(e)),Object(R.a)(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()}))}),this._animationEnd.pipe(Object(ge.a)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{const{fromState:t,toState:i}=e;(0===i.indexOf("open")&&"void"===t||"void"===i&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Object(D.b)(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=Object(D.b)(e)}get opened(){return this._opened}set opened(e){this.toggle(Object(D.b)(e))}get _openedStream(){return this.openedChange.pipe(Object(P.a)(e=>e),Object(ye.a)(()=>{}))}get openedStart(){return this._animationStarted.pipe(Object(P.a)(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),Object(ye.a)(()=>{}))}get _closedStream(){return this.openedChange.pipe(Object(P.a)(e=>!e),Object(ye.a)(()=>{}))}get closedStart(){return this._animationStarted.pipe(Object(P.a)(e=>e.fromState!==e.toState&&"void"===e.toState),Object(ye.a)(()=>{}))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(e=>{e||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const t=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,t){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),t)}_setOpen(e,t,i="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=i):(this._animationState="void",t&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(e=>{this.openedChange.pipe(Object(M.a)(1)).subscribe(t=>e(t?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(C.h),h.Qb(C.g),h.Qb(Q.a),h.Qb(h.D),h.Qb(l.c,8),h.Qb(Pe,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&h.Ib("@transform.start",(function(e){return t._animationStartListener(e)}))("@transform.done",(function(e){return t._animationDoneListener(e)})),2&e&&(h.Fb("align",null),h.Dc("@transform",t._animationState),h.Hb("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",onPositionChanged:"positionChanged",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart"},exportAs:["matDrawer"],ngContentSelectors:we,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(h.jc(),h.Vb(0,"div",0),h.ic(1),h.Ub())},encapsulation:2,data:{animation:[Ue.transformDrawer]},changeDetection:0}),e})(),Te=(()=>{class e{constructor(e,t,i,n,o,a=!1,r){this._dir=e,this._element=t,this._ngZone=i,this._changeDetectorRef=n,this._animationMode=r,this._drawers=new h.H,this.backdropClick=new h.p,this._destroyed=new x.a,this._doCheckSubject=new x.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new x.a,e&&e.change.pipe(Object(R.a)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Object(R.a)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Object(D.b)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Object(D.b)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Object(U.a)(this._allDrawers),Object(R.a)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Object(U.a)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(Object(_e.a)(10),Object(R.a)(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._width;else if("push"==this._left.mode){const i=this._left._width;e+=i,t-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._width;else if("push"==this._right.mode){const i=this._right._width;t+=i,e-=i}e=e||null,t=t||null,e===this._contentMargins.left&&t===this._contentMargins.right||(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Object(P.a)(e=>e.fromState!==e.toState),Object(R.a)(this._drawers.changes)).subscribe(e=>{"open-instant"!==e.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Object(R.a)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Object(R.a)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(M.a)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Object(R.a)(Object(L.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?t.add(i):t.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?(null!=this._end&&Ee("end"),this._end=e):(null!=this._start&&Ee("start"),this._start=e)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(q.b,8),h.Qb(h.n),h.Qb(h.D),h.Qb(h.h),h.Qb(W.e),h.Qb(Me),h.Qb(ve.a,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,i){var n;1&e&&(h.Jb(i,Re,!0),h.Jb(i,Ie,!0)),2&e&&(h.pc(n=h.ec())&&(t._content=n.first),h.pc(n=h.ec())&&(t._allDrawers=n))},viewQuery:function(e,t){var i;1&e&&h.Ec(Re,!0),2&e&&h.pc(i=h.ec())&&(t._userContent=i.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&h.Hb("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[h.Db([{provide:Pe,useExisting:e}])],ngContentSelectors:xe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(h.jc(Se),h.xc(0,Ce,1,2,"div",0),h.ic(1),h.ic(2,1),h.xc(3,De,2,0,"mat-drawer-content",1)),2&e&&(h.kc("ngIf",t.hasBackdrop),h.Eb(3),h.kc("ngIf",!t._content))},directives:[l.l,Re],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),e})(),Ae=(()=>{class e extends Re{constructor(e,t,i,n,o){super(e,t,i,n,o)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.h),h.Qb(Object(h.X)(()=>He)),h.Qb(h.n),h.Qb(W.c),h.Qb(h.D))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,t){2&e&&h.wc("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[h.Bb],ngContentSelectors:we,decls:1,vars:0,template:function(e,t){1&e&&(h.jc(),h.ic(0))},encapsulation:2,changeDetection:0}),e})(),Be=(()=>{class e extends Ie{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Object(D.b)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Object(D.e)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Object(D.e)(e)}}return e.\u0275fac=function(t){return je(t||e)},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,t){2&e&&(h.Fb("align",null),h.wc("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),h.Hb("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened)("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[h.Bb],ngContentSelectors:we,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(h.jc(),h.Vb(0,"div",0),h.ic(1),h.Ub())},encapsulation:2,data:{animation:[Ue.transformDrawer]},changeDetection:0}),e})();const je=h.Xb(Be);let He=(()=>{class e extends Te{}return e.\u0275fac=function(t){return Fe(t||e)},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,i){var n;1&e&&(h.Jb(i,Ae,!0),h.Jb(i,Be,!0)),2&e&&(h.pc(n=h.ec())&&(t._content=n.first),h.pc(n=h.ec())&&(t._allDrawers=n))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){2&e&&h.Hb("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[h.Db([{provide:Pe,useExisting:e}]),h.Bb],ngContentSelectors:Oe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,t){1&e&&(h.jc(Ve),h.xc(0,ke,1,2,"div",0),h.ic(1),h.ic(2,1),h.xc(3,Le,2,0,"mat-sidenav-content",1)),2&e&&(h.kc("ngIf",t.hasBackdrop),h.Eb(3),h.kc("ngIf",!t._content))},directives:[l.l,Ae,W.a],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),e})();const Fe=h.Xb(He);let Ne=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[l.b,G.h,Q.b,W.b],W.b,G.h]}),e})();var ze=i("0EQZ");let Ge=0;const Ye=new h.t("CdkAccordion");let Qe=(()=>{class e{constructor(){this._stateChanges=new x.a,this._openCloseAllActions=new x.a,this.id="cdk-accordion-"+Ge++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Object(D.b)(e)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(e){this.multi&&this._openCloseAllActions.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[h.Db([{provide:Ye,useExisting:e}]),h.Cb]}),e})(),We=0,qe=(()=>{class e{constructor(e,t,i){this.accordion=e,this._changeDetectorRef=t,this._expansionDispatcher=i,this._openCloseAllSubscription=k.a.EMPTY,this.closed=new h.p,this.opened=new h.p,this.destroyed=new h.p,this.expandedChange=new h.p,this.id="cdk-accordion-child-"+We++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=i.listen((e,t)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===t&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Object(D.b)(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(D.b)(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Ye,12),h.Qb(h.h),h.Qb(ze.c))},e.\u0275dir=h.Lb({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[h.Db([{provide:Ye,useValue:void 0}])]}),e})(),Ke=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)}}),e})();var $e=i("EY2u");const Je=["body"];function Ze(e,t){}const Xe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],et=["mat-expansion-panel-header","*","mat-action-row"];function tt(e,t){if(1&e&&h.Rb(0,"span",2),2&e){const e=h.hc();h.kc("@indicatorRotate",e._getExpandedState())}}const it=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],nt=["mat-panel-title","mat-panel-description","*"],ot=new h.t("MAT_ACCORDION"),at={indicatorRotate:Object(N.m)("indicatorRotate",[Object(N.j)("collapsed, void",Object(N.k)({transform:"rotate(0deg)"})),Object(N.j)("expanded",Object(N.k)({transform:"rotate(180deg)"})),Object(N.l)("expanded <=> collapsed, void => collapsed",Object(N.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),bodyExpansion:Object(N.m)("bodyExpansion",[Object(N.j)("collapsed, void",Object(N.k)({height:"0px",visibility:"hidden"})),Object(N.j)("expanded",Object(N.k)({height:"*",visibility:"visible"})),Object(N.l)("expanded <=> collapsed, void => collapsed",Object(N.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let rt=(()=>{class e{constructor(e){this._template=e}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.P))},e.\u0275dir=h.Lb({type:e,selectors:[["ng-template","matExpansionPanelContent",""]]}),e})(),st=0;const lt=new h.t("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ct=(()=>{class e extends qe{constructor(e,t,i,n,o,a,r){super(e,t,i),this._viewContainerRef=n,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new h.p,this.afterCollapse=new h.p,this._inputChanges=new x.a,this._headerId="mat-expansion-panel-header-"+st++,this._bodyAnimationDone=new x.a,this.accordion=e,this._document=o,this._bodyAnimationDone.pipe(Object(ge.a)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{"void"!==e.fromState&&("expanded"===e.toState?this.afterExpand.emit():"collapsed"===e.toState&&this.afterCollapse.emit())}),r&&(this.hideToggle=r.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Object(D.b)(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Object(U.a)(null),Object(P.a)(()=>this.expanded&&!this._portal),Object(M.a)(1)).subscribe(()=>{this._portal=new z.i(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,t=this._body.nativeElement;return e===t||t.contains(e)}return!1}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(ot,12),h.Qb(h.h),h.Qb(ze.c),h.Qb(h.T),h.Qb(l.c),h.Qb(ve.a,8),h.Qb(lt,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(e,t,i){var n;1&e&&h.Jb(i,rt,!0),2&e&&h.pc(n=h.ec())&&(t._lazyContent=n.first)},viewQuery:function(e,t){var i;1&e&&h.Ec(Je,!0),2&e&&h.pc(i=h.ec())&&(t._body=i.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,t){2&e&&h.Hb("mat-expanded",t.expanded)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-expansion-panel-spacing",t._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[h.Db([{provide:ot,useValue:void 0}]),h.Bb,h.Cb],ngContentSelectors:et,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,t){1&e&&(h.jc(Xe),h.ic(0),h.Vb(1,"div",0,1),h.dc("@bodyExpansion.done",(function(e){return t._bodyAnimationDone.next(e)})),h.Vb(3,"div",2),h.ic(4,1),h.xc(5,Ze,0,0,"ng-template",3),h.Ub(),h.ic(6,2),h.Ub()),2&e&&(h.Eb(1),h.kc("@bodyExpansion",t._getExpandedState())("id",t.id),h.Fb("aria-labelledby",t._headerId),h.Eb(4),h.kc("cdkPortalOutlet",t._portal))},directives:[z.c],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[at.bodyExpansion]},changeDetection:0}),e})(),dt=(()=>{class e{constructor(e,t,i,n,o,a){this.panel=e,this._element=t,this._focusMonitor=i,this._changeDetectorRef=n,this._animationMode=a,this._parentChangeSubscription=k.a.EMPTY;const r=e.accordion?e.accordion._stateChanges.pipe(Object(P.a)(e=>!(!e.hideToggle&&!e.togglePosition))):$e.a;this._parentChangeSubscription=Object(L.a)(e.opened,e.closed,r,e._inputChanges.pipe(Object(P.a)(e=>!!(e.hideToggle||e.disabled||e.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(Object(P.a)(()=>e._containsFocus())).subscribe(()=>i.focusVia(t,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case S.m:case S.e:Object(S.r)(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e="program",t){this._focusMonitor.focusVia(this._element,e,t)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(ct,1),h.Qb(h.n),h.Qb(C.g),h.Qb(h.h),h.Qb(lt,8),h.Qb(ve.a,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,t){1&e&&h.dc("click",(function(){return t._toggle()}))("keydown",(function(e){return t._keydown(e)})),2&e&&(h.Fb("id",t.panel._headerId)("tabindex",t.disabled?-1:0)("aria-controls",t._getPanelId())("aria-expanded",t._isExpanded())("aria-disabled",t.panel.disabled),h.wc("height",t._getHeaderHeight()),h.Hb("mat-expanded",t._isExpanded())("mat-expansion-toggle-indicator-after","after"===t._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===t._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:nt,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,t){1&e&&(h.jc(it),h.Vb(0,"span",0),h.ic(1),h.ic(2,1),h.ic(3,2),h.Ub(),h.xc(4,tt,1,1,"span",1)),2&e&&(h.Eb(4),h.kc("ngIf",t._showToggle()))},directives:[l.l],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[at.indicatorRotate]},changeDetection:0}),e})(),ht=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),e})(),ut=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),e})(),pt=(()=>{class e extends Qe{constructor(){super(...arguments),this._ownHeaders=new h.H,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Object(D.b)(e)}ngAfterContentInit(){this._headers.changes.pipe(Object(U.a)(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(e=>e.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new C.f(this._ownHeaders).withWrap()}_handleHeaderKeydown(e){const{keyCode:t}=e,i=this._keyManager;t===S.g?Object(S.r)(e)||(i.setFirstItemActive(),e.preventDefault()):t===S.d?Object(S.r)(e)||(i.setLastItemActive(),e.preventDefault()):this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}}return e.\u0275fac=function(t){return bt(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["mat-accordion"]],contentQueries:function(e,t,i){var n;1&e&&h.Jb(i,dt,!0),2&e&&h.pc(n=h.ec())&&(t._headers=n)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,t){2&e&&h.Hb("mat-accordion-multi",t.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[h.Db([{provide:ot,useExisting:e}]),h.Bb]}),e})();const bt=h.Xb(pt);let mt=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[l.b,Ke,z.h]]}),e})(),ft=(()=>{class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Object(D.b)(e)}get inset(){return this._inset}set inset(e){this._inset=Object(D.b)(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,t){2&e&&(h.Fb("aria-orientation",t.vertical?"vertical":"horizontal"),h.Hb("mat-divider-vertical",t.vertical)("mat-divider-horizontal",!t.vertical)("mat-divider-inset",t.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,t){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),e})(),gt=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[G.h],G.h]}),e})();const yt=["*"],_t=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],vt=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"];class wt{}const Ct=Object(G.x)(Object(G.w)(wt));class Dt{}const St=Object(G.w)(Dt),xt=new h.t("MatList"),kt=new h.t("MatNavList");let Lt=(()=>{class e extends Ct{constructor(){super(...arguments),this._stateChanges=new x.a}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(t){return Vt(t||e)},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[h.Db([{provide:kt,useExisting:e}]),h.Bb,h.Cb],ngContentSelectors:yt,decls:1,vars:0,template:function(e,t){1&e&&(h.jc(),h.ic(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),e})();const Vt=h.Xb(Lt);let Ot=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),e})(),Ut=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),e})(),Et=(()=>{class e extends St{constructor(e,t,i,n){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new x.a,this._disabled=!1,this._isInteractiveList=!!(i||n&&"action-list"===n._getListType()),this._list=i||n;const o=this._getHostElement();"button"!==o.nodeName.toLowerCase()||o.hasAttribute("type")||o.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Object(R.a)(this._destroyed)).subscribe(()=>{t.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Object(D.b)(e)}ngAfterContentInit(){Object(G.A)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.h),h.Qb(kt,8),h.Qb(xt,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,t,i){var n;1&e&&(h.Jb(i,Ot,!0),h.Jb(i,Ut,!0),h.Jb(i,G.i,!0)),2&e&&(h.pc(n=h.ec())&&(t._avatar=n.first),h.pc(n=h.ec())&&(t._icon=n.first),h.pc(n=h.ec())&&(t._lines=n))},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,t){2&e&&h.Hb("mat-list-item-disabled",t.disabled)("mat-list-item-avatar",t._avatar||t._icon)("mat-list-item-with-avatar",t._avatar||t._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[h.Bb],ngContentSelectors:vt,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,t){1&e&&(h.jc(_t),h.Vb(0,"div",0),h.Rb(1,"div",1),h.ic(2),h.Vb(3,"div",2),h.ic(4,1),h.Ub(),h.ic(5,2),h.Ub()),2&e&&(h.Eb(1),h.kc("matRippleTrigger",t._getHostElement())("matRippleDisabled",t._isRippleDisabled()))},directives:[G.q],encapsulation:2,changeDetection:0}),e})(),Mt=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[G.j,G.r,G.h,G.p,l.b],G.j,G.h,G.p,gt]}),e})();const Pt=["logoutPanelHeader"];function Rt(e,t){if(1&e){const e=h.Wb();h.Vb(0,"mat-expansion-panel-header",40,41),h.dc("click",(function(){return h.rc(e),h.qc(1)._toggle()})),h.Vb(2,"mat-panel-title"),h.Vb(3,"mat-icon"),h.yc(4,"dashboard"),h.Ub(),h.yc(5," \xa0 "),h.Vb(6,"span",15),h.yc(7," Dashboard "),h.Ub(),h.Ub(),h.Rb(8,"mat-panel-description"),h.Ub()}}function It(e,t){1&e&&(h.Vb(0,"a",42),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",43),h.yc(3," \xa0 \xa0 Company "),h.Ub())}function Tt(e,t){1&e&&(h.Vb(0,"a",44),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",45),h.yc(3," \xa0 \xa0 Employee "),h.Ub())}function At(e,t){1&e&&(h.Vb(0,"a",46),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",47),h.yc(3," \xa0 \xa0 Mandatory Tables "),h.Ub())}function Bt(e,t){1&e&&(h.Vb(0,"a",48),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",49),h.yc(3," \xa0 \xa0 Shift "),h.Ub())}function jt(e,t){1&e&&(h.Vb(0,"a",50),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",51),h.yc(3," \xa0 \xa0 Year "),h.Ub())}function Ht(e,t){1&e&&(h.Vb(0,"a",52),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",53),h.yc(3," \xa0 \xa0 Day Type "),h.Ub())}function Ft(e,t){1&e&&(h.Vb(0,"a",54),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",55),h.yc(3," \xa0 \xa0 Other Income "),h.Ub())}function Nt(e,t){1&e&&(h.Vb(0,"a",56),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",57),h.yc(3," \xa0 \xa0 Other Deductions "),h.Ub())}function zt(e,t){1&e&&(h.Vb(0,"a",58),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",59),h.yc(3," \xa0 \xa0 Users "),h.Ub())}function Gt(e,t){1&e&&(h.Vb(0,"a",65),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",66),h.yc(3," \xa0 \xa0 Leave Credits "),h.Ub())}function Yt(e,t){1&e&&(h.Vb(0,"a",67),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",68),h.yc(3," \xa0 \xa0 Change Shift "),h.Ub())}function Qt(e,t){1&e&&(h.Vb(0,"a",69),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",70),h.yc(3," \xa0 \xa0 Leave Application "),h.Ub())}function Wt(e,t){1&e&&(h.Vb(0,"a",71),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",72),h.yc(3," \xa0 \xa0 Overtime Application "),h.Ub())}function qt(e,t){1&e&&(h.Vb(0,"a",73),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",74),h.yc(3," \xa0 \xa0 DTR "),h.Ub())}function Kt(e,t){if(1&e&&(h.Vb(0,"mat-expansion-panel",14),h.Vb(1,"mat-expansion-panel-header"),h.Vb(2,"mat-panel-title"),h.Vb(3,"mat-icon"),h.yc(4,"access_time"),h.Ub(),h.yc(5," \xa0 "),h.Vb(6,"span",15),h.yc(7," DTR "),h.Ub(),h.Ub(),h.Rb(8,"mat-panel-description"),h.Ub(),h.Vb(9,"mat-nav-list",16),h.xc(10,Gt,4,0,"a",60),h.xc(11,Yt,4,0,"a",61),h.xc(12,Qt,4,0,"a",62),h.xc(13,Wt,4,0,"a",63),h.xc(14,qt,4,0,"a",64),h.Ub(),h.Ub()),2&e){const e=h.hc();h.Eb(10),h.kc("ngIf",e.moduleOthers),h.Eb(1),h.kc("ngIf",e.moduleChangeShiftList),h.Eb(1),h.kc("ngIf",e.moduleLeaveApplicationList),h.Eb(1),h.kc("ngIf",e.moduleOvertimeList),h.Eb(1),h.kc("ngIf",e.moduleDTRList)}}function $t(e,t){1&e&&(h.Vb(0,"a",79),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",80),h.yc(3," \xa0 \xa0 Loans "),h.Ub())}function Jt(e,t){1&e&&(h.Vb(0,"a",81),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",55),h.yc(3," \xa0 \xa0 Other Income "),h.Ub())}function Zt(e,t){1&e&&(h.Vb(0,"a",82),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",57),h.yc(3," \xa0 \xa0 Other Deductions "),h.Ub())}function Xt(e,t){1&e&&(h.Vb(0,"a",83),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",84),h.yc(3," \xa0 \xa0 Last Tax "),h.Ub())}function ei(e,t){1&e&&(h.Vb(0,"a",85),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",86),h.yc(3," \xa0 \xa0 Payroll "),h.Ub())}function ti(e,t){if(1&e&&(h.Vb(0,"mat-expansion-panel",14),h.Vb(1,"mat-expansion-panel-header"),h.Vb(2,"mat-panel-title"),h.Vb(3,"mat-icon"),h.yc(4,"money"),h.Ub(),h.yc(5," \xa0 "),h.Vb(6,"span",15),h.yc(7," Payroll "),h.Ub(),h.Ub(),h.Rb(8,"mat-panel-description"),h.Ub(),h.Vb(9,"mat-nav-list",16),h.xc(10,$t,4,0,"a",75),h.xc(11,Jt,4,0,"a",76),h.xc(12,Zt,4,0,"a",77),h.xc(13,Xt,4,0,"a",30),h.xc(14,ei,4,0,"a",78),h.Ub(),h.Ub()),2&e){const e=h.hc();h.Eb(10),h.kc("ngIf",e.moduleLoanList),h.Eb(1),h.kc("ngIf",e.modulePayrollOtherIncomeList),h.Eb(1),h.kc("ngIf",e.modulePayrollOtherDeductionList),h.Eb(1),h.kc("ngIf",e.moduleOthers),h.Eb(1),h.kc("ngIf",e.modulePayrollList)}}function ii(e,t){1&e&&(h.Vb(0,"mat-nav-list",16),h.Vb(1,"a",83),h.yc(2," \xa0 \xa0 "),h.Rb(3,"img",88),h.yc(4," \xa0 \xa0 DTR "),h.Ub(),h.Vb(5,"a",83),h.yc(6," \xa0 \xa0 "),h.Rb(7,"img",88),h.yc(8," \xa0 \xa0 Payroll "),h.Ub(),h.Vb(9,"a",83),h.yc(10," \xa0 \xa0 "),h.Rb(11,"img",88),h.yc(12," \xa0 \xa0 Mandatory Reports "),h.Ub(),h.Vb(13,"a",83),h.yc(14," \xa0 \xa0 "),h.Rb(15,"img",88),h.yc(16," \xa0 \xa0 Bank "),h.Ub(),h.Vb(17,"a",83),h.yc(18," \xa0 \xa0 "),h.Rb(19,"img",88),h.yc(20," \xa0 \xa0 Leave Reports "),h.Ub(),h.Vb(21,"a",83),h.yc(22," \xa0 \xa0 "),h.Rb(23,"img",88),h.yc(24," \xa0 \xa0 Loan Reports "),h.Ub(),h.Vb(25,"a",83),h.yc(26," \xa0 \xa0 "),h.Rb(27,"img",88),h.yc(28," \xa0 \xa0 Demographics "),h.Ub(),h.Ub())}function ni(e,t){if(1&e&&(h.Vb(0,"mat-expansion-panel",14),h.Vb(1,"mat-expansion-panel-header"),h.Vb(2,"mat-panel-title"),h.Vb(3,"mat-icon"),h.yc(4,"print"),h.Ub(),h.yc(5," \xa0 "),h.Vb(6,"span",15),h.yc(7," Reports "),h.Ub(),h.Ub(),h.Rb(8,"mat-panel-description"),h.Ub(),h.xc(9,ii,29,0,"mat-nav-list",87),h.Ub()),2&e){const e=h.hc();h.Eb(9),h.kc("ngIf",e.moduleOthers)}}function oi(e,t){1&e&&(h.Vb(0,"a",89),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",90),h.yc(3," \xa0 \xa0 System Tables "),h.Ub())}function ai(e,t){1&e&&(h.Vb(0,"a",83),h.yc(1," \xa0 \xa0 "),h.Rb(2,"img",91),h.yc(3," \xa0 \xa0 Settings "),h.Ub())}function ri(e,t){1&e&&(h.Vb(0,"mat-expansion-panel",14),h.Vb(1,"mat-expansion-panel-header"),h.Vb(2,"mat-panel-title"),h.Vb(3,"mat-icon"),h.yc(4,"security"),h.Ub(),h.yc(5," \xa0 "),h.Vb(6,"span",15),h.yc(7," Security "),h.Ub(),h.Ub(),h.Rb(8,"mat-panel-description"),h.Ub(),h.Vb(9,"mat-nav-list",16),h.Vb(10,"a",83),h.yc(11," \xa0 \xa0 "),h.Rb(12,"img",92),h.yc(13," \xa0 \xa0 Manage "),h.Ub(),h.Vb(14,"a",83),h.yc(15," \xa0 \xa0 "),h.Rb(16,"img",93),h.yc(17," \xa0 \xa0 Change Password "),h.Ub(),h.Ub(),h.Ub())}let si=(()=>{class e{constructor(e,t,i,n,o){this.router=i,this.userListService=n,this.softwareSecurityService=o,this.moduleDashBoard=!1,this.moduleUserList=!1,this.moduleEmployeeList=!1,this.moduleCompanyList=!1,this.moduleSystemTables=!1,this.moduleDTR=!1,this.moduleDTRList=!1,this.moduleDTRDetail=!1,this.moduleShiftList=!1,this.moduleShiftDetail=!1,this.moduleChangeShiftList=!1,this.moduleChangeShiftDetail=!1,this.moduleLeaveApplicationList=!1,this.moduleLeaveApplicationDetail=!1,this.moduleOvertimeList=!1,this.moduleOvertimeDetail=!1,this.moduleYearList=!1,this.moduleYearDetail=!1,this.moduleOtherIncomeList=!1,this.moduleOtherDeductionList=!1,this.modulePayroll=!1,this.modulePayrollList=!1,this.modulePayrollDetail=!1,this.modulePayrollOtherDeductionList=!1,this.modulePayrollOtherDeductionDetail=!1,this.modulePayrollOtherIncomeList=!1,this.modulePayrollOtherIncomeDetail=!1,this.moduleLoanList=!1,this.moduleLoanDetail=!1,this.moduleMandatory=!1,this.modulePortal=!1,this.moduleEmployeePortal=!1,this.moduleOthers=!1,this.currentUserName=localStorage.getItem("username"),this.mobileQuery=t.matchMedia("(max-width: 600px)"),this._mobileQueryListener=()=>e.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}logOut(){this.logoutPanelHeader._toggle(),localStorage.removeItem("access_token"),localStorage.removeItem("expires_in"),localStorage.removeItem("token_type"),localStorage.removeItem("username"),setTimeout(()=>{location.reload()},500)}ngOnInit(){1==this.softwareSecurityService.openModule("Dashboard")&&(this.moduleDashBoard=!0),1==this.softwareSecurityService.openModule("User List")&&(this.moduleUserList=!0),1==this.softwareSecurityService.openModule("Employee List")&&(this.moduleEmployeeList=!0),1==this.softwareSecurityService.openModule("Company List")&&(this.moduleCompanyList=!0),1==this.softwareSecurityService.openModule("System Tables")&&(this.moduleSystemTables=!0),1==this.softwareSecurityService.openModule("DTR")&&(this.moduleDTR=!0),1==this.softwareSecurityService.openModule("DTR List")&&(this.moduleDTRList=!0),1==this.softwareSecurityService.openModule("DTR Detail")&&(this.moduleDTRDetail=!0),1==this.softwareSecurityService.openModule("Shift List")&&(this.moduleShiftList=!0),1==this.softwareSecurityService.openModule("Shift Detail")&&(this.moduleShiftDetail=!0),1==this.softwareSecurityService.openModule("Change Shift List")&&(this.moduleChangeShiftList=!0),1==this.softwareSecurityService.openModule("Change Shift Detail")&&(this.moduleChangeShiftDetail=!0),1==this.softwareSecurityService.openModule("Leave Application List")&&(this.moduleLeaveApplicationList=!0),1==this.softwareSecurityService.openModule("Leave Application Detail")&&(this.moduleLeaveApplicationDetail=!0),1==this.softwareSecurityService.openModule("Overtime List")&&(this.moduleOvertimeList=!0),1==this.softwareSecurityService.openModule("Overtime Detail")&&(this.moduleOvertimeDetail=!0),1==this.softwareSecurityService.openModule("Payroll")&&(this.modulePayroll=!0),1==this.softwareSecurityService.openModule("Payroll List")&&(this.modulePayrollList=!0),1==this.softwareSecurityService.openModule("Payroll Detail")&&(this.modulePayrollDetail=!0),1==this.softwareSecurityService.openModule("Payroll Other Deduction List")&&(this.modulePayrollOtherDeductionList=!0),1==this.softwareSecurityService.openModule("Payroll Other Deduction Detail")&&(this.modulePayrollOtherDeductionDetail=!0),1==this.softwareSecurityService.openModule("Payroll Other Income List")&&(this.modulePayrollOtherIncomeList=!0),1==this.softwareSecurityService.openModule("Payroll Other Income Detail")&&(this.modulePayrollOtherIncomeDetail=!0),1==this.softwareSecurityService.openModule("Other Income")&&(this.moduleOtherIncomeList=!0),1==this.softwareSecurityService.openModule("Other Deduction")&&(this.moduleOtherDeductionList=!0),1==this.softwareSecurityService.openModule("Mandatory")&&(this.moduleMandatory=!0),1==this.softwareSecurityService.openModule("Loan List")&&(this.moduleLoanList=!0),1==this.softwareSecurityService.openModule("Year List")&&(this.moduleYearList=!0),1==this.softwareSecurityService.openModule("Year Detail")&&(this.moduleYearDetail=!0),1==this.softwareSecurityService.openModule("Portal")&&(this.modulePortal=!0),1==this.softwareSecurityService.openModule("Employee Portal")&&(this.moduleEmployeePortal=!0),1==this.softwareSecurityService.openModule("Others")&&(this.moduleOthers=!0)}ngOnDestroy(){this.mobileQuery.removeListener(this._mobileQueryListener)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.h),h.Qb(p.c),h.Qb(d.b),h.Qb(g),h.Qb(y))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-software"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Pt,!0),2&e&&h.pc(i=h.ec())&&(t.logoutPanelHeader=i.first)},decls:93,vars:24,consts:[[1,"main-container"],["color","",1,"main-toolbar"],["mat-icon-button","",3,"click"],["routerLink","/landing"],["src","../../../assets/easycloudhrlogo2i.png","height","20",2,"margin-top","7px"],[1,"spacer"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"sidenav-container"],["fixedTopGap","56","opened","",1,"sidenav",3,"mode","fixedInViewport"],["snav",""],["hideToggle","",1,"mat-elevation-z0",2,"border-bottom","1px solid #e0e0e0"],["routerLink","/software",3,"click",4,"ngIf"],[1,"mat-elevation-z0",2,"border-bottom","1px solid #e0e0e0"],[2,"font-size","15px","padding-left","3px","padding-top","2px"],[2,"margin-left","-25px","margin-right","-25px"],["mat-list-item","","routerLink","/software/company-list",4,"ngIf"],["mat-list-item","","routerLink","/software/employee-list",4,"ngIf"],["mat-list-item","","routerLink","/software/mandatory-tables",4,"ngIf"],["mat-list-item","","routerLink","/software/shift-code-list",4,"ngIf"],["mat-list-item","","routerLink","/software/year-list",4,"ngIf"],["mat-list-item","","routerLink","/software/day-type-list",4,"ngIf"],["mat-list-item","","routerLink","/software/other-income",4,"ngIf"],["mat-list-item","","routerLink","/software/other-deductions",4,"ngIf"],["mat-list-item","","routerLink","/software/user-list",4,"ngIf"],["class","mat-elevation-z0","style","border-bottom: 1px solid #e0e0e0;",4,"ngIf"],["mat-list-item","","routerLink","/software/portal-employee"],["src","../../assets/menu-icons/portal.png","height","30"],["mat-list-item","","routerLink","/software/system-tables-list",4,"ngIf"],["mat-list-item","","routerLink",".",4,"ngIf"],["style","pointer-events: none;","class","mat-elevation-z0","style","border-bottom: 1px solid #e0e0e0;",4,"ngIf"],[3,"click"],["logoutPanelHeader",""],[1,"footer"],[2,"margin-top","3px","font-size","15px"],[2,"margin-right","40px","margin-bottom","-5px"],["src","../../assets/footer-icons/fb.png","height","25"],["src","../../assets/footer-icons/instagram.png","height","25"],["src","../../assets/footer-icons/tweeter.png","height","25"],["routerLink","/software",3,"click"],["dashboardPanelHeader",""],["mat-list-item","","routerLink","/software/company-list"],["src","../../assets/menu-icons/company.png","height","30"],["mat-list-item","","routerLink","/software/employee-list"],["src","../../assets/menu-icons/employees.png","height","30"],["mat-list-item","","routerLink","/software/mandatory-tables"],["src","../../assets/menu-icons/mandatory tables.png","height","30"],["mat-list-item","","routerLink","/software/shift-code-list"],["src","../../assets/menu-icons/shift code.png","height","30"],["mat-list-item","","routerLink","/software/year-list"],["src","../../assets/menu-icons/year.png","height","30"],["mat-list-item","","routerLink","/software/day-type-list"],["src","../../assets/menu-icons/day type.png","height","30"],["mat-list-item","","routerLink","/software/other-income"],["src","../../assets/menu-icons/other income.png","height","30"],["mat-list-item","","routerLink","/software/other-deductions"],["src","../../assets/menu-icons/other deductions.png","height","30"],["mat-list-item","","routerLink","/software/user-list"],["src","../../assets/menu-icons/user.png","height","30"],["mat-list-item","","routerLink","/software/leave-credits-list",4,"ngIf"],["mat-list-item","","routerLink","/software/change-shift-code-list",4,"ngIf"],["mat-list-item","","routerLink","/software/leave-application-list",4,"ngIf"],["mat-list-item","","routerLink","/software/overtime-application-list",4,"ngIf"],["mat-list-item","","routerLink","/software/DTR-list",4,"ngIf"],["mat-list-item","","routerLink","/software/leave-credits-list"],["src","../../assets/menu-icons/leave credits.png","height","30"],["mat-list-item","","routerLink","/software/change-shift-code-list"],["src","../../assets/menu-icons/change shift code.png","height","30"],["mat-list-item","","routerLink","/software/leave-application-list"],["src","../../assets/menu-icons/leave application.png","height","30"],["mat-list-item","","routerLink","/software/overtime-application-list"],["src","../../assets/menu-icons/overtime application.png","height","30"],["mat-list-item","","routerLink","/software/DTR-list"],["src","../../assets/menu-icons/DTR.png","height","30"],["mat-list-item","","routerLink","/software/loan-list",4,"ngIf"],["mat-list-item","","routerLink","/software/payroll-other-income-list",4,"ngIf"],["mat-list-item","","routerLink","/software/payroll-other-deduction-list",4,"ngIf"],["mat-list-item","","routerLink","/software/payroll-list",4,"ngIf"],["mat-list-item","","routerLink","/software/loan-list"],["src","../../assets/menu-icons/loan.png","height","30"],["mat-list-item","","routerLink","/software/payroll-other-income-list"],["mat-list-item","","routerLink","/software/payroll-other-deduction-list"],["mat-list-item","","routerLink","."],["src","../../assets/menu-icons/last tax.png","height","30"],["mat-list-item","","routerLink","/software/payroll-list"],["src","../../assets/menu-icons/payroll.png","height","30"],["style","margin-left: -25px; margin-right: -25px;",4,"ngIf"],["src","../../assets/menu-icons/reports.png","height","30"],["mat-list-item","","routerLink","/software/system-tables-list"],["src","../../assets/menu-icons/system tables.png","height","30"],["src","../../assets/menu-icons/settings.png","height","30"],["src","../../assets/menu-icons/manage.png","height","30"],["src","../../assets/menu-icons/change password.png","height","30"]],template:function(e,t){if(1&e){const e=h.Wb();h.Vb(0,"div",0),h.Vb(1,"mat-toolbar",1),h.Vb(2,"button",2),h.dc("click",(function(){return h.rc(e),h.qc(16).toggle()})),h.Vb(3,"mat-icon"),h.yc(4,"menu"),h.Ub(),h.Ub(),h.Vb(5,"a",3),h.Rb(6,"img",4),h.Ub(),h.Rb(7,"span",5),h.Vb(8,"button",6),h.yc(9),h.Ub(),h.Vb(10,"mat-menu",null,7),h.Vb(12,"button",8),h.dc("click",(function(){return t.logOut()})),h.yc(13," Logout "),h.Ub(),h.Ub(),h.Ub(),h.Vb(14,"mat-sidenav-container",9),h.Vb(15,"mat-sidenav",10,11),h.Vb(17,"mat-accordion"),h.Vb(18,"mat-expansion-panel",12),h.xc(19,Rt,9,0,"mat-expansion-panel-header",13),h.Ub(),h.Vb(20,"mat-expansion-panel",14),h.Vb(21,"mat-expansion-panel-header"),h.Vb(22,"mat-panel-title"),h.Vb(23,"mat-icon"),h.yc(24,"build_circle"),h.Ub(),h.yc(25," \xa0 "),h.Vb(26,"span",15),h.yc(27," Setup "),h.Ub(),h.Ub(),h.Rb(28,"mat-panel-description"),h.Ub(),h.Vb(29,"mat-nav-list",16),h.xc(30,It,4,0,"a",17),h.xc(31,Tt,4,0,"a",18),h.xc(32,At,4,0,"a",19),h.xc(33,Bt,4,0,"a",20),h.xc(34,jt,4,0,"a",21),h.xc(35,Ht,4,0,"a",22),h.xc(36,Ft,4,0,"a",23),h.xc(37,Nt,4,0,"a",24),h.xc(38,zt,4,0,"a",25),h.Ub(),h.Ub(),h.xc(39,Kt,15,5,"mat-expansion-panel",26),h.xc(40,ti,15,5,"mat-expansion-panel",26),h.xc(41,ni,10,1,"mat-expansion-panel",26),h.Vb(42,"mat-expansion-panel",14),h.Vb(43,"mat-expansion-panel-header"),h.Vb(44,"mat-panel-title"),h.Vb(45,"mat-icon"),h.yc(46,"camera"),h.Ub(),h.yc(47," \xa0 "),h.Vb(48,"span",15),h.yc(49," Portal "),h.Ub(),h.Ub(),h.Rb(50,"mat-panel-description"),h.Ub(),h.Vb(51,"mat-nav-list",16),h.Vb(52,"a",27),h.yc(53," \xa0 \xa0 "),h.Rb(54,"img",28),h.yc(55," \xa0 \xa0 Employee Portal "),h.Ub(),h.Ub(),h.Ub(),h.Vb(56,"mat-expansion-panel",14),h.Vb(57,"mat-expansion-panel-header"),h.Vb(58,"mat-panel-title"),h.Vb(59,"mat-icon"),h.yc(60,"settings"),h.Ub(),h.yc(61," \xa0 "),h.Vb(62,"span",15),h.yc(63," Settings "),h.Ub(),h.Ub(),h.Rb(64,"mat-panel-description"),h.Ub(),h.Vb(65,"mat-nav-list",16),h.xc(66,oi,4,0,"a",29),h.xc(67,ai,4,0,"a",30),h.Ub(),h.Ub(),h.xc(68,ri,18,0,"mat-expansion-panel",31),h.Vb(69,"mat-expansion-panel",12),h.Vb(70,"mat-expansion-panel-header",32,33),h.dc("click",(function(){return t.logOut()})),h.Vb(72,"mat-panel-title"),h.Vb(73,"mat-icon"),h.yc(74,"power_settings_new"),h.Ub(),h.yc(75," \xa0 "),h.Vb(76,"span",15),h.yc(77," Logout "),h.Ub(),h.Ub(),h.Rb(78,"mat-panel-description"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(79,"mat-sidenav-content"),h.Rb(80,"router-outlet"),h.Rb(81,"br"),h.Rb(82,"br"),h.Ub(),h.Ub(),h.Vb(83,"footer",34),h.Vb(84,"div",35),h.yc(85," \xa0 \xa9 2020 "),h.Vb(86,"b"),h.yc(87,"Easy Cloud Systems Inc. / Easyfis Corporation"),h.Ub(),h.Ub(),h.Rb(88,"span",5),h.Vb(89,"div",36),h.Rb(90,"img",37),h.Rb(91,"img",38),h.Rb(92,"img",39),h.Ub(),h.Ub(),h.Ub()}if(2&e){const e=h.qc(11);h.Hb("main-toolbar-is-mobile",t.mobileQuery.matches),h.Eb(8),h.kc("matMenuTriggerFor",e),h.Eb(1),h.zc(t.currentUserName),h.Eb(5),h.wc("margin-top",t.mobileQuery.matches?56:0,"px"),h.Eb(1),h.kc("mode",t.mobileQuery.matches?"over":"side")("fixedInViewport",t.mobileQuery.matches),h.Eb(4),h.kc("ngIf",t.moduleDashBoard),h.Eb(11),h.kc("ngIf",t.moduleCompanyList),h.Eb(1),h.kc("ngIf",t.moduleEmployeeList),h.Eb(1),h.kc("ngIf",t.moduleMandatory),h.Eb(1),h.kc("ngIf",t.moduleShiftList),h.Eb(1),h.kc("ngIf",t.moduleYearList),h.Eb(1),h.kc("ngIf",t.moduleOthers),h.Eb(1),h.kc("ngIf",t.moduleOtherIncomeList),h.Eb(1),h.kc("ngIf",t.moduleOtherDeductionList),h.Eb(1),h.kc("ngIf",t.moduleUserList),h.Eb(1),h.kc("ngIf",t.moduleDTR),h.Eb(1),h.kc("ngIf",t.modulePayroll),h.Eb(1),h.kc("ngIf",t.moduleOthers),h.Eb(25),h.kc("ngIf",t.moduleSystemTables),h.Eb(1),h.kc("ngIf",t.moduleOthers),h.Eb(1),h.kc("ngIf",t.moduleOthers)}},directives:[_.a,v.a,w.a,d.d,pe,ce,ne,He,Be,pt,ct,l.l,dt,ut,ht,Lt,Et,Ae,d.f,d.c],styles:[".main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;left:0;right:0}.main-toolbar[_ngcontent-%COMP%]{height:45px;background-color:#742774;color:#fff}.main-toolbar-is-mobile[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2;height:56px;background-color:#742774}.main-toolbar-is-mobile[_ngcontent-%COMP%]   .sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}.sidenav-container[_ngcontent-%COMP%]{flex:1}.sidenav[_ngcontent-%COMP%]{width:275px}.footer[_ngcontent-%COMP%]{position:fixed;width:100%;background-color:#737373;bottom:0;margin-bottom:0;z-index:1000;padding:10px;color:#fff;display:flex}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.footer-icon[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})();var li=i("XiUz");function ci(e,t){1&e&&(h.Vb(0,"button",15),h.Rb(1,"img",16),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Employee"),h.Ub(),h.Ub())}function di(e,t){1&e&&(h.Vb(0,"button",18),h.Rb(1,"img",19),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Year"),h.Ub(),h.Ub())}function hi(e,t){1&e&&(h.Vb(0,"button",20),h.Rb(1,"img",21),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Shift"),h.Ub(),h.Ub())}function ui(e,t){1&e&&(h.Vb(0,"button",22),h.Rb(1,"img",23),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Mandatory Tables"),h.Ub(),h.Ub())}function pi(e,t){if(1&e&&(h.Vb(0,"div",5),h.xc(1,ci,6,0,"button",11),h.xc(2,di,6,0,"button",12),h.xc(3,hi,6,0,"button",13),h.xc(4,ui,6,0,"button",14),h.Ub()),2&e){const e=h.hc(2);h.Eb(1),h.kc("ngIf",e.moduleEmployeeList),h.Eb(1),h.kc("ngIf",e.moduleYearList),h.Eb(1),h.kc("ngIf",e.moduleShiftList),h.Eb(1),h.kc("ngIf",e.moduleMandatory)}}function bi(e,t){1&e&&(h.Vb(0,"button",24),h.Rb(1,"img",25),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"DTR"),h.Ub(),h.Ub())}function mi(e,t){1&e&&(h.Vb(0,"button",26),h.Rb(1,"img",27),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Overtime Application"),h.Ub(),h.Ub())}function fi(e,t){1&e&&(h.Vb(0,"button",28),h.Rb(1,"img",29),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Leave Application"),h.Ub(),h.Ub())}function gi(e,t){1&e&&(h.Vb(0,"button",30),h.Rb(1,"img",31),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Change Shift"),h.Ub(),h.Ub())}function yi(e,t){1&e&&(h.Vb(0,"button",36),h.Rb(1,"img",37),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Payroll"),h.Ub(),h.Ub())}function _i(e,t){1&e&&(h.Vb(0,"button",38),h.Rb(1,"img",39),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Other Deductions"),h.Ub(),h.Ub())}function vi(e,t){1&e&&(h.Vb(0,"button",40),h.Rb(1,"img",41),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Other Income"),h.Ub(),h.Ub())}function wi(e,t){1&e&&(h.Vb(0,"button",42),h.Rb(1,"img",43),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Loans"),h.Ub(),h.Ub())}function Ci(e,t){if(1&e&&(h.Vb(0,"div",5),h.xc(1,yi,6,0,"button",32),h.xc(2,_i,6,0,"button",33),h.xc(3,vi,6,0,"button",34),h.xc(4,wi,6,0,"button",35),h.Ub()),2&e){const e=h.hc(2);h.Eb(1),h.kc("ngIf",e.modulePayrollList),h.Eb(1),h.kc("ngIf",e.moduleOtherDeductionList),h.Eb(1),h.kc("ngIf",e.moduleOtherIncomeList),h.Eb(1),h.kc("ngIf",e.moduleLoanList)}}function Di(e,t){1&e&&(h.Vb(0,"button",44),h.Rb(1,"img",45),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Payroll Reports"),h.Ub(),h.Ub())}function Si(e,t){1&e&&(h.Vb(0,"button",44),h.Rb(1,"img",45),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"DTR Reports"),h.Ub(),h.Ub())}function xi(e,t){1&e&&(h.Vb(0,"button",44),h.Rb(1,"img",45),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Mandatory Reports"),h.Ub(),h.Ub())}function ki(e,t){1&e&&(h.Vb(0,"button",44),h.Rb(1,"img",45),h.Rb(2,"br"),h.Rb(3,"br"),h.Vb(4,"span",17),h.yc(5,"Bank Reports"),h.Ub(),h.Ub())}function Li(e,t){if(1&e&&(h.Vb(0,"div",2),h.Vb(1,"div",3),h.xc(2,pi,5,4,"div",4),h.Vb(3,"div",5),h.xc(4,bi,6,0,"button",6),h.xc(5,mi,6,0,"button",7),h.xc(6,fi,6,0,"button",8),h.xc(7,gi,6,0,"button",9),h.Ub(),h.xc(8,Ci,5,4,"div",4),h.Vb(9,"div",5),h.xc(10,Di,6,0,"button",10),h.xc(11,Si,6,0,"button",10),h.xc(12,xi,6,0,"button",10),h.xc(13,ki,6,0,"button",10),h.Ub(),h.Ub(),h.Ub()),2&e){const e=h.hc();h.Eb(2),h.kc("ngIf",e.moduleEmployeeList),h.Eb(2),h.kc("ngIf",e.moduleDTRList),h.Eb(1),h.kc("ngIf",e.moduleOvertimeApplicationList),h.Eb(1),h.kc("ngIf",e.moduleLeaveApplicationList),h.Eb(1),h.kc("ngIf",e.moduleChangeShiftList),h.Eb(1),h.kc("ngIf",e.moduleEmployeeList),h.Eb(2),h.kc("ngIf",e.moduleOthers),h.Eb(1),h.kc("ngIf",e.moduleOthers),h.Eb(1),h.kc("ngIf",e.moduleOthers),h.Eb(1),h.kc("ngIf",e.moduleOthers)}}let Vi=(()=>{class e{constructor(e){this.softwareSecurityService=e,this.moduleDashBoard=!1,this.moduleUserList=!1,this.moduleEmployeeList=!1,this.moduleCompanyList=!1,this.moduleSystemTables=!1,this.moduleDTR=!1,this.moduleDTRList=!1,this.moduleDTRDetail=!1,this.moduleShiftList=!1,this.moduleShiftDetail=!1,this.moduleChangeShiftList=!1,this.moduleChangeShiftDetail=!1,this.moduleLeaveApplicationList=!1,this.moduleLeaveApplicationDetail=!1,this.moduleOvertimeApplicationList=!1,this.moduleOvertimeApplicationDetail=!1,this.moduleOtherIncomeList=!1,this.moduleOtherDeductionList=!1,this.moduleLoanList=!1,this.moduleMandatory=!1,this.modulePayroll=!1,this.modulePayrollList=!1,this.modulePayrollDetail=!1,this.modulePayrollOtherDeductionList=!1,this.modulePayrollOtherDeductionDetail=!1,this.modulePayrollOtherIncomeList=!1,this.modulePayrollOtherIncomeDetail=!1,this.moduleMandatoryListList=!1,this.moduleMandatoryDetail=!1,this.moduleYearList=!1,this.moduleOthers=!1}ngOnInit(){1==this.softwareSecurityService.openModule("Dashboard")&&(this.moduleDashBoard=!0),1==this.softwareSecurityService.openModule("User List")&&(this.moduleUserList=!0),1==this.softwareSecurityService.openModule("Employee List")&&(this.moduleEmployeeList=!0),1==this.softwareSecurityService.openModule("Company List")&&(this.moduleCompanyList=!0),1==this.softwareSecurityService.openModule("System Tables")&&(this.moduleSystemTables=!0),1==this.softwareSecurityService.openModule("DTR")&&(this.moduleDTR=!0),1==this.softwareSecurityService.openModule("DTR List")&&(this.moduleDTRList=!0),1==this.softwareSecurityService.openModule("DTR Detail")&&(this.moduleDTRDetail=!0),1==this.softwareSecurityService.openModule("Shift List")&&(this.moduleShiftList=!0),1==this.softwareSecurityService.openModule("Shift Detail")&&(this.moduleShiftDetail=!0),1==this.softwareSecurityService.openModule("Change Shift List")&&(this.moduleChangeShiftList=!0),1==this.softwareSecurityService.openModule("Change Shift Detail")&&(this.moduleChangeShiftDetail=!0),1==this.softwareSecurityService.openModule("Leave Application List")&&(this.moduleLeaveApplicationList=!0),1==this.softwareSecurityService.openModule("Leave Application Detail")&&(this.moduleLeaveApplicationDetail=!0),1==this.softwareSecurityService.openModule("Overtime List")&&(this.moduleOvertimeApplicationList=!0),1==this.softwareSecurityService.openModule("Overtime Detail")&&(this.moduleOvertimeApplicationDetail=!0),1==this.softwareSecurityService.openModule("Other Income")&&(this.moduleOtherIncomeList=!0),1==this.softwareSecurityService.openModule("Other Deduction")&&(this.moduleOtherDeductionList=!0),1==this.softwareSecurityService.openModule("Mandatory")&&(this.moduleMandatory=!0),1==this.softwareSecurityService.openModule("Loan List")&&(this.moduleLoanList=!0),1==this.softwareSecurityService.openModule("Payroll List")&&(this.modulePayrollList=!0),1==this.softwareSecurityService.openModule("Year List")&&(this.moduleYearList=!0),1==this.softwareSecurityService.openModule("Others")&&(this.moduleOthers=!0)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(y))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-dashboard"]],decls:5,vars:1,consts:[["src","../../../assets/menu-icons/dashboard.png","height","35"],["class","software-container",4,"ngIf"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","25","style","margin: 5px;",4,"ngIf"],["fxFlex","25",2,"margin","5px"],["routerLink","/software/DTR-list","mat-stroked-button","","style","width: 100%; padding: 30px;",4,"ngIf"],["routerLink","/software/overtime-application-list","mat-stroked-button","","style","width: 100%; padding: 30px;",4,"ngIf"],["routerLink","/software/leave-application-list","mat-stroked-button","","style","width: 100%; padding: 30px;",4,"ngIf"],["routerLink","/software/change-shift-code-list","mat-stroked-button","","style","width: 100%; padding: 30px;",4,"ngIf"],["routerLink",".","mat-stroked-button","","style","width: 100%; padding: 30px;",4,"ngIf"],["routerLink","/software/employee-list","mat-stroked-button","","style","width: 100%; padding: 30px; ",4,"ngIf"],["routerLink","/software/year-list","mat-stroked-button","","style","width: 100%; padding: 30px; ",4,"ngIf"],["routerLink","/software/shift-code-list","mat-stroked-button","","style","width: 100%; padding: 30px; ",4,"ngIf"],["routerLink","/software/mandatory-tables","mat-stroked-button","","style","width: 100%; padding: 30px; ",4,"ngIf"],["routerLink","/software/employee-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../../assets/menu-icons/employees.png","height","80"],[2,"font-size","17px"],["routerLink","/software/year-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../assets/menu-icons/year.png","height","80"],["routerLink","/software/shift-code-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../assets/menu-icons/shift code.png","height","80"],["routerLink","/software/mandatory-tables","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../assets/menu-icons/mandatory tables.png","height","80"],["routerLink","/software/DTR-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../../assets/menu-icons/DTR.png","height","80"],["routerLink","/software/overtime-application-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../../assets/menu-icons/overtime application.png","height","80"],["routerLink","/software/leave-application-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../../assets/menu-icons/leave application.png","height","80"],["routerLink","/software/change-shift-code-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../assets/menu-icons/change shift code.png","height","80"],["routerLink","/software/payroll-list","mat-stroked-button","","style","width: 100%; padding: 30px;",4,"ngIf"],["routerLink","/software/payroll-other-deduction-list","mat-stroked-button","","style","width: 100%; padding: 30px;",4,"ngIf"],["routerLink","/software/payroll-other-income-list","mat-stroked-button","","style","width: 100%; padding: 30px;",4,"ngIf"],["routerLink","./software/loan-list","mat-stroked-button","","style","width: 100%; padding: 30px;",4,"ngIf"],["routerLink","/software/payroll-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../../assets/menu-icons/payroll.png","height","80"],["routerLink","/software/payroll-other-deduction-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../../assets/menu-icons/other deductions.png","height","80"],["routerLink","/software/payroll-other-income-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../../assets/menu-icons/other income.png","height","80"],["routerLink","./software/loan-list","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../../assets/menu-icons/loan.png","height","80"],["routerLink",".","mat-stroked-button","",2,"width","100%","padding","30px"],["src","../../../assets/menu-icons/reports.png","height","80"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Dashboard"),h.Ub(),h.Ub(),h.xc(4,Li,14,10,"div",1)),2&e&&(h.Eb(4),h.kc("ngIf",t.moduleDashBoard))},directives:[_.a,l.l,li.b,li.a,v.a,d.c],styles:["button[_ngcontent-%COMP%]{margin-bottom:10px}"]}),e})();var Oi,Ui,Ei,Mi=(Oi=function(e,t){return(Oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}Oi(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),Pi=function(){function e(e){this.path=e}return Object.defineProperty(e.prototype,"path",{get:function(){return this._path},set:function(e){this._path=e,this._parts=e?e.split("."):[];for(var t=0;t<this._parts.length;t++){var i=this._parts[t],n=i.indexOf("[");n>-1&&(this._parts[t]=i.substr(0,n),this._parts.splice(++t,0,parseInt(i.substr(n+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),e.prototype.getValue=function(e){if(e){if(this._key)return e[this._key];if(this._path&&this._path in e)return e[this._path];for(var t=0;t<this._parts.length&&e;t++)e=e[this._parts[t]]}return e},e.prototype.setValue=function(e,t){if(e){if(this._path in e)return void(e[this._path]=t);for(var i=0;i<this._parts.length-1;i++)if(null==(e=e[this._parts[i]]))return;e[this._parts[this._parts.length-1]]=t}},e}(),Ri=function(e,t){this.handler=e,this.self=t},Ii=function(){function e(e){this._handlers=[],this._handlersChanged=e}return e.prototype.addHandler=function(e,t){e=Vn(e),this._handlers.push(new Ri(e,t)),nn(this._handlersChanged)&&this._handlersChanged()},e.prototype.removeHandler=function(e,t){var i=!1;e=Vn(e);for(var n=0;n<this._handlers.length;n++){var o=this._handlers[n];if(!(o.handler!=e&&null!=e||o.self!=t&&null!=t)&&(this._handlers.splice(n,1),i=!0,e&&t))break}i&&nn(this._handlersChanged)&&this._handlersChanged()},e.prototype.removeAllHandlers=function(){var e=this._handlers.length>0;this._handlers.length=0,e&&nn(this._handlersChanged)&&this._handlersChanged()},e.prototype.raise=function(e,t){void 0===t&&(t=Ti.empty);for(var i=this._handlers,n=0;n<i.length;n++){var o=i[n];o.handler.call(o.self,e,t),i[n]!==o&&n--}},Object.defineProperty(e.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),e}(),Ti=function(){function e(){}return e.empty=new e,e}(),Ai=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancel=!1,t}return Mi(t,e),t}(Ti),Bi=function(e){function t(t,i,n){var o=e.call(this)||this;return o._name=t,o._oldVal=i,o._newVal=n,o}return Mi(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(Ti),ji=function(e){function t(t,i){var n=e.call(this)||this;return n._xhr=t,n._msg=i,n}return Mi(t,e),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(e){this._msg=e},enumerable:!0,configurable:!0}),t}(Ai);(Ei=Ui||(Ui={}))[Ei.Add=0]="Add",Ei[Ei.Remove=1]="Remove",Ei[Ei.Change=2]="Change",Ei[Ei.Reset=3]="Reset";var Hi,Fi,Ni=function(e){function t(t,i,n){void 0===t&&(t=Ui.Reset),void 0===i&&(i=null),void 0===n&&(n=-1);var o=e.call(this)||this;return o.action=t,o.item=i,o.index=n,o}return Mi(t,e),t.reset=new t(Ui.Reset),t}(Ti),zi=function(){function e(e,t){this._bnd=new Pi(e),this._asc=t}return Object.defineProperty(e.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),e}(),Gi=function(e){function t(t){var i=e.call(this)||this;return i.newPageIndex=t,i}return Mi(t,e),t}(Ai),Yi=function(){function e(){}return e.prototype.groupNameFromItem=function(e,t){return""},e.prototype.namesMatch=function(e,t){return e===t},e}(),Qi=function(e){function t(t,i){var n=e.call(this)||this;return n._bnd=new Pi(t),n._converter=i,n}return Mi(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),t.prototype.groupNameFromItem=function(e,t){return this._converter?this._converter(e,this.propertyName):this._bnd.getValue(e)},t.prototype.namesMatch=function(e,t){return e===t},t}(Yi);function Wi(){return"5.20202.699"}function qi(e){ha._licKey=e}function Ki(e,t){return null==e?null:Ji(t)?nn(e.implementsInterface)&&e.implementsInterface(t)?e:null:e instanceof t?e:null}function $i(e){return Ji(e)||Xi(e)||tn(e)||an(e)}function Ji(e){return"string"==typeof e}function Zi(e){return!e||!/\S/.test(e)}function Xi(e){return"number"==typeof e}function en(e){return Xi(e)&&e==Math.round(e)}function tn(e){return"boolean"==typeof e}function nn(e){return"function"==typeof e}function on(e){return void 0===e}function an(e){return(e instanceof Date||"[object Date]"===Object.prototype.toString.call(e))&&!isNaN(e.getTime())}function rn(e){return e instanceof Array||Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)}function sn(e){return null!=e&&"object"==typeof e&&!an(e)&&!rn(e)}function ln(e){for(var t in e)return!1;return!0}function cn(e){for(var t=e,i=0;null!=document.getElementById(t);i++)t=e+i;return t}function dn(e){if(e instanceof lo)return e;if(e.touches&&e.touches.length>0&&(e=e.touches[0]),Xi(e.clientX)&&Xi(e.clientY))return new lo(e.clientX+pageXOffset,e.clientY+pageYOffset);throw"Mouse or touch event expected."}function hn(e){return Xi(e)?Fi.Number:tn(e)?Fi.Boolean:an(e)?Fi.Date:Ji(e)?Fi.String:rn(e)?Fi.Array:Fi.Object}function un(e){var t=[];if(e&&e.length>0){var i=e[0];for(var n in i)for(var o=null,a=0;a<e.length&&a<1e3&&null==o;a++)$i(o=e[a][n])&&t.push({binding:n,dataType:hn(o)})}return t}function pn(e,t,i){if(null!=e){if(Ji(e))switch(t){case Fi.Number:var n=_o.parseFloat(e,i);return isNaN(n)?e:n;case Fi.Date:var o=_o.parseDate(e,i);return o||i||!e||(o=new Date(e)),o&&isFinite(o.getTime())?o:e;case Fi.Boolean:switch(e.toLowerCase()){case"true":return!0;case"false":return!1}return e}if(t==Fi.String)return _o.format(e,i)}return e}function bn(e,t,i){if(i){var n=(o=e.toString()).indexOf(".");o.indexOf("e")<0&&n>-1&&(o=o.substr(0,n+1+t),e=parseFloat(o))}else{var o=e.toFixed(t);e=parseFloat(o)}return e}function mn(e,t,i){if((e=Dn(e)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var n=JSON.parse(e);if(Ji(n.count)){var o=t[n.count],a=n.when;if(Xi(o)&&sn(a)){var r=a[o]||a.other;Ji(r)&&(e=r)}}}catch(e){}return e.replace(/\{(.*?)(:(.*?))?\}/g,(function(e,n,o,a){var r=e;return n&&"{"!=n[0]&&t&&(r=new Pi(n).getValue(t),a&&(r=_o.format(r,a)),i&&(r=i(t,n,a,r))),null==r?"":r}))}function fn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=[],n=-1;return e[0].forEach((function(t,o){if(o>0&&o!=n){var a=e[o],r=t.match(/^:([a-z][0-9]*\b)/i)||t.match(/^:'(.+?)'/)||t.match(/^:"(.+?)"/);r?(a=_o.format(a,r[1]),t=t.substr(r[0].length)):":"==t&&o<e.length-1&&(Xi(a)||an(a))&&(a=_o.format(a,e[o+1]),t="",n=o+1),i.push(a)}t&&i.push(t)})),i.join("")}function gn(e,t){return To()?(e=e.replace(/:\${([^}]*)}/g,(function(e,i){return":"+yn(i,t)}))).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,(function(e,i,n,o,a,r,s){var l=yn(i,t);return o?_o.format(l,a||r||s):l})):yn(e,t)}function yn(e,t){(t=t||{}).glbz=fn;var i=Object.keys(t),n=i.map((function(e){return t[e]}));return(To()?new(Function.bind.apply(Function,[void 0].concat(i,["return "+e]))):new(Function.bind.apply(Function,[void 0].concat(i,["return glbz`"+e+"`"])))).apply(void 0,n)}function _n(e,t,i){return null!=e&&(null!=i&&e>i&&(e=i),null!=t&&e<t&&(e=t)),e}function vn(e,t){if(t)for(var i in t)if("_"!=i[0]){wn(i in e,'Unknown property "'+i+'".');var n=t[i];e._copy&&e._copy(i,n)||(e[i]instanceof Ii?nn(n)&&e[i].addHandler(n):!sn(n)||"undefined"!=typeof Element&&n instanceof Element||!e[i]||"itemsSource"==i?e[i]=n:vn(e[i],n))}return e}function wn(e,t){if(!e){t="** Assertion failed in Wijmo: "+t;var i=new Error;throw Ji(i.stack)&&(t+=" "+i.stack),t}}function Cn(e,t){console.error('** WARNING: "'+e+'" has been deprecated; please use "'+t+'" instead.')}function Dn(e,t){return void 0===t&&(t=!0),on(e)&&(e=null),wn(t&&null==e||Ji(e),"String expected."),e}function Sn(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),wn(t&&null==e||Xi(e),"Number expected."),i&&e&&e<0)throw"Positive number expected.";return e}function xn(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),wn(t&&null==e||en(e),"Integer expected."),i&&e&&e<0)throw"Positive integer expected.";return e}function kn(e,t){return void 0===t&&(t=!1),wn(t&&null==e||tn(e),"Boolean expected."),e}function Ln(e,t){if(void 0===t&&(t=!1),Ji(e)){var i=pn(e,Fi.Date,"r");an(i)&&(e=i)}return wn(t&&null==e||an(e),"Date expected."),e}function Vn(e,t){return void 0===t&&(t=!0),wn(t&&null==e||nn(e),"Function expected."),e}function On(e,t){return void 0===t&&(t=!0),wn(t&&null==e||rn(e),"Array expected."),e}function Un(e,t,i){return void 0===i&&(i=!1),e=Ki(e,t),wn(i||null!=e,t+" expected."),e}function En(e,t,i){if(void 0===i&&(i=!1),null==e&&i)return null;var n=Ji(e)?t[e]:e;return wn(null!=n,'Invalid enum value: "'+e+'"'),Xi(n)?n:e}function Mn(e,t){if(void 0===t&&(t=!0),null==e&&t)return null;var i=Ki(e,"ICollectionView");return null!=i?i:(rn(e)||wn(!1,"Array or ICollectionView expected."),new oa(e))}function Pn(e){return null!=e&&null!=e.items&&e.items.length>0}function Rn(e){return e&&e.length?e[0].toUpperCase()+e.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function In(e){return e&&Ji(e)&&(e=e.replace(/[&<>"'\/]/g,(function(e){return An[e]}))),null!=e?e.toString():""}!function(e){e[e.Back=8]="Back",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Delete=46]="Delete",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12"}(Hi||(Hi={})),function(e){e[e.Object=0]="Object",e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=3]="Boolean",e[e.Date=4]="Date",e[e.Array=5]="Array"}(Fi||(Fi={}));var Tn,An={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Bn(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function jn(e){var t=Dn(e);return t&&t.indexOf("<")>-1&&(Tn||(Tn=document.createElement("div")),Tn.innerHTML=t,t=Tn.textContent),t}function Hn(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!Bo())return e.classList.contains(t);if(e.getAttribute){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");return e&&i.test(e.getAttribute("class"))}}return!1}function Fn(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!Bo())return void(t.indexOf(" ")<0?e.classList.add(t):t.split(" ").forEach((function(t){e.classList.add(t)})));e.setAttribute&&t.split(" ").forEach((function(t){if(!Hn(e,t)){var i=e.getAttribute("class");e.setAttribute("class",i?i+" "+t:t)}}))}}function Nn(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!Bo())return void(t.indexOf(" ")<0?e.classList.remove(t):t.split(" ").forEach((function(t){e.classList.remove(t)})));e.setAttribute&&t.split(" ").forEach((function(t){if(Hn(e,t)){var i=new RegExp("((\\s|^)"+t+"(\\s|$))","g"),n=e.getAttribute("class");(n=n.replace(i," ").replace(/ +/g," ").trim())?e.setAttribute("class",n):e.removeAttribute("class")}}))}}function zn(e,t,i){null==i&&(i=!Hn(e,t)),i?Fn(e,t):Nn(e,t)}function Gn(e,t,i,n){e&&(null!=i?n&&e.getAttribute(t)||e.setAttribute(t,i.toString()):e.removeAttribute(t))}function Yn(e,t){Gn(e,"aria-label",t)}function Qn(e,t,i){if(void 0===i&&(i=t),wn(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),to(document.body,e)&&!e.disabled&&e.offsetHeight){try{e.setSelectionRange(t,i,"backward")}catch(e){}try{return e.focus(),!0}catch(e){}}return!1}function Wn(e){var t="autocomplete",i=e.getAttribute(t);i&&"on"!=i||e.setAttribute(t,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach((function(t){e.setAttribute(t,"spellcheck"==t?"false":"off")}))}function qn(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function Kn(){var e=document.activeElement;if(e){var t=e.shadowRoot;t&&t.activeElement&&(e=t.activeElement)}return e}function $n(e,t){var i=function e(t){for(var i=[],n=t.querySelectorAll("input,select,textarea,button,a,div"),o=0;o<n.length;o++){var a=n[o];if(a.offsetHeight>0&&a.tabIndex>-1&&!a.disabled&&!io(a,"[disabled],.wj-state-disabled")){if(a instanceof HTMLAnchorElement&&!a.hasAttribute("href"))continue;if(To()&&!a.hasAttribute("tabindex")){if(a instanceof HTMLDivElement)continue;var r=ha.getControl(io(a,".wj-flexgrid"));if(r&&0==r.keyActionTab)continue}!ha.getControl(a)&&e(a).length||i.push(a)}}return i}(e),n=0;if(t){var o=i.indexOf(Kn());o>-1&&(n=(o+t+i.length)%i.length)}if(n<i.length){var a=i[n];return a.focus(),a instanceof HTMLInputElement&&a.select(),!0}return!1}function Jn(e,t,i){void 0===i&&(i="text/plain"),(i.match(/\bcsv\b/i)||t.match(/\.csv$/i))&&(e="\ufeff"+e);var n=new Blob([e],{type:i});if(nn(navigator.msSaveBlob))navigator.msSaveBlob(n,t);else{var o=URL.createObjectURL(n),a=Xn('<a href="'+o+'" download="'+t+'"></a>',document.body,{display:"none"});a.click(),a.remove(),URL.revokeObjectURL(o)}}function Zn(e){if(e instanceof Element)return e;if(Ji(e))try{return document.querySelector(e)}catch(e){}return e&&e.jquery?e[0]:null}function Xn(e,t,i){e=e.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var n=document.createElement("div");if(n.innerHTML=e,e.indexOf("_wj-style")>-1)for(var o=n.querySelectorAll("[_wj-style]"),a=function(e){var t=o[e];t.getAttribute("_wj-style").split(";").forEach((function(e){var i=e.split(":");2==i.length&&(t.style[i[0].trim()]=i[1].trim())})),t.removeAttribute("_wj-style")},r=0;r<o.length;r++)a(r);return 1==n.children.length&&(n=n.children[0]),i&&ro(n,i),t&&(t=Zn(t)).appendChild(n),n}function eo(e,t){e.textContent=t||""}function to(e,t,i){for(var n=t;n&&e;){if(n===e)return!0;n=(i?n[ha._OWNR_KEY]:null)||n.parentNode||n.host}return!1}function io(e,t){if(e){if(nn(e.closest))return e.closest(t);var i=e.matches||e.webkitMatchesSelector||e.msMatchesSelector||e.mozMatchesSelector;if(i)for(;e&&1===e.nodeType;e=e.parentElement||e.parentNode)if(i.call(e,t))return e}return null}function no(e,t){return io(e,"."+t)}function oo(e,t){var i=!t,n="disabled";zn(e,"wj-state-disabled",i),Gn(e,n,i?n:null);for(var o=e.querySelectorAll("input,button"),a=0;a<o.length;a++)Gn(o[a],n,i?n:null)}function ao(e){var t=e.getBoundingClientRect();return new ho(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function ro(e,t){if(wn(sn(t),"css parameter should be an object"),e instanceof Array)for(var i=0;i<e.length;i++)ro(e[i],t);else if(e&&e.style){var n=e.style;for(var o in t){var a=t[o];"number"==typeof a&&o.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(a+="px"),n[o]!==a&&(n[o]=a)}}}function so(e,t,i){null==t&&(t=ha._ANIM_DEF_DURATION),null==i&&(i=ha._ANIM_DEF_STEP),e=Vn(e),t=Sn(t,!1,!0),i=Sn(i,!1,!0);var n,o=Date.now(),a=setInterval((function(){var i=Math.min(1,(Date.now()-o)/t);i=Math.sin(i*Math.PI/2),i*=i,n&&cancelAnimationFrame(n),n=requestAnimationFrame((function(){n=null,e(i)})),i>=1&&clearInterval(a)}),i);return a}var lo=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=Sn(e),this.y=Sn(t)}return e.prototype.equals=function(t){return t instanceof e&&this.x==t.x&&this.y==t.y},e.prototype.clone=function(){return new e(this.x,this.y)},e}(),co=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.width=Sn(e),this.height=Sn(t)}return e.prototype.equals=function(t){return t instanceof e&&this.width==t.width&&this.height==t.height},e.prototype.clone=function(){return new e(this.width,this.height)},e}(),ho=function(){function e(e,t,i,n){this.left=Sn(e),this.top=Sn(t),this.width=Sn(i),this.height=Sn(n)}return Object.defineProperty(e.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},e.prototype.clone=function(){return new e(this.left,this.top,this.width,this.height)},e.fromBoundingRect=function(t){return null!=t.left?new e(t.left,t.top,t.width,t.height):null!=t.x?new e(t.x,t.y,t.width,t.height):void wn(!1,"Invalid source rectangle.")},e.union=function(t,i){var n=Math.min(t.left,i.left),o=Math.min(t.top,i.top);return new e(n,o,Math.max(t.right,i.right)-n,Math.max(t.bottom,i.bottom)-o)},e.intersection=function(t,i){var n=Math.max(t.left,i.left),o=Math.max(t.top,i.top);return new e(n,o,Math.min(t.right,i.right)-n,Math.min(t.bottom,i.bottom)-o)},e.prototype.contains=function(t){return t instanceof lo?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof e?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void wn(!1,"Point or Rect expected.")},e.prototype.inflate=function(t,i){return new e(this.left-t,this.top-i,this.width+2*t,this.height+2*i)},e}(),uo=function(){function e(){}return e.addDays=function(e,t){return(e=new Date(e.getTime())).setDate(e.getDate()+t),e},e.addMonths=function(e,t){return(e=new Date(e.getTime())).setMonth(e.getMonth()+t),e},e.addYears=function(e,t){return(e=new Date(e.getTime())).setFullYear(e.getFullYear()+t),e},e.addHours=function(e,t){return(e=new Date(e.getTime())).setHours(e.getHours()+t),e},e.addMinutes=function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e},e.addSeconds=function(e,t){return(e=new Date(e.getTime())).setSeconds(e.getSeconds()+t),e},e.sameDate=function(e,t){return an(e)&&an(t)&&e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()},e.sameTime=function(e,t){return an(e)&&an(t)&&e.getHours()==t.getHours()&&e.getMinutes()==t.getMinutes()&&e.getSeconds()==t.getSeconds()&&e.getMilliseconds()==t.getMilliseconds()},e.equals=function(e,t){return an(e)&&an(t)&&e.getTime()==t.getTime()},e.fromDateTime=function(t,i){return t||i?(t||(t=i),i||(i=t),e.newDate(t.getFullYear(),t.getMonth(),t.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):null},e.toFiscal=function(t,i){var n=yo.Globalize.calendar;return rn(n.fiscalYearOffsets)?e.addMonths(t,-n.fiscalYearOffsets[i?0:1]):t},e.fromFiscal=function(t,i){var n=yo.Globalize.calendar;return rn(n.fiscalYearOffsets)?e.addMonths(t,+n.fiscalYearOffsets[i?0:1]):t},e.newDate=function(e,t,i,n,o,a,r){if(null==e||null==t||null==i){var s=new Date;null==e&&(e=s.getFullYear()),null==t&&(t=s.getMonth()),null==i&&(i=s.getDate())}null==n&&(n=0),null==o&&(o=0),null==a&&(a=0),null==r&&(r=0);var l=new Date(e,t,i,n,o,a,r),c=l.getFullYear();return e<100&&c>=1900&&l.setFullYear(l.getFullYear()-1900),l},e.clone=function(t){return e.fromDateTime(t,t)},e}();function po(e,t){var i=t||{},n=i.method?Dn(i.method).toUpperCase():"GET",o=null==i.async||kn(i.async),a=i.data;if(null!=a&&"GET"==n){var r=[];for(var s in a){var l=a[s];an(l)&&(l=l.toJSON()),r.push(s+"="+encodeURI(l))}if(r.length){var c=e.indexOf("?")<0?"?":"&";e+=c+r.join("&")}a=null}var d=new XMLHttpRequest;d.URL_DEBUG=e;var h=!1;if(null==a||Ji(a)||(h=sn(a),a=JSON.stringify(a)),d.onload=function(){4==d.readyState&&(d.status<300?i.success&&Vn(i.success)(d):i.error&&Vn(i.error)(d),i.complete&&Vn(i.complete)(d))},d.onerror=function(){if(!nn(i.error))throw"HttpRequest Error: "+d.status+" "+d.statusText;i.error(d)},d.open(n,e,o,i.user,i.password),i.user&&i.password&&d.setRequestHeader("Authorization","Basic "+btoa(i.user+":"+i.password)),h&&d.setRequestHeader("Content-Type","application/json"),i.requestHeaders)for(var u in i.requestHeaders)d.setRequestHeader(u,i.requestHeaders[u]);return Xi(i.timeout)&&(d.timeout=i.timeout),nn(i.beforeSend)&&i.beforeSend(d),d.send(a),d}var bo={};function mo(e,t){if(bo[e]=t,"wijmo"===e){var i="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;i&&(i.wijmo=t)}}function fo(e){return bo[e]}var go=function(){function e(e){this._r=0,this._g=0,this._b=0,this._a=1,e&&this._parse(e)}return Object.defineProperty(e.prototype,"r",{get:function(){return this._r},set:function(e){this._r=_n(Sn(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._g},set:function(e){this._g=_n(Sn(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._b},set:function(e){this._b=_n(Sn(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this._a},set:function(e){this._a=_n(Sn(e),0,1)},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},e.prototype.toString=function(){var e=Math.round(100*this.a);return e>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+e/100+")"},e.fromRgba=function(t,i,n,o){void 0===o&&(o=1);var a=new e(null);return a.r=Math.round(_n(Sn(t),0,255)),a.g=Math.round(_n(Sn(i),0,255)),a.b=Math.round(_n(Sn(n),0,255)),a.a=_n(Sn(o),0,1),a},e.fromHsb=function(t,i,n,o){void 0===o&&(o=1);var a=e._hsbToRgb(_n(Sn(t),0,1),_n(Sn(i),0,1),_n(Sn(n),0,1));return e.fromRgba(a[0],a[1],a[2],o)},e.fromHsl=function(t,i,n,o){void 0===o&&(o=1);var a=e._hslToRgb(_n(Sn(t),0,1),_n(Sn(i),0,1),_n(Sn(n),0,1));return e.fromRgba(a[0],a[1],a[2],o)},e.fromString=function(t){var i=new e(null);return i._parse(Dn(t))?i:null},e.prototype.getHsb=function(){return e._rgbToHsb(this.r,this.g,this.b)},e.prototype.getHsl=function(){return e._rgbToHsl(this.r,this.g,this.b)},e.interpolate=function(t,i,n){n=_n(Sn(n),0,1);var o=e._rgbToHsl(t.r,t.g,t.b),a=e._rgbToHsl(i.r,i.g,i.b),r=1-n,s=t.a*r+i.a*n,l=[o[0]*r+a[0]*n,o[1]*r+a[1]*n,o[2]*r+a[2]*n],c=e._hslToRgb(l[0],l[1],l[2]);return e.fromRgba(c[0],c[1],c[2],s)},e.toOpaque=function(t,i){if(1==(t=Ji(t)?e.fromString(t):Un(t,e)).a)return t;i=null==i?e.fromRgba(255,255,255,1):Ji(i)?e.fromString(i):Un(i,e);var n=t.a,o=1-n;return e.fromRgba(t.r*n+i.r*o,t.g*n+i.g*o,t.b*n+i.b*o)},e.prototype._parse=function(t){if("transparent"==(t=t.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(t&&0!=t.indexOf("#")&&0!=t.indexOf("rgb")&&0!=t.indexOf("hsl")){var i=document.createElement("div");i.style.color=t;var n=i.style.color;n!=t||(n=window.getComputedStyle(i).color)||(document.body.appendChild(i),n=window.getComputedStyle(i).color,qn(i)),t=n.toLowerCase()}if(0==t.indexOf("#"))return 4==t.length?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):7==t.length&&(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0);if(0==t.indexOf("rgb")){var o=t.indexOf("("),a=t.indexOf(")");if(o>-1&&a>-1&&(r=t.substr(o+1,a-(o+1)).split(",")).length>2)return this.r=parseInt(r[0]),this.g=parseInt(r[1]),this.b=parseInt(r[2]),this.a=r.length>3?parseFloat(r[3]):1,!0}var r;if(0==t.indexOf("hsl")&&(o=t.indexOf("("),a=t.indexOf(")"),o>-1&&a>-1&&(r=t.substr(o+1,a-(o+1)).split(",")).length>2)){var s=parseInt(r[0])/360,l=parseInt(r[1]),c=parseInt(r[2]);r[1].indexOf("%")>-1&&(l/=100),r[2].indexOf("%")>-1&&(c/=100);var d=e._hslToRgb(s,l,c);return this.r=d[0],this.g=d[1],this.b=d[2],this.a=r.length>3?parseFloat(r[3]):1,!0}return!1},e._hslToRgb=function(t,i,n){var o,a,r;if(wn(t>=0&&t<=1&&i>=0&&i<=1&&n>=0&&n<=1,"bad HSL values"),0==i)o=a=r=n;else{var s=n<.5?n*(1+i):n+i-n*i,l=2*n-s;o=e._hue2rgb(l,s,t+1/3),a=e._hue2rgb(l,s,t),r=e._hue2rgb(l,s,t-1/3)}return[Math.round(255*o),Math.round(255*a),Math.round(255*r)]},e._hue2rgb=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},e._rgbToHsl=function(e,t,i){wn(e>=0&&e<=255&&t>=0&&t<=255&&i>=0&&i<=255,"bad RGB values"),e/=255,t/=255,i/=255;var n,o,a=Math.max(e,t,i),r=Math.min(e,t,i),s=(a+r)/2;if(a==r)n=o=0;else{var l=a-r;switch(o=s>.5?l/(2-a-r):l/(a+r),a){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return[n,o,s]},e._rgbToHsb=function(t,i,n){wn(t>=0&&t<=255&&i>=0&&i<=255&&n>=0&&n<=255,"bad RGB values");var o=e._rgbToHsl(t,i,n);return e._hslToHsb(o[0],o[1],o[2])},e._hsbToRgb=function(t,i,n){var o=e._hsbToHsl(t,i,n);return e._hslToRgb(o[0],o[1],o[2])},e._hsbToHsl=function(e,t,i){wn(e>=0&&e<=1&&t>=0&&t<=1&&i>=0&&i<=1,"bad HSB values");var n=_n(i*(2-t)/2,0,1),o=1-Math.abs(2*n-1),a=_n(o>0?i*t/o:t,0,1);return wn(!isNaN(n)&&!isNaN(a),"bad conversion to HSL"),[e,a,n]},e._hslToHsb=function(e,t,i){wn(e>=0&&e<=1&&t>=0&&t<=1&&i>=0&&i<=1,"bad HSL values");var n=_n(1==i?1:(2*i+t*(1-Math.abs(2*i-1)))/2,0,1),o=_n(n>0?2*(n-i)/n:t,0,1);return wn(!isNaN(n)&&!isNaN(o),"bad conversion to HSB"),[e,o,n]},e}(),yo="undefined"!=typeof window&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},_o=function(){function e(){}return e.format=function(t,i,n,o){return Ji(t)?t:Xi(t)?(i=i||(t==Math.round(t)?"n0":"n2"),e.formatNumber(t,i,n,o)):an(t)?e.formatDate(t,i=i||"d"):null!=t?t.toString():""},e.formatNumber=function(t,i,n,o){t=Sn(t),i=Dn(i);var a,r=yo.Globalize.numberFormat,s=e._parseNumericFormat(i),l=s.spec,c=s.prec,d=r["."]||".",h=r[","]||",",u=r["-"]||"-";if(null==c&&(c="c"==l?r.currency.decimals:"e"==l?6:t==Math.round(t)?0:2),s.scale&&(t/=Math.pow(10,s.scale)),"d"==l||"x"==l){for(a=Math.round(Math.abs(t)).toString("d"==l?10:16);a.length<c;)a="0"+a;return t<0&&(a=u+a),"X"==s.specRaw?a.toUpperCase():a}switch("p"==l&&(t=bn(t=e._shiftDecimal(t,2),c,o)),o&&"p"!=l&&"e"!=l&&(t=bn(t,c,!0)),l){case"e":a=t.toExponential(c),"E"==s.specRaw&&(a=a.replace("e","E"));break;case"c":case"p":a=e._toFixedStr(Math.abs(t),c);break;default:a=e._toFixedStr(t,c)}if((n||"g"==l)&&a.indexOf(".")>-1&&(a=a.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),"."!=d&&(a=a.replace(".",d)),"-"!=u&&(a=a.replace("-",u)),h&&("n"==l||"c"==l||"p"==l||"F"==s.specRaw||"G"==s.specRaw)){var p=a.indexOf(d),b=/\B(?=(\d\d\d)+(?!\d))/g;a=p>-1?a.substr(0,p).replace(b,h)+a.substr(p):a.replace(b,h)}if("c"==l){var m=r.currency.pattern[t<0?0:1],f=s.curr||r.currency.symbol;"\u200b"==f&&(f=""),a=m.replace("n",a).replace("$",f)}if("p"==l){var g=r["%"]||"%";a=(m=r.percent.pattern[t<0?0:1]).replace("n",a),"%"!=g&&(a=a.replace("%",g)),"-"!=u&&t<0&&(a=a.replace("-",u))}return s.prefix||s.suffix?s.prefix+a+s.suffix:a},e.formatDate=function(t,i){switch(t=Ln(t),i){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}return i=e._expandFormat(i),e._parseDateFormat(i).map((function(n){return e._formatDatePart(t,i,n)})).join("")},e.parseInt=function(t,i){return Math.round(e.parseFloat(t,i))},e.parseFloat=function(t,i){var n=yo.Globalize.numberFormat,o=n["."]||".",a=n["%"]||"%",r=t.indexOf(n["-"]||"-")>-1||t.indexOf("(")>-1&&t.indexOf(")")>-1?-1:1,s=t.indexOf(a)>-1,l=i?i[0].toLowerCase():null,c=i?i.match(/,+/):null,d=c?Math.pow(10,3*c[0].length):1,h=0;if("x"==l)t=t.replace(/[^0-9a-f]+.*$/gi,""),h=parseInt(t,16);else{var u="e"==l?new RegExp("[^+-eE\\d\\"+o+"]","g"):new RegExp("[^\\d\\"+o+"]","g");t=t.replace(u,"").replace(o,"."),h=Math.abs(parseFloat(t))}return s&&(h=e._shiftDecimal(h,-2)),h*r*d},e.parseDate=function(t,i,n){if(!(t=Dn(t)))return null;if("u"==i)return new Date(t);var o;if("R"==i||"r"==i){var a=t.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return a[1]||a[5]?(o=a[1]?new Date(parseInt(a[2]),parseInt(a[3])-1,parseInt(a[4])):new Date,a[5]&&(o.setHours(parseInt(a[6])),o.setMinutes(parseInt(a[7])),o.setSeconds(a[8]?parseInt(a[9]):0))):o=new Date(t),isNaN(o.getTime())?null:o}i=e._expandFormat(i||"d");var r,s,l,c,d,h=yo.Globalize.calendar,u=e._CJK,p=new RegExp("(\\"+h["/"]+")|(\\"+h[":"]+")|(\\d+)|(["+u+"\\.]{2,})|(["+u+"]+)","gi"),b=t.match(p),m=e._parseDateFormat(i),f=0,g=-1,y=0,_=1,v=0,w=0,C=0,D=0,S=-1,x=-1;if(!(b&&b.length&&m&&m.length))return null;for(var k=0;k<m.length&&b;k++){var L=k-f,V=L>-1&&L<b.length?b[L]:"",O=m[k].length;switch(m[k]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":d=m[k];case"yyyy":case"yyy":case"yy":case"y":O>1&&V.length>O&&(b[L]=V.substr(O),V=V.substr(0,O),f++),g=parseInt(V),c=4==V.length;break;case"MMMM":case"MMM":l=!0;var U=V.toLowerCase();y=-1;for(var E=0;E<12;E++)if(0==h.months[E].toLowerCase().indexOf(U)){y=E;break}if(y>-1)break;case"MM":case"M":l=!0,O>1&&V.length>O&&(b[L]=V.substr(O),V=V.substr(0,O),f++),y=parseInt(V)-1;break;case"dddd":case"ddd":r=!0;break;case"dd":case"d":O>1&&V.length>O&&(b[L]=V.substr(O),V=V.substr(0,O),f++),_=parseInt(V),s=!0;break;case"hh":case"h":O>1&&V.length>O&&(b[L]=V.substr(O),V=V.substr(0,O),f++),v=12==(v=parseInt(V))?0:v;break;case"HH":O>1&&V.length>O&&(b[L]=V.substr(O),V=V.substr(0,O),f++),v=parseInt(V);break;case"H":v=parseInt(V);break;case"mm":case"m":O>1&&V.length>O&&(b[L]=V.substr(O),V=V.substr(0,O),f++),w=parseInt(V);break;case"ss":case"s":O>1&&V.length>O&&(b[L]=V.substr(O),V=V.substr(0,O),f++),C=parseInt(V);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":D=parseInt(V)/Math.pow(10,O-3);break;case"tt":case"t":V=V.toUpperCase(),v<12&&h.pm.indexOf(V)>-1&&(v+=12);break;case"q":case"Q":case"u":case"U":x=this.parseInt(V);break;case"ggg":case"gg":case"g":S=h.eras.length>1?e._getEra(V,h):-1;break;case"/":case":":if(V&&V!=h[m[k]])return null;break;case"K":break;default:e._unquote(m[k]).trim()!=V.trim()&&f++}}if(l&&s&&(isNaN(v)&&(v=0),isNaN(w)&&(w=0),isNaN(C)&&(C=0)),y<0||y>11||isNaN(y)||_<1||_>31||isNaN(_)||v<0||v>=24||isNaN(v)||w<0||w>=60||isNaN(w)||C<0||C>=60||isNaN(C))return null;if(d){if(!l)return null;var M=yo.Globalize.calendar;if(rn(M.fiscalYearOffsets)){var P=y-M.fiscalYearOffsets["E"==d[0]?0:1];g+=P>11?-1:P<0?1:0}}if(r&&!s)return null;if(!l&&x>=1&&x<=4&&(y=3*(x-1)),isNaN(g)||g<0)g=an(n)?n.getFullYear():(new Date).getFullYear();else if(S>-1)g=g+h.eras[S].start.getFullYear()-1;else if(g<100&&!c){var R=Xi(h.twoDigitYearMax)?h.twoDigitYearMax:2029;R>99&&(g+=g+2e3<=R?2e3:1900)}return(o=uo.newDate(g,y,_,v,w+0,C,D)).getMonth()!=y||o.getDate()!=_||isNaN(o.getTime())?null:o},e.getFirstDayOfWeek=function(){return yo.Globalize.calendar.firstDay||0},e.getNumberDecimalSeparator=function(){return yo.Globalize.numberFormat["."]||"."},e._toFixedStr=function(e,t){var i=e.toString(),n=i.indexOf("."),o=t-(i.length-n)+1,a=i.indexOf("e")>-1;return!a&&n>-1&&o>=0?i+Array(o+1).join("0"):(n>-1&&!a&&"5"==i[i.length-1]&&(e=+(Math.round(+(Math.abs(e)+"e"+t))+"e"+-t)*(e<0?-1:1)),e.toFixed(t))},e._unquote=function(e){return e.length>1&&e[0]==e[e.length-1]&&("'"==e[0]||'"'==e[0])?e.substr(1,e.length-2):e},e._parseNumericFormat=function(t){var i=e._numFormatInfo[t];if(!i){var n=t&&t.match(/(\"(.*?)\"\s*)?([a-z])\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],o=n[3]?n[3]:"n";i={prefix:n[2]||"",spec:o.toLowerCase(),specRaw:o,prec:n[4]?parseInt(n[4]):null,scale:n[5]?3*n[5].length:0,suffix:n[7]||"",curr:n[8]||null},e._numFormatInfo[t]=i}return i},e._parseDateFormat=function(t){var i=e._dateFormatParts[t];if(!i){if(i=[],t){var n=void 0,o=void 0;for(n=0;n>-1&&n<t.length;n++){var a=t[n];if(("'"==a||'"'==a)&&(o=t.indexOf(a,n+1))>-1)i.push(t.substring(n,o+1)),n=o;else if("\\"==a&&n<t.length-1)n++,i.push('"'+t[n]+'"');else{for(o=n+1;o<t.length&&t[o]==a;o++);i.push(t.substring(n,o)),n=o-1}}}e._dateFormatParts[t]=i}return i},e._formatDatePart=function(t,i,n){var o,a=yo.Globalize.calendar,r=0,s=0,l=0,c=n.length;switch(n){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":return s=(o="E"==n[0]?uo.toFiscal(t,!0):"e"==n[0]?uo.toFiscal(t,!1):t).getFullYear(),a.eras.length>1&&i.indexOf("g")>-1&&(r=e._getEra(t,a))>-1&&(s=an((d=a.eras[r]).start)?s-d.start.getFullYear()+1:Math.abs(s)),e._zeroPad(n.length<3?s%100:3==n.length?s%1e3:s,n.length);case"MMMMM":return a.monthsAbbr[t.getMonth()][0];case"MMMM":return a.months[t.getMonth()];case"MMM":return a.monthsAbbr[t.getMonth()];case"MM":case"M":return e._zeroPad(t.getMonth()+1,c);case"dddd":return a.days[t.getDay()];case"ddd":return a.daysAbbr[t.getDay()];case"dd":return e._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return e._zeroPad(e._h12(t),c);case"HH":case"H":return e._zeroPad(t.getHours(),c);case"mm":case"m":return e._zeroPad(t.getMinutes(),c);case"ss":case"s":return e._zeroPad(t.getSeconds(),c);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return l=t.getMilliseconds()*Math.pow(10,c-3),"f"==n[0]?e._zeroPad(l,c):l.toFixed(0);case"tt":return t.getHours()<12?a.am[0]:a.pm[0];case"t":return t.getHours()<12?a.am[1]:a.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return o=uo.toFiscal(t,"U"==n),(Math.floor(o.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(a.eras.length>1&&(r=e._getEra(t,a))>-1){var d;if(Ji(d=a.eras[r]))return d;switch(n){case"gg":return d.name[0];case"g":return d.symbol;default:return d.name}}return a.eras[0];case":":case"/":return a[n];case"K":var h=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return h?h[1]+h[2]+h[3]:"";case"zzz":case"zz":case"z":var u=-t.getTimezoneOffset(),p=void 0;switch(n){case"zzz":p=e.format(u/60,"d2",!1,!0)+a[":"]+e.format(u%60,"d2",!1,!0);break;case"zz":p=e.format(u/60,"d2",!1,!0);break;case"z":p=e.format(u/60,"d",!1,!0)}return u>=0?"+"+p:p}return c>1&&n[0]==n[c-1]&&('"'==n[0]||"'"==n[0])?n.substr(1,c-2):n},e._getEra=function(e,t){if(t.eras){var i=t.eras.length;if(an(e)){if(Ji(t.eras[0]))return e.getFullYear()>=0?0:1;if(an(t.eras[0].start)){for(var n=0;n<i;n++)if(e>=t.eras[n].start)return n;return i-1}}else if(Ji(e)&&e.length>0)for(e=e.toLowerCase(),n=0;n<i;n++){var o=t.eras[n],a=o.name,r=o.symbol;if(a&&0==a.toLowerCase().indexOf(e)||r&&0==r.toLowerCase().indexOf(e))return n}}return-1},e._expandFormat=function(e){return yo.Globalize.calendar.patterns[e]||e},e._zeroPad=function(e,t){var i=e.toFixed(0),n=t-i.length+1;return n>0?Array(n).join("0")+i:i},e._h12=function(e){var t=yo.Globalize.calendar,i=e.getHours();return t.am&&t.am[0]&&0==(i%=12)&&(i=12),i},e._shiftDecimal=function(e,t){if(0==t||isNaN(e))return e;var i=e.toString();if(i.indexOf("e")>-1)return e*Math.pow(10,t);var n=Array(Math.abs(t)+1).join("0");t<0&&(i=n+i);var o=i.indexOf(".");return o<0&&(o=(i+=".").indexOf(".")),t>0&&(i+=n),o+=t,i=(i=i.replace(".","")).substr(0,o)+"."+i.substr(o),parseFloat(i)},e._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),e._numFormatInfo={},e._dateFormatParts={},e}();function vo(e){yo=e}function wo(e,t){yo[e]="undefined"!=typeof window&&window.wijmo.culture[e]||t}var Co=function(){function e(e,t,i){void 0===t&&(t=null),void 0===i&&(i="_"),this._promptChar="_",this._mskArr=[],this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=Dn(t),this.input=e,this.promptChar=Dn(i,!1),this._connect(!0),this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1)}return Object.defineProperty(e.prototype,"input",{get:function(){return this._tbx},set:function(e){this._connect(!1),this._tbx=e,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk},set:function(e){e!=this._msk&&(this._msk=Dn(e,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptChar",{get:function(){return this._promptChar},set:function(e){e!=this._promptChar&&(this._promptChar=Dn(e,!1),wn(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),e.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},e.prototype.getRawValue=function(){var e=this._tbx?this._tbx.value:"";if(!this.mask)return e;for(var t="",i=0;i<this._mskArr.length&&i<e.length;i++)this._mskArr[i].literal||e[i]==this._promptChar||(t+=e[i]);return t},e.prototype.refresh=function(){this._parseMask(),this._valueChanged()},e.prototype._input=function(e){var t=this;this._msk&&!this._composing&&e!=this._evtInput&&(e.preventDefault(),e.stopImmediatePropagation(),setTimeout((function(){t._valueChanged(),t._tbx&&t._tbx.dispatchEvent(t._evtInput)})))},e.prototype._keydown=function(e){if(e.keyCode==Hi.Back){var t=this._tbx.selectionStart;if(t<=this._firstPos&&this._tbx.selectionEnd==t)return e.preventDefault(),void(this._backSpace=!1)}this._backSpace=e.keyCode==Hi.Back},e.prototype._keypress=function(e){e.ctrlKey||e.metaKey||e.altKey||this._composing||!this._preventKey(e.charCode)||e.preventDefault()},e.prototype._cmpstart=function(e){this._composing=!0},e.prototype._cmpend=function(e){var t=this;this._composing&&(this._composing=!1,setTimeout((function(){var e=t._tbx;e&&t._valueChanged()&&e.dispatchEvent(t._evtInput)})))},e.prototype._preventKey=function(e){if(e&&this._mskArr.length){var t=this._tbx,i=t.selectionStart,n=String.fromCharCode(e);if(i<this._firstPos&&Qn(t,i=this._firstPos),i>=this._mskArr.length)return!0;var o=this._mskArr[i];if(o.literal)this._validatePosition(i);else if(o.wildCard!=n&&!this._isCharValid(o.wildCard,n))return!0}return!1},e.prototype._connect=function(e){var t=this._tbx;t&&(wn(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),e?(this._autoComplete=t.autocomplete,this._spellCheck=t.spellcheck,t.autocomplete="off",t.spellcheck=!1,t.addEventListener("input",this._inputBnd,!0),t.addEventListener("keydown",this._keydownBnd,!0),t.addEventListener("keypress",this._keypressBnd,!0),t.addEventListener("compositionstart",this._cmpstartBnd,!0),t.addEventListener("compositionend",this._cmpendBnd,!0),t.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(t.autocomplete=this._autoComplete,t.spellcheck=this._spellCheck,t.removeEventListener("input",this._inputBnd,!0),t.removeEventListener("keydown",this._keydownBnd,!0),t.removeEventListener("keypress",this._keypressBnd,!0),t.removeEventListener("compositionstart",this._cmpstartBnd,!0),t.removeEventListener("compositionend",this._cmpendBnd,!0),t.removeEventListener("blur",this._cmpendBnd,!0)))},e.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var e=this._tbx,t=e.value.length<2,i=e.selectionStart,n=i>0?e.value[i-1]:"",o=e.value;return e.value=this._applyMask(),t&&(i=this._firstPos+1),i>0&&(i>0?e.value[i-1]:"")==this._promptChar&&n!=this.promptChar&&i--,i==o.length&&(i=this._matchEnd),this._validatePosition(i),o!=e.value},e.prototype._applyMask=function(){this._full=!0,this._matchEnd=0;var e=this._tbx.value;if(!this._msk)return e;if(!e&&!this._tbx.required)return e;var t="",i=0,n=this._promptChar;e=this._handleVagueLiterals(e);for(var o=0;o<this._mskArr.length;o++){var a=this._mskArr[o],r=a.literal;if(r&&r==e[i]&&i++,a.wildCard){if(r=n,e){for(var s=i;s<e.length;s++)if(this._isCharValid(a.wildCard,e[s])){switch(r=e[s],a.charCase){case">":r=r.toUpperCase();break;case"<":r=r.toLowerCase()}r!=n&&(this._matchEnd=t.length+1);break}i=s+1}r==n&&(this._full=!1)}t+=r}return t},e.prototype._handleVagueLiterals=function(e){if(e.length>this._mskArr.length+1)return e;var t=e.length-this._mskArr.length;if(0!=t&&e.length>1){for(var i=-1,n=this._tbx,o=n==Kn()?n.selectionStart:n.value.length,a=Math.max(0,o-t);a<this._mskArr.length;a++)if(this._mskArr[a].vague){i=a;break}if(i>-1)if(t<0){var r=Array(1-t).join(this._promptChar),s=i+t;s>-1&&(e=e.substr(0,s)+r+e.substr(s))}else{for(;i>0&&this._mskArr[i-1].literal;)i--;e=e.substr(0,i)+e.substr(i+t)}}return e},e.prototype._isCharValid=function(t,i){if(i==this._promptChar)return!0;switch(t){case"0":return this._isDigit(i);case"9":return this._isDigit(i)||" "==i;case"#":return this._isDigit(i)||" "==i||"+"==i||"-"==i;case"L":return this._isLetter(i);case"l":return this._isLetter(i)||" "==i;case"A":return this._isDigit(i)||this._isLetter(i);case"a":return this._isDigit(i)||this._isLetter(i)||" "==i;case"\uff19":return i>="\uff10"&&i<="\uff19";case"\uff2a":case"\uff27":return!("\uff27"==t&&e._X_DBCS_BIG_HIRA.indexOf(i)>-1)&&i>="\u3041"&&i<="\u309f";case"\uff2b":case"\uff2e":return!("\uff2e"==t&&e._X_DBCS_BIG_KATA.indexOf(i)>-1)&&i>="\u30a0"&&i<="\u30ff";case"\uff3a":return i<="!"||i>="\xff";case"H":return i>="!"&&i<="\xff"||i>="\uff00"&&i<="\uffef";case"K":case"N":return!("N"==t&&e._X_SBCS_BIG_KATA.indexOf(i)>-1)&&i>="\uff66"&&i<="\uff9f"}return!1},e.prototype._isDigit=function(e){return e>="0"&&e<="9"},e.prototype._isLetter=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},e.prototype._validatePosition=function(e){var t=this._mskArr;if(this._backSpace)for(;e>0&&e<t.length&&t[e-1].literal;)e--;if(0==e||!this._backSpace)for(;e<t.length&&t[e].literal;)e++;Kn()==this._tbx&&Qn(this._tbx,e),this._backSpace=!1},e.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var e,t=this._msk,i="|",n=0;t&&n<t.length;n++)switch(t[n]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"\uff19":case"\uff2a":case"\uff27":case"\uff2b":case"\uff2e":case"\uff3a":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new Do(t[n],i));break;case".":case",":case":":case"/":case"$":switch(t[n]){case".":case",":e=yo.Globalize.numberFormat[t[n]];break;case":":case"/":e=yo.Globalize.calendar[t[n]];break;case"$":e=yo.Globalize.numberFormat.currency.symbol}for(var o=0;o<e.length;o++)this._mskArr.push(new Do(e[o]));break;case"<":case">":case"|":i=t[n];break;case"\\":n<t.length-1&&n++,this._mskArr.push(new Do(t[n]));break;default:this._mskArr.push(new Do(t[n]))}for(n=0;n<this._mskArr.length;n++){var a=this._mskArr[n];if(a.literal)for(o=0;o<n;o++){var r=this._mskArr[o];if(r.wildCard&&this._isCharValid(r.wildCard,a.literal)){a.vague=!0;break}}}},e._X_DBCS_BIG_HIRA="\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096",e._X_DBCS_BIG_KATA="\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6",e._X_SBCS_BIG_KATA="\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f",e}(),Do=function(e,t){t?(this.wildCard=e,this.charCase=t):this.literal=e},So="undefined"!=typeof navigator?navigator.userAgent:"",xo=null!=So.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i);function ko(){return xo}var Lo=null!=So.match(/iPad|iPhone|iPod/i);function Vo(){return Lo}var Oo=null!=So.match(/Firefox\//);function Uo(){return Oo}var Eo=null!=So.match(/^((?!Chrome|Android).)*safari/i);function Mo(){return Eo}var Po=null!=So.match(/Edge\//);function Ro(){return Po}var Io=null!=So.match(/MSIE |Trident\/|Edge\//);function To(){return Io}var Ao=!1;function Bo(){return Ao}var jo=!1;function Ho(){return jo}var Fo=!1;function No(e,t){return Fo?{capture:e,passive:t}:e}"undefined"!=typeof document&&document.addEventListener("test",(function(e){}),{get passive(){return Fo=!0,!0}});var zo=!1;function Go(){return zo}function Yo(e,t){e.effectAllowed=t,Uo()&&e.setData("text","")}if("undefined"!=typeof document&&document.createElement("div").focus({get preventScroll(){return zo=!0,!0}}),"undefined"!=typeof document&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(jo=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(Ao=!0,document.addEventListener("mousemove",(function(e){if(1==e.which){var t=io(e.target,".wj-control");if(t&&!t.style.cursor)for(var i=e.target;i;i=i.parentElement)if(i.attributes&&i.attributes.draggable)return i.dragDrop(),!1}})))),"undefined"!=typeof window){var Qo="requestAnimationFrame";if(!window[Qo]){var Wo=0;window[Qo]=function(e){var t=Date.now(),i=16-(t-Wo),n=i>0?i:0;return Wo=t+n,setTimeout((function(){e(Wo)}),n)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var qo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ko=new RegExp("[^"+qo+"]");window.atob=function(e){var t,i,n,o,a=[],r=0,s=e.length;if(Ko.test(e)||/=/.test(e)&&(/=[^=]/.test(e)||/={3}/.test(e)))throw new Error("Invalid base64 data");for(s%4>0&&(s=(e+=Array(4-s%4+1).join("=")).length);r<s;){for(i=[],o=r;r<o+4;)i.push(qo.indexOf(e.charAt(r++)));for(n=[((t=(i[0]<<18)+(i[1]<<12)+((63&i[2])<<6)+(63&i[3]))&255<<16)>>16,64===i[2]?-1:(65280&t)>>8,64===i[3]?-1:255&t],o=0;o<3;++o)(n[o]>=0||0===o)&&a.push(String.fromCharCode(n[o]))}return a.join("")},window.btoa=function(e){for(var t,i,n=[],o=0,a=e.length;o<a;)t=((i=[e.charCodeAt(o++),e.charCodeAt(o++),e.charCodeAt(o++)])[0]<<16)+((i[1]||0)<<8)+(i[2]||0),n.push(qo.charAt((t&63<<18)>>18),qo.charAt((258048&t)>>12),qo.charAt(isNaN(i[1])?64:(4032&t)>>6),qo.charAt(isNaN(i[2])?64:63&t));return n.join("")}}}var $o,Jo=function(){function e(e){this._copyCss=!0,null!=e&&vn(this,e)}return Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyCss",{get:function(){return this._copyCss},set:function(e){this._copyCss=kn(e)},enumerable:!0,configurable:!0}),e.prototype.addCSS=function(e){this._css||(this._css=[]),this._css.push(e)},e.prototype.append=function(e){var t=this._getDocument();Ji(e)?t.write(e):e instanceof HTMLElement?t.write(e.outerHTML):wn(!1,"child should be an HTML element or a string.")},e.prototype.print=function(e){var t=this;this._iframe&&(this._close(),setTimeout((function(){var i=t._iframe.contentWindow,n="onafterprint"in i&&!Uo();n&&(i.onafterprint=function(){t._afterPrint(e)}),To()&&null==i.document.body||!document.queryCommandSupported("print")?(i.focus(),i.print()):i.document.execCommand("print",!0,null),n||t._afterPrint(e)}),100))},e.prototype._afterPrint=function(e){document.body.removeChild(this._iframe),this._iframe=null,nn(e)&&e()},e.prototype._getDocument=function(){if(!this._iframe){var e=this._iframe=document.createElement("iframe");Fn(e,"wj-printdocument"),ro(e,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(e)}return this._iframe.contentDocument},e.prototype._close=function(){var e=this._getDocument();if(e.close(),e.title=null!=this.title?this.title:document.title,e.title&&e.title.trim()||(e.title="\xa0"),this._copyCss){for(var t=document.head.querySelectorAll("LINK"),i=0;i<t.length;i++){var n=t[i];if(n.href.match(/\.css$/i)&&n.rel.match(/stylesheet/i)){var o=po(n.href,{async:!1});this._addStyle(o.responseText)}}var a=document.head.querySelectorAll("STYLE");for(i=0;i<a.length;i++)this._addStyle(a[i].textContent)}if(this._css)for(i=0;i<this._css.length;i++){var r=e.createElement("style");o=po(this._css[i],{async:!1}),r.textContent=o.responseText,e.head.appendChild(r)}},e.prototype._addStyle=function(e){var t=this._getDocument(),i=t.createElement("style");i.textContent=e,t.head.appendChild(i)},e}();function Zo(e,t,i){var n=0,o=0,a=0,r=0,s=null,l=null,c=null,d=i?new Pi(i):null;if((e=En(e,$o))==$o.CntAll)return t.length;for(var h=0;h<t.length;h++){var u=t[h];if(d&&(u=d.getValue(u)),e==$o.First)return u;null!=u&&(n++,(null==s||u<s)&&(s=u),(null==l||u>l)&&(l=u),c=u,Xi(u)&&!isNaN(u)?(o++,a+=u,r+=u*u):tn(u)&&(o++,1==u&&(a++,r++)))}var p=0==o?0:a/o;switch(e){case $o.Avg:return p;case $o.Cnt:return n;case $o.Max:return l;case $o.Min:return s;case $o.Rng:return l-s;case $o.Sum:return a;case $o.VarPop:return o<=1?0:r/o-p*p;case $o.StdPop:return o<=1?0:Math.sqrt(r/o-p*p);case $o.Var:return o<=1?0:(r/o-p*p)*o/(o-1);case $o.Std:return o<=1?0:Math.sqrt((r/o-p*p)*o/(o-1));case $o.Last:return c}throw"Invalid aggregate type."}!function(e){e[e.None=0]="None",e[e.Sum=1]="Sum",e[e.Cnt=2]="Cnt",e[e.Avg=3]="Avg",e[e.Max=4]="Max",e[e.Min=5]="Min",e[e.Rng=6]="Rng",e[e.Std=7]="Std",e[e.Var=8]="Var",e[e.StdPop=9]="StdPop",e[e.VarPop=10]="VarPop",e[e.CntAll=11]="CntAll",e[e.First=12]="First",e[e.Last=13]="Last"}($o||($o={}));var Xo=function(e){function t(){var t=this;return ea?t.length=0:t=e.call(this)||this,t}return Mi(t,e),t}(Array),ea=!0;try{Xo.prototype=Array.prototype,ea=Xo.prototype===Array.prototype}catch(Ei){ea=!1}var ta="undefined"!=typeof window?window.Symbol:null;!ea&&ta&&ta.species&&Object.defineProperty(Xo,ta.species,{get:function(){return Array},enumerable:!1,configurable:!1});var ia,na=function(e){function t(t){var i=e.call(this)||this;if(i._updating=0,i.collectionChanged=new Ii,t){t=On(t),i._updating++;for(var n=0;n<t.length;n++)i.push(t[n]);i._updating--}return i}return Mi(t,e),t.prototype.push=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(var n=this.length,o=0;o<t.length;o++)n=e.prototype.push.call(this,t[o]),this._updating||this._raiseCollectionChanged(Ui.Add,t[o],n-1);return n},t.prototype.pop=function(){var t=e.prototype.pop.call(this);return this._raiseCollectionChanged(Ui.Remove,t,this.length),t},t.prototype.splice=function(t,i){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a,r=Ui,s=this._raiseCollectionChanged.bind(this);return i&&n.length?(a=e.prototype.splice.apply(this,[t,i].concat(n)),1==i&&1==n.length?s(r.Change,n[0],t):s()):n.length?(a=e.prototype.splice.apply(this,[t,0].concat(n)),1==n.length?s(r.Add,n[0],t):s()):(a=e.prototype.splice.call(this,t,i),1==i?s(r.Remove,a[0],t):s()),a},t.prototype.slice=function(t,i){return e.prototype.slice.call(this,t,i)},t.prototype.indexOf=function(t,i){return e.prototype.indexOf.call(this,t,i)},t.prototype.sort=function(t){var i=e.prototype.sort.call(this,t);return this._raiseCollectionChanged(),i},t.prototype.insert=function(e,t){this.splice(e,0,t)},t.prototype.remove=function(e){var t=this.indexOf(e);return t>-1&&this.removeAt(t),t>-1},t.prototype.removeAt=function(e){this.splice(e,1)},t.prototype.setAt=function(e,t){e>=this.length&&(this.length=e+1),this.splice(e,1,t)},t.prototype.clear=function(){this.length&&this.splice(0,this.length)},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},t.prototype.implementsInterface=function(e){return"INotifyCollectionChanged"==e},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=Ni.reset),this.isUpdating||this.collectionChanged.raise(this,e)},t.prototype._raiseCollectionChanged=function(e,t,i){if(void 0===e&&(e=Ui.Reset),!this.isUpdating){var n=new Ni(e,t,i);this.onCollectionChanged(n)}},t}(Xo);!function(e){e[e.Natural=0]="Natural",e[e.First=1]="First",e[e.Last=2]="Last"}(ia||(ia={}));var oa=function(){function e(e,t){var i=this;this._idx=-1,this._filters=new na,this._srtDsc=new na,this._grpDesc=new na,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=ia.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new na,this._chgRemoved=new na,this._chgEdited=new na,this.collectionChanged=new Ii,this.sourceCollectionChanging=new Ii,this.sourceCollectionChanged=new Ii,this.currentChanged=new Ii,this.currentChanging=new Ii,this.pageChanged=new Ii,this.pageChanging=new Ii,this._srtDsc.collectionChanged.addHandler((function(){i._srtDsc.forEach((function(e){wn(e instanceof zi,"sortDescriptions array must contain SortDescription objects.")})),i.canSort&&i._commitAndRefresh()})),this._grpDesc.collectionChanged.addHandler((function(){i._grpDesc.forEach((function(e){wn(e instanceof Yi,"groupDescriptions array must contain GroupDescription objects.")})),i.canGroup&&i._commitAndRefresh()})),this._filters.collectionChanged.addHandler((function(){i._filters.forEach((function(e){wn(nn(e),"filters array must contain IPredicate functions.")})),i.canFilter&&i._commitAndRefresh()})),this.sourceCollection=e||new na,t&&this.deferUpdate((function(){vn(i,t)})),null==this._keepCurrentItem&&(this._keepCurrentItem=!0)}return e.prototype._copy=function(e,t){switch(e){case"sortDescriptions":var i=this.sortDescriptions;return i.deferUpdate((function(){i.clear(),On(t).forEach((function(e){Ji(e)?e=new zi(e,!0):e instanceof zi||!e.property||(e=new zi(e.property,e.ascending)),i.push(e)}))})),!0;case"groupDescriptions":var n=this.groupDescriptions;return n.deferUpdate((function(){n.clear(),t.forEach((function(e){Ji(e)&&(e=new Qi(e)),n.push(e)}))})),!0;case"currentItem":return this.currentItem=t,!0}return!1},Object.defineProperty(e.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(e){this._itemCreator=Vn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(e){e!=this._srtCvt&&(this._srtCvt=Vn(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(e){e!=this._srtCmp&&(this._srtCmp=Vn(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(e){e!=this._stableSort&&(this._stableSort=kn(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(e){(e=En(e,ia))!=this._srtNulls&&(this._srtNulls=e,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=ia.Last},set:function(e){Cn("sortNullsFirst","sortNulls"),this.sortNulls=kn(e)?ia.First:ia.Last},enumerable:!0,configurable:!0}),e.prototype.getAggregate=function(e,t,i){return Zo(e,i?this._pgView:this._view,t)},Object.defineProperty(e.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(e){this._trackChanges=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),e.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()},e.prototype.implementsInterface=function(e){switch(e){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(e.prototype,"getError",{get:function(){return this._getError},set:function(e){this._getError!=e&&(this._getError=Vn(e),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),e.prototype.onCollectionChanged=function(e){void 0===e&&(e=Ni.reset),e.action!=Ui.Change||this._committing||this._canceling||e.item==this.currentEditItem||e.item==this.currentAddItem||this._trackItemChanged(e.item),this._updating||this.collectionChanged.raise(this,e)},e.prototype._raiseCollectionChanged=function(e,t,i){void 0===e&&(e=Ui.Reset);var n=new Ni(e,t,i);this.onCollectionChanged(n)},e.prototype.onSourceCollectionChanging=function(e){return this.sourceCollectionChanging.raise(this,e),!e.cancel},e.prototype.onSourceCollectionChanged=function(e){this.sourceCollectionChanged.raise(this,e)},Object.defineProperty(e.prototype,"canFilter",{get:function(){return this._canFilter},set:function(e){this._canFilter=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canGroup",{get:function(){return this._canGroup},set:function(e){this._canGroup=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canSort",{get:function(){return this._canSort},set:function(e){this._canSort=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(e){this.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPosition",{get:function(){return this._idx},set:function(e){this.moveCurrentToPosition(Sn(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},set:function(e){this._filter!=e&&(this._filter=Vn(e),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceCollection",{get:function(){return this._src},set:function(e){if(e!=this._src){if(!this.onSourceCollectionChanging(new Ai))return;var t=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._src=On(e,!1),this._ncc=Ki(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&t>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),e.prototype._sourceChanged=function(e,t){this._updating<=0&&this.refresh()},e.prototype.contains=function(e){return this._pgView.indexOf(e)>-1},e.prototype.moveCurrentTo=function(e){return this.moveCurrentToPosition(this._pgView.indexOf(e))},e.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},e.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},e.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},e.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},e.prototype.moveCurrentToPosition=function(e){if(e>=-1&&e<this._pgView.length&&e!=this._idx){var t=new Ai;if(this.onCurrentChanging(t)){var i=this._pgView[e];this._edtItem&&i!=this._edtItem?this.commitEdit():this._newItem&&i!=this._newItem&&this.commitNew(),this._idx=e,this.onCurrentChanged()}}return this._idx==e},e.prototype.refresh=function(){this._newItem||this._edtItem||this._updating>0?this._pendingRefresh=!0:(this._performRefresh(),this.onCollectionChanged())},e.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},e.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1;var e=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=_n(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var t=this._keepCurrentItem?this._pgView.indexOf(e):-1;t<0&&(t=Math.min(this._idx,this._pgView.length-1)),this._idx=t,this._digest=this._getGroupsDigest(this.groups)}},e.prototype._performSort=function(e){if(this._stableSort){var t=e.map((function(e,t){return{item:e,index:t}})),i=this._compareItems();t.sort((function(e,t){var n=i(e.item,t.item);return 0==n?e.index-t.index:n}));for(var n=0;n<e.length;n++)e[n]=t[n].item}else e.sort(this._compareItems())},e.prototype._compareItems=function(){var t=this,i=this._srtDsc,n=this._srtCvt,o=this._srtCmp,a=e._collator,r=!0,s=0;return function(e,l){for(var c=0;c<i.length;c++){var d=i[c],h=d._bnd.getValue(e),u=d._bnd.getValue(l);if(n&&(h=n(d,e,h,r),u=n(d,l,u,!1),r=!1),o&&null!=(s=o(h,u))){if(0!=s)return d.ascending?+s:-s}else{if(h!=h&&(h=null),u!=u&&(u=null),h!==u&&(null==h||null==u))switch(t._srtNulls){case ia.First:return null==h?-1:1;case ia.Last:return null==h?1:-1;default:return s=null==h?-1:1,d.ascending?+s:-s}if("string"==typeof h&&"string"==typeof u){if(a){if(0!=(s=a.compare(h,u)))return d.ascending?+s:-s;continue}var p=h.toLowerCase(),b=u.toLowerCase();p!=b&&(h=p,u=b)}if(0!=(s=h<u?-1:h>u?1:0))return d.ascending?+s:-s}}return 0}},e.prototype._performFilter=function(e){return this.canFilter&&(this._filter||this._filters.length)?e.filter(this._filterItem,this):e},e.prototype._filterItem=function(e){for(var t=!this._filter||this._filter(e),i=0;i<this._filters.length&&t;i++)t=this._filters[i](e);return t},e.prototype.onCurrentChanged=function(e){this.currentChanged.raise(this,e)},e.prototype.onCurrentChanging=function(e){return this.currentChanging.raise(this,e),!e.cancel},Object.defineProperty(e.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(e){void 0===e&&(e=!0),this._updating--,e&&(this._pendingRefresh=!0),this._updating<=0&&this._pendingRefresh&&this.refresh()},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(e,t){void 0===t&&(t=!0);try{this.beginUpdate(),e()}finally{this.endUpdate(t)}},Object.defineProperty(e.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(e){e!=this._canAddNew&&(this._canAddNew=kn(e),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(e){this._canCancelEdit=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRemove",{get:function(){return this._canRemove},set:function(e){this._canRemove=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),e.prototype.editItem=function(e){e!=this._edtItem&&this.moveCurrentTo(e)&&(this.commitEdit(),this._edtItem=e,this._edtClone={},this._extend(this._edtClone,this._edtItem))},e.prototype.commitEdit=function(){var e=this._edtItem,t=this._edtClone;if(null!=e){this._committing=!0;var i=this._getChangedFields(e,t),n=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var o=this._pgView.indexOf(e),a=this._digest;if(this._needRefresh(i)&&this._refreshOnEdit&&this._performRefresh(),i&&this._trackItemChanged(e),this._pgView.indexOf(e)!=o||a!=this._digest||n?this._raiseCollectionChanged():this._raiseCollectionChanged(Ui.Change,e,o),this.commitNew(),this._committing=!1,this.sourceCollection instanceof na){this._updating++;var r=new Ni(Ui.Change,e);this.sourceCollection.onCollectionChanged(r),this._updating--}}},e.prototype.cancelEdit=function(){var e=this._edtItem;if(null!=e){if(this._edtItem=null,!this.canCancelEdit)return;var t=this._src.indexOf(e);t>=0&&this._edtClone&&(this._extend(this._src[t],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(Ui.Change,e,t),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},e.prototype.addNew=function(e,t){if(void 0===t&&(t=!1),this.commitEdit(),!this.canAddNew)return null;if(null==e){var i=this.sourceCollection;e=this.newItemCreator?this.newItemCreator():i&&i.length?new i[0].constructor:{}}if(null!=e){if(this._newItem=e,this._updating++,this._src.push(e),this._updating--,this._pgView!=this._src&&this._pgView.push(e),this.groups&&this.groups.length){var n=this.groups[this.groups.length-1];for(n.items.push(e);n.groups&&n.groups.length;)(n=n.groups[n.groups.length-1]).items.push(e)}this._raiseCollectionChanged(Ui.Add,e,this._pgView.length-1),this.moveCurrentTo(e),t&&this.commitNew()}return this._newItem},e.prototype.commitNew=function(){var e=this._newItem;if(null!=e){this._newItem=null;var t=this._pgView.indexOf(e),i=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var n=this._chgEdited.indexOf(e);n>-1&&this._chgEdited.removeAt(n),this._chgAdded.indexOf(e)<0&&this._chgAdded.push(e)}this._pgView.indexOf(e)==t&&i==this._digest?this._raiseCollectionChanged(Ui.Change,e,t):this._raiseCollectionChanged()}},e.prototype.cancelNew=function(){var e=this._newItem;null!=e&&this.remove(e)},e.prototype.remove=function(e){var t=e==this._newItem;if(t&&(this._newItem=null),e==this._edtItem&&this.cancelEdit(),this.canRemove){var i=this._src.indexOf(e);if(i>-1){var n=this.currentItem;this._updating++,this._src.splice(i,1),this._updating--;var o=this._digest;if(this._refreshOnEdit)this._performRefresh();else{var a=this._pgView.indexOf(e);a>=0&&this._pgView.splice(a,1)}if(this._trackChanges){var r=this._chgAdded.indexOf(e);r>-1&&this._chgAdded.removeAt(r);var s=this._chgEdited.indexOf(e);s>-1&&this._chgEdited.removeAt(s),this._chgRemoved.indexOf(e)<0&&!t&&r<0&&this._chgRemoved.push(e)}this.sortDescriptions.length>0||this.pageSize>0&&this._pgIdx>-1||o!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(Ui.Remove,e,i),this.currentItem!==n&&this.onCurrentChanged()}}},e.prototype.removeAt=function(e){e=xn(e),this.remove(this._pgView[e])},e.prototype._trackItemChanged=function(e){if(this._trackChanges){var t=this.sourceCollection;if(t&&t.indexOf(e)>-1){var i=this._chgEdited.indexOf(e),n=Ui.Change;if(i<0&&this._chgAdded.indexOf(e)<0)this._chgEdited.push(e);else if(i>-1){var o=new Ni(n,e,i);this._chgEdited.onCollectionChanged(o)}else(i=this._chgAdded.indexOf(e))>-1&&(o=new Ni(n,e,i),this._chgAdded.onCollectionChanged(o))}}},e.prototype._extend=function(e,t,i){for(var n in void 0===i&&(i=2),t)try{var o=t[n];i>0&&sn(o)?(e[n]={},this._extend(e[n],o,i--)):e[n]=o}catch(e){}},e.prototype._getChangedFields=function(e,t){wn(null!=t&&null!=e,"Two objects expected.");var i={};for(var n in t)try{this._sameValue(e[n],t[n])||(i[n]=!0)}catch(e){}for(var n in e)try{this._sameValue(e[n],t[n])||(i[n]=!0)}catch(e){}var o=Object.keys(i);return o.length?o:null},e.prototype._needRefresh=function(e){if(this._pendingRefresh)return!0;if(!e)return!1;if(this._filter)return!0;for(var t=0;t<this._srtDsc.length;t++){var i=this._getBindingRoot(this._srtDsc[t].property);if(e.indexOf(i)>-1)return!0}for(t=0;t<this._grpDesc.length;t++){var n=this._grpDesc[t];if(!(n instanceof Qi))return!0;if(i=this._getBindingRoot(n.propertyName),e.indexOf(i)>-1)return!0}return!1},e.prototype._getBindingRoot=function(e){var t=e.indexOf(".");return t>-1?e.substr(0,t):e},e.prototype._sameContent=function(e,t){return null==this._getChangedFields(e,t)},e.prototype._sameValue=function(e,t){return!!(e===t||uo.equals(e,t)||sn(e)&&sn(t)&&null==this._getChangedFields(e,t))},Object.defineProperty(e.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(e){this._canChangePage=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this._pgSz},set:function(e){e!=this._pgSz&&(this._pgSz=xn(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),e.prototype.moveToFirstPage=function(){return this.moveToPage(0)},e.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},e.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},e.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},e.prototype.moveToPage=function(e){var t=_n(e,0,this.pageCount-1);if(t!=this._pgIdx){if(!this.canChangePage)return;var i=new Gi(t);this.onPageChanging(i)&&(this._pgIdx=t,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():this.onCollectionChanged(),this.onPageChanged())}return this._pgIdx==e},e.prototype.onPageChanged=function(e){this.pageChanged.raise(this,e)},e.prototype.onPageChanging=function(e){return this.pageChanging.raise(this,e),!e.cancel},e.prototype._getFullGroup=function(e){var t=this._getGroupByPath(this._fullGroups,e.level,e._path);return null!=t&&(e=t),e},e.prototype._getGroupByPath=function(e,t,i){if(e)for(var n=0;n<e.length;n++){var o=e[n];if(o.level==t&&o._path==i)return o;if(o.level<t&&0==i.indexOf(o._path)&&null!=(o=this._getGroupByPath(o.groups,t,i)))return o}return null},e.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var e=this._pgSz*this._pgIdx,t=Math.min(e+this._pgSz,this._view.length);return this._view.slice(e,t)},e.prototype._createGroups=function(e){var t=this;if(!this._grpDesc||!this._grpDesc.length)return null;var i=[],n={},o=null;return e.forEach((function(e){for(var a=i,r=t._grpDesc.length,s="",l=0;l<r;l++){var c=t._grpDesc[l],d=c.groupNameFromItem(e,l),h=l==r-1;!(o=n[s])&&$i(d)&&(n[s]=o={});var u=t._getGroup(c,a,o,d,l,h);u._path=s+="/"+d,h&&u.items.push(e),a=u.groups}})),i},e.prototype._getGroupsDigest=function(e){for(var t="",i=0;null!=e&&i<e.length;i++){var n=e[i];t+="{"+n.name+":"+(n.items?n.items.length:"*"),n.groups.length>0&&(t+=",",t+=this._getGroupsDigest(n.groups)),t+="}"}return t},e.prototype._mergeGroupItems=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if(!n._isBottomLevel)for(var o=this._mergeGroupItems(n.groups),a=0,r=o.length;a<r;a++)n._items.push(o[a]);for(a=0,r=n._items.length;a<r;a++)t.push(n._items[a])}return t},e.prototype._getGroup=function(e,t,i,n,o,a){var r;if(i&&$i(n)){if(r=i[n])return r}else for(var s=0;s<t.length;s++)if(e.namesMatch(t[s].name,n))return t[s];var l=new aa(e,n,o,a);return t.push(l),i&&(i[n]=l),l},e._collator="undefined"!=typeof window&&window.Intl&&Intl.Collator?new Intl.Collator:null,e}(),aa=function(){function e(e,t,i,n){this._gd=e,this._name=t,this._level=i,this._isBottomLevel=n,this._groups=[],this._items=[]}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),e.prototype.getAggregate=function(e,t,i){var n=Ki(i,oa);return Zo(e,(n?n._getFullGroup(this):this).items,t)},e}(),ra="undefined"!=typeof window&&window["wj-control-is-element"]?HTMLElement:Object,sa=!1;try{sa=((function(){}).prototype=Array.prototype)!==Array.prototype}catch(Ei){sa=!0}var la,ca=sa||ra!==Object,da=function(e){function t(){var t=this;return ca&&(t=e.call(this)||this),t}return Mi(t,e),t}(ra),ha=function(e){function t(i,n,o){void 0===n&&(n=null),void 0===o&&(o=!1);var a=e.call(this)||this;a._listeners=[],a._pristine=!0,a._focus=!1,a._updating=0,a._fullUpdate=!1,a.gotFocus=new Ii,a.lostFocus=new Ii,a.invalidInput=new Ii,a.refreshing=new Ii,a.refreshed=new Ii,a._updateWme(),wn(null==t.getControl(i),"Element is already hosting a control.");var r=Zn(i);wn(null!=r,"Cannot find the host element."),a._orgTabIndex=r.hasAttribute("tabindex")?r.tabIndex:0,a._orgOuter=r.outerHTML,a._orgTag=r.tagName,a._orgAtts=r.attributes,"INPUT"!=r.tagName&&"SELECT"!=r.tagName||(r=a._replaceWithDiv(r)),a._e=r,r[t._CTRL_KEY]=a;var s=a.addEventListener.bind(a);if(1==o){a._szCtl=new co(r.offsetWidth,r.offsetHeight);var l=window.ResizeObserver,c=null;l&&(c=a._szObserver=new l((function(e){e.forEach((function(e){var i=t.getControl(e.target);i&&i._handleResize()}))}))),c?c.observe(r):s(window,"resize",a._handleResize.bind(a))}var d=a._handleFocusBlur.bind(a);s(r,"focus",d,!0),s(r,"blur",d,!0);var h=a._handleDisabled.bind(a);if(s(r,"mousedown",h,!0),s(r,"mouseup",h,!0),s(r,"click",h,!0),s(r,"dblclick",h,!0),s(r,"wheel",h,No(!0,!0)),s(r,"keydown",(function(e){a.isDisabled&&e.keyCode!=Hi.Tab&&e.preventDefault()})),null==t._touching&&(t._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){var u=document,p=a._handleTouchStart,b=a._handleTouchEnd,m=No(!0,!0);"ontouchstart"in window?(u.addEventListener("touchstart",p,m),"touchend,touchcancel".split(",").forEach((function(e){u.addEventListener(e,b,m)}))):"onpointerdown"in window&&(u.addEventListener("pointerdown",p,m),"pointerup,pointercancel".split(",").forEach((function(e){u.addEventListener(e,b,m)})))}return a}return Mi(t,e),t.prototype.getTemplate=function(){for(var e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e)){var t=e.constructor.controlTemplate;if(t)return t}return null},t.prototype.applyTemplate=function(e,i,n,o){var a=this,r=this._e;e&&Fn(r,e);var s=null;i&&(s=Xn(i,r));for(var l=r.querySelectorAll("a.wj-btn"),c=0;c<l.length;c++){var d=l[c];Gn(d,"role","button",!0),Gn(d,"href","",!0),Gn(d,"draggable",!1,!0)}var h=r.querySelectorAll("button");for(c=0;c<h.length;c++)Gn(h[c],"type","button",!0);var u=r.querySelectorAll("input"),p=1==u.length?u[0]:null;if(p){var b=t._rxInputAtts;this._copyAttributes(p,r.attributes,b),this._copyAttributes(p,this._orgAtts,b)}if(p&&r.id){for(var m=r;m.parentElement;)m=m.parentElement;var f=m.querySelector('label[for="'+r.id+'"]');if(f instanceof HTMLLabelElement){var g=cn(r.id+"_input");p.id=g,f.htmlFor=g}}if(p){var y=p.value,_=document.createEvent("HTMLEvents");_.initEvent("change",!0,!1),this.addEventListener(p,"input",(function(){setTimeout((function(){a._pristine=!1,y=p.value}))})),this.gotFocus.addHandler((function(){y=p.value})),this.addEventListener(r,"blur",(function(){a.containsFocus()||(a._pristine&&(a._pristine=!1,a._updateState()),y!=p.value&&(p.dispatchEvent(_),y=p.value))}),!0)}if(p?r.tabIndex=-1:r.getAttribute("tabindex")||(r.tabIndex=0),this._updateState(),n)for(var v in n){var w=n[v];if(this[v]=s.querySelector('[wj-part="'+w+'"]'),null==this[v]&&s.getAttribute("wj-part")==w&&(this[v]=s),null==this[v])throw'Missing template part: "'+w+'"';if(w==o){var C="name",D=r.attributes[C];D&&D.value&&this[v].setAttribute(C,D.value),(D=r.attributes[C="accesskey"])&&D.value&&(this[v].setAttribute(C,D.value),r.removeAttribute(C))}}return s},t.prototype.dispose=function(){if(this._e){for(var e=this._e.querySelectorAll(".wj-control"),i=0;i<e.length;i++){var n=t.getControl(e[i]);n&&n.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null);var o=this._szObserver;for(var a in o&&o.disconnect(),this.removeEventListener(),this)a.length>2&&0==a.indexOf("on")&&(s=this[a[2].toLowerCase()+a.substr(3)])instanceof Ii&&s.removeAllHandlers();var r=this.collectionView;if(r instanceof oa)for(var a in r){var s;(s=r[a])instanceof Ii&&s.removeHandler(null,this)}this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[t._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null}},t.getControl=function(e){var i=Zn(e);return i?Un(i[t._CTRL_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){var e=this._e;e&&(e.tabIndex>=0||!$n(e,0))&&e.focus()},t.prototype.containsFocus=function(){return to(this._e,Kn(),!0)},t.prototype.invalidate=function(e){var i=this;void 0===e&&(e=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||e,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout((function(){i.refresh(i._fullUpdate),i._toInv=null}),t._REFRESH_INTERVAL))},t.prototype.refresh=function(e){var t=this;void 0===e&&(e=!0),this.isUpdating||(this.onRefreshing(),setTimeout((function(){t.onRefreshed()}))),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},t.invalidateAll=function(e){e||(e=document.body);var i=e.children;if(i)for(var n=0;n<i.length;n++)t.invalidateAll(i[n]);var o=t.getControl(e);o&&o.invalidate()},t.refreshAll=function(e){if(e||(e=document.body),e.children)for(var i=0;i<e.children.length;i++)t.refreshAll(e.children[i]);var n=t.getControl(e);n&&n.refresh()},t.disposeAll=function(e){var i=t.getControl(e);if(i)i.dispose();else if(e.children)for(var n=0;n<e.children.length;n++)t.disposeAll(e.children[n])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=kn(e,!0))!=this.isDisabled){var i=this._e;if(i){zn(i,"wj-state-disabled",e),Gn(i,"disabled",e?"disabled":null),i.tabIndex=this.isDisabled||i.querySelector("input")?-1:this._orgTabIndex;for(var n=i.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),o=0;o<n.length;o++){var a=n[o];if(!Hn(a,"wj-btn"))if(e)a.tabIndex=-1;else{for(var r=!1,s=a;s&&!r;s=s.parentElement)t.getControl(io(a,".wj-control")).isDisabled&&(r=!0);Gn(a,"tabindex",r?-1:null)}}}}},enumerable:!0,configurable:!0}),t.prototype.initialize=function(e){e&&vn(this,e)},t.prototype.addEventListener=function(e,t,i,n,o){if(e){null==n&&(n=!1),tn(n)&&null==o&&(t.indexOf("touch")>-1||t.indexOf("wheel")>-1)&&(o=!1);var a=tn(n)&&tn(o)?No(n,o):n;e.addEventListener(t,i,a),this._listeners.push({target:e,type:t,fn:i,capture:n})}},t.prototype.removeEventListener=function(e,t,i,n){for(var o=0,a=0;a<this._listeners.length;a++){var r=this._listeners[a];null!=e&&e!=r.target||null!=t&&t!=r.type||null!=i&&i!=r.fn||null!=n&&n!=r.capture||(r.target.removeEventListener(r.type,r.fn,r.capture),this._listeners.splice(a,1),a--,o++)}return o},t.prototype.onGotFocus=function(e){this.gotFocus.raise(this,e)},t.prototype.onLostFocus=function(e){this.lostFocus.raise(this,e)},t.prototype.onInvalidInput=function(e){return this.invalidInput.raise(this,e),e.cancel&&this.focus(),this._updateState(),!e.cancel},t.prototype.onRefreshing=function(e){this.refreshing.raise(this,e)},t.prototype.onRefreshed=function(e){this.refreshed.raise(this,e)},t.prototype._getProductInfo=function(){return"B0C3,Control"},t.prototype._updateWme=function(){var e=this,i=this._getProductInfo(),n=t._toWme,o=Sa;nn(o)&&!n[i]&&(n[i]=setTimeout((function(){n[i]=null,o(e,t._licKey)}),t._REFRESH_INTERVAL))},t.prototype._hasPendingUpdates=function(){return null!=this._toInv},t.prototype._handleResize=function(){if(this._e.parentElement){var e=new co(this._e.offsetWidth,this._e.offsetHeight);e.equals(this._szCtl)||(this._szCtl=e,(e.width||e.height)&&this.invalidate())}},t.prototype._handleFocusBlur=function(){var e=this;this._toFocus||(this._toFocus=setTimeout((function(){e._toFocus=null,e._updateFocusState()}),t._FOCUS_INTERVAL))},t.prototype._updateFocusState=function(){setTimeout((function(){for(var e=Ti.empty,i=document.body.querySelectorAll(".wj-state-focused"),n=0;n<i.length;n++)(s=t.getControl(i[n]))&&s._focus&&!s.containsFocus()&&(Nn(s._e,"wj-state-focus"),s._focus=!1,s._updateState(),s.onLostFocus(e));var o=Kn();if(o)for(var a=!0,r=o;r;){var s;(s=t.getControl(r))&&!s._focus&&s.containsFocus()&&(a&&(Fn(r,"wj-state-focus"),a=!1),s._focus=!0,s._updateState(),s.onGotFocus(e)),r=r[t._OWNR_KEY]||r.parentNode}}))},t.prototype._updateState=function(){var e=this.hostElement;if(e){zn(e,"wj-state-focused",this._focus),this._rtlDir="rtl"==getComputedStyle(e).direction,zn(e,"wj-rtl",this._rtlDir);var t=e.querySelector("input");if(t instanceof HTMLInputElement){zn(e,"wj-state-empty",0==t.value.length),zn(e,"wj-state-readonly",t.readOnly);var i=t.validationMessage;zn(e,"wj-state-invalid",!this._pristine&&null!=i&&i.length>0)}}},t.prototype._handleTouchStart=function(e){if(null==e.pointerType||"touch"==e.pointerType){t._toTouch&&(clearTimeout(t._toTouch),t._toTouch=null),t._touching=!0;var i=e.target,n=Kn();n&&!to(n,i)&&t.getControl(n.closest(".wj-control"))&&i.focus()}},t.prototype._handleTouchEnd=function(e){if((null==e.pointerType||"touch"==e.pointerType)&&(t._toTouch=setTimeout((function(){t._toTouch=null,t._touching=!1}),900),document.querySelector("ion-app"))){var i=e.target;io(i,".wj-dropdown-panel,.wj-dropdown")&&(i.focus(),e.stopPropagation(),e.stopImmediatePropagation())}},t.prototype._handleDisabled=function(e){(this.isDisabled||io(e.target,".wj-state-disabled"))&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(e){var t=document.createElement("div");return e.parentElement.replaceChild(t,e),t.innerHTML=e.innerHTML,this._copyAttributes(t,e.attributes,/id|style|class/i),t},t.prototype._copyAttributes=function(e,t,i){if(e)for(var n=0;n<t.length;n++){var o=t[n].name;o.match(i)&&e.setAttribute(o,t[n].value)}},t.prototype._getKeyCode=function(e){var t=e.keyCode;if(this.rightToLeft)switch(t){case Hi.Right:t=Hi.Left;break;case Hi.Left:t=Hi.Right}return t},t._toWme={},t._REFRESH_INTERVAL=10,t._FOCUS_INTERVAL=5,t._ANIM_DEF_DURATION=400,t._ANIM_DEF_STEP=35,t._CLICK_DELAY=800,t._CLICK_REPEAT=75,t._CLIPBOARD_DELAY=100,t._POPUP_ZINDEX=1500,t._SEARCH_DELAY=500,t._HOVER_DELAY=400,t._LEAVE_DELAY=600,t._DRAG_SCROLL_EDGE=15,t._DRAG_SCROLL_STEP=20,t._CTRL_KEY="$WJ-CTRL",t._OWNR_KEY="$WJ-OWNR",t._SCRL_KEY="$WJ-SCRL",t._TTIP_KEY="$WJ-TTIP",t._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,t}(da),ua=function(){function e(){}return e.copy=function(t){e._copyPaste(Dn(t),null)},e.paste=function(t){e._copyPaste(null,Vn(t))},e._copyPaste=function(e,t){for(var i=Kn(),n=io(i,".wj-control");n&&ha.getControl(n);)n=n.parentElement;if(n=n||document.body){var o=!1,a=Xn('<textarea class="wj-clipboard">',n,{position:"fixed",opacity:"0"});a.onkeydown=function(e){return e.preventDefault()},a.onchange=function(e){return e.stopImmediatePropagation()},Ji(e)?(a.value=e,a.select(),document.execCommand("copy")&&(o=!0)):(a.select(),nn(t)&&document.execCommand("paste")&&(t(a.value),o=!0)),setTimeout((function(){i.focus({preventScroll:!0}),qn(a),!o&&nn(t)&&t(a.value)}),ha._CLIPBOARD_DELAY)}},e}(),pa=function(){function e(e){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=e,this._connect(!0)}return Object.defineProperty(e.prototype,"element",{get:function(){return this._e},set:function(e){this._connect(!1),this._e=Un(e,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=kn(e)},enumerable:!0,configurable:!0}),e.prototype._connect=function(t){var i=this;this._e&&e._startEvents.forEach((function(e){t?i._e.addEventListener(e,i._mousedownBnd):i._e.removeEventListener(e,i._mousedownBnd)}))},e.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},e.prototype._mousedown=function(t){var i=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,e._stopEvents.forEach((function(e){document.addEventListener(e,i._mouseupBnd)})),this._clearTimeouts(),this._toDelay=setTimeout((function(){i._isDown&&(i._click(),i._toRepeat=setTimeout(i._clickBnd,ha._CLICK_REPEAT))}),ha._CLICK_DELAY))},e.prototype._mouseup=function(t){var i=this;this._isDown&&t&&"keydown"!=t.type&&this._clicked&&t.preventDefault(),e._stopEvents.forEach((function(e){document.removeEventListener(e,i._mouseupBnd)})),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},e.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,ha._CLICK_REPEAT)))},e._startEvents=["mousedown","touchstart"],e._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],e}();function ba(e,t,i,n,o,a){void 0===o&&(o=!0);var r=e.offsetHeight||e.offsetWidth,s=i;(tn(i)||null==i)&&(s=i?la.AboveLeft:la.BelowLeft);var l=function(e){var t=document.body;if(e instanceof HTMLElement){if(!to(document.body,e))return t;for(var i=e;i;i=i.parentElement){if("DIALOG"==i.tagName||"ION-CONTENT"==i.tagName||"fixed"==getComputedStyle(i).position){t=i;break}if(ya(i)){t=i.querySelector(".ui-dialog-content")||i;break}}}return t}(t);if(function(e,t){e.offsetHeight&&e.offsetWidth&&e.parentElement==t||(ro(e,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),t.appendChild(e))}(e,l),function(e,t,i){if(t instanceof HTMLElement&&i){var n=i instanceof HTMLElement?i:t,o=getComputedStyle(n);1==new go(o.backgroundColor).a&&ro(e,{color:o.color,backgroundColor:o.backgroundColor,fontFamily:o.fontFamily,fontSize:o.fontSize,fontWeight:o.fontWeight,fontStyle:o.fontStyle})}}(e,t,o),ha.refreshAll(e),Uo()?requestAnimationFrame((function(){fa(e,t,s)})):fa(e,t,s),t instanceof HTMLElement&&(e[ha._OWNR_KEY]=t),!r){if(function(e,t,i){var n=t instanceof MouseEvent?t.target:t;if(n instanceof HTMLElement&&n.parentElement!=document.body){var o=Date.now(),a=n.getBoundingClientRect(),r=new ha(document.createElement("div"));e[ha._SCRL_KEY]=r,r.addEventListener(document,"scroll",(function(s){if(s.target!=e.parentElement&&Date.now()-o>100&&to(document,n)&&!to(e,s.target)&&(s.target!=document||null!=t&&"fixed"==e.style.position)){var l=n.getBoundingClientRect(),c=Math.abs(l.left-a.left),d=Math.abs(l.top-a.top);(c>1||d>1)&&(nn(i)&&i(),ga(e,!0),r.dispose())}}),!0)}}(e,t,a),n)return so((function(t){return e.style.opacity=t<1?t.toString():""}));e.style.opacity=""}return null}function ma(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var n=null;return i?n=so((function(i){e.style.opacity=(1-i).toString(),1==i&&(ga(e,t),e.style.opacity="")})):ga(e,t),n}function fa(e,t,i){var n=function(e,t){return t instanceof MouseEvent?t.clientX<=0&&t.clientY<=0&&t.target instanceof HTMLElement?ho.fromBoundingRect(t.target.getBoundingClientRect()):new ho(t.pageX-pageXOffset,t.pageY-pageYOffset,0,0):t instanceof lo?new ho(t.x,t.y,0,0):t instanceof HTMLElement?ho.fromBoundingRect(t.getBoundingClientRect()):t&&null!=t.top&&null!=t.left?t:null}(0,t),o=function(e){var t=document.body,i=document.documentElement,n=e.parentElement,o=new lo(t.scrollLeft||pageXOffset,t.scrollTop||pageYOffset);if(n!=t){var a=n==t?i:e.offsetParent||n;if(a==t&&(a=n),a){var r=a.getBoundingClientRect();o=new lo(a.scrollLeft-r.left,a.scrollTop-r.top)}}if(n instanceof HTMLElement){var s=getComputedStyle(n);o.x-=parseFloat(s.borderLeftWidth),o.y-=parseFloat(s.borderTopWidth)}return o}(e),a=function(e,t,i,n){var o=document.documentElement,a=o.clientWidth,r=o.clientHeight,s=la;switch(i){case s.AboveLeft:case s.AboveRight:case s.BelowLeft:case s.BelowRight:if(t){var l=t.width;e.offsetWidth<l&&(To()&&(l-=e.offsetWidth-e.clientWidth),e.style.minWidth=l+"px")}}var c=getComputedStyle(e),d=parseFloat(c.marginTop)+parseFloat(c.marginBottom),h=parseFloat(c.marginLeft)+parseFloat(c.marginRight),u=new co(e.offsetWidth+h,e.offsetHeight+d),p=new lo((a-u.width)/2,Math.round((r-u.height)/2*.7));if(t){"rtl"==c.direction&&(i=function(e){var t=la;switch(e){case t.AboveLeft:return t.AboveRight;case t.AboveRight:return t.AboveLeft;case t.BelowLeft:return t.BelowRight;case t.BelowRight:return t.BelowLeft;case t.Left:return t.Right;case t.LeftTop:return t.RightTop;case t.LeftBottom:return t.RightBottom;case t.Right:return t.Left;case t.RightTop:return t.LeftTop;case t.RightBottom:return t.LeftBottom}return e}(i));var b=t.left,m=a-t.right;switch(p.x=t.left,i){case s.Above:case s.Below:p.x=t.left+(t.width-u.width)/2;break;case s.AboveLeft:case s.BelowLeft:p.x=t.left;break;case s.AboveRight:case s.BelowRight:p.x=t.right-u.width;break;case s.Left:case s.LeftTop:case s.LeftBottom:p.x=b>=u.width||b>=m?t.left-u.width:t.right;break;case s.RightTop:case s.RightBottom:case s.Right:p.x=m>=u.width||m>=b?t.right:t.left-u.width}var f=t.top,g=r-t.bottom;switch(i){case s.Above:case s.AboveLeft:case s.AboveRight:p.y=f>u.height||f>g?t.top-u.height:t.bottom;break;case s.Below:case s.BelowLeft:case s.BelowRight:p.y=g>u.height||g>f?t.bottom:t.top-u.height;break;case s.LeftTop:case s.RightTop:p.y=t.top;break;case s.LeftBottom:case s.RightBottom:p.y=t.bottom-u.height;break;case s.Left:case s.Right:p.y=t.bottom-u.height+(u.height-t.height)/2}}return p.x=Math.min(p.x,a-u.width),p.y=Math.min(p.y,r-u.height),p.x=Math.max(0,p.x)+n.x,p.y=Math.max(0,p.y)+n.y,p}(e,n,i,o),r={position:"absolute",zIndex:ha._POPUP_ZINDEX};0==o.x?(r.left=a.x,r.top=a.y):r.transform="translate("+a.x+"px, "+a.y+"px)",ro(e,r)}function ga(e,t){e.style.display="none",t&&e.parentElement&&setTimeout((function(){"none"==e.style.display&&(qn(e),nn(t)&&t())}),ha._FOCUS_INTERVAL+50);var i=e[ha._SCRL_KEY];i instanceof ha&&i.dispose(),delete e[ha._SCRL_KEY],delete e[ha._OWNR_KEY]}function ya(e){var t=window.jQuery,i=nn(t)?t(e):null;return i&&nn(i.dialog)&&Hn(e,"ui-dialog")}!function(e){e[e.Above=0]="Above",e[e.AboveRight=1]="AboveRight",e[e.RightTop=2]="RightTop",e[e.Right=3]="Right",e[e.RightBottom=4]="RightBottom",e[e.BelowRight=5]="BelowRight",e[e.Below=6]="Below",e[e.BelowLeft=7]="BelowLeft",e[e.LeftBottom=8]="LeftBottom",e[e.Left=9]="Left",e[e.LeftTop=10]="LeftTop",e[e.AboveLeft=11]="AboveLeft"}(la||(la={}));var _a=function(){function e(e){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._html=!0,this._gap=6,this._isAnimated=!1,this._position=la.Above,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new Ii,vn(this,e)}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(e){this._position=En(e,la)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(e){this._isAnimated=kn(e)},enumerable:!0,configurable:!0}),e.prototype.setTooltip=function(t,i,n){t=Zn(t),i=this._getContent(i);var o=this._indexOf(t);o>-1&&(this._detach(t),this._tips.splice(o,1)),i&&(this._attach(t),this._tips.push({element:t,content:i,position:n}));var a=e._eTip;a&&a[ha._TTIP_KEY]==t&&(i?this._setContent(i):this._hideAutoTip())},e.prototype.getTooltip=function(e){e=Zn(e);for(var t=this._tips,i=0;i<t.length;i++)if(t[i].element==e)return t[i].content;return null},e.prototype.show=function(t,i,n,o){if(t=Zn(t),i=this._getContent(i),t){null==o&&(o=this.position);var a=e._eTip;a||(Fn(a=e._eTip=document.createElement("div"),"wj-tooltip"),a.style.visibility="none"),Fn(a,this.cssClass),this._setContent(i),a[ha._TTIP_KEY]=t;var r=new va(i,t);if(this.onPopup(r),r.content&&!r.cancel){this._setContent(r.content),n||(n=ho.fromBoundingRect(t.getBoundingClientRect()));var s=this.gap;if(s)switch(o){case la.Above:case la.AboveLeft:case la.AboveRight:case la.Below:case la.BelowLeft:case la.BelowRight:n=n.inflate(0,s);break;default:n=n.inflate(s,0)}ba(a,n,o,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},e.prototype.hide=function(){var t=e._eTip;t&&(qn(t),Nn(t,this.cssClass),t.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},e.prototype.dispose=function(){var e=this;this.isVisible&&this.hide();var t=this._tips;t.length&&(t.forEach((function(t){e._detach(t.element)})),t.splice(0,t.length)),this._clearTimeouts()},Object.defineProperty(e.prototype,"isVisible",{get:function(){var t=e._eTip;return null!=t&&null!=t.parentElement&&t.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){this._html=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){this._cssClass=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(e){this._gap=Sn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(e){this._showAtMouse=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDelay",{get:function(){return this._showDelay},set:function(e){this._showDelay=xn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(e){this._hideDelay=xn(e)},enumerable:!0,configurable:!0}),e.prototype.onPopup=function(e){return this.popup&&this.popup.raise(this,e),!e.cancel},e.prototype._indexOf=function(e){for(var t=0;t<this._tips.length;t++)if(this._tips[t].element==e)return t;return-1},e.prototype._attach=function(e){e.addEventListener("mouseenter",this._showAutoTipBnd),e.addEventListener("mouseleave",this._hideAutoTipBnd),e.addEventListener("click",this._showAutoTipBnd)},e.prototype._detach=function(e){e.removeEventListener("mouseenter",this._showAutoTipBnd),e.removeEventListener("mouseleave",this._hideAutoTipBnd),e.removeEventListener("click",this._showAutoTipBnd)},e.prototype._showAutoTip=function(e){var t=this;if(!e.defaultPrevented)if("click"!=e.type||ha._touching){var i="mouseenter"==e.type?this._showDelay:0,n=this._hideDelay;this._clearTimeouts(),this._toShow=setTimeout((function(){var i=t._indexOf(e.target);if(i>-1){var o=t._tips[i],a=t._showAtMouse?new ho(e.clientX,e.clientY,0,0):null;t.show(o.element,o.content,a,o.position),n>0&&(t._toHide=setTimeout((function(){t.hide()}),n))}}),i)}else this._hideAutoTip()},e.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},e.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},e.prototype._getContent=function(e){if((e=Dn(e))&&"#"==e[0]){var t=Zn(e);t&&(e=t.innerHTML)}return e},e.prototype._setContent=function(t){var i=e._eTip;i&&(this._html?i.innerHTML=t:i.textContent=t)},e}(),va=function(e){function t(t,i){var n=e.call(this)||this;return n._content=Dn(t),n._e=i,n}return Mi(t,e),Object.defineProperty(t.prototype,"tip",{get:function(){return _a._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=Dn(e)},enumerable:!0,configurable:!0}),t}(Ai);mo("wijmo",n);var wa="The Wijmo license in this application ",Ca={evl:"Wijmo Evaluation Version ({version})",prd:wa+"is not valid for the <b>{control}</b> control.",ver:wa+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:wa+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:wa+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:wa+"is invalid.",mss:wa+"is not set.",ctc:'Please <a target="_blank" rel="noopener" href="https://www.grapecity.com/licensing/wijmo">create a license</a> or contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},Da={};function Sa(e,t){var i=ha._wme;if(!(i&&to(document.body,i)&&i.offsetWidth&&i.offsetHeight))if(t){var n=xa(e);Da[n]||(Da[n]=!0,function(e,t,i,n){var o=function(e,t){try{var i=e.indexOf(t="#"+t);if(i>-1)return{prefix:e.substring(0,i),lic:JSON.parse(Pa(e.substr(i+t.length)))}}catch(e){}return null}(e,t.algorithmCode);if(!o)return n();var a=o.lic,r=o.prefix+"#"+t.algorithmCode;if(function(e){for(var t=0,i=5381,n=0,o=e.length-1;o>=0;o--){var a=e.charCodeAt(o);t=a+(t<<6)+(t<<16)-t,i=a+((i<<5)+i),n=a+((n<<5)-n)}var r=t^i^n;return r<0&&(r=~r),r.toString(16).toUpperCase()}(r+JSON.stringify(a.D))!=a.H)return n();var s=window.msCrypto||window.crypto,l=s?s.subtle:null;if(!l||!location.protocol.match(/^https/i))return i(a.D);var c={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},d={alg:"RS256",e:"AQAB",kty:"RSA",n:Aa(t.publicKey)};d=window.msCrypto?Ba(JSON.stringify(d)):d;try{ja(l.importKey("jwk",d,c,!1,["verify"])).then((function(e){var t=function(e){return String.fromCharCode.apply(null,new Ma(e))}(Ta(function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})))}(r+JSON.stringify(a.D))));ja(l.verify(c,e,Ta(a.S),Ba(t))).then((function(e){return e?i(a.D):n()}))}),(function(){return i(a.D)}))}catch(e){return i(a.D)}}(t,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},(function(i){La(e,t,i)}),(function(){La(e,t,null)})),setTimeout((function(){delete Da[n]}),50))}else La(e,null,null)}function xa(e){return e._getProductInfo().split(",")[0]}function ka(e){return e._getProductInfo().split(",")[1]}function La(e,t,i){var n=yo.Licensing||Ca,o=null;i?function(e,t){if(t.Exp){var i=t.Exp,n=new Date(parseInt(i.substr(0,4))||0,parseInt(i.substr(4,2))-1||0,parseInt(i.substr(6,2))||0);if(Math.ceil((n.valueOf()-Date.now())/864e5)<=0)return!1}return!0}(0,i)?function(e,t){var i=t.Anl?t.Anl.ver:null;return!i||parseInt(i.replace("v",""))+10>=parseInt("5.20202.699".split(".")[1])}(0,i)?function(e,t){if(Ua()||!t.Dms)return!0;for(var i=location.hostname,n=t.Dms.split(","),o=0;o<n.length;o++)if(Va(i,n[o]))return!0;return!1}(0,i)?function(e,t){var i=xa(e);if(i&&i.length>=4)for(var n=0;n<t.Prd.length;n++)if(t.Prd[n].C.indexOf(i)>-1)return!0;return!1}(e,i)?Oa(0,i)&&(o=n.evl):o=n.prd:o=n.dmn:o=n.ver:o=n.exp:o=t?n.lic:n.mss,o&&function(e,t,i){if(t=Ea(e,t,i),!Da[" "]&&!Ua()&&!Oa(0,i)){Da[" "]=!0;var n=yo.Licensing||Ca,o=Xn('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+n.hdr+"</p><p>"+t+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+n.cls+"</button></div></div></div>",document.body);o.addEventListener("click",(function(e){e.target instanceof HTMLButtonElement&&qn(o)}))}if(!ha._wme){var a=Xn('<div><a href="'+("ja"==yo.Globalize.name?"https://www.grapecity.co.jp/developer/support/wijmo-license":"https://www.grapecity.com/licensing/wijmo")+'" target="_blank" rel="noopener">'+Ea(e)+"</a></div>"),r={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:r.right=r.bottom=0;break;case 1:r.left=r.bottom=0;break;case 2:r.right=r.top=0}ro(a,r),document.body.appendChild(a),ha._wme=a,(new _a).setTooltip(a,t)}}(e,o+="<br/><br/>"+n.ctc,i)}function Va(e,t){var i="^"+t.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",n=new RegExp(i,"i").test(e);return n||"*."!=t.substr(0,2)?n:Va(e,t.substr(2))}function Oa(e,t){return!!t&&t.Evl}function Ua(){var e=location,t=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return"file:"==e.protocol||new RegExp(t,"i").test(e.hostname)}function Ea(e,t,i){(!t||t.trim().length<15)&&(t=(yo.Licensing||Ca).evl),(!t||t.trim().length<15)&&(t=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var n=null;if(i&&i.Exp){var o=i.Exp;n=new Date(parseInt(o.substr(0,4))||0,parseInt(o.substr(4,2))-1||0,parseInt(o.substr(6,2))||0)}return mn(t,{version:"5.20202.699",domain:location.hostname,control:ka(e),licVer:i&&i.Anl?"5."+i.Anl.ver.replace("v","")+".*":null,licDomain:i?i.Dms:null,expDate:n})}var Ma="undefined"==typeof window?null:window.Uint8Array||window.TypedArray;function Pa(e){if(!e)return"";var t=function(e){for(var t=e.split(""),i=t.length-5;i>=0;i--)Ra(t,i+1,i+3,Ia),Ra(t,i,i+2,Ia);return t.join("")}(e);t=function(e){return e.split("").reverse().join("")}(t);var i=Math.ceil(t.length/2);return function(e){for(var t=atob(e),i="",n=0;n<t.length;n++)i+="%"+("00"+t.charCodeAt(n).toString(16)).slice(-2);return decodeURIComponent(i)}(t=(t=(t=t.substr(i)+t.substr(0,i)).replace("#","=")).replace("&","=="))}function Ra(e,t,i,n){e.length>1&&e.splice(i,1,n(e.splice(t,1,n(e[i]))[0]))}function Ia(e){return function(e,t){var i=e.charCodeAt(0);return i>=65&&i<=90?e.toLowerCase():i>=97&&i<=122?e.toUpperCase():i>=48&&i<=57?String.fromCharCode(48+(i-48+10-1)%10):e}(e)}function Ta(e){for(var t=atob(e),i=t.length,n=new Ma(i),o=0;o<i;o++)n[o]=t.charCodeAt(o);return n.buffer}function Aa(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function Ba(e){for(var t=new ArrayBuffer(e.length),i=new Ma(t),n=0,o=e.length;n<o;n++)i[n]=e.charCodeAt(n);return t}function ja(e){return"oncomplete"in e&&(e.then=function(t,i){e.resolve=t,e.reject=i},e.oncomplete=function(t){e.resolve(e.result)},e.onerror=function(t){e.reject()}),e}var Ha=i("NXyV");function Fa(e,t){}class Na{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const za={dialogContainer:Object(N.m)("dialogContainer",[Object(N.j)("void, exit",Object(N.k)({opacity:0,transform:"scale(0.7)"})),Object(N.j)("enter",Object(N.k)({transform:"none"})),Object(N.l)("* => enter",Object(N.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(N.k)({transform:"none",opacity:1}))),Object(N.l)("* => void, * => exit",Object(N.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(N.k)({opacity:0})))])};function Ga(){throw Error("Attempting to attach dialog content after content is already attached")}let Ya=(()=>{class e extends z.a{constructor(e,t,i,n,o,a){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=i,this._config=o,this._focusMonitor=a,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._state="enter",this._animationStateChanged=new h.p,this.attachDomPortal=e=>(this._portalOutlet.hasAttached()&&Ga(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=n}attachComponentPortal(e){return this._portalOutlet.hasAttached()&&Ga(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached()&&Ga(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._document.activeElement,i=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==i&&!i.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}_onAnimationDone(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(C.h),h.Qb(h.h),h.Qb(l.c,8),h.Qb(Na),h.Qb(C.g))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-dialog-container"]],viewQuery:function(e,t){var i;1&e&&h.vc(z.c,!0),2&e&&h.pc(i=h.ec())&&(t._portalOutlet=i.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&h.Ib("@dialogContainer.start",(function(e){return t._onAnimationStart(e)}))("@dialogContainer.done",(function(e){return t._onAnimationDone(e)})),2&e&&(h.Fb("id",t._id)("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),h.Dc("@dialogContainer",t._state))},features:[h.Bb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&h.xc(0,Fa,0,0,"ng-template",0)},directives:[z.c],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[za.dialogContainer]}}),e})(),Qa=0;class Wa{constructor(e,t,i="mat-dialog-"+Qa++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new x.a,this._afterClosed=new x.a,this._beforeClosed=new x.a,this._state=0,t._id=i,t._animationStateChanged.pipe(Object(P.a)(e=>"done"===e.phaseName&&"enter"===e.toState),Object(M.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(P.a)(e=>"done"===e.phaseName&&"exit"===e.toState),Object(M.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Object(P.a)(e=>e.keyCode===S.f&&!this.disableClose&&!Object(S.r)(e))).subscribe(e=>{e.preventDefault(),qa(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():qa(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Object(P.a)(e=>"start"===e.phaseName),Object(M.a)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function qa(e,t,i){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(i)}const Ka=new h.t("MatDialogData"),$a=new h.t("mat-dialog-default-options"),Ja=new h.t("mat-dialog-scroll-strategy"),Za={provide:Ja,deps:[Y.c],useFactory:function(e){return()=>e.scrollStrategies.block()}};let Xa=(()=>{class e{constructor(e,t,i,n,o,a,r){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=a,this._overlayContainer=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x.a,this._afterOpenedAtThisLevel=new x.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(Ha.a)(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Object(U.a)(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const e=this._parentDialog;return e?e._afterAllClosed:this._afterAllClosedAtThisLevel}open(e,t){if((t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new Na)).id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const i=this._createOverlay(t),n=this._attachDialogContainer(i,t),o=this._attachDialogContent(e,n,i,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new Y.d({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const i=h.u.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Na,useValue:t}]}),n=new z.d(Ya,t.viewContainerRef,i,t.componentFactoryResolver);return e.attach(n).instance}_attachDialogContent(e,t,i,n){const o=new Wa(i,t,n.id);if(e instanceof h.P)t.attachTemplatePortal(new z.i(e,null,{$implicit:n.data,dialogRef:o}));else{const i=this._createInjector(n,o,t),a=t.attachComponentPortal(new z.d(e,n.viewContainerRef,i));o.componentInstance=a.instance}return o.updateSize(n.width,n.height).updatePosition(n.position),o}_createInjector(e,t,i){const n=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:Ya,useValue:i},{provide:Ka,useValue:e.data},{provide:Wa,useValue:t}];return!e.direction||n&&n.get(q.b,null)||o.push({provide:q.b,useValue:{value:e.direction,change:Object(V.a)()}}),h.u.create({parent:n||this._injector,providers:o})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let n=t[i];n===e||"SCRIPT"===n.nodeName||"STYLE"===n.nodeName||n.hasAttribute("aria-live")||(this._ariaHiddenElements.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(Y.c),h.Zb(h.u),h.Zb(l.h,8),h.Zb($a,8),h.Zb(Ja),h.Zb(e,12),h.Zb(Y.e))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac}),e})(),er=0,tr=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this._elementRef=t,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=ar(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){qa(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa,8),h.Qb(h.n),h.Qb(Xa))},e.\u0275dir=h.Lb({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,t){1&e&&h.dc("click",(function(e){return t._onButtonClick(e)})),2&e&&h.Fb("aria-label",t.ariaLabel||null)("type",t.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[h.Cb]}),e})(),ir=(()=>{class e{constructor(e,t,i){this._dialogRef=e,this._elementRef=t,this._dialog=i,this.id="mat-dialog-title-"+er++}ngOnInit(){this._dialogRef||(this._dialogRef=ar(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa,8),h.Qb(h.n),h.Qb(Xa))},e.\u0275dir=h.Lb({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,t){2&e&&h.Yb("id",t.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),e})(),nr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),e})(),or=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),e})();function ar(e,t){let i=e.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-dialog-container");)i=i.parentElement;return i?t.find(e=>e.id===i.id):null}let rr=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},providers:[Xa,Za],imports:[[Y.f,z.h,G.h],G.h]}),e})(),sr=(()=>{class e{constructor(e,t){this.comfirmMessageDialogRef=e,this.caseData=t,this.title="Delete Message Box",this.confirmationMessage="Delete this item?"}ngOnInit(){this.title=this.caseData.objDialogTitle,this.confirmationMessage=this.caseData.objComfirmationMessage}ConfirmMessageNO(){this.comfirmMessageDialogRef.close({message:"No"})}ConfirmMessageYes(){this.comfirmMessageDialogRef.close({message:"Yes"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-delete-dialog-box"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right","id","btnYes",2,"margin-right","5px",3,"click"],["mat-flat-button","","color","warn","id","btnNo",3,"click"],[1,"fa","fa-close","fa-fw"]],template:function(e,t){1&e&&(h.Rb(0,"h3",0),h.Vb(1,"div",1),h.yc(2),h.Ub(),h.Vb(3,"div",2),h.Vb(4,"button",3),h.dc("click",(function(){return t.ConfirmMessageYes()})),h.yc(5," Yes "),h.Ub(),h.Vb(6,"button",4),h.dc("click",(function(){return t.ConfirmMessageNO()})),h.Rb(7,"i",5),h.yc(8,"No "),h.Ub(),h.Ub()),2&e&&(h.Eb(2),h.Ac(" ",t.confirmationMessage,"\n"))},directives:[ir,nr,or,v.a],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})();var lr=i("dNgK");class cr{constructor(){this.snackBarHorizontalPosition="right",this.snackBarVerticalPosition="top"}snackBarSuccess(e,t){e.open(t,"",{duration:1500,horizontalPosition:this.snackBarHorizontalPosition,verticalPosition:this.snackBarVerticalPosition,panelClass:["green-snackbar"]})}snackBarError(e,t){e.open(t,"",{duration:1500,horizontalPosition:this.snackBarHorizontalPosition,verticalPosition:this.snackBarVerticalPosition,panelClass:["orange-snackbar"]})}}let dr=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}CompanyDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/company/detail/"+e,this.appSettings.defaultOptions)}))}SaveCompany(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/company/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockCompany(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/company/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockCompany(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/company/unlock/"+e,"",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const hr=["primaryValueBar"];class ur{constructor(e){this._elementRef=e}}const pr=Object(G.v)(ur,"primary"),br=new h.t("mat-progress-bar-location",{providedIn:"root",factory:function(){const e=Object(h.Y)(l.c),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}});let mr=0,fr=(()=>{class e extends pr{constructor(e,t,i,n){super(e),this._elementRef=e,this._ngZone=t,this._animationMode=i,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new h.p,this._animationEndSubscription=k.a.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+mr++;const o=n?n.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${o}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===i}get value(){return this._value}set value(e){this._value=gr(Object(D.e)(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=gr(e||0)}_primaryTransform(){return{transform:`scaleX(${this.value/100})`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scaleX(${this.bufferValue/100})`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Object(fe.a)(e,"transitionend").pipe(Object(P.a)(t=>t.target===e)).subscribe(()=>{"determinate"!==this.mode&&"buffer"!==this.mode||this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.D),h.Qb(ve.a,8),h.Qb(br,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-progress-bar"]],viewQuery:function(e,t){var i;1&e&&h.Ec(hr,!0),2&e&&h.pc(i=h.ec())&&(t._primaryValueBar=i.first)},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,t){2&e&&(h.Fb("aria-valuenow","indeterminate"===t.mode||"query"===t.mode?null:t.value)("mode",t.mode),h.Hb("_mat-animation-noopable",t._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[h.Bb],decls:9,vars:4,consts:[["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,t){1&e&&(h.gc(),h.Vb(0,"svg",0),h.Vb(1,"defs"),h.Vb(2,"pattern",1),h.Rb(3,"circle",2),h.Ub(),h.Ub(),h.Rb(4,"rect",3),h.Ub(),h.fc(),h.Rb(5,"div",4),h.Rb(6,"div",5,6),h.Rb(8,"div",7)),2&e&&(h.Eb(2),h.kc("id",t.progressbarId),h.Eb(2),h.Fb("fill",t._rectangleFillValue),h.Eb(1),h.kc("ngStyle",t._bufferTransform()),h.Eb(1),h.kc("ngStyle",t._primaryTransform()))},directives:[l.m],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),e})();function gr(e,t=0,i=100){return Math.max(t,Math.min(i,e))}let yr=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[l.b,G.h],G.h]}),e})();var _r=i("kmnG"),vr=i("qFsG");function wr(e,t){1&e&&h.Rb(0,"mat-progress-bar",7),2&e&&h.kc("color","primary")("mode","indeterminate")}function Cr(e,t){if(1&e){const e=h.Wb();h.Vb(0,"div"),h.Vb(1,"div",8),h.Vb(2,"div",9),h.Vb(3,"mat-form-field",10),h.Vb(4,"mat-label"),h.yc(5,"CompanyCode"),h.Ub(),h.Vb(6,"input",11),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc().companyModel.CompanyCode=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(7,"div",12),h.Vb(8,"mat-form-field",10),h.Vb(9,"mat-label"),h.yc(10,"Company"),h.Ub(),h.Vb(11,"input",13),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc().companyModel.Company=t})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(12,"div",8),h.Vb(13,"div",9),h.Vb(14,"mat-form-field",10),h.Vb(15,"mat-label"),h.yc(16,"SSS No."),h.Ub(),h.Vb(17,"input",14),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc().companyModel.SSSNumber=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(18,"div",9),h.Vb(19,"mat-form-field",10),h.Vb(20,"mat-label"),h.yc(21,"PHIC No."),h.Ub(),h.Vb(22,"input",15),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc().companyModel.PHICNumber=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(23,"div",9),h.Vb(24,"mat-form-field",10),h.Vb(25,"mat-label"),h.yc(26,"HDMF No."),h.Ub(),h.Vb(27,"input",15),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc().companyModel.HDMFNumber=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(28,"div",9),h.Vb(29,"mat-form-field",10),h.Vb(30,"mat-label"),h.yc(31,"Tax No."),h.Ub(),h.Vb(32,"input",16),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc().companyModel.TaxNumber=t})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(33,"div",8),h.Vb(34,"div",17),h.Vb(35,"mat-form-field",10),h.Vb(36,"mat-label"),h.yc(37,"Address"),h.Ub(),h.Vb(38,"textarea",18),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc().companyModel.Address=t})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(39,"mat-divider",19),h.Vb(40,"div",20),h.Vb(41,"div",21),h.Vb(42,"div",8),h.Vb(43,"div",22),h.Vb(44,"mat-label",23),h.yc(45,"Created By:"),h.Ub(),h.Ub(),h.Vb(46,"div",24),h.Vb(47,"mat-label",23),h.yc(48),h.Ub(),h.Ub(),h.Vb(49,"div",25),h.Vb(50,"mat-label",23),h.yc(51,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(52,"div",26),h.Vb(53,"mat-label",23),h.yc(54),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(55,"div",27),h.Vb(56,"div",8),h.Vb(57,"div",22),h.Vb(58,"mat-label",23),h.yc(59,"Updated By:"),h.Ub(),h.Ub(),h.Vb(60,"div",24),h.Vb(61,"mat-label",23),h.yc(62),h.Ub(),h.Ub(),h.Vb(63,"div",25),h.Vb(64,"mat-label",23),h.yc(65,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(66,"div",26),h.Vb(67,"mat-label",23),h.yc(68),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()}if(2&e){const e=h.hc();h.Eb(6),h.kc("ngModel",e.companyModel.CompanyCode),h.Eb(5),h.kc("ngModel",e.companyModel.Company)("readonly",e.isLocked),h.Eb(6),h.kc("ngModel",e.companyModel.SSSNumber)("readonly",e.isLocked),h.Eb(5),h.kc("ngModel",e.companyModel.PHICNumber)("readonly",e.isLocked),h.Eb(5),h.kc("ngModel",e.companyModel.HDMFNumber)("readonly",e.isLocked),h.Eb(5),h.kc("ngModel",e.companyModel.TaxNumber)("readonly",e.isLocked),h.Eb(6),h.kc("ngModel",e.companyModel.Address)("readonly",e.isLocked),h.Eb(10),h.zc(e.companyModel.CreatedByUser),h.Eb(6),h.zc(e.companyModel.CreatedDateTime),h.Eb(8),h.zc(e.companyModel.UpdatedByUser),h.Eb(6),h.zc(e.companyModel.UpdatedDateTime)}}let Dr=(()=>{class e{constructor(e,t,i,n,o){this.snackBar=e,this.snackBarTemplate=t,this.companyDetialService=i,this._companyDetailDialogRef=n,this.caseData=o,this.title="",this.event="Close",this.companyModel={Id:0,CompanyCode:"",Company:"",Address:"",SSSNumber:"",PHICNumber:"",HDMFNumber:"",TaxNumber:"",ExtenTaxNumbersionName:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:"",UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:"",IsLocked:!1},this.isCompanyDataLoaded=!1,this.isLocked=!1,this.isDataLoaded=!0,this.isProgressBarHidden=!0,this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isComponentsShown=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.GetCompanyDetail(this.caseData.objCompanyId)}GetCompanyDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){this.isComponentsShown=!1,this.disableButtons(),this.companyDetailSubscription=yield(yield this.companyDetialService.CompanyDetail(e)).subscribe(e=>{let t=e;null!=t&&(this.companyModel.Id=t.Id,this.companyModel.CompanyCode=t.CompanyCode,this.companyModel.Company=t.Company,this.companyModel.Address=t.Address,this.companyModel.SSSNumber=t.SSSNumber,this.companyModel.PHICNumber=t.PHICNumber,this.companyModel.HDMFNumber=t.HDMFNumber,this.companyModel.TaxNumber=t.TaxNumber,this.companyModel.CreatedByUserId=t.CreatedByUserId,this.companyModel.CreatedByUser=t.CreatedByUser,this.companyModel.CreatedDateTime=t.CreatedDateTime,this.companyModel.UpdatedByUserId=t.UpdatedByUserId,this.companyModel.UpdatedByUser=t.UpdatedByUser,this.companyModel.UpdatedDateTime=t.UpdatedDateTime,this.companyModel.IsLocked=t.IsLocked),this.loadComponent(t.IsLocked),this.isComponentsShown=!0,null!==this.companyDetailSubscription&&this.companyDetailSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.companyDetailSubscription&&this.companyDetailSubscription.unsubscribe()})}))}SaveCompanyDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.saveCompanyDetailSubscription=yield(yield this.companyDetialService.SaveCompany(this.companyModel.Id,this.companyModel)).subscribe(e=>{this.loadComponent(this.companyModel.IsLocked),this.isDataLoaded=!0,this.event="Save",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully."),null!==this.saveCompanyDetailSubscription&&this.saveCompanyDetailSubscription.unsubscribe()},e=>{this.loadComponent(this.companyModel.IsLocked),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.saveCompanyDetailSubscription&&this.saveCompanyDetailSubscription.unsubscribe()}))}))}LockCompanyDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.lockCompanyDetailSubscription=yield(yield this.companyDetialService.LockCompany(this.companyModel.Id,this.companyModel)).subscribe(e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.event="Lock",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Lock Successfully."),null!==this.lockCompanyDetailSubscription&&this.lockCompanyDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.lockCompanyDetailSubscription&&this.lockCompanyDetailSubscription.unsubscribe()}))}))}UnlockCompanyDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.unlockCompanyDetailSubscription=yield(yield this.companyDetialService.UnlockCompany(this.companyModel.Id)).subscribe(e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.event="Unlock",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Unlock Successfully."),null!==this.unlockCompanyDetailSubscription&&this.unlockCompanyDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.unlockCompanyDetailSubscription&&this.unlockCompanyDetailSubscription.unsubscribe()}))}))}loadComponent(e){this.btnSaveDisabled=e,this.btnLockisabled=e,this.btnUnlockDisabled=!e,this.isLocked=e,this.isProgressBarHidden=!1}disableButtons(){this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isProgressBarHidden=!0}Close(){this._companyDetailDialogRef.close({event:this.event})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(lr.a),h.Qb(cr),h.Qb(dr),h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-company-detail"]],decls:25,vars:6,consts:[["src","../../../../assets/menu-icons/company.png","height","35"],[1,"spacer"],["mat-raised-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","color","warn",2,"margin","5px",3,"click"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[4,"ngIf"],[2,"width","100%",3,"color","mode"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Company Code","readonly","",3,"ngModel","ngModelChange"],["fxFlex","75",2,"padding","5px"],["matInput","","placeholder","Company",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","SSSNumber",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","PHIC No.",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","Tax No.",3,"ngModel","readonly","ngModelChange"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Address","rows","5",2,"min-height","102px",3,"ngModel","readonly","ngModelChange"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","50",2,"padding-left","5px"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],["fxFlex","50"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.yc(2,"\xa0\xa0 "),h.Vb(3,"span"),h.yc(4),h.Ub(),h.Rb(5,"span",1),h.Vb(6,"button",2),h.dc("click",(function(){return t.SaveCompanyDetail()})),h.Vb(7,"mat-icon"),h.yc(8,"save"),h.Ub(),h.yc(9," Save "),h.Ub(),h.Vb(10,"button",2),h.dc("click",(function(){return t.LockCompanyDetail()})),h.Vb(11,"mat-icon"),h.yc(12,"lock"),h.Ub(),h.yc(13," Lock "),h.Ub(),h.Vb(14,"button",2),h.dc("click",(function(){return t.UnlockCompanyDetail()})),h.Vb(15,"mat-icon"),h.yc(16,"lock_open"),h.Ub(),h.yc(17," Unlock "),h.Ub(),h.Vb(18,"button",3),h.dc("click",(function(){return t.Close()})),h.Vb(19,"mat-icon"),h.yc(20,"close"),h.Ub(),h.yc(21,"Close "),h.Ub(),h.Ub(),h.xc(22,wr,1,2,"mat-progress-bar",4),h.Vb(23,"div",5),h.xc(24,Cr,69,17,"div",6),h.Ub()),2&e&&(h.Eb(4),h.zc(t.title),h.Eb(2),h.kc("disabled",t.btnSaveDisabled),h.Eb(4),h.kc("disabled",t.btnLockisabled),h.Eb(4),h.kc("disabled",t.btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t.isProgressBarHidden),h.Eb(2),h.kc("ngIf",t.isComponentsShown))},directives:[_.a,v.a,w.a,l.l,fr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,ft],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})(),Sr=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}CompanyList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/company/list",this.appSettings.defaultOptions)}))}AddCompany(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/company/create","",this.appSettings.defaultOptions)}))}DeleteCompany(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/company/delete/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var xr=function(){function e(){}return e.asyncBindings=!0,e}(),kr=function(){function e(e){this.changeEventMap=[],this.allImplEvents=[],this.resolveChangeEventMap(e)}return e.prototype.resolveChangeEventMap=function(e){var t=this.changeEventMap,i=e.outputs,n=e.changeEvents||{};if(t.splice(0,t.length),this.allImplEvents=[],i&&i.length){var o=i.map((function(e){return e.split(":")})).map((function(e){return{implName:e[0].trim(),exposeName:e[1]&&e[1].trim()}}));this.allImplEvents=o.map((function(e){return e.implName}));for(var a=0,r=o.filter((function(e){return e.implName&&e.exposeName}));a<r.length;a++){var s=r[a];if(Vr.getWjEventName(s.implName)){var l={eventImpl:s.implName,event:s.exposeName},c=n[s.exposeName];c&&c.length&&(l.props=c.map((function(e){return{prop:e,evExposed:Vr.getChangeEventNameExposed(e),evImpl:Vr.getChangeEventNameImplemented(e)}}))),t.push(l)}}for(var d in n)d.indexOf(".")>-1&&(l={eventImpl:null,event:d,props:n[d].map((function(e){return{prop:e,evExposed:Vr.getChangeEventNameExposed(e),evImpl:Vr.getChangeEventNameImplemented(e)}}))},t.push(l))}},e}(),Lr=function(){function e(t,i,n,o){this._pendingEvents=[],this.isInitialized=!1,this.isDestroyed=!1,this.directive=t,this.elementRef=i,this.injector=n,this.injectedParent=o;var a=this.typeData=t.constructor[e.directiveTypeDataProp];null==a.siblingId&&(a.siblingId=++e.siblingDirId+"");var r=t.constructor[e.directiveResolvedTypeDataProp];r?this.resolvedTypeData=r:t.constructor[e.directiveResolvedTypeDataProp]=r=this.resolvedTypeData=new kr(a),t[e.BehaviourRefProp]=this,n[e.BehaviourRefProp]=this,t[e.isInitializedPropAttr]=!1,this._createEvents(),this._setupAsChild(),this._isHostElement()&&i.nativeElement.setAttribute(e.siblingDirIdAttr,a.siblingId),this.subscribeToEvents(!1)}return e.getHostElement=function(t,i){return e.ngZone||(e.ngZone=i.get(h.D)),t.nativeElement},e.attach=function(t,i,n,o){return new e(t,i,n,o)},e.prototype.ngOnInit=function(){this.isInitialized=!0,this._initParent(),this.subscribeToEvents(!0)},e.prototype.ngAfterViewInit=function(){var t=this;this.directive[e.isInitializedPropAttr]=!0,setTimeout((function(){t.isDestroyed||t.directive[e.initializedEventAttr].emit(void 0)}))},e.prototype.ngOnDestroy=function(){if(!this.isDestroyed){this.isDestroyed=!0;var t=this.directive;if(this._siblingInsertedEH&&this.elementRef.nativeElement.removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isChild()&&this.parentBehavior){var i=this.parentBehavior.directive,n=this._getParentProp();if(!this.parentBehavior.isDestroyed&&i&&n&&t){var o=i[n];if(rn(o)&&o){var a=o.indexOf(t);a>=0&&o.splice(a,1)}}}if(t instanceof ha&&t.hostElement){var r=this.elementRef.nativeElement,s=r&&r.parentNode,l=s?Array.prototype.indexOf.call(s.childNodes,r):-1;t.dispose(),l>-1&&Array.prototype.indexOf.call(s.childNodes,r)<0&&(r.textContent="",l<s.childNodes.length&&s.replaceChild(r,s.childNodes[l]))}this.injector[e.BehaviourRefProp]=null}},e.instantiateTemplate=function(e,t,i,n,o){void 0===n&&(n=!1),void 0===o&&(o={});var a,r=t.createEmbeddedView(i,o,t.length),s=r.rootNodes;if(n&&1===s.length)a=s[0];else{a=document.createElement("div");for(var l=0,c=s;l<c.length;l++)a.appendChild(c[l])}return e&&e.appendChild(a),{viewRef:r,rootElement:a}},e.prototype.getPropChangeEvent=function(e){var t=this.typeData.changeEvents;if(t)for(var i in t)if(t[i].indexOf(e)>-1)return i;return null},e.prototype._createEvents=function(){for(var e=0,t=this.resolvedTypeData.allImplEvents;e<t.length;e++)this.directive[t[e]]=new h.p(!1)},e.prototype.subscribeToEvents=function(e){var t=this.resolvedTypeData.changeEventMap;e=!!e;for(var i=0,n=t;i<n.length;i++)e!==(r=n[i]).event.indexOf(".")<0&&this.addHandlers(r);if(e)for(var o=0,a=t;o<a.length;o++){var r=a[o];this.triggerPropChangeEvents(r,!0)}},e.prototype.addHandlers=function(t){var i=this,n=this.directive;e.evaluatePath(n,t.event).addHandler((function(e,o){i._runInsideNgZone((function(){i.isInitialized&&i.triggerPropChangeEvents(t),t.eventImpl&&i._triggerEvent(n[t.eventImpl],o,t.props&&t.props.length>0)}))}))},e.prototype.triggerPropChangeEvents=function(e,t){void 0===t&&(t=!0);var i=this.directive;if(e.props&&e.props.length)for(var n=0,o=e.props;n<o.length;n++){var a=o[n];this._triggerEvent(i[a.evImpl],i[a.prop],t)}},e.prototype._setupAsChild=function(){this._isChild()&&(this._isHostElement()&&(this.elementRef.nativeElement.style.display="none"),this.parentBehavior=e.getBehavior(this.injectedParent))},e.prototype._isAsyncBinding=function(){var t=this.directive[e.asyncBindingUpdatePropAttr];return null==t?xr.asyncBindings:t},e.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},e.prototype._isParentInitializer=function(){return null!=this.directive[e.parPropAttr]},e.prototype._isParentReferencer=function(){return!!this.typeData.parentRefProperty},e.prototype._getParentProp=function(){return this.directive[e.parPropAttr]},e.prototype._getParentReferenceProperty=function(){return this.typeData.parentRefProperty},e.prototype._useParentObj=function(){return!1},e.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},e.prototype._initParent=function(){if(this.parentBehavior&&!this._useParentObj()){var e=this.parentBehavior.directive,t=this._getParentProp(),i=this.directive;if(this._isParentInitializer()){this._getParentProp();var n=e[t];if(rn(n)){var o=this._isHostElement(),a=o?this._getSiblingIndex():-1;(a<0||a>=n.length)&&(a=n.length),n.splice(a,0,i),o&&(this._siblingInsertedEH=this._siblingInserted.bind(this),this.elementRef.nativeElement.addEventListener("DOMNodeInserted",this._siblingInsertedEH))}else e[t]=i}this._isParentReferencer()&&!this._parentInCtor()&&(i[this._getParentReferenceProperty()]=e)}},e.prototype._getSiblingIndex=function(){var t=this.elementRef.nativeElement,i=t.parentElement;if(!i)return-1;for(var n=i.childNodes,o=-1,a=this.typeData.siblingId,r=0;r<n.length;r++){var s=n[r];if(1==s.nodeType&&s.getAttribute(e.siblingDirIdAttr)==a&&(++o,s===t))return o}return-1},e.prototype._siblingInserted=function(e){if(e.target===this.elementRef.nativeElement){var t=this._getSiblingIndex(),i=this.parentBehavior.directive[this._getParentProp()],n=this.directive,o=i.indexOf(n);t>=0&&o>=0&&t!==o&&(i.splice(o,1),t=Math.min(t,i.length),i.splice(t,0,n))}},e.prototype._isHostElement=function(){return this.elementRef.nativeElement.nodeType===Node.ELEMENT_NODE},e.prototype._runInsideNgZone=function(t){var i=e;return i.ngZone&&!i._ngZoneRun&&(i._ngZoneRun=i.ngZone.run.bind(i.ngZone)),(i._ngZoneRun||function(e){return e()})(t)},e.prototype._triggerEvent=function(e,t,i){var n=this;i&&this._isAsyncBinding()?(this._pendingEvents.push({event:e,args:t}),null==this._pendingEventsTO&&(this._pendingEventsTO=setTimeout((function(){n._triggerPendingEvents(!1)}),0))):e.emit(t)},e.prototype._triggerPendingEvents=function(e){if(null!=this._pendingEventsTO&&(clearTimeout(this._pendingEventsTO),this._pendingEventsTO=null),!this.isDestroyed){var t=[].concat(this._pendingEvents);this._pendingEvents.splice(0,this._pendingEvents.length);for(var i=0,n=t;i<n.length;i++){var o=n[i];o.event.emit(o.args)}e&&this._pendingEvents.length&&this._triggerPendingEvents(!0)}},e.prototype.flushPendingEvents=function(){this._triggerPendingEvents(!0)},e.evaluatePath=function(e,t){return this._pathBinding.path=t,this._pathBinding.getValue(e)},e.getBehavior=function(t){return t?t[e.BehaviourRefProp]:null},e.directiveTypeDataProp="meta",e.directiveResolvedTypeDataProp="_wjResolvedMeta",e.BehaviourRefProp="_wjBehaviour",e.parPropAttr="wjProperty",e.wjModelPropAttr="wjModelProperty",e.initializedEventAttr="initialized",e.isInitializedPropAttr="isInitialized",e.siblingDirIdAttr="wj-directive-id",e.asyncBindingUpdatePropAttr="asyncBindings",e.siblingDirId=0,e.wijmoComponentProviderId="WjComponent",e.outsideZoneEvents={pointermove:!0,pointerover:!0,mousemove:!0,wheel:!0,touchmove:!0,pointerenter:!0,pointerleave:!0,pointerout:!0,mouseover:!0,mouseenter:!0,mouseleave:!0,mouseout:!0},e._pathBinding=new Pi(""),e.\u0275fac=function(e){h.cc()},e.\u0275dir=h.Lb({type:e}),e}(),Vr=function(){function e(){}return e.initEvents=function(e,t){for(var i=[],n=0,o=t;n<o.length;n++){var a=o[n],r=a.props;if(a.event&&a.eventImpl&&i.push(a.eventImpl+":"+a.event),r&&r.length)for(var s=0,l=r;s<l.length;s++){var c=l[s];i.push(c.evImpl+":"+c.evExposed)}}return i},e.getChangeEventNameImplemented=function(t){return e.getChangeEventNameExposed(t)+e.changeEventImplementSuffix},e.getChangeEventNameExposed=function(e){return e+"Change"},e.getWjEventNameImplemented=function(t){return t+e.wjEventImplementSuffix},e.getWjEventName=function(t){if(t){var i=e.wjEventImplementSuffix,n=t.length-i.length;if(n>0&&t.substr(n)===i)return t.substr(0,n)}return null},e.getBaseType=function(e){var t;return e&&(t=Object.getPrototypeOf(e.prototype))&&t.constructor},e.getAnnotations=function(e){return Reflect.getMetadata("annotations",e)},e.getAnnotation=function(e,t){if(t&&e)for(var i=0,n=e;i<n.length;i++){var o=n[i];if(o instanceof t)return o}return null},e.getTypeAnnotation=function(t,i,n){for(var o=t;o;o=n?null:e.getBaseType(o)){var a=e.getAnnotation(e.getAnnotations(o),i);if(a)return a}return null},e.equals=function(e,t){return e!=e&&t!=t||uo.equals(e,t)||e===t},e._copy=function(e,t,i,n,o){if(e&&t)for(var a in t)if(n||"_"!==a[0]){var r=t[a];if(!o||o(a,r)){var s=e[a];rn(r)?e[a]=(!rn(s)||i?[]:s).concat(r):void 0!==r&&(e[a]=r)}}},e.changeEventImplementSuffix="PC",e.wjEventImplementSuffix="Ng",e}(),Or=function(){function e(e){this._writeQnt=0,this._isSubscribed=!1,this._dirUpdateQnt=0,this._onChange=function(e){},this._onTouched=function(){},this._directive=e,this._behavior=Lr.getBehavior(e)}return e.prototype.writeValue=function(e){var t=this;this._modelValue=e,++this._writeQnt,this._directive.isInitialized?(this._ensureInitEhUnsubscribed(),this._updateDirective()):this._dirInitEh||(this._dirInitEh=this._directive.initialized.subscribe((function(){t._updateDirective(),t._ensureInitEhUnsubscribed()})))},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){var t=this._directive;t instanceof ha&&(t.isDisabled=e)},e.prototype._updateDirective=function(){if(!this._isFirstChange()||null!=this._modelValue){if(this._ensureNgModelProp(),this._directive&&this._ngModelProp){var e=this._modelValue;""===e&&(e=null),this._dirUpdateQnt++;try{this._directive[this._ngModelProp]=e}finally{this._dirUpdateQnt--}}this._ensureSubscribed()}},e.prototype._ensureSubscribed=function(){if(!this._isSubscribed){var e=this._directive;if(e){this._ensureNgModelProp();var t=this._ngModelProp=e[Lr.wjModelPropAttr];if(t){var i=this._behavior.getPropChangeEvent(t);i&&e[i].addHandler(this._dirValChgEh,this)}e instanceof ha&&e.lostFocus.addHandler(this._dirLostFocusEh,this),this._isSubscribed=!0}}},e.prototype._ensureNgModelProp=function(){!this._ngModelProp&&this._directive&&(this._ngModelProp=this._directive[Lr.wjModelPropAttr])},e.prototype._ensureInitEhUnsubscribed=function(){this._dirInitEh&&(this._dirInitEh.unsubscribe(),this._dirInitEh=null)},e.prototype._isFirstChange=function(){return this._writeQnt<2},e.prototype._dirValChgEh=function(e,t){if(this._onChange&&this._directive&&this._ngModelProp){var i=this._directive[this._ngModelProp],n=this._modelValue;""===n&&(n=null),(this._dirUpdateQnt>0&&Ur(n)&&Ur(i)||Vr.equals(n,i))&&!rn(i)||(this._modelValue=i,this._onChange(i))}},e.prototype._dirLostFocusEh=function(e,t){this._onTouched&&this._onTouched()},e}();function Ur(e){return null==e||""===e}var Er=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();wo("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var Mr=function(e){function t(t,i){var n=e.call(this,t)||this;n._value=null,n._min=null,n._max=null,n._format="",n._step=null,n._showBtn=!0,n._readOnly=!1,n._oldText="",n.textChanged=new Ii,n.valueChanged=new Ii,Gn(n.hostElement,"role","spinbutton",!0);var o=n.getTemplate();n.applyTemplate("wj-control wj-content wj-inputnumber",o,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var a=yo.InputNumber.ariaLabels;Yn(n._btnUp.querySelector("button"),a.incVal),Yn(n._btnDn.querySelector("button"),a.decVal),n._tbx.type.match(/number/i)&&(n.inputType="");var r=n._tbx;r.autocomplete="off",r.spellcheck=!1,n._updateSymbols();var s=n.addEventListener.bind(n);s(r,"keypress",n._keypress.bind(n)),s(r,"keydown",n._keydown.bind(n)),s(r,"input",n._input.bind(n)),s(r,"blur",(function(){n.text!=n._oldText&&n._setText(n.text)})),s(r,"compositionstart",(function(){n._composing=!0})),s(r,"compositionend",(function(){n._composing=!1,setTimeout((function(){var e=n.text,t=n._oldText;t&&t.indexOf(n._chrPct)>-1&&e.indexOf(n._chrPct)<0&&(e+=n._chrPct),n._setText(e)}))}));var l=n._clickSpinner.bind(n);return s(n._btnUp,"click",l),s(n._btnDn,"click",l),n._rptUp=new pa(n._btnUp.querySelector("button")),n._rptDn=new pa(n._btnDn.querySelector("button")),s(r,"wheel",(function(e){if(!e.defaultPrevented&&!e.ctrlKey&&!n.isReadOnly&&n.containsFocus()){var t=_n(-e.deltaY,-1,1);n._increment((n.step||1)*t),setTimeout((function(){return n.selectAll()})),e.preventDefault()}})),n.value=0,n.isRequired=!0,n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value)if(null==(e=Sn(e,!this.isRequired||null==e&&null==this._value)))this._setText("");else if(!isNaN(e)){var t=_o.format(e,this.format);this._setText(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=kn(e),this.inputElement.readOnly=this._readOnly,zn(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this._min&&(this._min=Sn(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this._max&&(this._max=Sn(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=Sn(e,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=Dn(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._oldText=null,this._setText(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(e){this._showBtn=kn(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!kn(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;Qn(e,0,e.value.length)},t.prototype.clamp=function(e){return _n(e,this.min,this.max)},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onValueChanged=function(e){this._updateAria(),this.valueChanged.raise(this,e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,e.prototype.dispose.call(this)},t.prototype.onGotFocus=function(t){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),e.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){if(this._composing&&(this._composing=!1,this._setText(this.text)),!this.isReadOnly){var i=this.clamp(this.value);if(i==this.value||this.onInvalidInput(new Ai)){var n=_o.format(i,this.format);this._setText(n)}}e.prototype.onLostFocus.call(this,t)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){this._updateSymbols();var i=_o.format(this.value,this.format);this._setText(i)}},t.prototype._updateSymbols=function(){var e=yo.Globalize.numberFormat,t=_o._parseNumericFormat(this.format);this._chrDec=e["."]||".",this._chrTho=e[","]||",",this._chrNeg=e["-"]||"-",this._chrPls=e["+"]||"+",this._chrPct=e["%"]||"%",this._chrCur=t.curr||e.currency.symbol||"$",this._fmtSpc=t.spec,this._fmtPrc=t.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("(\\-|\\(|\\"+this._chrNeg+")")},t.prototype._isNumeric=function(e,t){var i=e==this._chrDec||e>="0"&&e<="9",n="x"==this._fmtSpc;return!i&&n&&(i=e>="a"&&e<="f"||e>="A"&&e<="F"),i||t||n||(i=e==this._chrPls||e==this._chrNeg||"("==e||")"==e),i},t.prototype._getInputRange=function(e){for(var t=[0,0],i=this.text,n=!1,o=0;o<i.length;o++)this._isNumeric(i[o],e)&&(n||(t[0]=o,n=!0),t[1]=o+1);return t},t.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(e)},t.prototype._getSelStartDigits=function(){for(var e=0,t=this._tbx.selectionStart,i=this._tbx.value,n=0;n<i.length&&n<t;n++)this._isNumeric(i[n],!0)&&e++;return e},t.prototype._setSelStartDigits=function(e){for(var t=this._tbx.value,i=0;i<t.length&&e>=0;i++)if(this._isNumeric(t[i],!0)){if(!e){Qn(this._tbx,i);break}e--}else if(!e){Qn(this._tbx,i);break}},t.prototype._increment=function(e){if(e){var t=this.clamp(Xi(this.value)?this.value+e:0),i=_o.format(t,this.format,!1,!1);this._setText(i)}},t.prototype._updateBtn=function(){var e=this.showSpinner&&!!this.step,t=e;ro([this._btnUp,this._btnDn],{display:e?"":"none"}),zn(this.hostElement,"wj-input-show-spinner",e),oo(this._btnUp,t),oo(this._btnDn,t),this._updateAria()},t.prototype._setText=function(e){if(!this._composing){var t=this._tbx,i=this._rxNeg.test(e),n=this._delKey,o=this.containsFocus();if(e&&this._rxSym.test(e)&&o&&(e=this.isRequired||!n?"0":""),this._delKey=!1,n&&0==this.value&&!this.isRequired&&(e=""),!e){if(!this.isRequired)return t.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=e,this.onTextChanged()),void this._updateBtn();e="0"}var a=this._format||(e.indexOf(this._chrDec)>-1?"n2":"n0"),r=_o.parseFloat(e,a);if(isNaN(r))this.onInvalidInput(new Ai)?t.value=this._oldText:this.focus();else{var s=_o.format(r,a,!1);i&&r>=0&&!n&&(s=this._chrNeg+s),o&&(null!=this._fmtPrc&&"g"!=this._fmtSpc||!n&&t.value.match(/\.0?$/)&&(s=e+("0"==e?this._chrDec:""))),t.value!=s&&("g"==this._fmtSpc&&t.value.match(s+"0*")&&this.containsFocus()&&t.selectionStart==t.value.length&&(s=t.value),t.value=s,r=_o.parseFloat(s,this.format)),r!=this._value&&(this._value=r,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn()}}},t.prototype._keypress=function(e){if(!(e.defaultPrevented||this._composing||this.isReadOnly)&&e.charCode&&!e.ctrlKey&&!e.metaKey){var t=this._tbx,i=String.fromCharCode(e.charCode);if(this._isNumeric(i,!1)){var n=t.maxLength;if(n>-1&&t.value.length>=n&&t.selectionEnd==t.selectionStart)return void e.preventDefault();var o=this._getInputRange(!0),a=t.selectionStart,r=t.selectionEnd;if(a<o[0]&&r<t.value.length&&(r=Math.max(r,o[0]),Qn(t,o[0],r)),a>=o[1]){var s=null!=this._fmtPrc?this._fmtPrc:2,l=t.value.indexOf(this._chrDec);l>-1&&a-l>s&&e.preventDefault()}}else e.preventDefault();switch(i){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&t.selectionStart==t.selectionEnd?this._flipSign():this.clamp(-1)<0&&(t.value=this._chrNeg,Qn(t,1)),e.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),e.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)e.preventDefault();else{var c=t.value.indexOf(this._chrDec);c>-1&&(t.selectionStart<=c&&c++,Qn(t,c),e.preventDefault())}}if(!e.defaultPrevented&&To()){var d=t.value;(a=t.selectionStart)==(r=t.selectionEnd)&&(t.value=d.substr(0,a)+i+d.substr(r),Qn(t,a+1),e.preventDefault(),this._input())}}},t.prototype._keydown=function(e){var t=this;if(this._delKey=!1,!e.defaultPrevented&&!this._composing){var i=this._tbx,n=i.value,o=i.selectionStart,a=i.selectionEnd;switch(e.keyCode){case 65:e.ctrlKey&&(setTimeout((function(){t.selectAll()})),e.preventDefault());break;case Hi.Up:case Hi.Down:this.step&&!this.isReadOnly&&(this._increment(this.step*(e.keyCode==Hi.Up?1:-1)),setTimeout((function(){t.selectAll()})),e.preventDefault());break;case Hi.Back:if(this._delKey=!0,a-o<2&&!this.isReadOnly){var r=n[a-1];r!=this._chrDec&&r!=this._chrPct&&r!=this._chrTho&&")"!=r||(setTimeout((function(){a=r==t._chrPct?t._getInputRange(!0)[1]:a-1,Qn(i,a)})),e.preventDefault())}break;case Hi.Delete:if(this._delKey=!0,a-o<2&&!this.isReadOnly)if("0"==n&&1==o)Qn(i,0);else{var s=n[o];s!=this._chrDec&&s!=this._chrPct||(setTimeout((function(){Qn(i,o+1)})),e.preventDefault())}break;case Hi.Escape:this.value=this._oldValue,this.selectAll()}}},t.prototype._input=function(){var e=this;this._composing||setTimeout((function(){var t=e._tbx,i=t.value,n=i.indexOf(e._chrDec),o=t.selectionStart,a=e._getSelStartDigits();if("p"==e._fmtSpc&&i.length&&i.indexOf(e._chrPct)<0&&(i+=e._chrPct),e._setText(i),e.containsFocus()){var r=t.value,s=r.indexOf(e._chrDec),l=e._getInputRange(!0);if(i==e._chrNeg+e._chrDec&&s>-1)return void Qn(t,s+1);if(i[0]==e._chrNeg&&r[0]!=e._chrNeg)return void(1==r.length?Qn(t,1):e._setSelStartDigits(a));i?i==e._chrDec&&s>-1?o=s+1:o<=n&&s>-1||n<0&&s<0?o+=r.length-i.length:n<0&&s>-1&&(o=s):o=s>-1?s:l[1],Qn(t,o=_n(o,l[0],l[1]))}}))},t.prototype._clickSpinner=function(e){var t=this;e.defaultPrevented||this.isReadOnly||!this.step||(this._increment(this.step*(to(this._btnUp,e.target)?1:-1)),this.isTouching||setTimeout((function(){return t.selectAll()})))},t.prototype._updateAria=function(){var e=this.hostElement;e&&(Gn(e,"aria-valuemin",this.min),Gn(e,"aria-valuemax",this.max),Gn(e,"aria-valuenow",this.value))},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div>',t}(ha),Pr=function(e){function t(t,i){var n=e.call(this,t)||this;n.valueChanged=new Ii;var o=n.getTemplate();if(n.applyTemplate("wj-control wj-content wj-inputmask",o,{_tbx:"input"},"input"),"INPUT"==n._orgTag){var a=n._tbx.getAttribute("value");a&&(n.value=a)}return n._msk=new Co(n._tbx),n.isRequired=!0,n.initialize(i),n.addEventListener(n._tbx,"input",(function(){n.onValueChanged()})),n.addEventListener(n._tbx,"blur",n._commitText.bind(n)),n.addEventListener(n._tbx,"keydown",(function(e){e.keyCode==Hi.Enter&&n._commitText()})),n}return Er(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._tbx.value},set:function(e){e!=this.value&&(this._tbx.value=Dn(e),e=this._msk._applyMask(),this._tbx.value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(e){e!=this.rawValue&&(this.value=Dn(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){var t=this.value;this._msk.mask=Dn(e),this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var t=this.value;this._msk.promptChar=e,this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=kn(e),zn(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._msk.getMaskRange();Qn(this._tbx,e[0],e[1]+1)},t.prototype.onValueChanged=function(e){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,e)),this._updateState()},t.prototype._commitText=function(){if((this.value||this.isRequired)&&!this.maskFull&&!this.onInvalidInput(new Ai)){var e=this._tbx,t=e.value,i=t.indexOf(this.promptChar);i>-1&&Qn(e,i,t.length)}},t.prototype.dispose=function(){this._msk.input=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&this._msk.refresh()},t.prototype.onGotFocus=function(t){e.prototype.onGotFocus.call(this,t),this.selectAll()},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',t}(ha),Rr=function(e){function t(i,n){var o=e.call(this,i)||this;o._hsb=[.5,1,1],o._alpha=1,o.valueChanged=new Ii;var a=o.getTemplate();o.applyTemplate("wj-control wj-content wj-colorpicker",a,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),o._palette="#FFF,#000, #F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),o._updatePalette(),o._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",o._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(o._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",o._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),o._cSB=Xn(a=t._tplCursor),o._cHue=Xn(a),o._cHue.style.width="100%",o._cAlpha=Xn(a),o._cAlpha.style.height="100%",o._eSB.appendChild(o._cSB),o._eHue.appendChild(o._cHue),o._eAlpha.appendChild(o._cAlpha);var r=o.addEventListener.bind(o),s=o.removeEventListener.bind(o),l=document;r(o.hostElement,"mousedown",(function(e){r(l,"mousemove",c),r(l,"mouseup",d),o._mouseDown(e)})),r(o.hostElement,"touchstart",(function(e){r(l,"touchmove",c),r(l,"touchend",d),o._mouseDown(e)}));var c=function(e){o._mouseMove(e)},d=function(e){s(l,"mousemove",c),s(l,"mouseup",d),s(l,"touchmove",c),s(l,"touchend",d),o._mouseUp(e)};return r(o.hostElement,"click",(function(e){var t=e.target;if(t&&"DIV"==t.tagName&&to(o._ePal,t)){var i=t.style.backgroundColor;i&&(o.value=new go(i).toString())}})),o.value="#ffffff",o.initialize(n),o._updatePanels(),o}return Er(t,e),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(e){this._eAlpha.parentElement.style.display=kn(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(e){this._eText.style.display=kn(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this.value){this._value=Dn(e),this._eText.innerText=this._value;var t=new go(this._value),i=t.getHsb();this._hsb[0]==i[0]&&this._hsb[1]==i[1]&&this._hsb[2]==i[2]&&this._alpha==t.a||(0==i[2]?(i[0]=this._hsb[0],i[1]=this._hsb[1]):0==i[1]&&(i[0]=this._hsb[0]),this._hsb=i,this._alpha=t.a,this.onValueChanged())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){e=On(e);for(var t=0;t<e.length&&t<this._palette.length;t++){var i=Dn(e[t]);this._palette[t]=i}this._updatePalette()},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this._updatePanels(),this.valueChanged.raise(this,e)},t.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e),this._htDown&&(e.preventDefault(),this.focus(),this._mouseMove(e))},t.prototype._mouseMove=function(e){var t=e.touches?e.touches[0]:e;if(this._htDown){var i=this._htDown.getBoundingClientRect();this._htDown==this._eHue?(this._hsb[0]=_n((t.clientY-i.top)/i.height,0,.99),this._updateColor()):this._htDown==this._eSB?(this._hsb[1]=_n((t.clientX-i.left)/i.width,0,1),this._hsb[2]=_n(1-(t.clientY-i.top)/i.height,0,1),this._updateColor()):this._htDown==this._eAlpha&&(this._alpha=_n((t.clientX-i.left)/i.width,0,1),this._updateColor())}},t.prototype._mouseUp=function(e){this._htDown=null},t.prototype._updateColor=function(){var e=go.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=e.toString(),this._updatePanels()},t.prototype._updatePalette=function(){var e=new go("#fff"),t=new go("#000");this._ePal.innerHTML="";for(var i=0;i<this._palette.length;i++){var n=Xn('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),o=new go(this._palette[i]),a=o.getHsb();n.appendChild(this._makePalEntry(o,4));for(var r=0;r<5;r++)o=0==a[1]?go.interpolate(e,t,.1*r+(a[2]>.5?.05:.55)):go.fromHsb(a[0],.1+.2*r,1-.1*r),n.appendChild(this._makePalEntry(o,0));this._ePal.appendChild(n)}},t.prototype._makePalEntry=function(e,t){var i=document.createElement("div");return ro(i,{cursor:"pointer",backgroundColor:e.toString(),marginBottom:t||""}),i.innerHTML="&nbsp",i},t.prototype._updatePanels=function(){var e=go.fromHsb(this._hsb[0],1,1,1),t=go.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=e.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+t.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+t.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},t.prototype._getTargetPanel=function(e){var t=e.target;return to(this._eSB,t)?this._eSB:to(this._eHue,t)?this._eHue:to(this._eAlpha,t)?this._eAlpha:null},t.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',t._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',t}(ha),Ir=function(e){function t(t,i){var n=e.call(this,t)||this;n._byPage=!1,n._fmt="{current:n0} / {count:n0}";var o=n.getTemplate();return n.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",o,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),n._rptNext=new pa(n._btnNext.querySelector("button")),n._rptPrev=new pa(n._btnPrev.querySelector("button")),n.addEventListener(n.hostElement,"click",n._click.bind(n)),n.initialize(i),n._update(),n}return Er(t,e),Object.defineProperty(t.prototype,"cv",{get:function(){return this._view},set:function(e){if(e!=this._view){var t=this._view;t&&(t.collectionChanged.removeHandler(this._collectionChanged),t.currentChanged.removeHandler(this._currentChanged)),t=this._view=Un(e,"ICollectionView",!0),this._update(),t&&(t.collectionChanged.addHandler(this._collectionChanged,this),t.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byPage",{get:function(){return this._byPage},set:function(e){e!=this._byPage&&(this._byPage=kn(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._fmt},set:function(e){e!=this._fmt&&(this._fmt=Dn(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(e){this._rptNext.disabled=this._rptPrev.disabled=!kn(e)},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this._view,t=this._byPage,i=e?t?e.pageIndex:e.currentPosition:0,n=e?t?e.pageCount:e.itemCount:0;oo(this._btnFirst,e&&i>0),oo(this._btnPrev,e&&i>0),oo(this._txtCurr,null!=e),oo(this._btnNext,e&&i<n-1),oo(this._btnLast,e&&i<n-1),this._txtCurr.value=mn(this._fmt,{current:e?i+1:0,count:e?n:0,currentItem:e?e.currentPosition+1:0,itemCount:e?e.itemCount:0,currentPage:e?e.pageIndex+1:0,pageCount:e?e.pageCount:0})},t.prototype._currentChanged=function(){this._update()},t.prototype._collectionChanged=function(){this._update()},t.prototype._click=function(e){var t=e.target,i=this._view,n=this._byPage;i&&(to(this._btnFirst,t)?n?i.moveToFirstPage():i.moveCurrentToFirst():to(this._btnPrev,t)?n?i.moveToPreviousPage():i.moveCurrentToPrevious():to(this._btnNext,t)?n?i.moveToNextPage():i.moveCurrentToNext():to(this._btnLast,t)&&(n?i.moveToLastPage():i.moveCurrentToLast()),e.preventDefault())},t.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',t}(ha),Tr=function(e){function t(t,i){var n=e.call(this,t)||this;n._pathDisplay=new Pi(null),n._pathValue=new Pi(null),n._pathChecked=new Pi(null),n._html=!1,n._shGroups=!1,n._itemRole="option",n._search="",n._caseSensitive=!1,n._fmtItemHandlers=0,n._itemCount=0,n.selectedIndexChanged=new Ii,n.itemsChanged=new Ii,n.loadingItems=new Ii,n.loadedItems=new Ii,n.itemChecked=new Ii,n.checkedItemsChanged=new Ii,n.formatItem=new Ii((function(){n.invalidate()})),n.applyTemplate("wj-control wj-content wj-listbox",null,null);var o=n.hostElement;return Gn(o,"role","listbox",!0),"SELECT"==n._orgTag&&n._initFromSelect(n.hostElement),n.addEventListener(o,"click",n._click.bind(n)),n.addEventListener(o,"keydown",n._keydown.bind(n)),n.addEventListener(o,"keypress",n._keypress.bind(n)),n.addEventListener(o,"wheel",(function(e){o.scrollHeight>o.offsetHeight&&(e.deltaY<0&&0==o.scrollTop||e.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())})),n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._items!=e&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._checkedItems=null,this._cv=Mn(e),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=kn(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=kn(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=Vn(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(e){e!=this.displayMemberPath&&(this._pathDisplay.path=Dn(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(e){this._pathValue.path=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(e){e!=this.checkedMemberPath&&(this._pathChecked.path=Dn(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemRole",{get:function(){return this._itemRole},set:function(e){e!=this.itemRole&&(this._itemRole=Dn(e),this._populateList())},enumerable:!0,configurable:!0}),t.prototype.getDisplayValue=function(e){var t=null;e>-1&&Pn(this._cv)&&(t=this._cv.items[e],this.displayMemberPath&&(t=this._pathDisplay.getValue(t)));var i=null!=t?t.toString():"";return this._itemFormatter&&(i=this._itemFormatter(e,i)),i},t.prototype.getDisplayText=function(e){var t=this._getChild(e);return null!=t?t.textContent:""},t.prototype.isItemEnabled=function(e){var t=this._getChild(e);return null!=t&&!t.hasAttribute("disabled")&&!Hn(t,"wj-state-disabled")&&!Hn(t,"wj-separator")},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(e){this._cv&&this._cv.moveCurrentToPosition(Sn(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e=this.selectedItem;return e&&this.selectedValuePath&&(e=this._pathValue.getValue(e)),e},set:function(e){var t=this._cv,i=t?t.items:null,n=this.selectedValuePath,o=-1;if(i){for(var a=0;a<i.length;a++){var r=i[a],s=n?this._pathValue.getValue(r):r;if(s===e||uo.equals(s,e)){o=a;break}if(this.isContentHtml&&Ji(s)&&s.indexOf("<")>-1&&jn(s)===e){o=a;break}}this.selectedIndex=o}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.hostElement;return e?parseFloat(e.style.maxHeight):null},set:function(e){var t=this.hostElement;t&&(t.style.maxHeight=Sn(e)+"px")},enumerable:!0,configurable:!0}),t.prototype.showSelection=function(e){var t=this.selectedIndex,i=this.hostElement,n=i.children;t=this._getElementIndex(t);for(var o=0;o<n.length;o++){var a=n[o],r=o==t,s=this.checkedMemberPath?this._getCheckbox(o):null,l=s?s.checked:null;zn(a,"wj-state-selected",r),Gn(a,"aria-selected",this._getAriaSelected(r,l)),a.tabIndex=r?this._orgTabIndex:-1}if(t>-1&&t<n.length){var c=(a=n[t]).getBoundingClientRect(),d=i.getBoundingClientRect(),h=0;if(this._shGroups){var u=n[0];Hn(u,"wj-header")&&(h=u.offsetHeight)}c.bottom>d.bottom?i.scrollTop+=c.bottom-d.bottom:c.top<d.top+h&&(i.scrollTop-=d.top+h-c.top)}t>-1&&(null==e&&(e=this.containsFocus()),e&&(a=n[t])instanceof HTMLElement&&!to(a,Kn())&&a.focus()),i.tabIndex=t<0?this._orgTabIndex:-1},t.prototype.loadList=function(){this._populateList()},t.prototype.getItemChecked=function(e){var t=this._cv.items[e],i=this._pathChecked;if(sn(t)&&i.path)return i.getValue(t);var n=this._getCheckbox(e);return!!n&&n.checked},t.prototype.setItemChecked=function(e,t){this._setItemChecked(e,t,!0)},t.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))},Object.defineProperty(t.prototype,"checkedItems",{get:function(){var e=this;if(null==this._checkedItems){var t=this.collectionView;this._checkedItems=t&&this.checkedMemberPath?t.items.filter((function(t,i){return e.getItemChecked(i)})):[]}return this._checkedItems},set:function(e){var t=this,i=On(e,!1),n=this._cv;if(!this._arrayEquals(i,this.checkedItems)){if(n){var o=this.hostElement,a=n.currentPosition,r=o.scrollTop;n.items.forEach((function(e,n){var o=i.indexOf(e)>-1;t._setItemChecked(n,o,!1)})),n.moveCurrentToPosition(a),o.scrollTop=r}this.onCheckedItemsChanged()}},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(e){if(this._shGroups&&Hn(e,"wj-header"))return-1;for(var t=this.hostElement.children,i=0,n=0;i<t.length;i++){var o=t[i];if(to(t[i],e))return n;this._shGroups&&Hn(o,"wj-header")||n++}return-1},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)},t.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)},t.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},t.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)},t.prototype.onCheckedItemsChanged=function(e){this._checkedItems=null,this.checkedItemsChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){var i=this.formatItem.handlerCount;(this._cv?this._cv.items.length:0)==this._itemCount&&i==this._fmtItemHandlers||(this._fmtItemHandlers=i,this._populateList())}},t.prototype._arrayEquals=function(e,t){if(e==t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!=t[i])return!1;return!0},t.prototype._getChild=function(e){return e=this._getElementIndex(e),this.hostElement.children[e]},t.prototype._getElementIndex=function(e){if(this._shGroups)for(var t=this.hostElement.children,i=0;i<=e&&i<t.length;i++)Hn(t[i],"wj-header")&&e++;return e},t.prototype._setItemChecked=function(e,t,i){void 0===i&&(i=!0);var n=this._cv.items[e],o=this._pathChecked,a=!1;if(sn(n)&&o.path){var r=Ki(this._cv,"IEditableCollectionView");o.getValue(n)!=t&&(a=!0,this._checking=!0,r?(r.editItem(n),o.setValue(n,t),r.commitEdit()):(o.setValue(n,t),this._cv.refresh()),this._checking=!1)}else a=!0;var s=this._getCheckbox(e);if(s){s.checked=t;var l=io(s,".wj-listbox-item");l&&(zn(l,"wj-state-checked",t),Gn(l,"aria-selected",!!t||null))}return a&&i&&(this.onItemChecked(),this.onCheckedItemsChanged()),a},t.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},t.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},t.prototype._populateList=function(){var e=this.hostElement;if(this._itemCount=this._cv?this._cv.items.length:0,e){var t=this.containsFocus(),i=-1,n=void 0;this.onLoadingItems(),e.textContent="",e.scrollTop=0;var o=this._cv;if(o){var a=[],r=0,s=void 0;if(i=o.currentPosition,this._shGroups&&o.groups&&o.groups.length){n={};for(var l=0;l<o.groups.length;l++){var c=o.groups[l];n[r]=c,s=this._createHeaderItem(c),a.push(s);for(var d=0;d<c.items.length;d++,r++)s=this._createItem(r),a.push(s)}}else for(d=0;d<o.items.length;d++,r++)s=this._createItem(r),a.push(s);e.innerHTML=a.join("")}if(this.formatItem.hasHandlers&&o){var h=e.children,u=o.items,p=(r=0,new Ar(0,null,null));for(d=0;d<h.length;d++)p._item=h[d],this._shGroups&&Hn(p._item,"wj-header")?(p._index=-1,p._data=n[r]):(p._index=r,p._data=u[r],r++),this.onFormatItem(p)}0==e.children.length&&e.appendChild(document.createElement("div")),e.tabIndex=i<0?this._orgTabIndex:-1,t?(i>=0?e.children[this._getElementIndex(i)]:e).focus():i>0&&this.showSelection(),this.onLoadedItems()}},t.prototype._createItem=function(e){var t=this._cv.items[e],i=e==this._cv.currentPosition,n=this.getDisplayValue(e);1!=this._html&&(n=In(n));var o=null;this.checkedMemberPath&&(n='<label><input type="checkbox" tabindex="-1"'+((o=!!this._pathChecked.getValue(t))?" checked":"")+"><span></span> "+n+"</label>");var a="wj-listbox-item";if(i&&(a+=" wj-state-selected"),o&&(a+=" wj-state-checked"),this._html){var r=["wj-separator","wj-state-disabled"];if(n.indexOf(r[0])>-1||n.indexOf(r[1])>-1){var s=Xn(n);r.forEach((function(e){Hn(s,e)&&(a+=" "+e)}))}}return'<div class="'+a+'" role="'+this.itemRole+'" '+(this._getAriaSelected(i,o)?'aria-selected="true" ':"")+'tabindex="'+(i?this._orgTabIndex:-1)+'">'+n+"</div>"},t.prototype._getAriaSelected=function(e,t){return!(!t&&!e)||null},t.prototype._createHeaderItem=function(e){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+In(e.name)+"</div>"},t.prototype._click=function(e){if(0==e.button&&!e.defaultPrevented){var t=this.indexOf(e.target);if(t>-1&&(this.selectedIndex=t,this.checkedMemberPath)){var i=this._getCheckbox(t),n=this.hostElement.children[t];i!=e.target&&e.target!=n||(n.focus({preventScroll:!0}),this.setItemChecked(t,i.checked))}}},t.prototype._keydown=function(e){var t=this.selectedIndex;if(!e.defaultPrevented){if(65==e.keyCode&&(e.ctrlKey||e.metaKey)){var i=this.collectionView;if(this.checkedMemberPath&&Pn(i))return this.checkedItems=this.checkedItems.length!=i.items.length?i.items:[],void e.preventDefault()}if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(e.keyCode){case Hi.Down:e.preventDefault(),this._selectNext();break;case Hi.Up:e.preventDefault(),this._selectPrev();break;case Hi.Home:e.preventDefault(),this._selectFirst();break;case Hi.End:e.preventDefault(),this._selectLast();break;case Hi.PageDown:e.preventDefault(),this._selectNextPage();break;case Hi.PageUp:e.preventDefault(),this._selectPrevPage();break;case Hi.Space:if(this.checkedMemberPath&&t>-1){var n=this._getCheckbox(t);n&&this.isItemEnabled(t)&&(this.setItemChecked(t,!n.checked),e.preventDefault())}}}},t.prototype._keypress=function(e){var t=this;if(!e.defaultPrevented&&!(e.target instanceof HTMLInputElement)&&(e.charCode>32||32==e.charCode&&this._search)){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout((function(){t._toSearch=null,t._search=""}),ha._SEARCH_DELAY);var i=this._findNext();i<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],i=this._findNext()),i>-1&&(this.selectedIndex=i)}},t.prototype._selectNext=function(){for(var e=this.hostElement.children.length,t=this.selectedIndex+1;t<e;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},t.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectFirst=function(){for(var e=this.hostElement.children.length,t=0;t<e;t++)if(this.isItemEnabled(t))return this.selectedIndex=t,!0;return!1},t.prototype._selectLast=function(){for(var e=this.hostElement.children.length-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectNextPage=function(){for(var e=this.hostElement,t=e.offsetHeight,i=e.children,n=0,o=this.selectedIndex+1;o<this._cv.items.length;o++){var a=i[o].scrollHeight;if(n+a>t&&this.isItemEnabled(o))return this.selectedIndex=o,!0;n+=a}return this._selectLast()},t.prototype._selectPrevPage=function(){for(var e=this.hostElement,t=e.offsetHeight,i=e.children,n=0,o=this.selectedIndex-1;o>0;o--){var a=i[o].scrollHeight;if(n+a>t&&this.isItemEnabled(o))return this.selectedIndex=o,!0;n+=a}return this._selectFirst()},t.prototype._findNext=function(){if(this.hostElement){var e=this.hostElement.childElementCount,t=this.selectedIndex;(t<0||1==this._search.length)&&t++;var i=this._search,n=this.caseSensitiveSearch;n||(i=i.toLowerCase());for(var o=0;o<e;o++){var a=(t+o)%e;if(this.isItemEnabled(a)){var r=this.getDisplayText(a).trim();if(n||(r=r.toLowerCase()),0==r.indexOf(i))return a}}}return-1},t.prototype._getCheckbox=function(e){var t=this.hostElement,i=t?t.children:null;return e=this._getElementIndex(e),t&&e>-1&&e<i.length?i[e].querySelector("input[type=checkbox]"):null},t.prototype._initFromSelect=function(e){for(var t=e.children,i=[],n=-1,o=0;o<t.length;o++){var a=t[o];"OPTION"==a.tagName&&(a.hasAttribute("selected")&&(n=i.length),i.push(a.innerHTML?{hdr:a.innerHTML,val:a.getAttribute("value"),cmdParam:a.getAttribute("cmd-param")}:{hdr:'<div class="wj-separator"></div>'}),e.removeChild(a),o--)}i&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=i,this.selectedIndex=n)},t}(ha),Ar=function(e){function t(t,i,n){var o=e.call(this)||this;return o._index=Sn(t),o._data=i,o._item=Un(n,HTMLElement,!0),o}return Er(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(Ti);wo("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var Br,jr=function(e){function t(i,n){var o=e.call(this,i)||this;o._filterText="",o._checkOnFilter=!0,o.checkedItemsChanged=new Ii;var a=o.getTemplate();o.applyTemplate("wj-control wj-content wj-multiselectlistbox",a,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),o._selectAll.style.display="none",o._filter.style.display="none",o._lbx=new Tr(o._lbHost,{checkedMemberPath:t._DEF_CHECKED_PATH,checkedItemsChanged:function(){o.onCheckedItemsChanged()}}),o._cbSelectAll=o._selectAll.querySelector("input[type=checkbox]"),o._spSelectAll=o._selectAll.querySelector("label>span");var r=yo.MultiSelectListBox;return eo(o._spSelectAll,r.selectAll),o._filter.placeholder=r.filterPlaceholder,o.initialize(n),o.addEventListener(o._filter,"input",(function(){o._filter.value!=o._filterText&&(o._filterText=o._filter.value,o._toSearch&&clearTimeout(o._toSearch),o._toSearch=setTimeout((function(){o._toSearch=null,o._applyFilter()}),ha._SEARCH_DELAY))})),o.addEventListener(o._cbSelectAll,"click",(function(e){var t=o._lbx.collectionView;Pn(t)&&(o.checkedItems=e.target.checked?t.items:[])})),o.addEventListener(o.hostElement,"keydown",(function(e){var t=o._filter;if(e.keyCode==Hi.F3&&(Qn(t,0,t.value.length),e.preventDefault()),Kn()==t)e.stopPropagation();else switch(e.keyCode){case Hi.Down:case Hi.Up:case Hi.Home:case Hi.End:case Hi.PageDown:case Hi.PageUp:o._lbx.focus()}})),o}return Er(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){this._lbx.isContentHtml=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._checkOnFilter=kn(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(e){e!=this.showFilterInput&&(this._filter.style.display=kn(e)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(e){e!=this._filterPlaceholder&&(this._filterPlaceholder=Dn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(e){this._selectAll.style.display=kn(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(e){e!=this._selectAllLabel&&(this._selectAllLabel=Dn(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=t._DEF_CHECKED_PATH?e:null},set:function(e){e=Dn(e),this.listBox.checkedMemberPath=e||t._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(e){this.listBox.checkedItems=On(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,e)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){var i=yo.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:i.filterPlaceholder,this._spSelectAll&&eo(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:i.selectAll),this._updateCheckAllCheckbox()}},t.prototype.dispose=function(){this.listBox.dispose(),e.prototype.dispose.call(this)},t.prototype._applyFilter=function(){var e=this,t=this._lbx,i=t.collectionView,n=this._filter.value,o=n?new RegExp(Bn(n),"i"):null,a=this.displayMemberPath,r=a?new Pi(a):null,s=this._checkOnFilter?this.checkedItems:[];i.filter=function(t){return null==o||(r&&(t=r.getValue(t)),e.isContentHtml&&(t=jn(t)),o.test(t.toString()))},t.selectedIndex=Math.max(0,t.selectedIndex),this.checkedItems=this._checkOnFilter?o?i.items:[]:s},t.prototype._updateCheckAllCheckbox=function(){var e=this._lbx.collectionView,t=this._cbSelectAll;if(Pn(e)){var i=e.items.length,n=this.checkedItems.length;t.checked=n==i,t.indeterminate=n<i&&n>0,t.disabled=!1}else t.checked=!1,t.disabled=!0},t._DEF_CHECKED_PATH="$checked",t.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',t}(ha);wo("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),function(e){e[e.None=0]="None",e[e.Day=1]="Day",e[e.Month=2]="Month"}(Br||(Br={}));var Hr,Fr=function(e){function t(t,i){var n=e.call(this,t)||this;n._yrPicker=!0,n._min=null,n._max=null,n._readOnly=!1,n._selMode=Br.Day,n._tmYrHidden=0,n._fmtYrMo="y",n._fmtYr="yyyy",n._fmtDayHdr="ddd",n._fmtDay="d ",n._fmtMonths="MMM",n.valueChanged=new Ii,n.displayMonthChanged=new Ii,n.formatItem=new Ii((function(){n.invalidate()})),n._value=uo.newDate(),n._currMonth=n._getMonth(n._value),n._createChildren(),n._createYearPicker();var o=n.hostElement,a=n.addEventListener.bind(n);return a(o,"keydown",n._keydown.bind(n)),a(o,"click",n._click.bind(n)),n._rptUp=new pa(n._btnPrv),n._rptDn=new pa(n._btnNxt),n.addEventListener(o,"wheel",(function(e){e.defaultPrevented||n.isReadOnly||!n.containsFocus()||(_n(-e.deltaY,-1,1),e.deltaY<0?n._btnPrv.click():n._btnNxt.click(),e.preventDefault())})),n.initialize(i),n.refresh(!0),n}return Er(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e=Ln(e,!0),e=this._clamp(e),(this._valid(e)||null==e)&&(this.displayMonth=this._getMonth(e),uo.equals(this._value,e)||(this._value=e,this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this.min&&(this._min=Ln(e,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this.max&&(this._max=Ln(e,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selMode},set:function(e){if((e=En(e,Br))!=this._selMode){this._selMode=e;var t=this._monthMode();t&&(this.monthView=!1);var i=this._btnMth.querySelector(".wj-glyph-down");i&&(i.style.display=t?"none":""),this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=kn(e),zn(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(e){this._yrPicker=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(e){if(e!=this._fdw){if((e=Sn(e,!0))&&(e>6||e<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=e,this.refresh()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(e){uo.equals(this.displayMonth,e)||(e=Ln(e),(this.monthView?this._monthInValidRange(e):this._yearInValidRange(e))&&(this._currMonth=this._getMonth(this._clamp(e)),this.invalidate(!0),this.onDisplayMonthChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(e){e!=this._fmtYrMo&&(this._fmtYrMo=Dn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(e){e!=this._fmtDayHdr&&(this._fmtDayHdr=Dn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(e){e!=this._fmtDay&&(this._fmtDay=Dn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(e){e!=this._fmtYr&&(this._fmtYr=Dn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(e){e!=this._fmtMonths&&(this._fmtMonths=Dn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(e){this._tbHdr.style.display=kn(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(e){if(e!=this.monthView){this._tbMth.style.display=e?"":"none",this._tbYr.style.display=e?"none":"",this.refresh();var t=yo.Calendar.ariaLabels;Yn(this._btnPrv,e?t.prvMo:t.prvYr),Yn(this._btnTdy,e?t.today:t.currMo),Yn(this._btnNxt,e?t.nxtMo:t.nxtYr),Yn(this._btnMth,e?t.monthView:t.yearView)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=Vn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this._itemValidator&&(this._itemValidator=Vn(e),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){return(e=io(e,"td"))?e[t._DATE_KEY]:null},t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.containsFocus=function(){return e.prototype.containsFocus.call(this)||this._lbYears.containsFocus()},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),e.prototype.dispose.call(this)},t.prototype.refresh=function(i){if(void 0===i&&(i=!0),this.hostElement){e.prototype.refresh.call(this,i);var n,o,a=this.hostElement,r=this.containsFocus(),s=this.displayMonth,l=null!=this._fdw?this._fdw:_o.getFirstDayOfWeek(),c=_o.format,d=uo.addDays(s,-(s.getDay()-l+7)%7);eo(this._spMth,c(s,this._fmtYrMo));for(var h=this._tbMth.querySelectorAll("td"),u=0;u<7&&u<h.length;u++)o=uo.addDays(d,u),eo(h[u],c(o,this._fmtDayHdr));for(u=7;u<h.length;u++){o=uo.addDays(d,u-7),(n=h[u])[t._DATE_KEY]=o,eo(n,c(o,this._fmtDay));var p=!this._valid(o),b=this._selMode&&uo.sameDate(o,this.value),m=o.getDay();if(zn(n,"wj-state-invalid",p),zn(n,"wj-state-selected",b),zn(n,"wj-day-weekend",0==m||6==m),zn(n,"wj-day-today",uo.sameDate(o,uo.newDate())),zn(n,"wj-day-othermonth",p||o.getMonth()!=s.getMonth()||!this._inValidRange(o)),Gn(n,"aria-selected",!!b||null),this.itemFormatter&&this.itemFormatter(o,n),this.formatItem.hasHandlers){var f=new Ar(u,o,n);this.onFormatItem(f)}}var g=this._tbMth.querySelectorAll("tr");for(g.length&&(o=uo.addDays(d,28),g[g.length-2].style.display=o.getMonth()==s.getMonth()?"":"none",o=uo.addDays(d,35),g[g.length-1].style.display=o.getMonth()==s.getMonth()?"":"none"),(h=this._tbYr.querySelectorAll("td")).length&&eo(h[0],c(s,this._fmtYr)),u=1;u<h.length;u++)o=uo.newDate(s.getFullYear(),u-1,1),p=!this._monthInValidRange(o),b=this._sameMonth(o,this.value),(n=h[u])[t._DATE_KEY]=o,eo(n,c(o,this._fmtMonths)),zn(n,"wj-state-disabled",p),zn(n,"wj-state-selected",b),Gn(n,"aria-selected",b);var y=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||a;y&&r&&y.focus()}},t.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=Br.None},t.prototype._valid=function(e){return!!an(e)&&!!uo.sameDate(e,this._clamp(e))&&(!nn(this.itemValidator)||this.itemValidator(e))},t.prototype._inValidRange=function(e){return!(this.min&&e<uo.fromDateTime(this.min,e)||this.max&&e>uo.fromDateTime(this.max,e))},t.prototype._monthInValidRange=function(e){if(this.min||this.max){var t=e.getFullYear(),i=e.getMonth(),n=uo.newDate(t,i,1),o=uo.newDate(t,i+1,0);if(this.min&&this.min>o)return!1;if(this.max&&this.max<n)return!1}return!0},t.prototype._yearInValidRange=function(e){if(this.min||this.max){var t=e.getFullYear(),i=uo.newDate(t,0,1),n=uo.newDate(t,11,31);if(this.min&&this.min>n)return!1;if(this.max&&this.max<i)return!1}return!0},t.prototype._sameMonth=function(e,t){return an(e)&&an(t)&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()},t.prototype._getValidDate=function(e,t){if(an(e))for(var i=e.getFullYear(),n=e.getMonth()+(t?0:1),o=uo.newDate(i,n,t?1:0),a=t?1:-1,r=0;r<31;r++){if(this._valid(o))return o;o=uo.addDays(o,a)}return null},t.prototype._clamp=function(e){if(e){if(this.min){var t=uo.fromDateTime(this.min,e);e<t&&(e=t)}if(this.max){var i=uo.fromDateTime(this.max,e);e>i&&(e=i)}}return e},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-control wj-calendar",e,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var t=yo.Calendar.ariaLabels;Yn(this._tbMth,t.calendar),Yn(this._tbYr,t.calendar),Yn(this._btnPrv,t.calendar),Yn(this._btnMth,t.monthView),Yn(this._btnPrv,t.prvMo),Yn(this._btnTdy,t.today),Yn(this._btnNxt,t.nxtMo);for(var i=this._createElement("tr",this._tbMth,"wj-header"),n=0;n<7;n++)this._createElement("td",i);for(var o=0;o<6;o++)for(i=this._createElement("tr",this._tbMth),n=0;n<7;n++)this._createElement("td",i);i=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",i).setAttribute("colspan","4");for(var a=0;a<3;a++){i=this._createElement("tr",this._tbYr);for(var r=0;r<4;r++)this._createElement("td",i)}},t.prototype._createYearPicker=function(){var e=this,t=this.hostElement,i=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");i.tabIndex=this._orgTabIndex,this._lbYears=new Tr(i,{lostFocus:function(t){if(ma(i),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"),t.selectedIndex>-1){var n=uo.clone(e.displayMonth);n.setFullYear(t.selectedIndex+t.itemsSource[0]),e.displayMonth=n}}}),this.addEventListener(i,"keydown",(function(i){switch(i.keyCode){case Hi.Enter:t.focus();break;case Hi.Escape:e._lbYears.selectedIndex=-1,t.focus()}i.defaultPrevented&&i.stopPropagation()})),this.addEventListener(i,"click",(function(e){t.focus()}))},t.prototype._createElement=function(e,t,i){var n=document.createElement(e);return i&&Fn(n,i),t&&t.appendChild(n),n},t.prototype._click=function(e){var t=this;if(!e.defaultPrevented&&0==e.button){var i=!1,n=e.target;if(to(this._btnMth,n)&&!this._monthMode()?(this.monthView=!this.monthView,i=!0):to(this._btnPrv,n)?(this._navigate(-1),i=!0):to(this._btnNxt,n)?(this._navigate(1),i=!0):to(this._btnTdy,n)&&(this._navigate(0),i=!0),n&&!i&&this._yrPicker&&to(this._tbYr,n)&&io(n,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void e.preventDefault();for(var o=this.displayMonth.getFullYear(),a=this.min?this.min.getFullYear():o-100,r=this.max?this.max.getFullYear():o+100,s=[],l=a;l<=r;l++)s.push(l);var c=this._lbYears,d=c.hostElement,h=io(n,".wj-header");return c.itemsSource=s,c.selectedIndex=o-s[0],Gn(d,"dir",this.rightToLeft?"rtl":null),ro(d,{minWidth:"",width:h.offsetWidth}),ba(d,h,!1,!1,this.hostElement),requestAnimationFrame((function(){c.showSelection(!0)})),this.addEventListener(window,"touchstart",(function(e){to(d,e.target)||(ma(d),t._tmYrHidden=Date.now(),t.removeEventListener(window,"touchstart"))})),void e.preventDefault()}if(n&&!i){var u=io(n,"td");if(u){var p=this.hitTest(u);if(this.monthView){if(p&&this._canChangeValue()){var b=p;this._inValidRange(b)&&this._valid(b)&&(this.value=b),i=!0}}else p&&(this.displayMonth=p,this._monthMode()?this._canChangeValue()&&(b=uo.fromDateTime(this.displayMonth,this.value),this._inValidRange(b)&&(this.value=b)):this.monthView=!0,i=!0)}}i&&(e.preventDefault(),this.focus())}},t.prototype._keydown=function(e){if(!e.defaultPrevented){if(e.altKey)switch(e.keyCode){case Hi.Up:case Hi.Down:return;case Hi.End:return this._navigate(0),void e.preventDefault()}if(!(e.ctrlKey||e.metaKey||e.shiftKey)){var t=this._getKeyCode(e),i=0,n=0,o=!0;if(this.monthView)switch(t){case Hi.Left:i=-1;break;case Hi.Right:i=1;break;case Hi.Up:i=-7;break;case Hi.Down:i=7;break;case Hi.PageDown:n=e.altKey?12:1;break;case Hi.PageUp:n=e.altKey?-12:-1;break;case Hi.Home:case Hi.End:if(this._canChangeValue()){var a=this.value||this.displayMonth;(r=this._getValidDate(a,t==Hi.Home))&&(this.value=uo.fromDateTime(r,this.value))}break;default:o=!1}else switch(t){case Hi.Left:n=-1;break;case Hi.Right:n=1;break;case Hi.Up:n=-4;break;case Hi.Down:n=4;break;case Hi.PageDown:n=e.altKey?120:12;break;case Hi.PageUp:n=e.altKey?-120:-12;break;case Hi.Home:n=this.value?-this.value.getMonth():0;break;case Hi.End:n=this.value?11-this.value.getMonth():0;break;case Hi.Enter:this._monthMode()?o=!1:this.monthView=!0;break;default:o=!1}if(this._canChangeValue()&&(i||n)){var r;if((r=this.value)?(r=uo.addDays(r,i),r=uo.addMonths(r,n)):r=this._getValidDate(new Date,!0),n&&!this._valid(r)){a=r.getMonth();for(var s=1;s<31&&!this._valid(r);s++){var l=uo.addDays(r,+s),c=uo.addDays(r,-s);this._valid(l)&&l.getMonth()==a?r=l:this._valid(c)&&c.getMonth()==a&&(r=c)}}for(s=0;s<31&&!this._valid(r);s++)r=uo.addDays(r,i>0||n>0?1:-1);this.value=r}o&&e.preventDefault()}}},t.prototype._getMonth=function(e){return e||(e=uo.newDate()),uo.newDate(e.getFullYear(),e.getMonth(),1)},t.prototype._monthMode=function(){return this.selectionMode==Br.Month},t.prototype._navigate=function(e){var t=this.monthView,i=this.displayMonth;switch(e){case 0:var n=uo.newDate();this._canChangeValue()&&(this.value=t?uo.fromDateTime(n,this.value):this._getMonth(n)),i=this._getMonth(n);break;case 1:i=uo.addMonths(i,t?1:12);break;case-1:i=uo.addMonths(i,t?-1:-12)}this.displayMonth=i},t._DATE_KEY="$WJ-DATE",t.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',t}(ha);wo("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}}),function(e){e[e.Select=0]="Select",e[e.Open=1]="Open",e[e.Toggle=2]="Toggle"}(Hr||(Hr={}));var Nr,zr,Gr=function(e){function t(t,i){var n=e.call(this,t)||this;n._clickAction=Hr.Select,n._showBtn=!0,n._autoExpand=!0,n._animate=!1,n._oldText="",n.textChanged=new Ii,n.isDroppedDownChanging=new Ii,n.isDroppedDownChanged=new Ii;var o=n.getTemplate();n.applyTemplate("wj-control wj-content wj-dropdown",o,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),n._dropDown.style.display="none";var a=yo.DropDown.ariaLabels;Yn(n._btn.querySelector("button"),a.tgl);var r=n._elRef=n._tbx;Wn(r),n._createDropDown(),n._updateBtn();var s=n.hostElement;Fn(s,"wj-state-collapsed"),n.addEventListener(window,"resize",(function(){n.isDroppedDown&&n.invalidate()}));var l=n.dropDown,c=n.addEventListener.bind(n),d=n._updateFocusState.bind(n);c(l,"blur",d,!0),c(l,"focus",d);var h=n._keydown.bind(n);return c(s,"keydown",h),c(l,"keydown",h),c(r,"keypress",(function(e){"AltLeft"!=e.code&&"AltRight"!=e.code||e.preventDefault()})),c(r,"input",(function(){n._setText(n.text,!1)})),c(r,"click",(function(){n._autoExpand&&n._expandSelection()})),c(r,"blur",(function(){n._commitText()}),!0),c(r,"mousedown",(function(e){switch(n._clickAction){case Hr.Open:n.isDroppedDown||(n.isDroppedDown=!0,n.focus(),e.preventDefault());break;case Hr.Toggle:n.isDroppedDown=!n.isDroppedDown,n.focus(),e.preventDefault()}})),c(n._btn,"mousedown",(function(e){n._btnclick(e)})),qn(l),To()&&n._elRef==n._tbx&&c(s,"mouseup",(function(e){if(!e.defaultPrevented&&0==e.button&&Hn(e.target,"wj-btn")){var t=Kn();t&&t!=e.target&&setTimeout((function(){t.focus()}))}})),Bo()&&c(r,"keyup",(function(){n._setText(n.text,!1)})),c(l,"click",n._dropDownClick.bind(n)),n}return Er(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=kn(e),zn(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickAction",{get:function(){return this._clickAction},set:function(e){this._clickAction=En(e,Hr)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){var e=this._dropDown;return e&&"none"!=e.style.display},set:function(e){var t=this,i=this.hostElement,n=this._dropDown,o=this.containsFocus()||this._setFocus;i&&n&&(e=kn(e)&&!this.isDisabled&&!this.isReadOnly)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new Ai)&&(e?(this._minWidthDropdown=n.style.minWidth,n.style.display="block",this._updateDropDown(),this.addEventListener(window,"touchstart",(function(e){for(var n=e.target;n;){if(n==i)return;n=n[ha._OWNR_KEY]||n.parentNode}ha._touching=!0,t.isDroppedDown=!1,ha._touching=!1}))):(this.removeEventListener(window,"touchstart"),ma(n),n.style.minWidth=this._minWidthDropdown),this._setFocus=!1,o&&(this.isTouching&&this.showDropDownButton?i.focus():this.selectAll()),this._updateFocusState(),zn(i,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(Nn(this._dropDown,this._cssClass),this._cssClass=Dn(e),Fn(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(e){this._showBtn=kn(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(e){this._autoExpand=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(e){this._animate=kn(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;this._elRef==e&&Qn(e,0,this.text.length),this.containsFocus()||this.focus()},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDownChanging.raise(this,e),!e.cancel},t.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)},t.prototype.onGotFocus=function(t){this.isTouching||to(this._dropDown,Kn())||this.selectAll(),e.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){this._commitText(),this.isDroppedDown=!1,e.prototype.onLostFocus.call(this,t)},t.prototype.containsFocus=function(){return e.prototype.containsFocus.call(this)||this.isDroppedDown&&to(this._dropDown,Kn())},t.prototype.dispose=function(){this.isDroppedDown=!1;var t=this._dropDown;if(t){var i=ha.getControl(t);i&&i.dispose(),qn(t),this._dropDown=null}e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t);var i=this.hostElement;if(i&&i.offsetHeight&&this.isDroppedDown){var n=Kn();this.isAnimated&&""!=this._dropDown.style.opacity||ba(this._dropDown,i,!1,!1,null==this.dropDownCssClass),n instanceof HTMLElement&&n!=Kn()&&n.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._dropDownClick=function(e){e.stopPropagation()},t.prototype._expandSelection=function(){var e=this._tbx,t=e.value,i=e.selectionStart,n=e.selectionEnd;if(t&&i==n){var o=this._getCharType(t,i);if(o>-1){for(;n<t.length&&this._getCharType(t,n)==o;n++);for(;i>0&&this._getCharType(t,i-1)==o;i--);i!=n&&Qn(e,i,n)}}},t.prototype._getCharType=function(e,t){var i=e[t];return i>="0"&&i<="9"?0:i>="a"&&i<="z"||i>="A"&&i<="Z"?1:-1},t.prototype._keydown=function(e){if(!e.defaultPrevented)switch(e.keyCode){case Hi.Tab:case Hi.Escape:case Hi.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,e.keyCode==Hi.Tab||this.containsFocus()||this.focus(),e.preventDefault());break;case Hi.F4:case Hi.Up:case Hi.Down:if(e.keyCode==Hi.F4||e.altKey){var t=this.hostElement;t&&t.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,e.preventDefault())}}},t.prototype._btnclick=function(e){e.defaultPrevented||0!=e.button||(this._setFocus=!0,this.isDroppedDown=!this.isDroppedDown,e.preventDefault())},t.prototype._setText=function(e,t){null==e&&(e=""),(e=e.toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e,this.onTextChanged())},t.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(){},t.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var e=this.dropDown;Gn(e,"dir",this.rightToLeft?"rtl":null),ba(e,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(ha);!function(e){e[e.None=0]="None",e[e.ClickOwner=1]="ClickOwner",e[e.ClickPopup=2]="ClickPopup",e[e.Click=3]="Click",e[e.BlurOwner=4]="BlurOwner",e[e.BlurPopup=8]="BlurPopup",e[e.Blur=12]="Blur",e[e.ClickOrBlur=15]="ClickOrBlur",e[e.DownOwner=16]="DownOwner",e[e.DownPopup=32]="DownPopup",e[e.Down=48]="Down",e[e.EnterOwner=64]="EnterOwner",e[e.EnterPopup=128]="EnterPopup",e[e.Enter=192]="Enter",e[e.LeaveOwner=256]="LeaveOwner",e[e.LeavePopup=512]="LeavePopup",e[e.Leave=768]="Leave"}(zr||(zr={})),function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Top=2]="Top",e[e.Right=4]="Right",e[e.Bottom=8]="Bottom",e[e.LeftTop=3]="LeftTop",e[e.RightTop=6]="RightTop",e[e.RightBottom=12]="RightBottom",e[e.LeftBottom=9]="LeftBottom"}(Nr||(Nr={}));var Yr=function(e){function t(t,i){var n=e.call(this,t)||this;n._modal=!1,n._position=la.BelowLeft,n._showTrigger=zr.ClickOwner,n._hideTrigger=zr.Blur,n._hideAnim=[],n._fadeIn=!0,n._fadeOut=!0,n._removeOnHide=!0,n._draggable=!1,n._resizable=!1,n._visible=!1,n._ownerClickBnd=n._ownerClick.bind(n),n._ownerDownBnd=n._ownerDown.bind(n),n._ownerBlurBnd=n._ownerBlur.bind(n),n._ownerEnterBnd=n._ownerEnter.bind(n),n._ownerLeaveBnd=n._ownerLeave.bind(n),n._mousedownBnd=n._mousedown.bind(n),n._mousemoveBnd=n._mousemove.bind(n),n._mousedragBnd=n._mousedrag.bind(n),n._mouseupBnd=n._mouseup.bind(n),n._hideBnd=n.hide.bind(n),n._lastShow=0,n.showing=new Ii,n.shown=new Ii,n.hiding=new Ii,n.hidden=new Ii,n.resizing=new Ii,n.resized=new Ii,n.dragging=new Ii,n.dragged=new Ii,n.sizeChanging=new Ii,n.sizeChanged=new Ii,n.positionChanging=new Ii,n.positionChanged=new Ii;var o=n.hostElement;Fn(o,"wj-control wj-content wj-popup"),o.getAttribute("tabindex")||(o.tabIndex=0),ma(o,!1);var a=n.addEventListener.bind(n);a(o,"compositionstart",(function(){n._composing=!0})),a(o,"compositionend",(function(){n._composing=!1})),a(window,"resize",(function(){!n.isVisible||n._dragged||n.isTouching||n.invalidate()})),a(o,"keydown",(function(e){if(!e.defaultPrevented){if(e.keyCode==Hi.Escape&&!n._composing){var t=n._oldFocus;e.preventDefault(),n.hide(),t&&t.offsetHeight&&t.focus()}if(e.keyCode==Hi.Enter&&!n._composing){var i=n.dialogResultEnter;i&&(e.preventDefault(),n._validateAndHide(i))}e.keyCode==Hi.Tab&&n.modal&&(e.preventDefault(),$n(o,e.shiftKey?-1:1))}})),a(o,"click",(function(e){var t=e.target;if(t instanceof HTMLElement){if(t instanceof HTMLButtonElement&&"submit"==t.type){var i=n.hostElement,o=n.dialogResultSubmit;i instanceof HTMLFormElement&&o&&i.reportValidity()&&(e.preventDefault(),n.hide(o))}var a=t.className.match(/\bwj-hide[\S]*\b/);a&&a.length>0&&(e.preventDefault(),e.stopPropagation(),n.hide(a[0]))}}));var r=n._toggle.bind(n),s=zr;return n.addEventListener(o,"click",(function(e){n._ignoreClick||r(e,s.ClickPopup)}),!0),n.addEventListener(o,"mousedown",(function(e){n._ignoreClick=!1,r(e,s.DownPopup)}),!0),n.addEventListener(o,"mouseenter",(function(e){e.target==o&&r(e,s.EnterPopup)}),!0),n.addEventListener(o,"mouseleave",(function(e){e.target==o&&r(e,s.LeavePopup)}),!0),n.addEventListener(o,"blur",(function(e){n.containsFocus()||r(e,s.BlurPopup)}),!0),a(document,"wheel",(function(e){if(n.isVisible&&n._modal){for(var t=e.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;e.preventDefault()}})),n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){var t=this._owner;t&&(this.removeEventListener(t,"click"),this.removeEventListener(t,"mousedown"),this.removeEventListener(t,"mouseenter"),this.removeEventListener(t,"mouseleave"),this.removeEventListener(t,"blur")),(t=this._owner=null!=e?Zn(e):null)&&(this.addEventListener(t,"click",this._ownerClickBnd,!0),this.addEventListener(t,"mousedown",this._ownerDownBnd,!0),this.addEventListener(t,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(t,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(t,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=En(e,la)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){e!=this.content&&(this.hostElement.innerHTML="",e instanceof HTMLElement&&this.hostElement.appendChild(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(e){this._showTrigger=En(e,zr)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(e){this._hideTrigger=En(e,zr)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(e){this._removeOnHide=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal},set:function(e){this._modal=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggable",{get:function(){return this._draggable},set:function(e){this._draggable=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResizable",{get:function(){return this._resizable},set:function(e){this._resizable=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(e){this._resultSubmit=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&null!=e&&e.offsetHeight>0},enumerable:!0,configurable:!0}),t.prototype.show=function(e,t){var i=this;if(this._lastShow=Date.now(),!this.isVisible){var n=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._hideAnim.forEach((function(e){clearInterval(e)})),this._hideAnim.length=0;var o=new Ai;this.onShowing(o)&&(null!=e&&(this.modal=kn(e)),null!=t&&(this._callback=Vn(t)),this._oldFocus=Kn(),ba(n,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(o),this.modal&&this.addEventListener(window,"focus",(function(){i.containsFocus()||$n(n,0)})),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",(function(e){i._hideTrigger&zr.Blur&&!to(n,e.target,!0)&&i.hide()})),setTimeout((function(){if(!i.isTouching){var e=n.querySelector("[autofocus]");e&&e.clientHeight>0&&!e.disabled&&e.tabIndex>-1&&!io(e,"[disabled],.wj-state-disabled")?(e.focus(),nn(e.select)&&e.select()):$n(n,0)}i.containsFocus()||(n.tabIndex=0,n.focus())}),200))}},t.prototype.hide=function(e){var i=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.isVisible){on(e)||(this.dialogResult=e);var n=new Ai,o=this.hostElement;if(this.onHiding(n)){for(var a=o.querySelectorAll(".wj-control.wj-dropdown"),r=0;r<a.length;r++){var s=ha.getControl(a[r]);s instanceof Gr&&(s.isDroppedDown=!1)}var l=this.removeOnHide,c=this.fadeOut;this._bkDrop&&this._hideAnim.push(ma(this._bkDrop,l,c)),this._hideAnim.push(ma(o,l,c)),this._visible=!1,this._oldFocus=null,this.removeEventListener(window,"focus"),this.containsFocus()&&Kn().blur(),setTimeout((function(){if(i._updateState(),i.onHidden(n),i._callback&&i._callback(i),i.hideTrigger&zr.LeavePopup){var e=ha.getControl(io(i.owner,".wj-popup"));if(e instanceof t&&0!=(e.hideTrigger&zr.Leave)){var o=t._evtHover,a=o?document.elementFromPoint(o.clientX,o.clientY):null,r=ha.getControl(io(a,".wj-popup"));r instanceof t&&!r.isVisible&&(a=null),a&&to(e.hostElement,a,!0)||e.hide()}}}))}}},t.prototype.onShowing=function(e){return this.showing.raise(this,e),!e.cancel},t.prototype.onShown=function(e){this.shown.raise(this,e)},t.prototype.onHiding=function(e){return this.hiding.raise(this,e),!e.cancel},t.prototype.onHidden=function(e){this._wasVisible=!1,this.hidden.raise(this,e)},t.prototype.onResizing=function(e){return this.resizing.raise(this,e),!e.cancel},t.prototype.onResized=function(e){this.resized.raise(this,e)},t.prototype.onDragging=function(e){return this.dragging.raise(this,e),!e.cancel},t.prototype.onDragged=function(e){this.dragged.raise(this,e)},t.prototype.onSizeChanging=function(e){return this.sizeChanging.raise(this,e),!e.cancel},t.prototype.onSizeChanged=function(e){this.sizeChanged.raise(this,e)},t.prototype.onPositionChanging=function(e){return this.positionChanging.raise(this,e),!e.cancel},t.prototype.onPositionChanged=function(e){this.positionChanged.raise(this,e)},t.prototype.onLostFocus=function(t){if(e.prototype.onLostFocus.call(this,t),this._hideTrigger&zr.BlurPopup&&!this.containsFocus()){var i=document.createEvent("Event");i.initEvent("blur",!0,!0),this._toggle(i,zr.BlurPopup)}},t.prototype.dispose=function(){this.owner=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0);var i=this.hostElement;if(e.prototype.refresh.call(this,t),this.isVisible&&!this._refreshing&&i){this._refreshing=!0;var n=Kn();ba(i,this._owner?this._owner.getBoundingClientRect():null,this._position),this._modal&&n instanceof HTMLElement&&n!=Kn()&&n.focus(),this._refreshing=!1}},t.prototype._handleDragResize=function(e){var t=this.hostElement,i=this._draggable?this._getHeaderElement():null,n=this.addEventListener.bind(this),o=this.removeEventListener.bind(this),a=this._mousemoveBnd,r=this._mousedownBnd;e?(n(t,"mousemove",a),n(t,"mousedown",r),n(t,"touchstart",r),i&&(i.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,o(t,"mousemove",a),o(t,"mousedown",r),o(t,"touchstart",r),o(document,"mousemove",this._mousedragBnd),o(document,"mouseup",this._mouseupBnd),i&&(i.style.touchAction=""))},t.prototype._mousemove=function(e){if(!this._mousedownEvt){var t=this.hostElement,i=this._getEdges(t,e),n="",o=Nr;this._edges=i,this._resizable&&(i==o.LeftTop||i==o.RightBottom?n="nwse-resize":i==o.LeftBottom||i==o.RightTop?n="nesw-resize":i==o.Left||i==o.Right?n="ew-resize":i!=o.Top&&i!=o.Bottom||(n="ns-resize")),this._draggable&&!n&&this._getClosestHeader(e.target)&&(n="move"),t.style.cursor=n}},t.prototype._mousedown=function(e){if(!e.defaultPrevented){var t=e.touches&&e.touches.length>0?e.touches[0]:e;if(this._edges=this._getEdges(this.hostElement,t),this._edges||this._draggable&&this._getClosestHeader(e.target)){var i=new Ai;if(this._edges?this.onResizing(i):this.onDragging(i)){this._mousedownEvt=t,this._rcBounds=this.hostElement.getBoundingClientRect();var n=this.addEventListener.bind(this),o=document,a=this._mousedragBnd,r=this._mouseupBnd;n(o,"mousemove",a),n(o,"touchmove",a),n(o,"mouseup",r),n(o,"touchend",r)}}this._ignoreClick=!1}},t.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var e=this.removeEventListener.bind(this),t=document,i=this._mousedragBnd,n=this._mouseupBnd;e(t,"mousemove",i),e(t,"touchmove",i),e(t,"mouseup",n),e(t,"touchend",n),this._resized?this.onResized():this._dragged&&this.onDragged()},t.prototype._mousedrag=function(e){if(!e.defaultPrevented){var i=this.hostElement,n=this._mousedownEvt,o=e.touches&&e.touches.length>0?e.touches[0]:e,a=o.clientX-n.clientX,r=o.clientY-n.clientY,s=this._rcBounds,l=this._edges,c=t._SZ_MIN,d=ho.fromBoundingRect(s);if(l){if(l&Nr.Left?(d.left=s.left+a+(o.pageX-o.clientX),d.width=Math.max(s.width-a,c)):l&Nr.Right&&(d.left=s.left,d.width=Math.max(s.width+a,c)),l&Nr.Top?(d.top=s.top+r+(o.pageY-o.clientY),d.height=Math.max(s.height-r,c)):l&Nr.Bottom&&(d.top=s.top,d.height=Math.max(s.height+r,c)),this.onSizeChanging(new Qr(d))&&(ro(i,{left:d.left,top:d.top,width:d.width,height:d.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var h=this.hostElement.children,u=0;u<h.length;u++)ha.invalidateAll(h[u])}else this._draggable&&(this._dragged||Math.abs(a)+Math.abs(r)>t._DRAG_THRESHOLD)&&(d.left=Math.max(s.left+a+(o.pageX-o.clientX),50-s.width),d.top=Math.max(s.top+r+(o.pageY-o.clientY),0),this.onPositionChanging(new Qr(d))&&(ro(i,{left:d.left,top:d.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},t.prototype._getEdges=function(e,i){var n=0;if(this._resizable){var o=e.getBoundingClientRect(),a=t._SZ_EDGE;i.clientX-o.left<a&&(n|=Nr.Left),i.clientY-o.top<a&&(n|=Nr.Top),o.right-i.clientX<a&&(n|=Nr.Right),o.bottom-i.clientY<a&&(n|=Nr.Bottom)}return n},t.prototype._ownerClick=function(e){this._toggle(e,zr.ClickOwner)},t.prototype._ownerDown=function(e){this._wasVisible=this.isVisible,this._toggle(e,zr.DownOwner)},t.prototype._ownerBlur=function(e){to(this._owner,Kn())||this._toggle(e,zr.BlurOwner)},t.prototype._ownerEnter=function(e){e.target==this._owner&&this._toggle(e,zr.EnterOwner)},t.prototype._ownerLeave=function(e){e.target==this._owner&&this._toggle(e,zr.LeaveOwner)},t.prototype._toggle=function(e,i){var n=this;if(e instanceof MouseEvent&&(t._evtHover=e),!("mouseenter"==e.type&&Date.now()-this._lastShow<300||e.defaultPrevented)){var o=0!=(this._hideTrigger&i),a=0!=(this._showTrigger&i),r=zr;(o||a)&&(this._toHide&&(clearTimeout(this._toHide),this._toHide=null),this._toShow&&(clearTimeout(this._toShow),this._toShow=null)),o&&this.isVisible&&(i&r.Leave?this._toHide=setTimeout((function(){var e=t._evtHover,i=e?document.elementFromPoint(e.clientX,e.clientY):null;i&&to(n.hostElement,i,!0)||n.hide()}),ha._LEAVE_DELAY):i&r.Blur?setTimeout((function(){n.containsFocus()||to(n._owner,Kn())||n.hide()}),ha._FOCUS_INTERVAL+50):this.hide()),a&&i!=r.ClickPopup&&(this._wasVisible||(i&r.Enter?this._toShow=setTimeout((function(){n.show()}),ha._HOVER_DELAY):this.show()))}},t.prototype._getHeaderElement=function(){var e=this.hostElement;return e.querySelector(".wj-dialog-header")||e.querySelector(".modal-header")},t.prototype._getClosestHeader=function(e){return io(e,".wj-dialog-header")||io(e,".modal-header")},t.prototype._showBackdrop=function(){var e=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,Fn(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",(function(t){t.preventDefault(),t.stopPropagation(),e.hostElement.focus(),e.hideTrigger&zr.Blur&&e.hide()}))),ro(this._bkDrop,{zIndex:ha._POPUP_ZINDEX,display:""});var t=this.hostElement;t.parentElement.insertBefore(this._bkDrop,t)},t.prototype._validateAndHide=function(e){var t=this.hostElement;if(t instanceof HTMLFormElement)t.reportValidity()&&this.hide(e);else{var i=this.hostElement.querySelector(":invalid");i?i.focus():this.hide(e)}},t._DRAG_THRESHOLD=6,t._SZ_EDGE=10,t._SZ_MIN=40,t}(ha),Qr=function(e){function t(t){var i=e.call(this)||this;return i._rc=t,i}return Er(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),t}(Ai),Wr=function(e){function t(t,i){var n=e.call(this,t)||this;if(n._format="d",n.valueChanged=new Ii,Fn(n.hostElement,"wj-inputdate"),n._msk=new Co(n._tbx),Bo()||(n.inputType="tel"),n._tbx.type.match(/^(tel|text|)$/i)&&(n.inputType=""),n.addEventListener(n.hostElement,"wheel",(function(e){if(!e.defaultPrevented&&!n.isDroppedDown&&n.containsFocus()&&null!=n.value&&n._canChangeValue()){var t=_n(-e.deltaY,-1,1);n.value=n.selectionMode==Br.Month||e.shiftKey?uo.addMonths(n.value,t):uo.addDays(n.value,t),n.selectAll(),e.preventDefault()}})),n.value=uo.newDate(),"INPUT"==n._orgTag){var o=n._tbx.getAttribute("value");o&&(n.value=_o.parseDate(o,"yyyy-MM-dd"))}return n.isRequired=!0,n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){uo.equals(this._value,e)?this._tbx.value=_o.format(e,this.format):(e=Ln(e,!this.isRequired||null==e&&null==this.value),e=this._clamp(e),this._isValidDate(e)?(this._tbx.value=e?_o.format(e,this.format):"",e==this._value||uo.equals(this._value,e)||(this._value=e,this.onValueChanged())):this._tbx.value=e?_o.format(this.value,this.format):"",this._calChanging=!0,this._calendar.value=this.value,this._calChanging=!1,this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(e){this.calendar.selectionMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._calendar.min},set:function(e){this._calendar.min=Ln(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._calendar.max},set:function(e){this._calendar.max=Ln(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return this.calendar.repeatButtons},set:function(e){this.calendar.repeatButtons=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this.calendar.showYearPicker},set:function(e){this.calendar.showYearPicker=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=Dn(e),this._tbx.value=_o.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._calendar.itemValidator},set:function(e){e!=this.itemValidator&&(this._calendar.itemValidator=Vn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this.calendar.itemFormatter},set:function(e){e!=this.itemFormatter&&(this.calendar.itemFormatter=Vn(e))},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){this._msk&&this._msk.refresh(),this._calendar&&this._calendar.refresh();var i=_o.format(this.value,this.format);i!=this.text&&(this._tbx.value=i,this.onTextChanged())}},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._calChanged=!1,this.dropDown.focus(),this._calendar.refresh())},t.prototype._createDropDown=function(){var e=this;this._calendar=new Fr(this._dropDown),this._calendar.valueChanged.addHandler((function(){e._calChanging||(e.value=uo.fromDateTime(e._calendar.value,e.value),e._calChanged=!0)})),this.addEventListener(this._dropDown,"click",(function(t){var i=t.target;if(io(i,".wj-calendar-header")){var n=io(i,".wj-btn");if(n&&"btn-today"==n.getAttribute("wj-part"))return void(e.isDroppedDown=!1)}Hn(i,"wj-state-invalid")||io(i,".wj-header")||!io(i,".wj-calendar-month")&&!io(i,".wj-calendar-year")||e.selectionMode!=Br.Month&&io(i,".wj-calendar-year")||(e._calChanged||io(i,".wj-state-selected"))&&(e.isDroppedDown=!1)}))},t.prototype._updateDropDown=function(){this._commitText();var t=this._calendar;t.value=this.value,t.min=this.min,t.max=this.max,this.selectionMode!=Br.Month&&(t.monthView=!0);var i=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(i.fontSize)+"px",this._calendar.refresh(),e.prototype._updateDropDown.call(this)},t.prototype._keydown=function(t){if(!(t.defaultPrevented||t.altKey||t.ctrlKey||t.metaKey))switch(t.keyCode){case Hi.Enter:this._commitText(),this.selectAll();break;case Hi.Escape:this.text=_o.format(this.value,this.format),this.selectAll();break;case Hi.Up:case Hi.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var i=t.keyCode==Hi.Up?1:-1;this.value=this.selectionMode==Br.Month||t.shiftKey?uo.addMonths(this.value,i):uo.addDays(this.value,i),this.selectAll(),t.preventDefault()}}e.prototype._keydown.call(this,t)},t.prototype._canChangeValue=function(){return!this.isReadOnly&&this.selectionMode!=Br.None},t.prototype._clamp=function(e){return this.calendar._clamp(e)},t.prototype._commitText=function(){var e=this._tbx.value;if(e||this.isRequired){var t=_o.parseDate(e,this.format,this.value);t?(this._isValidDate(t)||this.onInvalidInput(new Ai))&&(this.value=uo.fromDateTime(t,this.value)):this.onInvalidInput(new Ai)&&(this.text=_o.format(this.value,this.format))}else this.value=null},t.prototype._isValidDate=function(e){if(e){if(this._clamp(e)!=e)return!1;if(this.itemValidator&&!this.itemValidator(e))return!1}return!0},t}(Gr),qr=function(e){function t(t,i){var n=e.call(this,t)||this;return n.valueChanged=new Ii,Fn(n.hostElement,"wj-inputcolor"),n._ePreview=Xn('<div class="wj-inputcolorbox"></div>',n.hostElement.firstElementChild),"INPUT"==n._orgTag&&(n._tbx.type="",n._commitText()),n.value="#ffffff",n.isRequired=!0,n.initialize(i),n.addEventListener(n._colorPicker.hostElement,"click",(function(e){var t=e.target;t&&"DIV"==t.tagName&&(io(t,'[wj-part="div-pal"]')||io(t,'[wj-part="div-pv"]'))&&t.style.backgroundColor&&(n.isDroppedDown=!1)})),n}return Er(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e!=this.value&&(!e&&this.isRequired||(this.text=Dn(e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(Dn(e),!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(e){this._colorPicker.showColorString=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&!this.isTouching&&this.selectAll()},t.prototype._createDropDown=function(){var e=this;this._colorPicker=new Rr(this._dropDown),ro(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler((function(){e.value=e._colorPicker.value}))},t.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case Hi.Enter:this._commitText(),this.selectAll();break;case Hi.Escape:this.text=this.value,this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,void(this._ePreview.style.backgroundColor="");if(go.fromString(this.text)){var e=this._colorPicker;e.value=this.text,this._value=e.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new Ai)&&(this.text=this._value?this._value:"")}},t}(Gr),Kr=function(e){function t(t,i){var n=e.call(this,t)||this;n._editable=!1,n._trimText=!0,n._delKey=0,n._pathHdr=new Pi(null),n._bsCollapse=!0,n._fmtItemHandlers=0,n.itemsSourceChanged=new Ii,n.selectedIndexChanged=new Ii;var o=n.hostElement;Fn(o,"wj-combobox"),n.dropDown.id=cn(o.id+"_dropdown"),n.autoExpandSelection=!1;var a=n._tbx;n.addEventListener(a,"compositionstart",(function(){n._composing=!0})),n.addEventListener(a,"compositionend",(function(){n._composing=!1,n._setText(n.text,!0)})),n.addEventListener(o,"wheel",n._wheel.bind(n)),"SELECT"==n._orgTag&&n._lbx._initFromSelect(o);var r=n._lbx;return r.loadedItems.addHandler((function(e){n.selectedIndex>-1&&(n.selectedIndex=r.selectedIndex)})),n.isRequired=!0,n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource!=e&&(this._lbx.itemsSource=e,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(e){this._pathHdr.path=Dn(e);var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){if(e!=this.isContentHtml){this._lbx.isContentHtml=kn(e);var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimText",{get:function(){return this._trimText},set:function(e){e!=this._trimText&&(this._trimText=kn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(e){this._lbx.itemFormatter=Vn(e),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this.listBox.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){e!=this.selectedIndex&&Xi(e)&&(this._lbx.selectedIndex=e);var t=this.getDisplayText(e=this.selectedIndex);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(e){this.collectionView?this._lbx.selectedValue=e:null!=e&&(this.text=e.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=Sn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown;return e?parseInt(e.style.maxWidth):0},set:function(e){var t=this._dropDown;t.style.maxWidth=Sn(e)+"px",t.style.minWidth=""},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(e,t){void 0===e&&(e=this.selectedIndex),void 0===t&&(t=this._trimText);var i,n=this.collectionView;if(this.headerPath&&e>-1&&Pn(n)){var o=n.items[e];i=null!=(i=o?this._pathHdr.getValue(o):null)?i.toString():"",this.isContentHtml&&(i=jn(i))}else i=this._lbx.getDisplayText(e);return t?i.trim():i},t.prototype.indexOf=function(e,t){var i=this.collectionView,n=this.caseSensitiveSearch;if(Pn(i)&&null!=e){e=e.toString(),n||(e=e.toLowerCase());var o=this.selectedIndex,a=this.getDisplayText(o);if(t&&(n||(a=a.toLowerCase()),e==a))return o;for(var r=0;r<i.items.length;r++)if(this.listBox.isItemEnabled(r))if(a=this.getDisplayText(r),n||(a=a.toLowerCase()),t){if(a==e)return r}else if(e&&0==a.indexOf(e))return r}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this._updateBtn(),this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&Pn(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&Pn(this.collectionView)&&(this.selectedIndex=0),e.prototype.onLostFocus.call(this,t)},t.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDown||this._hasItems()?e.prototype.onIsDroppedDownChanging.call(this,t):(t.cancel=!0,!1)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},t.prototype._updateBtn=function(){var t=this.collectionView,i=this._tbx,n=this._hasItems();e.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=t?"":"none",oo(this._btn,n),Gn(i,"role",n?"combobox":null),Gn(i,"aria-autocomplete",n?"both":null),this._updateAria()},t.prototype._hasItems=function(){return Pn(this.collectionView)},t.prototype._updateAria=function(){var e=this._tbx,t=this.isDroppedDown,i=this.dropDown?this.dropDown.id:null,n=i&&Pn(this.collectionView);Gn(e,"aria-owns",n&&t?i:null),Gn(e,"aria-expanded",n?t:null)},t.prototype._createDropDown=function(){var e=this;this._lbx||(this._lbx=new Tr(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler((function(){e._updateBtn();var t=e._lbx.selectedIndex,i=e._lbx.hostElement.children,n=t>-1&&t<i.length?i[t].id:null;Gn(e._tbx,"aria-activedescendant",n&&n.length?n:null),e.selectedIndex=t,e.onSelectedIndexChanged()})),this._lbx.itemsChanged.addHandler((function(){e._updateBtn()}))},t.prototype._wheel=function(e){if(!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var t=this._findNext("",e.deltaY>0?1:-1);t>-1&&(this.selectedIndex=t),e.preventDefault()}},t.prototype._dropDownClick=function(t){t.defaultPrevented||t.target!=this._dropDown&&(this.isDroppedDown=!1),e.prototype._dropDownClick.call(this,t)},t.prototype._setText=function(t,i){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var n=this.formatItem.handlerCount;this._fmtItemHandlers!=n&&(this._fmtItemHandlers=n,this._lbx.loadList())}null==t&&(t=""),t=t.toString();var o=this.selectedIndex,a=this.collectionView,r=this._getSelStart(),s=-1,l=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<t.length||!this.containsFocus())&&(i=!0,l=!1),o=this.indexOf(t,i),l&&(o<0&&i&&(o=this.indexOf(t,!1)),o<0&&r>0&&(o=this.indexOf(t.substr(0,r),!1))),o<0&&!this.isEditable&&Pn(a)&&(this.isRequired||t)){var c=this._oldText||"";o=Math.max(0,this.indexOf(c,!1));for(var d=0;d<t.length&&d<c.length;d++)if(t[d]!=c[d]){r=d;break}}o>-1&&(s=r,t=this.getDisplayText(o));var h=this._tbx;t!=h.value&&(h.value=t),s>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(s),a&&a.moveCurrentToPosition(o),this._delKey=0,this._settingText=!1,e.prototype._setText.call(this,t,i)}},t.prototype._findNext=function(e,t){var i=this.selectedIndex,n=this.collectionView,o=n?n.items.length:0,a=this.listBox,r=this.caseSensitiveSearch;if(n&&o&&t){r||(e=e.toLowerCase());for(var s=i+t;s>-1&&s<o;s+=t){var l=this.getDisplayText(s);if(r||(l=l.toLowerCase()),0==l.indexOf(e)&&(!this.dropDown.children[s]||a.isItemEnabled(s)))return s}}return i},t.prototype._keydown=function(t){if(e.prototype._keydown.call(this,t),!t.defaultPrevented&&!this.isReadOnly&&!t.altKey&&Pn(this.collectionView)&&this._elRef==this._tbx){this._delKey=0;var i=this._getSelStart();switch(t.keyCode){case Hi.Back:if(this._bsCollapse&&!this.isEditable){var n=this._getSelEnd();i>0&&n==this._tbx.value.length&&Pn(this.collectionView)&&this._setSelRange(i-1,n)}this._delKey=t.keyCode;break;case Hi.Delete:this._delKey=t.keyCode;break;case Hi.Up:case Hi.Down:i==this.text.length&&(i=0),this.selectedIndex=this._findNext(this.text.substr(0,i),t.keyCode==Hi.Up?-1:1),this._setSelRange(i,this.text.length),t.preventDefault();break;case Hi.PageUp:this._lbx._selectPrevPage(),this.selectAll(),t.preventDefault();break;case Hi.PageDown:this._lbx._selectNextPage(),this.selectAll(),t.preventDefault()}}},t.prototype._updateInputSelection=function(e){var t=this._tbx;this._elRef==t&&this._setSelRange(e,t.value.length)},t.prototype._getSelStart=function(){var e=this._tbx;return e&&e.value?e.selectionStart:0},t.prototype._getSelEnd=function(){var e=this._tbx;return e&&e.value?e.selectionEnd:0},t.prototype._setSelRange=function(e,t){var i=this._tbx;this._elRef!=i||i.readOnly||Qn(i,e,t)},t}(Gr);wo("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var $r=function(e){function t(t,i){var n=e.call(this,t)||this;return n._maxHdrItems=2,n._readOnly=!1,n._hdrFmt=null,n.checkedItemsChanged=new Ii,Fn(n.hostElement,"wj-multiselect"),n._tbx.readOnly=!0,n.checkedMemberPath=null,n.removeEventListener(n.dropDown,"click"),n.listBox.itemsChanged.addHandler((function(){n._updateHeader()})),n.listBox.checkedItemsChanged.addHandler((function(){n._updateHeader(),n.onCheckedItemsChanged()})),n.clickAction=Hr.Toggle,n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(e){this._msLbx.showSelectAllCheckbox=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(e){this._msLbx.showFilterInput=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(e){this._msLbx.filterInputPlaceholder=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._msLbx.checkOnFilter=kn(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(e){this._msLbx.selectAllLabel=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(e){this._msLbx.checkedMemberPath=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(e){this._maxHdrItems!=e&&(this._maxHdrItems=Sn(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(e){e!=this._hdrFmt&&(this._hdrFmt=Dn(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(e){e!=this._hdrFormatter&&(this._hdrFormatter=Vn(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(e){this._msLbx.checkedItems=On(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.dispose=function(){this.listBox.dispose(),e.prototype.dispose.call(this)},t.prototype.onIsDroppedDownChanged=function(t){var i=this;e.prototype.onIsDroppedDownChanged.call(this,t),setTimeout((function(){i.isDroppedDown&&i.containsFocus()&&(i.showFilterInput&&!i.isTouching?i._msLbx._filter.focus():(i.listBox.showSelection(!0),i.listBox.focus()))}))},t.prototype._createDropDown=function(){var t=Xn("<div></div>",this._dropDown);this._msLbx=new jr(t),this._lbx=this._msLbx.listBox,e.prototype._createDropDown.call(this)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=kn(e),zn(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&this._updateHeader()},t.prototype._setText=function(e,t){},t.prototype._keydown=function(t){e.prototype._keydown.call(this,t),!t.defaultPrevented&&Pn(this.collectionView)&&t.keyCode>32&&(this.isDroppedDown=!0)},t.prototype._hasItems=function(){var e=this.collectionView,t=e?e.sourceCollection:null;return Pn(e)||t&&t.length&&this.showFilterInput},t.prototype._updateHeader=function(){var e=this.checkedItems;if(nn(this._hdrFormatter))this.inputElement.value=this._hdrFormatter(this);else{var t="";if(e.length>0)if(e.length<=this._maxHdrItems){if(this.displayMemberPath){var i=new Pi(this.displayMemberPath);e=e.map((function(e){return i.getValue(e)}))}this.isContentHtml&&(e=e.map((function(e){return jn(e)}))),t=e.join(", ")}else t=mn(this.headerFormat||yo.MultiSelect.itemsSelected,{count:e.length});this.inputElement.value=t}this._updateState()},t._DEF_CHECKED_PATH="$checked",t}(Kr),Jr=function(e){function t(t,i){var n=e.call(this,t)||this;n._isButton=!1,n._openOnHover=!1,n._closeOnLeave=!0,n._hoverEnterBnd=n._hoverEnter.bind(n),n._hoverLeaveBnd=n._hoverLeave.bind(n),n._hoverOverBnd=n._hoverOver.bind(n),n.itemClicked=new Ii;var o=n.hostElement,a=n._tbx,r=n._lbx,s=n.dropDown;Fn(o,"wj-menu"),a.style.display="none",n._hdr=n._elRef=Xn('<div wj-part="header" class="wj-form-control"/>'),a.parentElement.insertBefore(n._hdr,n._tbx);var l=n._orgOuter.match(/tabindex="?(-?\d+)"?/i);return o.tabIndex=l?parseInt(l[1]):0,n.isRequired=!1,Gn(o,"role","menubar",!0),Gn(a,"role",null),Gn(a,"aria-autocomplete",null),Gn(a,"aria-owns",null),Gn(s,"role","menu"),r.itemRole="menuitem","SELECT"==n._orgTag&&(n.header=o.getAttribute("header"),n._lbx.itemsSource&&(n.commandParameterPath="cmdParam")),n.isContentHtml=!0,n.maxDropDownHeight=500,n.addEventListener(n._hdr,"click",(function(e){e.defaultPrevented||(n._clearHover(e),n._isButton?(n.isDroppedDown=!1,n._raiseCommand()):n.isDroppedDown=!n.isDroppedDown)})),r.lostFocus.addHandler((function(){n.containsFocus()||(n.isDroppedDown=!1)})),Fn(s,"wj-menu-items"),r.formatItem.addHandler(n._formatMenuItem.bind(n)),n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(e){this._hdr.innerHTML=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._cmd},set:function(e){this._cmd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(e){this._cmdPath=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(e){this._cmdParamPath=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(e){e!=this._subPath&&(this._subPath=e,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(e){this._openOnHover=kn(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(e){this._closeOnLeave=kn(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isButton",{get:function(){return this._isButton},set:function(e){this._isButton=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=Un(e,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),t.prototype.show=function(e){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new Ai))){var t=this.dropDown,i=this.owner;!i&&e instanceof MouseEvent&&(i=e.target),i instanceof HTMLElement&&(t[ha._OWNR_KEY]=i),e instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(e=new lo(e.pageX-pageXOffset-2,e.pageY-pageYOffset-2)),ba(t,e,!1,this.isAnimated),this.onIsDroppedDownChanged(),t.focus()}},t.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new Ai)&&(ma(this.dropDown),this.onIsDroppedDownChanged())},t.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&this._enableDisableItems()},t.prototype.onIsDroppedDownChanged=function(t){if(e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown)this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus();else{this.selectedItem||(this.selectedItem=this._defaultItem);var i=this._subMenu;i&&(i.isDroppedDown=!1)}},t.prototype._updateHoverEvents=function(){var e=this.hostElement,t=this.dropDown,i=this.addEventListener.bind(this),n=this.removeEventListener.bind(this),o="mouseleave";n(e,"mouseenter",this._hoverEnterBnd),n(e,o,this._hoverLeaveBnd),n(t,"mouseover",this._hoverOverBnd),n(t,o,this._hoverLeaveBnd),this._openOnHover&&(i(e,"mouseenter",this._hoverEnterBnd),i(t,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(i(e,o,this._hoverLeaveBnd),i(t,o,this._hoverLeaveBnd)))},t.prototype._getSubItems=function(e){var t=this.subItemsPath,i=e&&t?e[t]:null;return rn(i)&&i.length?i:null},t.prototype._formatMenuItem=function(e,t){var i=t.item;this._getSubItems(t.data)?Fn(i,"wj-subitems"):"-"==i.innerHTML&&(i.innerHTML="",Fn(i,"wj-separator"))},t.prototype._keydown=function(i){if(!i.defaultPrevented){var n=this._getKeyCode(i);if(this.isDroppedDown)switch(n){case Hi.Enter:case Hi.Right:if(this._showSubMenu())return void i.preventDefault();break;case Hi.Left:var o=ha.getControl(this.owner);if(o instanceof t){var a=o.dropDown,r=o.selectedIndex;return(r>-1?a.children[r]:a).focus(),void i.preventDefault()}}n==Hi.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,i.preventDefault()))}e.prototype._keydown.call(this,i)},t.prototype._dropDownClick=function(t){if(!t.defaultPrevented&&t.target!=this.dropDown){if(this._clearHover(t),this._showSubMenu())return void t.preventDefault();this.selectedIndex>-1&&this._raiseCommand()}e.prototype._dropDownClick.call(this,t)},t.prototype._showSubMenu=function(){var e=this,i=this._getSubItems(this.selectedItem);if(!i)return null;var n=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),o=new lo(n.right,n.top);if(0==n.height)return null;var a=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");a&&(o.x=n.left);var r=this._subMenu;r&&(r.isDroppedDown=!1),r=new t(document.createElement("div"),{owner:this.hostElement,itemsSource:i,itemClicked:function(t,i){e.itemClicked.raise(t,i)}}),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach((function(t){r[t]=e[t]}));var s=r.dropDown;return Gn(s,"dir",a?"rtl":null),r.show(o),s[ha._OWNR_KEY]=this.dropDown,s.focus(),r},t.prototype._raiseCommand=function(e){var i=this.selectedItem,n=this._getSubItems(i),o=this._getCommand(i);if(o&&!n){var a=this._getCommandParm(i);if(!this._canExecuteCommand(o,a))return;this._executeCommand(o,a)}if(this.onItemClicked(e),this.containsFocus()){for(var r=this;r&&r.owner;){var s=ha.getControl(r.owner);if(!(s instanceof t))break;r=s}var l=r.owner;!l&&r.dropDown&&(l=r.dropDown[ha._OWNR_KEY]),r.isDroppedDown=!1,r.focus(),r.containsFocus()||l instanceof HTMLElement&&l.focus()}},t.prototype._getCommand=function(e){return(e&&this._cmdPath?e[this._cmdPath]:null)||this._cmd},t.prototype._getCommandParm=function(e){var t=this._cmdParamPath;return e&&t?e[t]:e},t.prototype._executeCommand=function(e,t){e&&!nn(e)&&(e=e.executeCommand),nn(e)&&e(t)},t.prototype._canExecuteCommand=function(e,t){if(e){var i=e.canExecuteCommand;if(nn(i))return i(t)}return!0},t.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var e=this.collectionView.items,t=0;t<e.length;t++){var i=e[t],n=this._getCommand(i);if(n){var o=this._lbx.hostElement.children[t],a=this._getCommandParm(i);zn(o,"wj-state-disabled",!this._canExecuteCommand(n,a))}}},t.prototype._clearHover=function(e){this._toHover&&clearTimeout(this._toHover),this._toHover=null,t._evtHover=e},t.prototype._hoverEnter=function(e){var t=this;this._clearHover(e),this._toHover=setTimeout((function(){t._toHover=null,t.isDroppedDown=!0}),ha._HOVER_DELAY)},t.prototype._hoverLeave=function(e){var i=this;this._clearHover(e),this.isDroppedDown&&(this._toHover=setTimeout((function(){var n=(e=t._evtHover)?document.elementFromPoint(e.clientX,e.clientY):null,o=io(n,".wj-listbox.wj-menu-items"),a=i._subMenu;o||to(i.hostElement,n,!0)||(i.isDroppedDown=!1,a&&(a.isDroppedDown=!1))}),ha._LEAVE_DELAY))},t.prototype._hoverOver=function(e){var t=this;this._clearHover(e),this._toHover=setTimeout((function(){t._toHover=null;var i=t.listBox.indexOf(e.target);i>-1&&(t.selectedIndex=i,t._subMenu=t._showSubMenu())}),ha._HOVER_DELAY)},t}(Kr),Zr=function(e){function t(t,i){var n=e.call(this,t)||this;if(n._format="t",n.valueChanged=new Ii,Fn(n.hostElement,"wj-inputtime"),n.isEditable=!0,n._value=uo.newDate(),n._msk=new Co(n._tbx),Bo()||(n._tbx.type="tel"),"INPUT"==n._orgTag){var o=n._tbx.getAttribute("value");o&&(n.value=_o.parseDate(o,"HH:mm:ss"))}return n.step=15,n.autoExpandSelection=!0,n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){(e=Ln(e,!this.isRequired))&&(e=this._clamp(e)),this._setText(e?_o.format(e,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(e=uo.fromDateTime(e,this.selectedItem.value)),e==this._value||uo.equals(e,this._value)||(this._value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=Ln(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=Ln(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!=this.step&&(this._step=e,this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=Dn(e),this._tbx.value=_o.format(this.value,this.format),Pn(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=Dn(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onItemsSourceChanged=function(t){e.prototype.onItemsSourceChanged.call(this,t),this._hasCustomItems=null!=this.itemsSource},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&(this._msk.refresh(),this._tbx.value=_o.format(this.value,this.format),this._updateItems())},t.prototype.onSelectedIndexChanged=function(t){if(this.selectedIndex>-1&&!this._settingText){var i=this.value?this.value:uo.newDate(),n=null!=this.selectedItem.value?this.selectedItem.value:_o.parseDate(this.text,this.format,this.value);this.value=uo.fromDateTime(i,n)}e.prototype.onSelectedIndexChanged.call(this,t)},t.prototype._clamp=function(e){return null!=this._min&&this._getTime(e)<this._getTime(this._min)&&(e=uo.fromDateTime(e,this._min)),null!=this._max&&this._getTime(e)>this._getTime(this._max)&&(e=uo.fromDateTime(e,this._max)),e},t.prototype._wheel=function(t){if(!t.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&Xi(this.step)&&this.step>0){var i=uo.addMinutes(this.value,this.step*_n(t.deltaY,-1,1));this.value=this._clamp(i),this.selectAll(),t.preventDefault()}e.prototype._wheel.call(this,t)},t.prototype._updateInputSelection=function(t){if(this._delKey)e.prototype._updateInputSelection.call(this,t);else{for(var i=this._tbx.value;t<i.length&&!i[t].match(/[a-z0-9]/i);)t++;Qn(this._tbx,t,this._tbx.value.length)}},t.prototype._updateItems=function(){if(!this._hasCustomItems){var e=[],t=uo.newDate(0,0,0,0,0),i=uo.newDate(0,0,0,23,59,59),n=this.step;if(this.min&&t.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&i.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),Xi(n)&&n>0)for(var o=t;o<=i;o=uo.addMinutes(o,n))e.push({value:o,text:_o.format(o,this.format)});var a=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=e,this._hasCustomItems=!1,this._settingText=!1,this.value=a}},t.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},t.prototype._keydown=function(t){if(e.prototype._keydown.call(this,t),!t.defaultPrevented)switch(t.keyCode){case Hi.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case Hi.Escape:this.text=_o.format(this.value,this.format),this.selectAll()}},t.prototype._commitText=function(){if(this.text||this.isRequired){var e=this.value?_o.format(this.value,this.format):"";if(this.text!=e){var t=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:_o.parseDate(this.text,this.format,this.value);t?(uo.sameTime(t,this._clamp(t))||this.onInvalidInput(new Ai))&&(this.value=uo.fromDateTime(this.value,t)):this.onInvalidInput(new Ai)&&(this.text=e)}}else this.value=null},t}(Kr);wo("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var Xr=function(e){function t(t,i){var n=e.call(this,t)||this;Fn(n.hostElement,"wj-inputdatetime");var o=yo.InputDateTime.ariaLabels;Yn(n._btn,o.tglDate),Yn(n._btnTm,o.tglTime),n.format="g",n._inputTime=new Zr(document.createElement("div"),{valueChanged:function(e){n.value=uo.fromDateTime(n.value,e.value)}});var a=n.addEventListener.bind(n);n._btnTm=n.hostElement.querySelector('[wj-part="btn-tm"]'),a(n._btnTm,"mousedown",(function(e){n._btnclick(e)}));var r=n._inputTime.dropDown;return a(r,"keydown",n._keydown.bind(n),!0),a(r,"blur",(function(){n._updateFocusState()}),!0),a(r,"click",(function(e){e.defaultPrevented||e.target!=r&&n.hostElement.focus()}),!0),n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(e){this._inputTime.step=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),t.prototype._btnclick=function(t){var i=io(t.target,"button")==this._btn?this.calendar.hostElement:this._inputTime.dropDown;this._setDropdown(i),e.prototype._btnclick.call(this,t)},t.prototype.dispose=function(){this._setDropdown(this.calendar.hostElement),e.prototype.dispose.call(this),this._inputTime.dispose()},t.prototype.refresh=function(t){void 0===t&&(t=!0),this._inputTime.refresh(),e.prototype.refresh.call(this,t)},t.prototype._updateBtn=function(){e.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},t.prototype._clamp=function(e){return e&&(this.min&&e<this.min&&(e=this.min),this.max&&e>this.max&&(e=this.max)),e},t.prototype._commitText=function(){var e=this._tbx.value;if(e||this.isRequired){var t=_o.parseDate(e,this.format,this.value);t?uo.equals(t,this._clamp(t))||this.onInvalidInput(new Ai)?this.value=t:this.focus():this.onInvalidInput(new Ai)?this.text=_o.format(this.value,this.format):this.focus()}else this.value=null},t.prototype._setDropdown=function(e){if(this._dropDown==e)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var t=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=e,this.dropDownCssClass=t,!0},t.prototype._updateDropDown=function(){var t=this._inputTime;this._dropDown==t.dropDown?(this._commitText(),e.prototype._updateDropDown.call(this),t.isRequired=this.isRequired&&null!=this.value,t.value=this.value,this.isDroppedDown&&t.listBox.showSelection()):e.prototype._updateDropDown.call(this)},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(Wr),es=function(e){function t(t,i){var n=e.call(this,t)||this;return n._cssMatch="wj-state-match",n._minLength=2,n._maxItems=6,n._itemCount=0,n._delay=ha._SEARCH_DELAY,n._query="",n._inCallback=!1,n._srchProps=[],Fn(n.hostElement,"wj-autocomplete"),n._bsCollapse=!1,n.isEditable=!0,n.isRequired=!1,n.listBox.formatItem.addHandler(n._formatListItem,n),n._itemsSourceFnCallbackBnd=n._itemSourceFunctionCallback.bind(n),n.initialize(i),n}return Er(t,e),Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=Sn(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxItems",{get:function(){return this._maxItems},set:function(e){this._maxItems=Sn(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=Sn(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(e){this._srchProp=Dn(e),this._srchProps=e?e.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(e){this._itemsSourceFn=Vn(e),nn(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(e){this._cssMatch=Dn(e)},enumerable:!0,configurable:!0}),t.prototype._keydown=function(t){if(!t.defaultPrevented&&this.isDroppedDown)switch(t.keyCode){case Hi.Up:case Hi.Down:this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._setText=function(e){var t=this;if(!(this._inCallback||this._composing||this._settingText)){if(this.selectedIndex>-1&&this.getDisplayText()!=e&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),e!=this._oldText){var i=this._tbx;i.value!=e&&(i.value=e),this._oldText=e,this.onTextChanged();var n=this.collectionView;if(!e&&n)return(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,void(n.filter=null)}this._toSearch&&clearTimeout(this._toSearch),e!=this.getDisplayText()&&(this._toSearch=setTimeout((function(){t._toSearch=null;var e=t.text.trim();if(e.length>=t._minLength&&e!=t._query){t._query=e;var i=In(e=Bn(e)),n=t.caseSensitiveSearch?"g":"ig";t._rxSrch=new RegExp("(?=.*"+e.replace(/ /g,")(?=.*")+")",n),t._rxHighlight=new RegExp("("+i.replace(/\s+/g,"|")+")",n);var o=t.itemsSourceFunction;nn(o)?o(t._query,t.maxItems,t._itemsSourceFnCallbackBnd):t._updateItems()}}),this._delay))}},t.prototype._itemSourceFunctionCallback=function(e){this._inCallback=!0;var t=Mn(e);if(t&&t.moveCurrentToPosition(-1),this.itemsSource=t,this._inCallback=!1,this.containsFocus()){var i=this._tbx,n=i.selectionStart,o=i.selectionEnd,a=this.collectionView;this.isDroppedDown=null!=a&&a.items.length>0,Qn(i,n,o),this.refresh()}},t.prototype.onIsDroppedDownChanged=function(t){if(e.prototype.onIsDroppedDownChanged.call(this,t),this.containsFocus()&&!this.isTouching&&this.selectedIndex<0){var i=this.collectionView.items,n=this.text;1==i.length&&i[0]==n?this.selectedIndex=0:Qn(this._tbx,n.length)}this._query=""},t.prototype._updateItems=function(){var e=this.collectionView;if(e){this._inCallback=!0,e.beginUpdate(),this._itemCount=0,e.filter=this._filter.bind(this),e.moveCurrentToPosition(-1),e.endUpdate(),this._inCallback=!1;var t=e.items.length,i=this._tbx,n=i.selectionStart,o=i.selectionEnd;this.isDroppedDown=t>0&&this.containsFocus(),t||this.isEditable||(this.selectedIndex=-1),this.isDroppedDown&&Qn(i,n,o),this.refresh()}},t.prototype._filter=function(e){if(this._itemCount>=this._maxItems)return!1;var t=this._getItemText(e,!1);return this._srchProps&&this._srchProps.forEach((function(i){var n=e[i];null!=n&&(t+="\0"+n)})),this.isContentHtml&&(t=t.replace(/(<[^>]*>|&[^;]*;)/g,"")),!!this._rxSrch.test(t)&&(this._itemCount++,!0)},t.prototype._getItemText=function(e,t){var i=e?e.toString():"",n=t&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return n&&(i=null!=(i=n.getValue(e))?i.toString():""),i},t.prototype._formatListItem=function(e,t){var i=this;this._cssMatch&&this._rxHighlight&&(t.item.innerHTML=t.item.innerHTML.replace(this._rxHighlight,(function(e,t,n,o){return i._enclosed(o,n,"<",">")||i._enclosed(o,n,"&",";")?e:'<span class="'+i._cssMatch+'">'+e+"</span>"})))},t.prototype._enclosed=function(e,t,i,n){for(var o=t;o>=0&&e[o]!=n;o--)if(e[o]==i)for(var a=t;a<e.length&&e[a]!=i;a++)if(e[a]==n)return!0;return!1},t}(Kr),ts=function(e){function t(t,i){var n=e.call(this,t)||this;return n._selItems=[],n._lastInputValue="",n._selPath=new Pi(null),n._notAddItm=!1,n.selectedItemsChanged=new Ii,Fn(n.hostElement,"wj-multi-autocomplete"),n._wjTpl=n.hostElement.querySelector(".wj-template"),n._wjInput=n.hostElement.querySelector(".wj-input"),n.showDropDownButton=!1,n.initialize(i),n.addEventListener(n.hostElement,"keyup",n._keyup.bind(n),!0),n.addEventListener(window,"resize",n._adjustInputWidth.bind(n)),n.addEventListener(n._tbx,"focus",(function(){n._itemOff()})),n._addHelperInput(),n._initSeltems(),n.listBox.itemsChanged.addHandler((function(){return n.selectedIndex=-1})),n._refreshHeader(),n}return Er(t,e),Object.defineProperty(t.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(e){this._maxSelItems!=e&&(this._maxSelItems=Sn(e,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(e){(e=Dn(e))!==this.selectedMemberPath&&(this._selPath.path=e,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selItems},set:function(e){if(this._selItems=On(e),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var t=0;t<this._selItems.length;t++)this._setSelItem(this._selItems[t],!1);this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),t.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(t){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,e.prototype.onIsDroppedDownChanged.call(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},t.prototype._keydown=function(t){if(!this.isReadOnly){if(!t.defaultPrevented)switch(t.keyCode){case Hi.Back:this._lastInputValue=this._tbx.value;break;case Hi.Enter:this._itemOff(),this._addItem(!0),To&&Qn(this._tbx,0,0);break;case Hi.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,t.preventDefault()):this._updateFocus();break;case Hi.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case Hi.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case Hi.Left:this._itemOn(!this.rightToLeft);break;case Hi.Right:this._itemOn(!!this.rightToLeft);break;case Hi.Up:case Hi.Down:var i=Kn();if(t.altKey){if(this._tbx==i)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void t.preventDefault()}else if(this._tbx!==i)return;default:if(t.keyCode===Hi.Back||t.keyCode===Hi.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&t.preventDefault()}this._tbx.disabled||e.prototype._keydown.call(this,t)}},t.prototype._updateState=function(){e.prototype._updateState.call(this),this._wjTpl&&(Hn(this.hostElement,"wj-state-focused")||this._itemOff())},t.prototype._keyup=function(e){if(!this.isReadOnly&&!e.defaultPrevented)switch(e.keyCode){case Hi.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case Hi.Delete:this._delItem(!0)}},t.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text",e.tabIndex=-1,e.className="wj-token-helper",e.readOnly=!0,this._wjTpl.insertBefore(e,this._wjInput),this._helperInput=e},t.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),t=0;t<e.length;t++)this._wjTpl.removeChild(e[t]);var i=this.selectedItems;if(i&&0!==i.length){for(t=0;t<i.length;t++)this._insertToken(i[t]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},t.prototype._insertToken=function(e){var t=this._getItemText(e,!0);this.isContentHtml||(t=In(t)),this._wjTpl.insertBefore(this._createItem(t),this._wjInput)},t.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},t.prototype._updateFocus=function(){var e=this,i=this._wjTpl.querySelector("."+t._clsActive);i?(Nn(i,t._clsActive),setTimeout((function(){e._tbx.focus()}))):this._clearSelIndex()},t.prototype._addItem=function(e){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),e&&this._clearSelIndex(),this._disableInput(!0))},t.prototype._delItem=function(e){var i,n,o=this._wjTpl.querySelector("."+t._clsActive),a=!1;e&&!o||(o?(n=this._getItemIndex(o))>-1&&(i=this._selItems[n],a=!0):this._selItems.length>0&&(i=this._selItems[this._selItems.length-1],a=!0),a&&(this._updateSelItems(i,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},t.prototype._updateSelItems=function(e,t){if(t){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(e)}else{var i=this._selItems.indexOf(e);this._selItems.splice(i,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,t),this.onSelectedItemsChanged()},t.prototype._createItem=function(e){var i=this,n=document.createElement("div"),o=document.createElement("span"),a=document.createElement("a");return n.appendChild(o),n.appendChild(a),n.className="wj-token",o.className="wj-token-label",o.innerHTML=e,a.className="wj-token-close",a.href="#",a.tabIndex=-1,a.text="\xd7",n.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(n,"click",(function(e){i._helperInput.focus();var o=i._wjTpl.querySelector("."+t._clsActive);o&&Nn(o,t._clsActive),Fn(n,t._clsActive),e.stopPropagation(),e.preventDefault()})),this.addEventListener(a,"click",(function(e){if(!i.isReadOnly){var t=i._getItemIndex(n);t>-1&&i._updateSelItems(i._selItems[t],!1),i._wjTpl.removeChild(n),i._adjustInputWidth(),i._disableInput(!1),i._tbx.focus(),e.stopPropagation(),e.preventDefault()}})),n},t.prototype._itemOn=function(e){var i,n,o,a=Kn();if((this._tbx!=a||0===this._tbx.value.length)&&0!==(i=this._wjTpl.querySelectorAll(".wj-token")).length)if(n=this._wjTpl.querySelector("."+t._clsActive),o=this._getItemIndex(n),e){if(0===o)return;-1===o?(Fn(i[i.length-1],t._clsActive),this._helperInput.focus()):(Nn(n,t._clsActive),Fn(i[o-1],t._clsActive),this._helperInput.focus())}else if(!e){if(-1===o)return;o!==i.length-1?(Nn(n,t._clsActive),Fn(i[o+1],t._clsActive),this._helperInput.focus()):(Nn(n,t._clsActive),this._tbx.focus())}},t.prototype._itemOff=function(){var e=this._wjTpl.querySelector("."+t._clsActive);e&&Nn(e,t._clsActive)},t.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var e=this.collectionView;if(e)for(var t=0;t<e.sourceCollection.length;t++)this._getSelItem(t)&&this._selItems.push(e.sourceCollection[t])}},t.prototype._getSelItem=function(e){var t=this.collectionView,i=t?t.sourceCollection[e]:null;return!(!sn(i)||!this.selectedMemberPath)&&this._selPath.getValue(i)},t.prototype._setSelItem=function(e,t){sn(e)&&this._selPath.getValue(e)!=t&&this._selPath.setValue(e,t)},t.prototype._clearSelIndex=function(){this.selectedIndex=-1},t.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},t.prototype._disableInput=function(e){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},t.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var e=ao(this.hostElement),t=ao(this._tbx),i=getComputedStyle(this._tbx),n=parseInt(i.paddingLeft,10),o=parseInt(i.paddingRight,10);this._tbx.style.width=(this.rightToLeft?t.left+t.width-e.left-n-o-8:e.left+e.width-t.left-n-o-8)+"px"},t.prototype._getItemIndex=function(e){for(var t=this.hostElement.querySelectorAll(".wj-token"),i=0;i<t.length;i++)if(e===t[i])return i;return-1},t._clsActive="wj-token-active",t}(es);mo("wijmo.input",o);var is,ns,os=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(e){e[e.AutoComplete=0]="AutoComplete",e[e.DropDownList=1]="DropDownList",e[e.RadioButtons=2]="RadioButtons"}(ns||(ns={}));var as,rs=function(){function e(e,t,i){this._keyPath="",this._displayPath="",this._sortByVal=!0,this._editable=!1,this.mapChanged=new Ii,!rn(e)||t||i||(e=e.map((function(e){return{value:e}})),t=i="value"),this._cv=Mn(e),this._keyPath=Dn(t,!1),this._displayPath=Dn(i,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(e.prototype,"sortByDisplayValues",{get:function(){return this._sortByVal},set:function(e){this._sortByVal=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),e.prototype.getDataItem=function(e){var t=this;if(!this._hash){var i=this._cv.sourceCollection,n={};rn(i)&&this._keyPath&&i.forEach((function(e){var i=e[t._keyPath];null==n[i]&&(n[i]=e)})),this._hash=n}return this._hash[e]},e.prototype.getDisplayValue=function(e){var t=this._displayPath,i=this.getDataItem(e);return t&&i?i[t]:e},e.prototype.getKeyValue=function(e,t){var i=this._displayPath,n=this._indexOf(e,i,t,!0);return n<0&&(n=this._indexOf(e,i,t,!1)),n>-1?this._cv.sourceCollection[n][this._keyPath]:null},e.prototype.getDisplayValues=function(e){var t=this;return this._cv&&this._displayPath?this._cv.items.map((function(e){return e[t._displayPath]})):[]},e.prototype.getKeyValues=function(){var e=this;return this._cv&&this._keyPath?this._cv.items.map((function(t){return t[e._keyPath]})):[]},Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=kn(e)},enumerable:!0,configurable:!0}),e.prototype.onMapChanged=function(e){this._hash=null,this.mapChanged.raise(this,e)},e.prototype._indexOf=function(e,t,i,n){var o=-1,a=-1;if(this._cv&&t){var r=null!=e?e.toString():"";r&&i&&(e=jn(r));for(var s=n?r:r.toLowerCase(),l=this._cv.sourceCollection,c=0;c<l.length;c++){var d=l[c],h=d[t];if(i&&Ji(h)&&(h=jn(h)),h==e?o=c:n||h.length!=s.length||h.toLowerCase()!=s?null!=h&&h.toString()==r&&(o=c):o=c,o==c){if(!this._cv.filter||this._cv.filter(d))return o;a<0&&(a=o)}}}return a},e}(),ss=function(){function e(e,t,i,n){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===i&&(i=e),void 0===n&&(n=t),this.setRange(e,t,i,n)}return e.prototype.setRange=function(e,t,i,n){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===i&&(i=e),void 0===n&&(n=t),this._row=xn(e),this._col=xn(t),this._row2=xn(i),this._col2=xn(n)},Object.defineProperty(e.prototype,"row",{get:function(){return this._row},set:function(e){this._row=xn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},set:function(e){this._col=xn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row2",{get:function(){return this._row2},set:function(e){this._row2=xn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col2",{get:function(){return this._col2},set:function(e){this._col2=xn(e)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._row,this._col,this._row2,this._col2)},e.prototype.copy=function(e){this.setRange(e._row,e._col,e._row2,e._col2)},Object.defineProperty(e.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,i){var n=Ki(t,e);if(n)return n.topRow>=this.topRow&&n.bottomRow<=this.bottomRow&&n.leftCol>=this.leftCol&&n.rightCol<=this.rightCol;if(en(t)&&en(i))return t>=this.topRow&&t<=this.bottomRow&&i>=this.leftCol&&i<=this.rightCol;throw"contains expects a CellRange or row/column indices."},e.prototype.containsRow=function(e){return xn(e)>=this.topRow&&e<=this.bottomRow},e.prototype.containsColumn=function(e){return xn(e)>=this.leftCol&&e<=this.rightCol},e.prototype.intersects=function(e){return this.intersectsRow(e)&&this.intersectsColumn(e)},e.prototype.intersectsRow=function(e){return e&&!(this.bottomRow<e.topRow||this.topRow>e.bottomRow)},e.prototype.intersectsColumn=function(e){return e&&!(this.rightCol<e.leftCol||this.leftCol>e.rightCol)},e.prototype.getRenderSize=function(e){var t=new co(0,0);if(this.isValid){for(var i=this.topRow;i<=this.bottomRow;i++)t.height+=e.rows[i].renderSize;for(var n=this.leftCol;n<=this.rightCol;n++)t.width+=e.columns[n].renderSize}return t},e.prototype.equals=function(t){return t instanceof e&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},e.prototype.combine=function(t){return t?new e(Math.min(this.topRow,t.topRow),Math.min(this.leftCol,t.leftCol),Math.max(this.bottomRow,t.bottomRow),Math.max(this.rightCol,t.rightCol)):this},e.prototype.toString=function(){return mn("({row}, {col})-({row2}, {col2})",this)},e}();!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.TopLeft=4]="TopLeft",e[e.ColumnFooter=5]="ColumnFooter",e[e.BottomLeft=6]="BottomLeft"}(as||(as={}));var ls,cs,ds,hs=function(){function e(e,t,i,n,o){this._offsetY=0,this._rng=new ss,this._g=Un(e,Os),this._ct=xn(t),this._rows=Un(i,Ls),this._cols=Un(n,ks),this._e=Un(o,HTMLElement),this._vrb=new ss}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),e.prototype.getCellData=function(e,t,i){var n,o=this._g,a=this._rows[Sn(e,!1,!0)],r=null;if(Ji(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";n=this._cols[Sn(t,!1,!0)];var s=o?o._getBindingColumn(this,e,n):n,l=null;if(a instanceof Ss&&a.dataItem instanceof aa&&!o.childItemsPath&&(l=a.dataItem),s.binding&&a.dataItem&&!l?r=s._binding.getValue(a.dataItem):a._ubv&&(r=a._ubv[n._hash]),null==r)switch(this._ct){case as.ColumnHeader:e!=this._rows.length-1&&s==n||(r=s.header);break;case as.ColumnFooter:if(s.aggregate!=$o.None&&a instanceof Ss){var c=this._g.collectionView;if(c){var d=Ki(c,oa);r=d?d.getAggregate(s.aggregate,s.binding):Zo(s.aggregate,c.items,s.binding)}}break;case as.Cell:s.aggregate!=$o.None&&a instanceof Ss&&l&&(r=l.getAggregate(s.aggregate,s.binding,this._g.collectionView))}if(i){var h=s.dataMap||a.dataMap;this.cellType==as.Cell&&h&&(r=h.getDisplayValue(r)),r=null!=r?_o.format(r,s.format||a.format):""}return r},e.prototype.setCellData=function(e,t,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=!0);var a,r=this._g,s=this._rows[Sn(e,!1,!0)],l=Fi;if(Ji(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";a=this._cols[Sn(t,!1,!0)];var c=r?r._getBindingColumn(this,e,a):a;if(this._ct==as.Cell){var d=c.dataMap||s.dataMap,h=c.getIsRequired(s);if(d&&null!=i){var u=d.getKeyValue(i,c.isContentHtml||s.isContentHtml);if(null==u&&null==d.getDisplayValue(null)){if(d.getDisplayValue(i)!=i);else if(!d.isEditable||d.displayMemberPath!=d.selectedValuePath){if(""!=i||h)return!1;i=null}}else i=u}var p;p=c.dataType||s.dataType||hn(this.getCellData(e,t,!1));var b=null==i||""===i&&!d;if(!h&&b)p!=l.String&&(i=null),n=!1;else if(h&&b&&n)return!1;if(n){var m=c.format||s.format;if(m||p!=l.Date||(m="d"),i=pn(i,p,m),p!=l.Object&&hn(i)!=p)return!1}}if(s.dataItem&&c.binding){var f=c._binding,g=s.dataItem,y=f.getValue(g);if(i!==y&&!uo.equals(i,y)){f.setValue(g,i);var _=r.collectionView;if(_ instanceof oa&&g!=_.currentEditItem){var v=new Ni(Ui.Change,g,_.items.indexOf(g));_.onCollectionChanged(v)}}}else s._ubv||(s._ubv={}),s._ubv[a._hash]=i;return o&&r&&r.invalidate(),!0},e.prototype.getCellBoundingRect=function(e,t,i){var n=this._g,o=this.rows[e],a=this.columns[t],r=new ho(a.pos,o.pos,a.renderSize,o.renderSize);if(n.rightToLeft&&(r.left=this.hostElement.clientWidth-r.right,To()||(r.left-=n._root.offsetWidth-n._root.clientWidth)),!i){var s=this.hostElement.getBoundingClientRect();r.left+=s.left,r.top+=s.top-this._offsetY}return e<this.rows.frozen&&(r.top-=n.scrollPosition.y),t<this.columns.frozen&&(r.left-=n.scrollPosition.x*(n.rightToLeft?-1:1)),r},e.prototype.getCellElement=function(t,i){for(var n=this.hostElement.children,o=Math.min(t+2,n.length),a=0;a<o;a++)for(var r=n[a].children,s=Math.min(i+2,r.length),l=0;l<s;l++){var c=r[l],d=c[e._INDEX_KEY];if(d&&(d.row==t&&d.col==i||d.rng&&d.rng.contains(t,i)))return c}return null},e.prototype.getSelectedState=function(e,t,i){var n=this._g,o=n.selectionMode,a=n._selHdl.selection,r=ls,s=cs;if(o==r.None)return s.None;switch(this._ct){case as.Cell:if(i||(i=n.getMergedRange(this,e,t)),i){if(i.contains(a.row,a.col))return n.showMarquee?s.Active:s.Cursor;if(i.intersects(a))return s.Selected;for(var l=i.leftCol;l<=i.rightCol;l++)if(n.columns[l].isSelected)return s.Selected;for(var c=i.topRow;c<=i.bottomRow;c++)if(n.rows[c].isSelected)return s.Selected}if(a.row==e&&a.col==t)return n.showMarquee?s.Active:s.Cursor;if(n.rows[e].isSelected||n.columns[t].isSelected)return s.Selected;if(o==r.MultiRange)for(var d=n._selHdl.extendedSelection,h=0;h<d.length;h++)if(d[h].contains(e,t)||i&&i.intersects(d[h]))return s.Selected;if(i)switch(o){case r.Row:case r.RowRange:case r.ListBox:if(i.containsRow(a.row))return s.Selected}return o==r.ListBox?s.None:(a=this._getAdjustedSelection(a)).containsRow(e)&&a.containsColumn(t)?s.Selected:s.None;case as.ColumnHeader:if(n.showSelectedHeaders&_s.Column&&(n.columns[t].isSelected||a.containsColumn(t)||a.intersectsColumn(i))&&(i&&(e=i.bottomRow),e==this.rows.length-1))return s.Selected;break;case as.RowHeader:if(n.showSelectedHeaders&_s.Row&&(n.rows[e].isSelected||a.containsRow(e)||a.intersectsRow(i))&&(i&&(t=i.rightCol),t==this.columns.length-1))return s.Selected}return s.None},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),e.prototype._getAdjustedSelection=function(e){var t=this._g,i=this._rng;switch(t.selectionMode){case ls.Cell:i.setRange(e.row,e.col,e.row,e.col);break;case ls.Row:i.setRange(e.row,0,e.row,t.columns.length-1);break;case ls.RowRange:case ls.ListBox:i.setRange(e.row,0,e.row2,t.columns.length-1);break;default:i.copy(e)}return i},e.prototype._getOffsetY=function(){return this._offsetY},e.prototype._updateContent=function(e,t,i){var n=this._g,o=this._e,a=this._rows,r=this._cols,s=this._ct;if(s==as.ColumnHeader||s==as.ColumnFooter||s==as.RowHeader){var l=n._ptScrl,c=o.style;s==as.RowHeader?c.top=l.y+"px":n.rightToLeft?c.right=l.x+"px":c.left=l.x+"px"}this._offsetY!=i&&(e=!1,this._offsetY=i);var d=this._getViewRange(),h=d;if(h.isValid){var u=a.length<=n._vtRows?a.length:0,p=r.length<=n._vtCols?r.length:0;h=new ss(Math.max(d.row-u,a.frozen),Math.max(d.col-p,r.frozen),Math.min(d.row2+u,a.length-1),Math.min(d.col2+p,r.length-1))}if(e&&!t&&this._vrb.contains(d)&&!a.frozen&&!r.frozen)return this._activeCell;e&&h.equals(this._vrb)||(t=!1),e&&!t&&this._ct!=as.TopLeft&&this._reorderCells(h,this._vrb),this._activeCell=null,this._vru=d,this._vrb=h,this._recycle=e;var b=0;this._ct==as.Cell&&(b=this._renderColHdrRow(h,t));for(var m=0;m<a.frozen&&m<a.length;m++)b=this._renderRow(m,h,t,b);for(m=h.topRow;m<=h.bottomRow&&m>-1;m++)b=this._renderRow(m,h,t,b);for(;o.childElementCount>b;){var f=o.lastElementChild;o.removeChild(f),this._removeExtraCells(f,0)}return this._activeCell},e.prototype._clearCells=function(){for(var e=this.hostElement,t=this._g.cellFactory,i=e.childElementCount-1;i>=0;i--){var n=e.children[i];e.removeChild(n);for(var o=n.childElementCount-1;o>=0;o--)t.disposeCell(n.children[o])}},e.prototype._reorderCells=function(e,t){if(this._g._reorderCells&&t.isValid&&e.isValid&&e.intersects(t)){if(e.row!=t.row){var i=this._e,n=e.row-t.row,o=Math.max(1,e.rowSpan-1);if(0!=n&&Math.abs(n)<o){var a=this._ct==as.Cell?1:0,r=i.childElementCount;if(a+=this.rows.frozen,n>0){var s=a,l=Math.min(a+n,r);(h=this._createRange(i,s,l))&&i.appendChild(h.extractContents())}if(n<0&&(l=r,s=Math.max(a,l+n),(h=this._createRange(i,s,l))&&s>a)){var c=i.children[a];i.insertBefore(h.extractContents(),c)}}}if(e.col!=t.col&&(i=this._e,n=e.col-t.col,o=Math.max(1,e.columnSpan-1),0!=n&&Math.abs(n)<o)){a=this._ct==as.Cell&&this._g.rowHeaderPath?1:0,a+=this.columns.frozen;for(var d=0;d<i.children.length;d++){var h,u=i.children[d];r=u.children.length,Hn(u,"wj-row")&&(n>0&&(s=a,l=Math.min(a+n,r),(h=this._createRange(u,s,l))&&u.appendChild(h.extractContents())),n<0&&(l=r,s=Math.max(a,l+n),(h=this._createRange(u,s,l))&&s>a&&(c=u.children[a],u.insertBefore(h.extractContents(),c))))}}}},e.prototype._createRange=function(e,t,i){if(i>t&&i<=e.children.length&&t>-1){this._docRange||(this._docRange=document.createRange());var n=this._docRange;return n.setStart(e,t),n.setEnd(e,i),n}return null},e.prototype._renderColHdrRow=function(e,t){if(t)return 1;var i=this._e.children[0];i||(i=Xn('<div class="wj-row" role="row"></div>',this._e));var n=this._g;Gn(i,"aria-label",n?n.columnHeaders.rows.ariaLabel:null),Gn(i,"aria-selected",null);var o=0,a=this._g._getRowHeaderPath();a&&(o=this._renderRowHdrCell(i,-1,a.path));for(var r=0;r<this.columns.frozen&&r<this.columns.length;r++)o=this._renderColHdrCell(i,r,e,t,o);for(r=e.leftCol;r<=e.rightCol&&r>-1;r++)o=this._renderColHdrCell(i,r,e,t,o);return this._removeExtraCells(i,o),1},e.prototype._renderColHdrCell=function(t,i,n,o,a){var r=this.grid,s=this.columns[i];if(s.renderSize<=0)return a;if(o)return a+1;var l=t.children[a];if(l||(l=Xn(e._HTML_CELL,t)),Gn(l,"role","columnheader"),l&&this._recycle&&r._lazyRender){var c=l[e._INDEX_KEY];if(c&&-1==c.row&&c.col==i&&i>=this.columns.frozen)return a+1}if(l.textContent=this.columns[i].header,ro(l,{position:"fixed",left:s.pos,top:-32e3,width:s.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),(s.describedById||this.columns.describedById)&&Gn(l,"aria-describedby",[s.describedById,this.columns.describedById].join(" ").trim()||null),r.allowSorting){var d="none";switch(r._getBindingColumn(this,0,s).currentSort){case"+":d="ascending";break;case"-":d="descending"}Gn(l,"aria-sort",d)}return r.isReadOnly||(Gn(l,"aria-readonly",s.isReadOnly),Gn(l,"aria-required",s.getIsRequired())),l[e._INDEX_KEY]={row:-1,col:i,panel:this},a+1},e.prototype._renderRowHdrCell=function(t,i,n){var o=t.children[0];return o||(o=Xn(e._HTML_CELL,t)),o.setAttribute("role",i<0?"columnheader":"rowheader"),o.textContent=n?n.toString():"",ro(o,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),o[e._INDEX_KEY]={row:i,col:-1,panel:this},1},e.prototype._renderRow=function(e,t,i,n){var o=this._g,a=this.rows[e];if(a.renderSize<=0)return n;var r=this._e.children[n];if(r||(r=Xn('<div class="wj-row"></div>',this._e)),this._ct==as.Cell){switch(r.setAttribute("role","row"),o.selectionMode){case ls.Row:case ls.RowRange:case ls.ListBox:Gn(r,"aria-selected",!(!a.isSelected&&!this._g._selHdl.selection.containsRow(e))||null)}Gn(r,"aria-level",a instanceof Ss?a.level+1:null),Gn(r,"aria-expanded",a instanceof Ss?!a.isCollapsed:null),this.rows.ariaLabel&&Gn(r,"aria-label",this.rows.ariaLabel)}var s=0;if(this._ct==as.Cell){var l=this._g._getRowHeaderPath();l&&(s=this._renderRowHdrCell(r,e,l.getValue(a.dataItem)))}for(var c=0;c<this.columns.frozen&&c<this.columns.length;c++)s=this._renderCell(r,e,c,t,i,s);for(c=t.leftCol;c<=t.rightCol&&c>-1;c++)s=this._renderCell(r,e,c,t,i,s);return this._removeExtraCells(r,s),n+1},e.prototype._renderCell=function(t,i,n,o,a,r){var s=this._g,l=s.getMergedRange(this,i,n);if(l){for(var c=Math.max(o.row,l.row);c<i;c++)if(this.rows[c].renderSize)return r;for(c=Math.max(o.col,l.col);c<n;c++)if(this.columns[c].renderSize)return r;var d=this.columns.frozen;if(d&&l.col<d&&l.col2>=d&&n>l.col)return r}var h=this.columns[n];if(h.renderSize<=0&&(!l||l.getRenderSize(this).width<=0))return r;var u=t.children[r];if(u&&!a&&this._recycle&&s._lazyRender&&!s.activeEditor){var p=u[e._INDEX_KEY];p&&p.row==i&&p.col==n&&p.rng==l&&i>=this.rows.frozen&&n>=this.columns.frozen&&(a=!0)}var b=cs,m=this.getSelectedState(i,n,l),f=m==b.Cursor||m==b.Active;return u&&a?(zn(u,"wj-state-active",f),zn(u,"wj-state-selected",m==b.Cursor),zn(u,"wj-state-multi-selected",m==b.Selected),Gn(u,"aria-selected",!(!f&&m==b.None)||null),f&&(this._activeCell=u),r+1):(u||(u=Xn(e._HTML_CELL,t)),f&&(this._activeCell=u),this._ct==as.Cell&&(Gn(u,"role","gridcell"),Gn(u,"aria-selected",!(m==b.None&&!f)||null),Gn(u,"aria-readonly",!s.canEditCell(i,n)||null),Gn(u,"aria-required",h.getIsRequired())),s.cellFactory.updateCell(this,i,n,u,l),u[e._INDEX_KEY]={row:i,col:n,rng:l,panel:this},r+1)},e.prototype._removeExtraCells=function(e,t){for(var i=this._g.cellFactory;e.childElementCount>t;){var n=e.lastElementChild;e.removeChild(n),i.disposeCell(n)}},e.prototype._getViewRange=function(){var e=this._g,t=e._ptScrl,i=this._rows,n=this._cols,o=new ss(0,0,i.length-1,n.length-1);if(this._ct==as.Cell||this._ct==as.RowHeader){var a=-t.y+this._offsetY,r=(d=e._szClient).height;(h=Math.min(i.frozen,i.length-1))>0&&(a+=u=i[h-1].pos,r-=u),h>0&&i[h].pos>d.height?o.row=o.row2=-1:(o.row=Math.min(i.length-1,Math.max(h,i.getItemAt(a))),o.row2=Math.max(o.row,i.getItemAt(a+r)));var s=e.hostElement;if(e._clipToScreen&&s){var l=s.getBoundingClientRect(),c=-l.top-e.cells._e.offsetTop;l.top<0&&(o.row=Math.max(o.row,i.getItemAt(c)-1)),l.bottom>innerHeight&&(o.row2=Math.min(o.row2,i.getItemAt(c+innerHeight)+1))}}if(this._ct==as.Cell||this._ct==as.ColumnHeader){var d,h,u,p=-t.x,b=(d=e._szClient).width;(h=Math.min(n.frozen,n.length-1))>0&&(p+=u=n[h-1].pos,b-=u),h>0&&n[h].pos>d.width?o.col=o.col2=-1:(o.col=Math.min(n.length-1,Math.max(h,n.getItemAt(p))),o.col2=Math.max(o.col,n.getItemAt(p+b)))}return i.length<=i.frozen&&(o.row=o.row2=-1),n.length<=n.frozen&&(o.col=o.col2=-1),o},e.prototype._getFrozenPos=function(){var e=this._rows.frozen,t=this._cols.frozen,i=e>0?this._rows[e-1]:null,n=t>0?this._cols[t-1]:null;return new lo(n?n.pos+n.renderSize:0,i?i.pos+i.renderSize:0)},e._INDEX_KEY="wj-cell-index",e._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',e}(),us=function(e){function t(t,i,n){var o=e.call(this)||this;return o._p=Un(t,hs,!0),o._rng=Un(i,ss,!0),o._data=n,o}return os(t,e),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null},t.prototype.getColumn=function(e){var t=this._p,i=t&&this.col>-1?t.columns[this.col]:null;return i&&e&&(i=t.grid._getBindingColumn(t,this.row,i)),i},t}(Ai),ps=function(e){function t(t,i,n){var o=e.call(this,t,i)||this;return o._cell=Un(n,HTMLElement),o}return os(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),t}(us),bs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stayInEditMode=!1,t._refresh=!0,t}return os(t,e),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(e){this._refresh=kn(e)},enumerable:!0,configurable:!0}),t}(us);!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.CellRange=2]="CellRange",e[e.Row=3]="Row",e[e.RowRange=4]="RowRange",e[e.ListBox=5]="ListBox",e[e.MultiRange=6]="MultiRange"}(ls||(ls={})),function(e){e[e.None=0]="None",e[e.Selected=1]="Selected",e[e.Cursor=2]="Cursor",e[e.Active=3]="Active"}(cs||(cs={})),function(e){e[e.None=0]="None",e[e.Next=1]="Next",e[e.Prev=2]="Prev",e[e.NextPage=3]="NextPage",e[e.PrevPage=4]="PrevPage",e[e.Home=5]="Home",e[e.End=6]="End",e[e.NextCell=7]="NextCell",e[e.PrevCell=8]="PrevCell"}(ds||(ds={}));var ms,fs=function(){function e(e){this._sel=new ss(0,0),this._xSel=new na,this._mode=ls.CellRange,this._g=e,this._e=new us(e.cells,new ss(0,0)),this._xSel.collectionChanged.addHandler((function(){e.invalidate()}))}return Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._mode},set:function(e){e!=this._mode&&this._setSelectionMode(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._sel},set:function(e){this.select(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extendedSelection",{get:function(){return this._xSel},enumerable:!0,configurable:!0}),e.prototype.select=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1);var n=this._g,o=this._e.range,a=this._sel,r=o,s=!1,l=ls;switch(Xi(e)&&Xi(t)?(o.setRange(e,t),t=!0):e instanceof ss?o.copy(e):wn(!1,"CellRange expected"),n.selectionMode){case l.Cell:r.row2=r.row,r.col2=r.col;break;case l.Row:r.row2=r.row;break;case l.ListBox:s=!0}var c=r.equals(a);if(s&&r.row>-1&&r.row<n.rows.length&&(n.rows[r.row].isSelected||(c=!1)),c&&n.isRangeValid(r))return t&&this._showSelection(),!0;var d=this._e;if(d._rng=r,d.cancel=!1,!n.onSelectionChanging(d)&&!i)return!1;s&&(r.row!=a.row||r.rowSpan>1||a.rowSpan>1)&&n.rows.forEach((function(e,t){e._setFlag(ms.Selected,r.containsRow(t),!0)})),r.row=Math.min(r.row,n.rows.length-1),r.row2=Math.min(r.row2,n.rows.length-1),this._sel.copy(r),n.refreshCells(!1,!0,!0),t&&this._showSelection();var h=n.collectionView;if(h){var u=n._getCvIndex(r.row);h.moveCurrentToPosition(u)}return n.onSelectionChanged(d),!0},e.prototype.moveSelection=function(e,t,i){var n=this._g,o=this._sel,a=i&&n.anchorCursor?new ss(o.row2,o.col2):new ss(o.row,o.col);this._adjustReferenceCell(a,e,t);var r=a.row,s=a.col,l=n.rows,c=n.columns,d=Math.max(0,n._szClient.height-n.columnHeaders.height),h=ds;switch(t){case h.NextCell:(s=c.getNextCell(s,h.Next,d))==a.col&&(r=l.getNextCell(r,h.Next,d))>a.row&&(s=c.getNextCell(0,h.Next,d),s=c.getNextCell(s,h.Prev,d)),n.select(r,s);break;case h.PrevCell:(s=c.getNextCell(a.col,h.Prev,d))==a.col&&(r=l.getNextCell(r,h.Prev,d))<a.row&&(s=c.getNextCell(c.length-1,h.Prev,d),s=c.getNextCell(s,h.Next,d)),n.select(r,s);break;default:r=l.getNextCell(r,e,d),s=c.getNextCell(s,t,d),i?n.selection=n.anchorCursor?new ss(o.row,o.col,r,s):new ss(r,s,o.row2,o.col2):n.select(r,s)}},e.prototype._setSelectionMode=function(e){var t=this._g,i=t.rows,n=ls;if(e==n.ListBox||this._mode==n.ListBox)for(var o=0;o<i.length;o++){var a=e==n.ListBox&&this._sel.containsRow(o);i[o]._setFlag(ms.Selected,a,!0)}this._mode=e,this._xSel.clear(),i.length&&(a=this._sel,a=e!=n.None?new ss(a.row,a.col):new ss,this.select(a,!1,!0),t.invalidate())},e.prototype._expandSelection=function(){var e=this._g;if(e.expandSelectionOnCopyPaste&&e.selectionMode){var t=this.selection,i=e.cells,n=e.getMergedRange(i,t.topRow,t.leftCol,!1),o=e.getMergedRange(i,t.bottomRow,t.leftCol,!1),a=e.getMergedRange(i,t.topRow,t.rightCol,!1),r=e.getMergedRange(i,t.bottomRow,t.rightCol,!1);if(n||o||a||r){n=n||new ss(t.topRow,t.leftCol),o=o||new ss(t.bottomRow,t.leftCol),a=a||new ss(t.topRow,t.rightCol),r=r||new ss(t.bottomRow,t.rightCol);var s=new ss(Math.min(n.topRow,o.topRow,a.topRow,r.topRow),Math.min(n.leftCol,o.leftCol,a.leftCol,r.leftCol),Math.max(n.bottomRow,o.bottomRow,a.bottomRow,r.bottomRow),Math.max(n.rightCol,o.rightCol,a.rightCol,r.rightCol));this.select(s,!1)}}},e.prototype._deselectRange=function(e){var t=this.extendedSelection;if(this.selection.contains(e)){var i=t.length;return this._sel=i?t[i-1]:new ss,i&&t.removeAt(i-1),!0}for(var n=0;n<t.length;n++)if(t[n].contains(e))return t.removeAt(n),!0;return!1},e.prototype._showSelection=function(){var e=this._g,t=this._sel;e.anchorCursor?e.scrollIntoView(t.row2,t.col2):e.scrollIntoView(t.row,t.col)},e.prototype._adjustReferenceCell=function(e,t,i){var n=this._g,o=n.getMergedRange(n.cells,e.row,e.col);if(o&&!o.isSingleCell){var a=ds;switch(t){case a.Next:case a.NextCell:e.row=o.bottomRow;break;case a.Prev:case a.PrevCell:e.row=o.topRow}switch(i){case a.Next:case a.NextCell:e.col=o.rightCol;break;case a.Prev:case a.PrevCell:e.col=o.leftCol}}},e}();!function(e){e[e.Visible=1]="Visible",e[e.AllowResizing=2]="AllowResizing",e[e.AllowDragging=4]="AllowDragging",e[e.AllowMerging=8]="AllowMerging",e[e.AllowSorting=16]="AllowSorting",e[e.AutoGenerated=32]="AutoGenerated",e[e.Collapsed=64]="Collapsed",e[e.ParentCollapsed=128]="ParentCollapsed",e[e.Selected=256]="Selected",e[e.ReadOnly=512]="ReadOnly",e[e.HtmlContent=1024]="HtmlContent",e[e.WordWrap=2048]="WordWrap",e[e.MultiLine=4096]="MultiLine",e[e.HasTemplate=8192]="HasTemplate",e[e.RowDefault=3]="RowDefault",e[e.ColumnDefault=23]="ColumnDefault"}(ms||(ms={}));var gs,ys,_s,vs,ws=function(){function e(){this._pos=0,this._idx=-1,this._idxVis=-1,this._idxData=-1,this.gridChanged=new Ii}return Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(e){if(e!=this.binding){var t=Dn(e);if(this._binding=t?new Pi(t):null,!this._type&&this.grid&&this._binding){var i=this.grid.collectionView;i&&i.sourceCollection&&i.sourceCollection.length&&(this._type=hn(this._binding.getValue(i.sourceCollection[0])))}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(e){if(e!=this.sortMemberPath){var t=Dn(e);this._bindingSort=t?new Pi(t):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return this._type},set:function(e){e=En(e,Fi,!0),this._type!=e&&(this._type=e,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inpType},set:function(e){this._inpType=Dn(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask=Dn(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLen},set:function(e){this._maxLen=Sn(e,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!=e&&(this._align=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._fmt},set:function(e){this._fmt!=e&&(this._fmt=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map!=e&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),rn(e)&&(e=new rs(e,null,null)),this._map=Un(e,rs,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMapEditor",{get:function(){return null!=this._mapEditor?this._mapEditor:ns.DropDownList},set:function(e){e!=this._mapEditor&&(this._mapEditor=En(e,ns),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDown",{get:function(){return this.dataMapEditor==ns.DropDownList},set:function(e){Cn("showDropDown","dataMapEditor"),this.dataMapEditor=e?ns.DropDownList:ns.AutoComplete},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(e){this._ddCssClass=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._getFlag(ms.Visible)},set:function(e){this._setFlag(ms.Visible,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return!!this._getFlag(ms.Visible)&&(!this._getFlag(ms.ParentCollapsed)||this instanceof Rs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._sz},set:function(e){e!=this._sz&&(this._sz=Sn(e,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderSize",{get:function(){var e=0,t=this._list;return this.isVisible&&((null==(e=this._sz)||e<0)&&(e=t?t.defaultSize:0),t&&null!=t.minSize&&e<t.minSize&&(e=t.minSize),t&&null!=t.maxSize&&e>t.maxSize&&(e=t.maxSize),null!=this._szMin&&e<this._szMin&&(e=this._szMin),null!=this._szMax&&e>this._szMax&&(e=this._szMax)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowResizing",{get:function(){return this._getFlag(ms.AllowResizing)},set:function(e){this._setFlag(ms.AllowResizing,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDragging",{get:function(){return this._getFlag(ms.AllowDragging)},set:function(e){this._setFlag(ms.AllowDragging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowMerging",{get:function(){return this._getFlag(ms.AllowMerging)},set:function(e){this._setFlag(ms.AllowMerging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._getFlag(ms.Selected)},set:function(e){var t=this.grid;if(t){var i=this instanceof Ds?new ss(this.index,-1):new ss(-1,this.index),n=new us(t?t.cells:null,i);t.onSelectionChanging(n)&&this._setFlag(ms.Selected,e,!0)&&(t.refreshCells(!1,!0,!0),t.onSelectionChanged(n))}else this._setFlag(ms.Selected,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._getFlag(ms.ReadOnly)},set:function(e){this._setFlag(ms.ReadOnly,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._required},set:function(e){this._required=kn(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._getFlag(ms.HtmlContent)},set:function(e){this.isContentHtml!=e&&(this._setFlag(ms.HtmlContent,e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._getFlag(ms.WordWrap)},set:function(e){this._setFlag(ms.WordWrap,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){return this._getFlag(ms.MultiLine)},set:function(e){this._setFlag(ms.MultiLine,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(this._cssClass=Dn(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(e){e!=this._cssClassAll&&(this._cssClassAll=Dn(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),e.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},e.prototype.onGridChanged=function(e){this.gridChanged.raise(this,e)},e.prototype._setList=function(e){e!=this._list&&(this._list=e,this.onGridChanged())},e.prototype._getFlag=function(e){return 0!=(this._f&e)},e.prototype._setFlag=function(e,t,i){return t!=this._getFlag(e)&&(this._f=t?this._f|e:this._f&~e,i||this.onPropertyChanged(),!0)},e}(),Cs=function(e){function t(i){var n=e.call(this)||this;return n._f=ms.ColumnDefault,n._hash=t._ctr.toString(36),t._ctr++,i&&vn(n,i),n}return os(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){null!=t._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=Sn(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=Sn(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=Sn(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=kn(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(tn(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(ms.HasTemplate)))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellTemplate",{get:function(){return this._tpl},set:function(e){e!=this._tpl&&(wn(null==e||Ji(e)||nn(e),"cellTemplate should be a string or an ICellTemplateFunction."),this._tpl=e,this._setFlag(ms.HasTemplate,null!=e&&""!=e),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){e!=this.editor&&(this._edt&&(this._edt.dispose(),this._edt=null),null!=e&&(e=Un(e,ha),this._edt=new Gs(this,e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag(ms.AllowSorting)},set:function(e){this._setFlag(ms.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){var e=this.currentSortIndex;return e>-1?this.grid.collectionView.sortDescriptions[e].ascending?"+":"-":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSortIndex",{get:function(){var e=this.grid?this.grid.collectionView:null,t=e?e.sortDescriptions:null,i=t&&t.length?this._getBindingSort():null;if(i)for(var n=0;n<t.length;n++)if(t[n].property==i)return n;return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:$o.None},set:function(e){(e=En(e,$o))!=this._agg&&(this._agg=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=Dn(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getIsRequired=function(e){return null!=this._required?this._required:e&&null!=e.isRequired?e.isRequired:this.dataType==Fi.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!e||e.dataType!=Fi.String||null!=e.dataMap||null!=e.mask&&e.mask.length>0},t.prototype.getAlignment=function(e){if(null!=this._align)return this._align;if(e&&null!=e.align)return e.align;if(!this._map)switch(this.dataType){case Fi.Boolean:return"center";case Fi.Number:return"right"}if(e&&!e.dataMap)switch(e.dataType){case Fi.Boolean:return"center";case Fi.Number:return"right"}return""},t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if(Ji(e)){var t=e.length;if(t>0&&"*"==e[t-1]){var i=1==t?1:parseFloat(e);if(i>0&&!isNaN(i))return i}}return null},t._ctr=0,t}(ws),Ds=function(e){function t(t){var i=e.call(this)||this;return i._f=ms.ColumnDefault,i._data=t,i}return os(t,e),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idxData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(ws),Ss=function(e){function t(t){var i=e.call(this,t)||this;return i._level=-1,i.level=t instanceof aa?t.level:-1,i.isReadOnly=!0,i}return os(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){xn(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,i=Ki(e,t),n=Ki(e,Rs);return null!=e&&null==n&&(null==i||i.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag(ms.Collapsed)},set:function(e){e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(kn(e))},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){var e=this.grid,t=e.groupHeaderFormat||yo.FlexGrid.groupHeaderFormat,i=this.dataItem;if(i instanceof aa&&t&&e.showGroups&&!e.childItemsPath){var n=i.groupDescription.propertyName,o=i.name,a=e.getColumn(n),r=this.isContentHtml;if(a){r=r||a.isContentHtml,a.header&&(n=a.header);var s=a.dataMap;s&&(o=s.getDisplayValue(o)),a.dataType==hn(o)&&(o=_o.format(o,a.format))}else n=Rn(n);var l=i.getAggregate($o.CntAll,null,e.collectionView);return mn(t,{name:In(n),value:r?o:In(o),level:i.level,count:l})}return""},t.prototype._setCollapsed=function(e){var i=this,n=this.grid,o=n.rows,a=this.getCellRange(),r=new us(n.cells,new ss(this.index,-1));n.onGroupCollapsedChanging(r)&&(n.deferUpdate((function(){o.deferUpdate((function(){i._setFlag(ms.Collapsed,e,!0);for(var n=a.topRow+1;n<=a.bottomRow&&n>-1&&n<o.length;n++){o[n]._setFlag(ms.ParentCollapsed,e,!0);var r=o[n];r instanceof t&&r.isCollapsed&&(n=r.getCellRange().bottomRow)}}))})),n.onGroupCollapsedChanged(r))},t.prototype.getCellRange=function(){for(var e=this._list,i=this.index,n=e.length-1,o=i+1;o<=n;o++){var a=e[o];if(a instanceof t&&a.level<=this.level){n=o-1;break}}return new ss(i,0,n,this.grid.columns.length-1)},t}(Ds),xs=function(e){function t(t,i){var n=e.call(this)||this;return n._frozen=0,n._lastFrozen=-1,n._firstVisible=-1,n._vlen=0,n._szDef=28,n._szTot=0,n._szCustom=!1,n._dirty=!1,n._g=Un(t,Os),n._szDef=Sn(i,!1,!0),n}return os(t,e),Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szCustom=!0,this._szDef!=e&&(this._szDef=Sn(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=Sn(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=Sn(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=Sn(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0&&this[0].renderSize)return 0;for(var t,i,n=this.length,o=0,a=n-1;o<=a;)if((i=this[t=o+a>>>1])._pos>e&&t>0)a=t-1;else{if(!(i._pos+i.renderSize<=e&&t<n-1)){for(;t>0&&!this[t].renderSize;)t--;for(;t<n-1&&!this[t].renderSize;)t++;return t}o=t+1}return a},t.prototype.getNextCell=function(e,t,i){var n;switch(t){case ds.Next:for(n=e+1;n<this.length;n++)if(this[n].renderSize>0)return n;break;case ds.Prev:for(n=e-1;n>=0;n--)if(this[n].renderSize>0)return n;break;case ds.End:for(n=this.length-1;n>=0;n--)if(this[n].renderSize>0)return n;break;case ds.Home:for(n=0;n<this.length;n++)if(this[n].renderSize>0)return n;break;case ds.NextPage:return(n=this.getItemAt(this[e].pos+this[e].renderSize+i))<0?this.getNextCell(e,ds.End,i):n==e&&n<this.length-1&&this[n+1].renderSize?n+1:n;case ds.PrevPage:return(n=this.getItemAt(this[e].pos-i))<0?this.getNextCell(e,ds.Home,i):n==e&&n>0&&this[n-1].renderSize?n-1:n}return e},t.prototype.canMoveElement=function(e,t,i){if(void 0===i&&(i=!0),t==e)return!1;if(e<0||e>=this.length||t>=this.length)return!1;if(i){t<0&&(t=this.length-1);for(var n=Math.min(e,t),o=Math.max(e,t),a=n;a<=o;a++)if(!this[a].allowDragging)return!1}return!(this[t]instanceof Rs)},t.prototype.moveElement=function(e,t,i){if(void 0===i&&(i=!0),this.canMoveElement(e,t,i)){var n=this[e];if(this.removeAt(e),t<0&&(t=this.length),this.insert(t,n),i){var o=this.frozen;e<o&&t>=o?this.frozen--:e>=o&&t<o&&this.frozen++}return!0}return!1},t.prototype.onCollectionChanged=function(t){void 0===t&&(t=Ni.reset),this._dirty=!0,this._g.invalidate(),e.prototype.onCollectionChanged.call(this,t)},t.prototype.push=function(t){return t._setList(this),e.prototype.push.call(this,t)},t.prototype.splice=function(t,i){for(var n=this,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];for(var r=t;r<t+i&&r<this.length;r++){var s=this[r];s instanceof ws&&s._setList(null)}return o.forEach((function(e){return e._setList(n)})),e.prototype.splice.apply(this,[t,i].concat(o))},t.prototype.beginUpdate=function(){this._update(),e.prototype.beginUpdate.call(this)},t.prototype._setDefaultSize=function(e){this._szCustom||(this.defaultSize=e,this._szCustom=!1)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var e=0,t=0,i=void 0,n=void 0,o=0;o<this.length;o++)(n=this[o])._idx=o,n._idxVis=e,n._pos=t,n._setList(this),(i=n.renderSize)>0&&(t+=i,e++,o<this._frozen&&(this._lastFrozen=o)),this._firstVisible<0&&n.visible&&(this._firstVisible=o);return this._vlen=e,this._szTot=t,!0}return!1},t}(na),ks=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return os(t,e),t.prototype.getColumn=function(e){var t=Xi(e)?e:this.indexOf(e);return t>-1?this[t]:null},t.prototype.indexOf=function(t){if(t instanceof Cs)return e.prototype.indexOf.call(this,t);for(var i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=Dn(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._updateStarSizes=function(e){for(var t,i=!1,n=0,o=0;o<this.length;o++)(r=this[o]).isVisible&&(r._szStar?(n+=Cs._parseStarSize(r._szStar),t=r):e-=r.renderWidth);if(t){var a=e;for(o=0;o<this.length;o++){var r;if((r=this[o]).isVisible&&r._szStar){var s=r._sz;r==t&&a>0?s=a:a-=s=Math.max(0,Math.round(Cs._parseStarSize(r._szStar)/n*e)),s!=r._sz&&(r._sz=s,i=!0)}}return i&&(this._dirty=!0,this._update()),i}return!1},t}(xs),Ls=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._maxLevel=-1,t}return os(t,e),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){e!=this.ariaLabel&&(this._ariaLabel=Dn(e),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){var t=this;if(e.prototype._update.call(this)){var i=this.grid?this.grid.collectionView:null,n=i?i.items:null,o=0;return this._maxLevel=-1,this.forEach((function(e){e instanceof Ss&&e.level>t._maxLevel&&(t._maxLevel=e.level),e._idxData=-1;var i=e.dataItem;i&&n&&(e._idxData=i===n[o]?o:i===n[o+1]?++o:-1)})),!0}return!1},t}(xs);wo("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}}),function(e){e[e.None=0]="None",e[e.SingleColumn=1]="SingleColumn",e[e.MultiColumn=2]="MultiColumn"}(gs||(gs={})),function(e){e[e.None=0]="None",e[e.SingleColumn=1]="SingleColumn",e[e.ColumnRange=2]="ColumnRange",e[e.Both=3]="Both"}(ys||(ys={})),function(e){e[e.None=0]="None",e[e.Column=1]="Column",e[e.Row=2]="Row",e[e.All=3]="All"}(_s||(_s={})),function(e){e[e.Default=0]="Default",e[e.CSV=1]="CSV",e[e.QuoteAll=2]="QuoteAll",e[e.SkipMerged=4]="SkipMerged",e[e.Unformatted=8]="Unformatted",e[e.InvisibleRows=16]="InvisibleRows",e[e.InvisibleColumns=32]="InvisibleColumns",e[e.InvisibleCells=48]="InvisibleCells"}(vs||(vs={}));var Vs,Os=function(e){function t(t,i){var n=e.call(this,t,null,!0)||this;n._szClient=new co(0,0),n._offsetY=0,n._cssPage=0,n._ptScrl=new lo(0,0),n._cellPadLeft=3,n._cellPadHorz=3,n._cellPadVert=0,n._clipToScreen=!1,n._autoGenCols=!0,n._autoClipboard=!0,n._xOnCopyPaste=!0,n._autoScroll=!0,n._autoSearch=!1,n._caseSensitive=!1,n._readOnly=!1,n._indent=14,n._autoSizeMode=Qs.Both,n._autoHeights=!1,n._hdrVis=_s.All,n._alSorting=gs.SingleColumn,n._alPinning=ys.None,n._alAddNew=!1,n._alDelete=!1,n._alResizing=Ys.Columns,n._alDragging=Ws.Columns,n._alMerging=Vs.None,n._ssHdr=_s.None,n._shSort=!0,n._shGroups=!0,n._shMarquee=!1,n._altStep=1,n._shErr=!0,n._shDropDown=!0,n._valEdt=!0,n._deferResizing=!1,n._pSel=!0,n._pOutline=!0,n._stickyHdr=!1,n._anchorCursor=!1,n._copyHeaders=_s.None,n._bigChecks=!1,n._vt=0,n._vtRows=0,n._vtCols=0,n._lazyRender=!0,n._refreshOnEdit=!0,n._reorderCells=!0,n.itemsSourceChanging=new Ii,n.itemsSourceChanged=new Ii,n.scrollPositionChanged=new Ii,n.selectionChanging=new Ii,n.selectionChanged=new Ii,n.loadingRows=new Ii,n.loadedRows=new Ii,n.updatingLayout=new Ii,n.updatedLayout=new Ii,n.resizingColumn=new Ii,n.resizedColumn=new Ii,n.autoSizingColumn=new Ii,n.autoSizedColumn=new Ii,n.starSizedColumns=new Ii,n.draggingColumn=new Ii,n.draggingColumnOver=new Ii,n.draggedColumn=new Ii,n.pinningColumn=new Ii,n.pinnedColumn=new Ii,n.resizingRow=new Ii,n.resizedRow=new Ii,n.autoSizingRow=new Ii,n.autoSizedRow=new Ii,n.draggingRow=new Ii,n.draggingRowOver=new Ii,n.draggedRow=new Ii,n.groupCollapsedChanging=new Ii,n.groupCollapsedChanged=new Ii,n.columnGroupCollapsedChanging=new Ii,n.columnGroupCollapsedChanged=new Ii,n.sortingColumn=new Ii,n.sortedColumn=new Ii,n.beginningEdit=new Ii,n.prepareCellForEdit=new Ii,n.cellEditEnding=new Ii,n.cellEditEnded=new Ii,n.rowEditStarting=new Ii,n.rowEditStarted=new Ii,n.rowEditEnding=new Ii,n.rowEditEnded=new Ii,n.rowAdded=new Ii,n.deletingRow=new Ii,n.deletedRow=new Ii,n.copying=new Ii,n.copied=new Ii,n.pasting=new Ii,n.pasted=new Ii,n.pastingCell=new Ii,n.pastedCell=new Ii,n.formatItem=new Ii((function(){n._clearCells()})),n.updatingView=new Ii,n.updatedView=new Ii,n._mappedColumns=null;var o=n.hostElement;To()&&(o.style.borderRadius="0");var a=n.getTemplate();return n.applyTemplate("wj-control wj-content wj-flexgrid",a,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),ro(n._root.parentElement,{position:"relative",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",maxWidth:"inherit",maxHeight:"inherit"}),ro(n._root,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",overflow:"auto",maxWidth:"inherit",maxHeight:"inherit",webkitOverflowScrolling:"touch"}),ro(n._eCt,{position:"absolute"}),ro(n._eMarquee,{display:"none"}),ro(n._eMarquee.firstChild,{width:"100%",height:"100%"}),ro(n._fCt,{position:"absolute",left:"0",top:"0",overflow:"hidden",pointerEvents:"none"}),ro(n._eFocus,{position:"fixed",left:"-32000px"}),ro(n._eSz,{position:"relative",visibility:"hidden"}),[n._eRHdr,n._eCFtr,n._eCHdr,n._eBL,n._eTL].forEach((function(e){Gn(e,"aria-hidden",!0),ro(e,{position:"absolute",overflow:"hidden",outline:"none"}),ro(e.firstElementChild,{position:"relative"})})),[n._eFocus,n._eMarquee,n._fCt,n._eSz].forEach((function(e){Gn(e,"aria-hidden",!0)})),o.tabIndex=-1,n.deferUpdate((function(){var e=n._getDefaultRowHeight();n._rows=new Ls(n,e),n._cols=new ks(n,4*e),n._hdrRows=new Ls(n,e),n._hdrCols=new ks(n,Math.round(1.25*e)),n._ftrRows=new Ls(n,e);var t=as;n._gpTL=new hs(n,t.TopLeft,n._hdrRows,n._hdrCols,n._eTLCt),n._gpCHdr=new hs(n,t.ColumnHeader,n._hdrRows,n._cols,n._eCHdrCt),n._gpRHdr=new hs(n,t.RowHeader,n._rows,n._hdrCols,n._eRHdrCt),n._gpCells=new hs(n,t.Cell,n._rows,n._cols,n._eCt),n._gpBL=new hs(n,t.BottomLeft,n._ftrRows,n._hdrCols,n._eBLCt),n._gpCFtr=new hs(n,t.ColumnFooter,n._ftrRows,n._cols,n._eCFtrCt),n._hdrRows.push(new Ds),n._hdrCols.push(new Cs({align:"center"})),n._cf=new Bs,n._keyHdl=new qs(n),n._mouseHdl=new Ks(n),n._edtHdl=new zs(n),n._selHdl=new fs(n),n._addHdl=new Ps(n),n._grpHdl=new Es(n),n._mrgMgr=new Is(n),n._bndSortConverter=n._sortConverter.bind(n),n._errorTip=new _a({isContentHtml:!1,showDelay:0,cssClass:"wj-error-tip"}),Gn(n.cells.hostElement,"role","grid"),n.selectionMode=ls.CellRange,n._root.tabIndex=-1,n.initialize(i)})),n.addEventListener(n._root,"scroll",(function(e){if(n._updateScrollPosition()||n._forceScrollUpdate){var t=n.activeEditor,i=t?t.selectionStart:-1,o=t?t.selectionEnd:-1;n._forceScrollUpdate||n.finishEditing(!1)||n.finishEditing(!0),n._forceScrollUpdate=!1,n._updateContent(!0),t&&n.activeEditor&&Qn(t=n.activeEditor,i,o),n.frozenColumns&&setTimeout((function(){var e=parseInt(n.columnHeaders.hostElement.style.left);Math.abs(e-n._ptScrl.x)>1&&n.invalidate()}))}})),n.addEventListener(o,"focus",(function(e){if(o.tabIndex>-1){var t=e.target;t instanceof HTMLElement&&t.tabIndex<0&&n._setFocus(!0)}}),!0),n}return os(t,e),t.prototype._handleResize=function(){this._rcBounds=null,e.prototype._handleResize.call(this)},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){(e=En(e,_s))!=this._hdrVis&&(this._hdrVis=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=kn(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyHeaders",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=En(e,_s)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=e,Xi(e)?this._vtRows=this._vtCols=Sn(e):e?rn(e)&&2==e.length?(this._vtRows=Sn(e[0]),this._vtCols=Sn(e[1])):wn(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandSelectionOnCopyPaste",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){var e=t._getSerializableProperties(Cs),i=new Cs,n=[];return this.columns.forEach((function(t){var o={};e.forEach((function(e){var n=t[e];n!=i[e]&&$i(n)&&"size"!=e&&(o[e]=n)})),n.push(o)})),JSON.stringify({columns:n})},set:function(e){var t=JSON.parse(Dn(e));if(!t||null==t.columns)throw"Invalid columnLayout data.";this.columns.clear(),this.initialize(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear(),this._grpHdl.createColumnGroups(On(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=kn(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),zn(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigCheckboxes",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=kn(e,!0))!=this.isDisabled){var t=this._e;t&&(oo(t,!e),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(e){if(kn(e)!=this.imeEnabled&&this.finishEditing()){var t=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new Us(this)),t&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=En(e,Ys)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=En(e,Qs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=kn(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return tn(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){tn(e)&&(e=e?gs.SingleColumn:gs.None),this._alSorting=En(e,gs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowPinning",{get:function(){return this._alPinning},set:function(e){e!=this._alPinning&&(tn(e)&&(e=e?ys.SingleColumn:ys.None),this._alPinning=En(e,ys),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=kn(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=kn(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){(e=En(e,Vs))!=this._alMerging&&(this._alMerging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){(e=En(e,_s))!=this._ssHdr&&(this._ssHdr=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return this._shMarquee},set:function(e){e!=this._shMarquee&&(this._shMarquee=kn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=kn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=kn(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(e){e!=this._altStep&&(this._altStep=xn(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(e){Cn("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=kn(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorTip",{get:function(){return this._errorTip},set:function(e){e!=this._errorTip&&(this._clearCells(),this._errorTip=Un(e,_a,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=Vn(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._valEdt=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=Dn(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){(e=En(e,Ws))!=this._alDragging&&(this._alDragging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){if(e!=this._items){var t,i=new Ai;this.onItemsSourceChanging(i)&&(this._cv&&((t=Ki(this._cv,oa))&&t.sortConverter==this._bndSortConverter&&(t.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),(t=Ki(this._cv,oa))&&!t.sortConverter&&(t.sortConverter=this._bndSortConverter)),this._bindGrid(!0),this._selHdl._setSelectionMode(this.selectionMode),this.onItemsSourceChanged(i))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return Ki(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(wn(null==e||rn(e)||Ji(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=Dn(e),this._rowHdrPath=e?new Pi(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e){return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this._fzClone&&(eo(this._fCt,null),this._fzClone=kn(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=Sn(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(e){e!=this._editColIndex&&(this._editColIndex=Sn(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var i=this._root,n=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":n=i.scrollWidth-i.clientWidth+e.x;break;case"neg":n=e.x;break;default:n=-e.x}i.scrollLeft=n,i.scrollTop=-e.y,this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=ao(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new co(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=Un(e,Bs,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=Vn(e))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,t){return this._edtHdl._allowEdit(e,t)},t.prototype.getCellData=function(e,t,i){return this.cells.getCellData(e,t,i)},t.prototype.getCellBoundingRect=function(e,t,i){return this.cells.getCellBoundingRect(e,t,i)},t.prototype.setCellData=function(e,t,i,n,o){return void 0===n&&(n=!0),void 0===o&&(o=!0),this.cells.setCellData(e,t,i,n,o)},t.prototype.hitTest=function(e,t){return Xi(e)&&Xi(t)&&(e=new lo(e,t)),tn(t)&&t&&(this._rcBounds=null),new Ts(this,e)},t.prototype.getClipString=function(e,t,i,n){var o;return wn(Xi(o=null==t||tn(t)?t?vs.CSV:vs.Default:t),"Unexpected value for ClipStringOptions parameter."),this._edtHdl.getClipString(e,o,i,n)},t.prototype.setClipString=function(e,t){this._edtHdl.setClipString(e,t)},t.prototype.focus=function(e){this._setFocus(e)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.finishEditing(),t){this._updateColumnTypes(),this.scrollPosition=this._ptScrl;var i=this._getDefaultRowHeight();this._rows._setDefaultSize(i),this._cols._setDefaultSize(4*i),this._hdrRows._setDefaultSize(i),this._hdrCols._setDefaultSize(Math.round(1.25*i)),this._ftrRows._setDefaultSize(i),clearTimeout(this._toInv),this._toInv=null}this.refreshCells(t);var n=this._e;n&&(this._szCtl=new co(n.offsetWidth,n.offsetHeight))},t.prototype.refreshCells=function(e,t,i){this.isUpdating||(e?this._updateLayout():this._updateContent(t,i))},t.prototype.refreshRange=function(e){for(var t=e.topRow;t<=e.bottomRow;t++)for(var i=e.leftCol;i<=e.rightCol;i++){var n=this.cells.getCellElement(t,i);n&&this.cellFactory.updateCell(this.cells,t,i,n,n[hs._INDEX_KEY].rng)}},t.prototype.autoSizeColumn=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=4),this.autoSizeColumns(e,e,t,i)},t.prototype.autoSizeColumns=function(e,i,n,o){var a=this;void 0===n&&(n=!1),void 0===o&&(o=4);var r=0,s=n?this.topLeftCells:this.columnHeaders,l=n?this.bottomLeftCells:this.columnFooters,c=n?this.rowHeaders:this.cells,d=this.viewRange;e=null==e?0:xn(e),i=null==i?c.columns.length-1:xn(i),d.row=Math.max(0,d.row-1e3),d.row2=Math.min(d.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate((function(){ro(a._eCt,{width:a._gpCells.width});for(var n=Xn("<div "+t._WJS_MEASURE+'="true"/>',c.hostElement,{visibility:"hidden"}),h=a._getCanvasContext(),u=e;u<=i&&u>-1&&u<c.columns.length;u++){var p=c.columns[u];if(p.isVisible){if(r=0,a.autoSizeMode&Qs.Headers){for(var b=0;b<s.rows.length;b++)s.rows[b].isVisible&&(r=Math.max(a._getDesiredWidth(s,b,u,n),r));for(b=0;b<l.rows.length;b++)l.rows[b].isVisible&&(r=Math.max(a._getDesiredWidth(l,b,u,n),r))}if(a.autoSizeMode&Qs.Cells&&d.isValid)if(p._getQuickAutoSize())b=a._getWidestRow(c,d,u,h),r=Math.max(a._getDesiredWidth(c,b,u,n),r);else for(b=d.row;b<=d.row2&&b<c.rows.length;b++)c.rows[b].isVisible&&(r=Math.max(a._getDesiredWidth(c,b,u,n),r));r>0&&(p.width=r+o+2)}}a.cellFactory.disposeCell(n),qn(n)}))},t.prototype.autoSizeRow=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=0),this.autoSizeRows(e,e,t,i)},t.prototype.autoSizeRows=function(e,i,n,o){var a=this;void 0===n&&(n=!1),void 0===o&&(o=0);var r=0,s=n?this.topLeftCells:this.rowHeaders,l=n?this.columnHeaders:this.cells;if(n=kn(n),o=Sn(o),e=null==e?0:xn(e),i=null==i?l.rows.length-1:xn(i),this.finishEditing()){ro(this._eCt,{width:this._gpCells.width});var c=Xn("<div "+t._WJS_MEASURE+'="true"/>',l.hostElement,{visibility:"hidden"});this.rows.deferUpdate((function(){for(var t={},n=e;n<=i&&n>-1&&n<l.rows.length;n++)l.rows[n].isVisible&&(r=0,a.autoSizeMode&Qs.Headers&&(r=a._getDesiredRowHeight(s,n,c,t)),a.autoSizeMode&Qs.Cells&&(r=Math.max(a._getDesiredRowHeight(l,n,c,t),r)),r>0&&(l.rows[n].height=r+o))})),this.cellFactory.disposeCell(c),qn(c)}},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=Sn(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){var t=this;this.finishEditing()&&this.deferUpdate((function(){var i=t.rows;i.deferUpdate((function(){for(var t=0;t<i.length;t++){var n=i[t];n instanceof Ss&&(n.isCollapsed=n.level>=e)}}))}))},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=En(e,ls))!=this.selectionMode&&(this._selHdl.selectionMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,t){return void 0===t&&(t=!0),this._selHdl.select(e,t)},t.prototype.selectAll=function(){var e=this.rows.length,t=this.columns.length;return!(!e||!t)&&this.select(new ss(0,0,e-1,t-1),!1)},t.prototype.getSelectedState=function(e,t){return this.cells.getSelectedState(e,t,null)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=this,t=this.selectionMode,i=this.rows.filter((function(e){return e.isSelected}));if(0==i.length&&t!=ls.None){var n=[];this.selectedRanges.forEach((function(t){for(var i=t.topRow;i<=t.bottomRow&&i>-1&&i<e.rows.length;i++)n.indexOf(i)<0&&n.push(i)})),n.sort(),i=n.map((function(t){return e.rows[t]}))}return i},set:function(e){var t=this;wn(this.selectionMode==ls.ListBox,"This property can be set only in ListBox mode."),e=On(e),this.deferUpdate((function(){for(var i=0,n=!0;i<t.rows.length;i++){var o=t.rows[i],a=e&&e.indexOf(o)>-1;a&&n&&(n=!1,t.select(i,t.selection.col)),o.isSelected=a}}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){var e=[];return this.selectedRows.forEach((function(t){t&&t.dataItem&&e.push(t.dataItem)})),e},set:function(e){var t=this;wn(this.selectionMode==ls.ListBox,"This property can be set only in ListBox mode."),e=On(e),this.deferUpdate((function(){for(var i=0,n=!0;i<t.rows.length;i++){var o=t.rows[i],a=e&&e.indexOf(o.dataItem)>-1;a&&n&&(n=!1,t.select(i,t.selection.col)),o.isSelected=a}}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRanges",{get:function(){var e=[this.selection];return this._selHdl.extendedSelection.forEach((function(t){e.push(t)})),e},set:function(e){if((e=On(e))&&e.length>0&&(this.select(e[0]),this.selectionMode==ls.MultiRange)){var t=this._selHdl.extendedSelection;t.deferUpdate((function(){t.clear();for(var i=1;i<e.length;i++)t.push(e[i])}))}},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,t,i){(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var n=this.scrollPosition,o=this._szClient,a=o.width,r=o.height-this._gpCFtr.rows.getTotalSize(),s=this.cells._getFrozenPos();if((e=xn(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var l=this._rows[e],c=this._getCssPage(l.pos);if(c!=this._cssPage){for(var d=this._maxOffsetY,h=Math.round(d*c);h>l.pos;c-=.1)h=Math.round(d*c);this._offsetY=h}var u=l.pos-this._offsetY,p=u+l.renderSize;p>r-n.y&&(n.y=Math.max(-u,r-p)),u-s.y<-n.y&&(n.y=-(u-s.y)),c!=this._cssPage&&(this._cssPage=this._getCssPage(-n.y))}if((t=xn(t))>-1&&t<this._cols.length&&t>=this._cols.frozen){var b=this._cols[t],m=b.pos+b.renderSize;m>-n.x+a&&(n.x=Math.max(-b.pos,a-m)),b.pos-s.x<-n.x&&(n.x=-(b.pos-s.x))}if(!n.equals(this._ptScrl))return this.scrollPosition=n,i&&(this._updateScrollPosition(),this.refresh()),!0;if(this._focus&&this._activeCell&&e>-1&&t>-1){var f=this._root;if(f.scrollWidth==f.clientWidth||f.scrollHeight==f.clientHeight){var g=this._activeCell.getBoundingClientRect(),y=innerWidth,_=innerHeight;(g.bottom<0||g.right<0||g.top>_||g.left>y)&&(n.x=pageXOffset+(g.left<0?g.left:g.right>y?g.right-y:0),n.y=pageYOffset+(g.top<0?g.top:g.bottom>_?g.bottom-_:0),scrollTo(n.x,n.y))}}return!1},t.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,t,i,n,o){return void 0===e&&(e=!0),this._edtHdl.startEditing(e,t,i,n,o)},t.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=Un(e,Is,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,t,i,n){return void 0===n&&(n=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,t,i,n):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=En(e,Ns)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=En(e,Ns)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveWhiteSpace",{get:function(){return Hn(this.hostElement,t._WJS_WSPRE)},set:function(e){zn(this.hostElement,t._WJS_WSPRE,kn(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=kn(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){return this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1),null!=this._edtHdl._lbx},Object.defineProperty(t,"defaultTypeWidth",{get:function(){return t._defTypeWidth},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e),this._autoRowHeights()},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e),this._autoRowHeights()},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e),this._autoRowHeights()},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onPinningColumn=function(e){return this.pinningColumn.raise(this,e),!e.cancel},t.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onColumnGroupCollapsedChanging=function(e){return this.columnGroupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowEditStarting=function(e){return this.rowEditStarting.raise(this,e),!e.cancel},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._autoRowHeights=function(){var e=this;this._autoHeights&&(clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout((function(){e._toAutoHeights=null,e.editRange||e.autoSizeRows()}),ha._REFRESH_INTERVAL))},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,t,i,n){if(nn(this.itemValidator)){if(e==this.cells)return this.itemValidator(t,i,n);if(e==this.rowHeaders)for(i=0;i<this.columns.length;i++)if(c=this.itemValidator(t,i,n))return c}var o=this._cv,a=o?o.getError:null;if(nn(a)){var r=e.rows,s=this.columns,l=r[t].dataItem;if(l&&!(l instanceof aa))for(;t<r.length&&r[t].dataItem==l;t++){if(e==this.cells)return a(l,this._getBindingColumn(this.cells,t,s[i]).binding,n);if(e==this.rowHeaders)for(i=0;i<s.length;i++){var c;if(c=a(l,this._getBindingColumn(this.cells,t,s[i]).binding))return c}}}return null},t.prototype._setAria=function(e,t){Gn(this.cells.hostElement,"aria-"+e,t)},t.prototype._setFocus=function(e){if(this.hostElement&&(e||!this.containsFocus())){var t=Kn(),i=this.activeEditor,n=this._activeCell,o=this._eFocus,a=this._root;i?to(i,t)||(i.focus(),o.tabIndex=-1):n?to(n,t)||t==this._root||(To()&&Hn(n,"wj-group")&&(n=n.querySelector("."+Bs._WJC_COLLAPSE)||n),n.tabIndex=this._orgTabIndex,this._setFocusNoScroll(n),o.tabIndex=-1):to(o,t)||t==a||(o.tabIndex=this._orgTabIndex,this._setFocusNoScroll(o)),this.containsFocus()||(o.tabIndex=this._orgTabIndex,this._setFocusNoScroll(o))}},t.prototype._setFocusNoScroll=function(e){if(Kn()!=e){if(Go())e.focus({preventScroll:!0});else{var t=this.scrollPosition,i=e.style,n=i.position;i.position="fixed",e.focus(),i.position=n,this.scrollPosition=t}this._fixScroll()}},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,t=this._eFocus,i=null;t.offsetHeight||(i=Xn('<div><div class="wj-cell">0</div></div>',document.body),e&&i.setAttribute("class",e.getAttribute("class")),t=i.children[0]);var n=t.offsetHeight;return(isNaN(n)||n<=6)&&(n=28),qn(i),n},t.prototype._getCollectionView=function(e){return Mn(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),t=getComputedStyle(this.hostElement);return e.font=t.fontSize+" "+t.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,t,i,n){for(var o=0,a=0,r=e.columns[i].dataType==Fi.Boolean,s=t.row;s<=t.row2;s++)if(e.rows[s].isVisible){var l=e.getCellData(s,i,!0),c=n.measureText(l).width,d=this.getMergedRange(e,s,i,!1);if(d&&d.columnSpan>1&&(c/=d.columnSpan),c>a&&(a=c,o=s),r)break}return o},t.prototype._getDesiredWidth=function(e,t,i,n){var o=this.getMergedRange(e,t,i,!1),a=n.style;return this.cellFactory.updateCell(e,t,i,n,o),a.width=a.top=a.left="",n.offsetWidth/(o&&o.columnSpan>1?o.columnSpan:1)},t.prototype._getDesiredHeight=function(e,t,i,n){var o=n.style,a=this.getMergedRange(e,t,i,!1),r=a?a.rowSpan:1;return this.cellFactory.updateCell(e,t,i,n,a),n.innerHTML.trim()||(n.innerHTML="&nbsp;"),o.height=o.top=o.left="",n.offsetHeight/r},t.prototype._getDesiredRowHeight=function(e,t,i,n){for(var o=0,a=this._getQuickAutoSize(),r=0;r<e.columns.length;r++){var s=e.columns[r];if(s.isVisible){var l=this.getMergedRange(e,t,r,!1),c=void 0;if(a){var d={ct:e.cellType,col:r,rng:l&&l.rowSpan>1?l.rowSpan:1,data:s.dataType!=Fi.Number||s.dataMap?e.getCellData(t,r,!0):"1"},h=JSON.stringify(d);null==(c=n[h])&&(c=this._getDesiredHeight(e,t,r,i),n[h]=c)}else c=this._getDesiredHeight(e,t,r,i);o=Math.max(c,o)}}return o},t.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._getDeleteColumnIndex=function(){return 0},t.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1},t.prototype._sortConverter=function(e,t,i,n){var o,a=this;if(n&&(this._mappedColumns=null,this._cv&&this._cv.sortDescriptions.forEach((function(e){(o=a.getColumn(e.property))&&o.dataMap&&(a._mappedColumns||(a._mappedColumns={}),a._mappedColumns[o.binding]=o.dataMap)})),this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(o=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&o.dataMap&&(this._mappedColumns[o.binding]=o.dataMap))),this._mappedColumns){var r=this._mappedColumns[e.property];r&&r.sortByDisplayValues&&(i=r.getDisplayValue(i))}return i},t.prototype._bindGrid=function(e){var t=this;if(this.finishEditing(),this.deferUpdate((function(){var i,n;if(t.autoGenerateColumns&&0==t._lastCount&&Pn(t._cv)&&(e=!0),t.preserveSelectedState&&(i=t._getMap())&&t.rows.forEach((function(e){e.isSelected&&e.dataItem&&i.set(e.dataItem,!0)})),t.preserveOutlineState&&t.rows.maxGroupLevel>-1&&(n=t._getMap()))for(var o=0;o<t.rows.length;o++){var a=t.rows[o];if(a instanceof Ss&&a.isCollapsed&&a.dataItem){var r=a.dataItem;r instanceof aa&&(r=r._path),n.set(r,!0)}}e&&t.columns.deferUpdate((function(){t._bindColumns()}));var s=new Ai;t.onLoadingRows(s)&&(t.rows.deferUpdate((function(){t._bindRows()})),t.onLoadedRows(s)),t._selHdl.extendedSelection.clear();var l=0;if(i&&i.size&&t.rows.forEach((function(e){var t=e.dataItem;t&&i.has(t)&&(e.isSelected=!0,l++)})),0==l&&t._lastCount>0&&t.selectionMode==ls.ListBox){var c=t.selection;for(o=c.topRow;o<=c.bottomRow&&o>-1&&o<t.rows.length;o++)t.rows[o].isSelected=!0}if(n&&n.size&&t.rows.deferUpdate((function(){t.rows.forEach((function(e){if(e instanceof Ss){var t=e.dataItem;t instanceof aa&&(t=t._path),n.has(t)&&(e.isCollapsed=!0)}}))})),!t._lastCount){var d=t._cv;d&&d.items&&(t._lastCount=d.items.length)}})),!this.rows.length){var i=this._selHdl.selection;i.row=i.row2=-1}this._cv&&this._syncSelection(e&&!this._toInv)},t.prototype._getMap=function(){return window.Map?new Map:null},t.prototype._cvCollectionChanged=function(e,t){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var i=Ui;if(this.childItemsPath&&t.action!=i.Change)this._bindGrid(!1);else{switch(t.action){case i.Change:return void this.invalidate();case i.Add:if(t.index==this._cv.items.length-1){var n=this.rows.length;return this.rows[n-1]instanceof Rs&&n--,void this.rows.insert(n,new Ds(t.item))}wn(!1,"added item should be the last one.");break;case i.Remove:var o=this._findRow(t.item);if(o>-1)return this.rows.removeAt(o),void this._syncSelection();wn(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},t.prototype._cvCurrentChanged=function(e,t){this._syncSelection()},t.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=ls.None){var t=this._selHdl.selection,i=t.row>-1&&t.row<this.rows.length?this.rows[t.row]:null,n=i?i.dataItem:null,o=this._cv;if(o instanceof oa&&o.isUpdating)return;if(this.newRowAtTop&&i instanceof Rs)return;if(n instanceof aa&&(n=null),n!=o.currentItem||e){var a=this.editableCollectionView;if(!this.childItemsPath||!a||!a.currentAddItem){var r=this._getRowIndex(o.currentPosition);r==t.row&&this.childItemsPath||(t=new ss(r,t.col,r,t.col2),this.select(t,!1),this.selectionMode&&this.scrollIntoView(t.row,-1))}}}},t.prototype._getRowIndex=function(e){if(this._cv){var t=this.rows;if(e>-1){for(var i=this._cv.items[e];e<t.length;e++)if(t[e].dataItem===i)return e;return-1}if(1==t.length&&t[0]instanceof Rs)return 0;var n=this.selection.row,o=n>-1?t[n]:null;return o&&(o instanceof Ss||null==o.dataItem)?n:-1}return this.selection.row},t.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1},t.prototype._findRow=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==e)return t;return-1},t.prototype._updateLayout=function(){var e=new Ai;if(this.onUpdatingLayout(e)){var i=this._hdrVis&_s.Row?this._hdrCols.getTotalSize():0,n=this._hdrVis&_s.Column?this._hdrRows.getTotalSize():0,o=this._ftrRows.getTotalSize(),a=this._rows.getTotalSize()+o;a<1&&(a=1),this._heightReal=a,this._heightBrowser=Math.min(a,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,a-this._heightBrowser);var r=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(r.paddingTop)+parseInt(r.paddingBottom),this._cellPadHorz=parseInt(r.paddingLeft)+parseInt(r.paddingRight),this._cellPadLeft=parseInt(this.rightToLeft?r.paddingRight:r.paddingLeft);var s=this._heightBrowser+n-o,l=this._gpCells.width,c=this._heightBrowser;!l&&this.rows.length&&(l=.1),!c&&this.columns.length&&(c=.1),this.rightToLeft?(ro(this._eTL,{right:0,top:0,width:i,height:n}),ro(this._eCHdr,{right:i,top:0,height:n}),ro(this._eRHdr,{right:0,top:n,width:i}),ro(this._eCt,{right:i,top:n,width:l,height:c}),ro(this._fCt,{right:i,top:n}),ro(this._eBL,{right:0,top:s,width:i,height:o}),ro(this._eCFtr,{right:i,top:s,height:o})):(ro(this._eTL,{left:0,top:0,width:i,height:n}),ro(this._eCHdr,{left:i,top:0,height:n}),ro(this._eRHdr,{left:0,top:n,width:i}),ro(this._eCt,{left:i,top:n,width:l,height:c}),ro(this._fCt,{left:i,top:n}),ro(this._eBL,{left:0,top:s,width:i,height:o}),ro(this._eCFtr,{left:i,top:s,height:o})),this._stickyHdr&&this._updateStickyHeaders(),ro([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:this.frozenRows||this.frozenColumns?"3":""});var d=this._root,h=d.offsetWidth-d.clientWidth,u=d.offsetHeight-d.clientHeight;ro(this._eSz,{width:i+h+this._gpCells.width,height:n+u+this._heightBrowser});var p=null;this.columns._updateStarSizes(d.clientWidth-i)&&(p=d.clientWidth,ro(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new co(d.clientWidth-i,d.clientHeight-n),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),ro(this._eSz,{width:i+(h=d.offsetWidth-d.clientWidth)+this._gpCells.width,height:n+(u=d.offsetHeight-d.clientHeight)+this._heightBrowser}),this._szClient=new co(d.clientWidth-i,d.clientHeight-n),p&&p!=d.clientWidth&&this.columns._updateStarSizes(d.clientWidth-i)&&(ro(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),ro([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),ro([this._eRHdr,this._fCt],{height:this._szClient.height}),o&&(s=Math.min(s,this._szClient.height+n-o),ro([this._eBL,this._eCFtr],{top:s})),this.onUpdatedLayout(e)}},t.prototype._updateStickyHeaders=function(){var e=!1,i=0;if(this._stickyHdr){for(var n=0,o=null,a=this.hostElement;a;a=a.parentElement)if("inline"!=getComputedStyle(a).display){var r=a.getBoundingClientRect();null==o&&(o=r.top),n=Math.max(n,r.top)}i=-(o=Math.max(0,n-o-1)),e=o>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-i+"px":"",zn(this._eTL,t._WJS_STICKY,e),zn(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},t.prototype._getClipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS)return!1;if(this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if("auto"==getComputedStyle(e).overflow)return!1;return!0},t.prototype._scroll=function(e){var t=this;to(e.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame((function(){t._afClip=null,t.finishEditing(),t._updateContent(!0)}))),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame((function(){t._afSticky=null;var e=new Ai;t.onUpdatingLayout(e)&&(t._updateStickyHeaders(),t.onUpdatedLayout(e))}))))},t.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var t=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>t)return _n(Math.round(e/(this._heightBrowser-t)*10)/10,0,1)}return 0},t.prototype._updateScrollPosition=function(){var e=this._root,i=e.scrollTop,n=e.scrollLeft;this.rightToLeft&&"rev"==t._getRtlMode()&&(n=e.scrollWidth-e.clientWidth-n);var o=new lo(-Math.abs(n),-i);return!this._ptScrl.equals(o)&&(this._ptScrl=o,this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,t){var i=this,n=this._root,o=this.hostElement,a=this.cells.hostElement,r=this._activeCell,s=Kn(),l=to(o,s),c=io(s,".wj-flexgrid")==o?s:null,d=new Ai;if(this.onUpdatingView(d)){Gn(a,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),this._hasValidation=nn(this._itemValidator)||this._cv&&nn(this._cv.getError);var h=!t&&this._errorTip&&this._errorTip._tips.length,u=this._getCssPage(-this._ptScrl.y);u!=this._cssPage&&(this._cssPage=u,this._offsetY=Math.round(this._maxOffsetY*u)),this._updateScrollPosition(),this._updateMarquee();var p=this._gpCells._updateContent(e,t,this._offsetY),b=this._hdrVis;b&_s.Column&&(!t||this._ssHdr&b)&&(this._gpCHdr._updateContent(e,t,0),this.rightToLeft||(this._eCHdr.scrollLeft=0)),b&_s.Row&&(!t||this._ssHdr&b)&&(this._gpRHdr._updateContent(e,t,this._offsetY),this._eRHdr.scrollTop=0),b&&!t&&this._gpTL._updateContent(e,t,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,t,0),this._gpCFtr._updateContent(e,t,0)),h&&this._errorTip&&this._errorTip._tips.length&&(clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout((function(){i._errorTip.hide();for(var e=i._errorTip._tips,t=0;t<e.length;t++){var n=e[t].element;n.offsetHeight&&Hn(n,"wj-state-invalid")||(i._errorTip.setTooltip(n,null),t--)}}),250)),this._useFrozenDiv()&&(this._updateFrozenCells(t),p&&Hn(p,"wj-frozen")&&(p=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=p,c&&(c!=n&&c!=this._eFocus&&to(o,c)&&!to(a,c)?(Kn()!==c&&c.focus(),To()&&c instanceof HTMLInputElement&&!c.type.match(/checkbox|radio|range/i)&&c.setSelectionRange(c.selectionStart,c.selectionEnd)):this._setFocus(p!==r)),!c&&p&&(p.tabIndex=this.isDisabled?-1:this._orgTabIndex),r&&r!=p&&(r.tabIndex=-1),this._eFocus.tabIndex=null!=p||this.isDisabled?-1:this._orgTabIndex,l&&this.focus(),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(d)}},t.prototype._fixScroll=function(){if(!this._updating){var e=this.hostElement,t=this._root?this._root.parentElement:null,i=this.rightToLeft;e&&(e.scrollTop&&(e.scrollTop=0),e.scrollLeft&&!i&&(e.scrollLeft=0)),t&&(t.scrollTop&&(t.scrollTop=0),t.scrollLeft&&!i&&(t.scrollLeft=0))}},t.prototype._clearCells=function(){for(var e in this)if("_"==e[0]){var t=this[e];t instanceof hs&&t._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return tn(this._fzClone)?this._fzClone:To()||Uo()||Mo()||ko()},t.prototype._updateFrozenCells=function(e){var t=this._fCt;if(this.frozenRows||this.frozenColumns){var i=this._eCt.querySelectorAll(".wj-frozen");if(e&&t.children.length==i.length){for(var n=0;n<i.length;n++)t.children[n].className=i[n].className;return}if(eo(t,null),!this.activeEditor){var o=this._errorTip,a=navigator.userAgent.indexOf("MSIE")>=0;for(n=0;n<i.length;n++){var r=i[n];if(io(r,".wj-flexgrid")==this.hostElement){var s=r[hs._INDEX_KEY];if(a){var l="input[type=checkbox]",c=r.querySelector(l);r=r.cloneNode(!0),c&&(r.querySelector(l).checked=c.checked)}else r=r.cloneNode(!0);if(r[hs._INDEX_KEY]=s,o){var d=o.getTooltip(i[n]);d&&o.setTooltip(r,d)}t.appendChild(r)}}}}else eo(t,null)},t.prototype._updateMarquee=function(){var e=this._eMarquee,t=this._getMarqueeRect();if(t&&t.width&&t.height){var i=e.firstChild,n=e.offsetWidth-i.offsetWidth,o=e.offsetHeight-i.offsetHeight,a=this.cells.hostElement;ro(e,{left:t.left+a.offsetLeft-n/2,top:t.top+a.offsetTop-o/2,width:t.width+n,height:t.height+o,display:""})}else e.style.display="none"},t.prototype._getMarqueeRect=function(){if(!this._shMarquee)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol));var t=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),i=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var n=Math.min(this.rows.length,this.rows.frozen),o=this.cells.getCellBoundingRect(n-1,0,!0);e.topRow>=n&&t.top<o.bottom&&(t.top=o.bottom),e.bottomRow>=n&&i.bottom<o.bottom&&(i.height=o.bottom-i.top)}if(this.columns.frozen){var a=Math.min(this.columns.length,this.columns.frozen);o=this.cells.getCellBoundingRect(0,a-1,!0),this.rightToLeft?(e.leftCol>=a&&t.right>o.left&&(t.left=o.left-t.width),e.rightCol>=a&&i.left>o.left&&(i.left=o.left)):(e.leftCol>=a&&t.left<o.right&&(t.left=o.right),e.rightCol>=a&&i.right<o.right&&(i.width=o.right-i.left))}return this.rightToLeft?new ho(i.left,t.top,t.right-i.left,i.bottom-t.top):new ho(t.left,t.top,i.right-t.left,i.bottom-t.top)},t.prototype._bindColumns=function(){for(var e=this,i=this.columns,n=0;n<i.length;n++)i[n]._getFlag(ms.AutoGenerated)&&(i.removeAt(n),n--);var o=this._cv,a=o?o.sourceCollection:null;a&&a.length&&this.autoGenerateColumns&&this._getColumnTypes(a).forEach((function(n){var o=new Cs(n);o._setFlag(ms.AutoGenerated,!0),o.name=n.binding,o.header=Rn(n.binding);var a=t._defTypeWidth[o.dataType];if(null!=a){if(Ji(a)){var r=Math.round(parseFloat(a));a=a.indexOf("*")<0?r:r*e.columns.defaultSize}Xi(a)&&a>0&&(o.width=a)}i.push(o)})),this._updateColumnTypes()},t.prototype._getColumnTypes=function(e){return un(e)},t.prototype._updateColumnTypes=function(){var e=this._cv;if(Pn(e)){var t=e.items[0];this.columns.forEach((function(e){null==e.dataType&&e._binding&&(e.dataType=hn(e._binding.getValue(t)))}))}},t.prototype._getMapEditor=function(e,t){return!e.dataMap||e instanceof Ss?t.dataMap?t.dataMapEditor:null:e.dataMapEditor},t.prototype._getBindingColumn=function(e,t,i){return i},t.prototype._getBindingColumns=function(){return this.columns},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var t=e.items,i=e.groups;if(this.childItemsPath)for(var n=0;n<t.length;n++)this._addNode(t,n,0);else if(null!=i&&i.length>0&&this.showGroups)for(n=0;n<i.length;n++)this._addGroup(i[n]);else for(n=0;n<t.length;n++)this._addBoundRow(t,n)}},t.prototype._addBoundRow=function(e,t){var i=new Ds(e[t]),n=this.rows;i._list=n,n[n.length++]=i},t.prototype._addGroupRow=function(e){this.rows.push(new Ss(e))},t.prototype._addNode=function(e,t,i){var n=e[t],o=this.childItemsPath,a=n[rn(o)?o[i]:o],r=new Ss(n);if(r.level=i,this.rows.push(r),rn(a))for(var s=0;s<a.length;s++)this._addNode(a,s,i+1)},t.prototype._addGroup=function(e){if(this._addGroupRow(e),e.isBottomLevel)for(var t=e.items,i=0;i<t.length;i++)this._addBoundRow(t,i);else for(i=0;i<e.groups.length;i++)this._addGroup(e.groups[i])},t._getSerializableProperties=function(e){var t=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var o=i[n],a=Object.getOwnPropertyDescriptor(e,o);a&&a.set&&a.get&&"_"!=o[0]&&!o.match(/^(disabled|required|showDropDown)$/)&&t.push(o)}return t},t.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()},t.prototype._getColumnGroup=function(e,t){return this._grpHdl.getColumnGroup(e,t)},t.prototype._copy=function(e,t){var i=this;if("columns"==e){var n=On(t);return n.some((function(e){return null!=e.columns}))?this.columnGroups=n:(this.columns.clear(),n.forEach((function(e){var t=new Cs(e);i.columns.push(t)}))),!0}return!1},t.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!Hn(e,"wj-btn-glyph")&&("true"==e.contentEditable||null!=e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION|LABEL)$/i))},t.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&Hn(e,Bs._WJC_CHECKBOX)&&io(e,".wj-flexgrid")==this.hostElement},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!Hn(e,"wj-grid-ime")&&to(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=265e5;To()?e=15e5:Uo()&&(e=175e5),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=Xn('<div dir="rtl"><div></div></div>');ro(e,{visibility:"hidden",width:100,height:100,overflow:"auto"}),ro(e.firstChild,{width:2e3,height:2e3}),document.body.appendChild(e);var i=e.scrollLeft;e.scrollLeft=-1e3;var n=e.scrollLeft;qn(e),t._rtlMode=n<0?"neg":i>0?"rev":"std"}return t._rtlMode},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._WJS_WSPRE="wj-whitespace-pre",t._MIN_VIRT_ROWS=200,t._defTypeWidth=((is={})[Fi.Number]="0.714285714*",is),t.controlTemplate='<div><div wj-part="root"><div wj-part="cells" class="wj-cells"></div><div wj-part="marquee" class="wj-marquee"><div></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell">0</div><div wj-part="sz"></div></div>',t}(ha),Us=function(){function e(t){this._updateImeFocusBnd=this._updateImeFocus.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._keypressBnd=this._keypress.bind(this),this._g=t;var i=Xn('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');ro(i,e._cssHidden),Wn(i),i.tabIndex=-1,this._tbx=i,t._root.appendChild(i),this._updateImeFocus();var n=t.hostElement,o=t.addEventListener.bind(t),a=this._updateImeFocusBnd;o(n,"blur",a,!0),o(n,"focus",a),o(n,"mousedown",a,!0),o(n,"mouseup",a,!0),o(i,"compositionstart",this._cmpstartBnd),Vo()&&o(n,"keypress",this._keypressBnd),t.selectionChanged.addHandler(a,this),t.cellEditEnded.addHandler(this._cellEditEnded,this)}return e.prototype.dispose=function(){var e=this._g,t=e.hostElement,i=this._tbx,n=e.removeEventListener.bind(e),o=this._updateImeFocusBnd;n(t,"blur",o),n(t,"focus",o),n(t,"mousedown",o),n(t,"mouseup",o),n(t,"keypress",this._keypressBnd),n(i,"compositionstart",this._cmpstartBnd),e.selectionChanged.removeHandler(o),e.cellEditEnded.removeHandler(this._cellEditEnded),qn(i)},e.prototype._compositionstart=function(e){var t=this._g;if(!t.activeEditor){var i=t._selHdl.selection;if(t.startEditing(!1,i.row,i.col,!1,e)&&t.activeEditor&&"checkbox"!=t.activeEditor.type){var n=t.activeEditor,o=this._tbx,a=t.cells.hostElement,r=t.columns[(i=t.editRange).col].pos+a.offsetLeft,s=t.rows[i.row].pos+a.offsetTop,l=t.getCellBoundingRect(i.row,i.col),c=io(n,".wj-cell");l.width=c.offsetWidth,l.height=c.offsetHeight,i.row<t.frozenRows&&(s+=t._root.scrollTop),i.col<t.frozenColumns&&(r+=t._root.scrollLeft);var d=c.querySelector(".wj-btn.wj-right");d&&(l.width-=d.offsetWidth),"minLength,maxLength,pattern".split(",").forEach((function(e){Gn(o,e,n.getAttribute(e))}));var h=n instanceof HTMLTextAreaElement;Gn(o,"wrap",h?"soft":"off");var u=getComputedStyle(c),p=u.paddingTop;if(i.rowSpan>1&&!h){var b=parseFloat(u.lineHeight);isNaN(b)&&(b=1.2*parseFloat(u.fontSize)),p=Math.max(0,(l.height-b)/2)+"px"}var m={position:"absolute",left:r,top:s,width:l.width-1,height:l.height-1,paddingTop:p,paddingLeft:u.paddingLeft,paddingRight:u.paddingRight,textAlign:u.textAlign,zIndex:c.style.zIndex};t.rightToLeft&&(m.right=parseInt(c.style.right)+parseInt(t.cells.hostElement.style.right),m.left=""),ro(o,m),t._edtHdl._edt=o,o.select();var f=n.value;setTimeout((function(){"\u3000"!=o.value&&" "!=o.value||(o.value=f,Qn(o,f.length))}),20),n.value=""}}},e.prototype._cellEditEnded=function(){var t=this._tbx;t.value="",ro(t,e._cssHidden)},e.prototype._keypress=function(e){e.defaultPrevented||e.target!=this._tbx||e.ctrlKey||e.altKey||e.metaKey||27==e.keyCode||this._g.activeEditor||(this._tbx.value="",this._compositionstart(e),e.stopPropagation())},e.prototype._updateImeFocus=function(){var e=this._g,t=this._tbx,i=Kn();e.activeEditor||io(i,".wj-flexgrid")!=e.hostElement||(this._enableIme()?i!=t&&(t.disabled=!1,t.select(),t.focus()):(t.disabled=!0,t.value="",e.focus()))},e.prototype._enableIme=function(){var e=this._g,t=e._selHdl.selection;if(!e.canEditCell(t.row,t.col))return!1;var i=t.isValid?e._getBindingColumn(e.cells,t.row,e.columns[t.col]):null;return!(!i||i.editor||i.dataType==Fi.Boolean)},e._cssHidden={position:"fixed",width:"1px",left:-32e3,top:-32e3,overflow:"hidden"},e}(),Es=function(){function e(e){this._grid=e}return e.prototype.createColumnGroups=function(e){var t=this,i=this._grid;this._groupDefs=On(e),i.autoGenerateColumns=!1,i.columns.clear(),this._colGroups=[],e.forEach((function(e){t._colGroups.push(new Ms(e,null))}));var n=1;this._colGroups.forEach((function(e){t._addColumnGroup(e),n=Math.max(n,e._getMaxLevel())})),this._colGroups.forEach((function(e){e._expandRange(n)}));var o=i.columnHeaders.rows;o.clear();for(var a=0;a<=n;a++){var r=new Ds;o.splice(a,0,r),a<n&&(r.cssClassAll="wj-colgroup")}for(a=0;a<o.length;a++)for(var s=0;s<i.columns.length;s++){var l=this.getColumnGroup(a,s);if(l){var c=l.header||Rn(l.binding);i.columnHeaders.setCellData(a,s,c)}}},e.prototype._addColumnGroup=function(e){var t=this,i=this._grid;e._grid=i,e._rng.col=i.columns.length,0==e.columns.length?i.columns.push(e):e.columns.forEach((function(e){t._addColumnGroup(e)})),e._rng.col2=i.columns.length-1},e.prototype.hasColumnGroups=function(){return null!=this._colGroups&&this._colGroups.length>0},e.prototype.getGroupDefinitions=function(){return this._groupDefs},e.prototype.getColumnGroup=function(e,t){var i=this._grid;if(e<i.columnHeaders.rows.length&&t<i.columns.length)for(var n=this._colGroups;n;){for(var o=n,a=0;a<n.length;a++){var r=n[a],s=r._rng;if(s.containsColumn(t)){if(s.containsRow(e)||0==r.columns.length)return r;n=r.columns;break}}if(n==o)break}return null},e}(),Ms=function(e){function t(t,i){var n=e.call(this)||this;n._rng=new ss(0,-1),n._cols=[],n._lvl=0,n._collapsed=!1,n._pGrp=i;for(var o=i;o;o=o._pGrp)n._lvl++;return n._rng.row=n._rng.row2=n._lvl,n.allowDragging=!1,t&&vn(n,t),n}return os(t,e),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},set:function(e){var i=this;this._cols=[],e.forEach((function(e){var n=new t(e,i);i._cols.push(n)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroup",{get:function(){return this._pGrp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseTo",{get:function(){return this._collTo},set:function(e){this._collTo=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._collapsed},set:function(e){var t=this;if(e!=this._collapsed){var i=this._grid;if(i){var n=new us(i.rowHeaders,this._rng,this);i.onColumnGroupCollapsedChanging(n)&&(this._collapsed=kn(e),i.onColumnGroupCollapsedChanged(n))}else this._collapsed=kn(e)}setTimeout((function(){t._updateCollapsedState()}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),t.prototype._updateCollapsedState=function(){var e=this._grid.columns,i=this._rng,n=this._collapsed;this._cols.forEach((function(e){e instanceof t&&(e._collapsed=n,e._updateCollapsedState())}));var o=i.rightCol;if(this.collapseTo)switch(this.collapseTo){case"$first":o=i.leftCol;break;case"$last":o=i.rightCol;break;default:var a=e.getColumn(this.collapseTo);a&&i.containsColumn(a.index)&&(o=a.index)}for(var r=i.leftCol;r<=i.rightCol;r++)e[r].visible=!n||r==o},t.prototype._getMaxLevel=function(){var e=this._lvl;return this.columns.forEach((function(t){e=Math.max(e,t._getMaxLevel())})),e},t.prototype._expandRange=function(e){var t=e-this._getMaxLevel();t>0&&(this._rng.row2+=t,this._cols.forEach((function(e){e._shiftRange(t)})));for(var i=this._grid.columns,n=this._rng,o=n.col;o<=n.col2;o++)i[o]._rng.row2=e},t.prototype._shiftRange=function(e){this._rng.row+=e,this._rng.row2+=e,this._cols.forEach((function(t){t._shiftRange(e)}))},t}(Cs),Ps=function(){function e(e){this._nrt=new Rs,this._g=e,this._keydownBnd=this._keydown.bind(this),this._attach()}return Object.defineProperty(e.prototype,"newRowAtTop",{get:function(){return this._top},set:function(e){if(e!=this.newRowAtTop){this._top=kn(e),this.updateNewRowTemplate();var t=this._g;this._top&&t.selectionMode==ls.ListBox&&(t.rows.forEach((function(e,t){e._setFlag(ms.Selected,0==t,!0)})),t.select(0,t.selection.col))}},enumerable:!0,configurable:!0}),e.prototype.updateNewRowTemplate=function(){var e=this._g,t=e.editableCollectionView,i=e.rows,n=this._nrt,o=t&&t.canAddNew&&e.allowAddNew&&!e.isReadOnly,a=i.indexOf(n),r=this._top?0:i.length-1,s=!1;if(!o&&a>-1){var l=e.selection;l.row==a&&e.select(l.row-1,l.col),i.removeAt(a)}else o&&(a<0?s=!0:a!=r&&(i.removeAt(a),s=!0),s&&(this._top?i.insert(0,n):i.push(n)),n&&(n._ubv=null,n._setFlag(ms.ParentCollapsed,!1),this._top&&e.selectionMode==ls.ListBox||n._setFlag(ms.Selected,!1)))},e.prototype._attach=function(){var e=this._g;e&&(e.beginningEdit.addHandler(this._beginningEdit,this),e.pastingCell.addHandler(this._beginningEdit,this),e.rowEditEnded.addHandler(this._rowEditEnded,this),e.loadedRows.addHandler(this.updateNewRowTemplate,this),e.hostElement.addEventListener("keydown",this._keydownBnd,!0))},e.prototype._detach=function(){var e=this._g;e&&(e.beginningEdit.removeHandler(this._beginningEdit),e.pastingCell.removeHandler(this._beginningEdit),e.rowEditEnded.removeHandler(this._rowEditEnded),e.loadedRows.removeHandler(this.updateNewRowTemplate),e.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},e.prototype._keydown=function(e){!e.defaultPrevented&&e.keyCode==Hi.Escape&&null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},e.prototype._beginningEdit=function(e,t){if(!t.cancel){var i=e.rows[t.row];if(i instanceof Rs){var n=e.editableCollectionView;if(n&&n.canAddNew)if(this._top){if(null==this._nrt.dataItem){var o=null,a=n.sourceCollection,r=n.newItemCreator;o=nn(r)?r():a&&a.length?new a[0].constructor:{},this._nrt.dataItem=o}}else{o=n.currentAddItem&&n.currentAddItem==i.dataItem?n.currentAddItem:n.addNew(),n.moveCurrentTo(o);var s=this._nrt.isSelected;this.updateNewRowTemplate(),s&&t.row>-1&&(e.rows[t.row].isSelected=!0),e.refresh(!0),e.onRowAdded(t)||n.cancelNew()}}}},e.prototype._rowEditEnded=function(e,t){var i=this,n=e.editableCollectionView,o=this._nrt.dataItem;if(n&&!this._committing)if(n.isAddingNew)n.commitNew();else if(o&&!t.cancel){this._committing=!0,this._nrt.dataItem=null;var a=n.addNew();for(var r in o)a[r]=o[r];e.onRowAdded(t)?n.commitNew():n.cancelNew(),setTimeout((function(){e.select(0,e.columns.firstVisibleIndex),i.updateNewRowTemplate()}),20),this._committing=!1}},e}(),Rs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return os(t,e),t}(Ds);!function(e){e[e.None=0]="None",e[e.Cells=1]="Cells",e[e.ColumnHeaders=2]="ColumnHeaders",e[e.RowHeaders=4]="RowHeaders",e[e.AllHeaders=6]="AllHeaders",e[e.All=7]="All"}(Vs||(Vs={}));var Is=function(){function e(e){this._g=e}return e.prototype.getMergedRange=function(e,t,i,n){void 0===n&&(n=!0);var o=this._g,a=e.cellType,r=e.columns,s=e.rows,l=s[t],c=r[i];if(l instanceof Rs)return null;if(!(l instanceof Ds&&c instanceof Cs))return null;if(e==o.columnHeaders){var d=o._getColumnGroup(t,i);if(d){var h=d._rng,u=e.columns;return u.isFrozen(h.col)!=u.isFrozen(h.col2)&&(h=h.clone(),u.isFrozen(i)?h.col2=u.frozen-1:h.col=u.frozen),h}}if(o.showGroups&&!o.childItemsPath&&l instanceof Ss&&l.dataItem instanceof aa&&a==as.Cell){if(h=new ss(t,i),c.aggregate==$o.None){for(;h.col>0&&r[h.col-1].aggregate==$o.None&&h.col!=r.frozen;)h.col--;for(;h.col2<r.length-1&&r[h.col2+1].aggregate==$o.None&&h.col2+1!=r.frozen;)h.col2++}for(;h.col<i&&!r[h.col].visible;)h.col++;return h.isSingleCell?null:h}var p=!1,b=as;switch(o.allowMerging){case Vs.None:p=!0;break;case Vs.Cells:p=a!=b.Cell;break;case Vs.ColumnHeaders:p=a!=b.ColumnHeader&&a!=b.TopLeft;break;case Vs.RowHeaders:p=a!=b.RowHeader&&a!=b.TopLeft;break;case Vs.AllHeaders:p=a==b.Cell}if(p)return null;if(r[i].allowMerging){h=new ss(t,i);var m=e._vrb,f=0,g=s.length-1;t>=s.frozen?n&&(a==as.Cell||a==as.RowHeader)&&o._vtRows<s.length&&m&&(f=m.topRow,g=m.bottomRow):s.length>s.frozen&&(g=s.frozen-1);for(var y=t-1;y>=f&&this._mergeCell(e,y,i,t,i);y--)h.row=y;for(var _=t+1;_<=g&&this._mergeCell(e,t,i,_,i);_++)h.row2=_;for(;h.row<t&&!s[h.row].visible;)h.row++;if(!h.isSingleCell)return h}if(s[t].allowMerging){h=new ss(t,i),m=e._vrb;var v=0,w=r.length-1;i>=r.frozen?n&&(a==as.Cell||a==as.ColumnHeader)&&o._vtCols<r.length&&m&&(v=m.leftCol,w=m.rightCol):w=r.frozen-1;for(var C=i-1;C>=v&&this._mergeCell(e,t,C,t,i);C--)h.col=C;for(var D=i+1;D<=w&&this._mergeCell(e,t,i,t,D);D++)h.col2=D;for(;h.col<i&&!r[h.col].visible;)h.col++;if(!h.isSingleCell)return h}return null},e.prototype._mergeCell=function(e,t,i,n,o){var a=e.rows[t],r=e.rows[n];if(a instanceof Ss||a instanceof Rs||r instanceof Ss||r instanceof Rs)return!1;if(t!=n&&e.rows.isFrozen(t)!=e.rows.isFrozen(n))return!1;if(i!=o&&e.columns.isFrozen(i)!=e.columns.isFrozen(o))return!1;if(t!=n){if(i>0&&(a.allowMerging&&this._mergeCell(e,t,i-1,t,i)||r.allowMerging&&this._mergeCell(e,n,i-1,n,i)))return!1;if(o<e.columns.length-1&&(a.allowMerging&&this._mergeCell(e,t,o,t,o+1)||r.allowMerging&&this._mergeCell(e,n,o,n,o+1)))return!1}return e.getCellData(t,i,!0)==e.getCellData(n,o,!0)},e}(),Ts=function(){function e(t,i){var n;if(this._row=-1,this._col=-1,this._edge=0,i instanceof Element){if(io(i,".wj-flexgrid")!=t.hostElement)return;t=i,this._target=i}if(!(t instanceof Element)||t instanceof Os){if(t instanceof Os)this._target=t.hostElement,n=this._g=t;else{if(!(t instanceof hs))throw"First parameter should be a FlexGrid or GridPanel.";this._target=t.hostElement,this._p=t,n=this._g=this._p.grid}i instanceof MouseEvent&&(this._target=i.target,"mousedown"==i.type&&(n._rcBounds=null)),i=dn(i),this._pt=i.clone();var o=n.controlRect,a=n._szClient,r=n.topLeftCells,s=n._eTL,l=n.headersVisibility,c=_s,d=l&c.Row?r.columns.getTotalSize():0,h=l&c.Column?r.rows.getTotalSize():0,u=l&c.Column?h+s.offsetTop:0,p=n._eBL,b=p.offsetHeight;if(i.x-=o.left,i.y-=o.top,n.rightToLeft&&(i.x=o.width-i.x),this._p||i.x>=0&&i.y>=s.offsetTop&&a&&i.x<=a.width+d&&i.y<=a.height+h&&(this._p=i.y<u?i.x<d?n.topLeftCells:n.columnHeaders:i.y<p.offsetTop?i.x<d?n.rowHeaders:n.cells:i.x<d?n.bottomLeftCells:n.columnFooters),null!=this._p){var m=this._p.rows,f=this._p.columns,g=this._p.cellType,y=as,_=this._p._getFrozenPos(),v=g==y.TopLeft||g==y.ColumnHeader?h:g==y.BottomLeft||g==y.ColumnFooter?b:m.getTotalSize(),w=g==y.TopLeft||g==y.BottomLeft||g==y.RowHeader?d:f.getTotalSize();g==y.RowHeader||g==y.Cell?(i.y-=h,(i.y>_.y||_.y<=0)&&(i.y-=n._ptScrl.y,i.y+=this._p._getOffsetY())):g!=y.BottomLeft&&g!=y.ColumnFooter||(i.y-=p.offsetTop),g!=y.ColumnHeader&&g!=y.Cell&&g!=y.ColumnFooter||(i.x-=d,(i.x>_.x||_.x<=0)&&(i.x-=n._ptScrl.x)),g!=y.ColumnHeader&&g!=y.TopLeft||(i.y-=u-h),this._edge=0;var C=e._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(i.x-=(C=e._SZEDGE[1])/2),this._row=i.y>v?-1:m.getItemAt(i.y),this._col=i.x>w?-1:f.getItemAt(i.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){var D=f[this._col];i.x-D.pos<=C&&(this._edge|=1);var S=D.pos+D.renderSize-i.x;S<=C&&(this._edge|=4,S<=C/2&&(this._edge|=16))}if(this._row>-1){var x=m[this._row];i.y-x.pos<=C&&(this._edge|=2);var k=x.pos+x.renderSize-i.y;k<=C&&(this._edge|=8,k<=C/2&&(this._edge|=32))}}}else{var L=io(t,".wj-cell"),V=L?L[hs._INDEX_KEY]:null;V&&(this._target=t,this._row=V.row,this._col=V.col,this._rng=V.rng,this._p=V.panel,this._g=V.panel.grid)}}return Object.defineProperty(e.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._p?this._p.cellType:as.None},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),e.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null},Object.defineProperty(e.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),e.prototype.getColumn=function(e){var t=this._p,i=t&&this._col>-1?t.columns[this._col]:null;return i&&e&&(i=this._g._getBindingColumn(t,this._row,i)),i},Object.defineProperty(e.prototype,"range",{get:function(){return this._rng||(this._rng=new ss(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeFarRight",{get:function(){return 0!=(16&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeFarBottom",{get:function(){return 0!=(32&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e._SZEDGE=[6,30],e}();function As(){return fo("wijmo.input")}var Bs=function(){function e(){}return e.prototype.updateCell=function(t,i,n,o,a,r){var s=t.grid,l=s.rightToLeft,c=t.rows,d=t.columns,h=c[i],u=d[n],p=i,b=n,m=h instanceof Ss?h:null,f=h instanceof Rs?h:null,g=u.renderWidth,y=h.renderHeight,_=t.cellType,v="wj-cell",w="",C={display:""},D=as;0!=r&&o.firstElementChild&&(1==o.childNodes.length&&"checkbox"==o.firstElementChild.type||(o.textContent="")),a&&!a.isSingleCell&&(p=a.row2,b=a.col2,u=d[n=a.col],m=(h=c[i=a.row])instanceof Ss?h:null,y=(R=a.getRenderSize(t)).height,g=R.width);var S=s._getBindingColumn(t,i,u),x=S.dataType||h.dataType,k=S.dataMap||h.dataMap,L=k&&_==D.Cell?s._getMapEditor(h,S):null,V=_==D.Cell&&(!m||s.childItemsPath),O=V&&L==ns.RadioButtons,U=x==Fi.Boolean&&!k,E=u.pos,M=h.pos,P=s._ptScrl;if(s._useFrozenDiv()&&_==D.Cell&&!s.editRange)n<d.frozen&&p>=c.frozen?M+=P.y:i<c.frozen&&b>=d.frozen&&(E+=P.x);else{var R=s._szClient;p<c.frozen&&(M=Math.min(M,R.height),y=Math.min(y,Math.max(0,R.height-M)),M-=P.y),b<d.frozen&&(E=Math.min(E,R.width),g=Math.min(g,Math.max(0,R.width-E)),E-=P.x)}l?C.right=E+"px":C.left=E+"px",p>=c.frozen&&(M-=t._getOffsetY()),C.top=M+"px",C.width=g+"px",C.height=y+"px",C.zIndex="",(i<c.frozen||n<d.frozen)&&(C.zIndex=i<c.frozen&&n<d.frozen?2:1);var I=!1,T=s.alternatingRowStep;if(!T||a&&a.row!=a.row2||(I=h.visibleIndex%(T+1)==0,1==T&&(I=!I)),_==D.Cell)m&&(v+=" wj-group"),I&&(v+=" wj-alt"),(i<c.frozen||n<d.frozen)&&(v+=" wj-frozen"),f&&(v+=" wj-new"),h.cssClass&&(v+=" "+h.cssClass),S.cssClass&&(v+=" "+S.cssClass);else{v+=" wj-header",I&&(v+=" wj-header-alt");var A=!1;_!=D.ColumnHeader&&_!=D.TopLeft||s.allowResizing&Ys.Columns&&(A=null!=s._mouseHdl._getResizeCol(t,b)),A||_!=D.RowHeader||s.allowResizing&Ys.Rows&&(A=null!=s._mouseHdl._getResizeRow(t,p)),A&&(v+=" wj-big-header")}h.cssClassAll&&(v+=" "+h.cssClassAll),S.cssClassAll&&(v+=" "+S.cssClassAll);var B=cs,j=t.getSelectedState(i,n,a);switch(j!=B.None&&_==D.Cell&&!U&&s.editRange&&s.editRange.contains(i,n)&&(j=B.None),j){case B.Active:v+=" wj-state-active";break;case B.Cursor:v+=" wj-state-selected wj-state-active";break;case B.Selected:v+=" wj-state-multi-selected"}p==c._lastFrozen&&(v+=" wj-frozen-row"),b==d._lastFrozen&&(v+=" wj-frozen-col"),(S.wordWrap||h.wordWrap)&&(v+=" wj-wrap"),(S.multiLine||h.multiLine)&&(v+=" wj-multiline");var H=S.getAlignment(h);H&&(w=" wj-align-"+H);var F=_==D.ColumnHeader&&s._hasColumnGroups()?s._getColumnGroup(i,n):null;if(F&&F.align&&(w=" wj-align-"+F.align),C.paddingLeft=C.paddingRight=C.paddingTop=C.paddingBottom="",_==D.Cell&&s.rows.maxGroupLevel>-1&&n==d.firstVisibleIndex&&s.treeIndent){var N=m?Math.max(0,m.level):c.maxGroupLevel+1,z=Math.min(s.treeIndent*N+s._cellPadLeft,g-s._cellPadHorz)+"px";l?C.paddingRight=z:C.paddingLeft=z}if(g<=s._cellPadHorz&&(C.paddingLeft=C.paddingRight=0),0!=r){var G=t.getCellData(i,n,!1),Y=t.getCellData(i,n,!0);if(_==D.Cell&&n==d.firstVisibleIndex&&m&&m.hasChildren&&!js(s,i,n)){var Q=function(e){var t=Xn('<button class="wj-btn wj-btn-glyph '+Bs._WJC_COLLAPSE+'" type="button" tabindex="-1">'+Hs((e.isCollapsed?"":"down-")+(e.grid.rightToLeft?"left":"right"))+"</button>");return Yn(t,yo.FlexGrid.ariaLabels.toggleGroup),Gn(t,"aria-expanded",!e.isCollapsed),t}(m);Y=In(Y)||m.getGroupHeader(),o.innerHTML=Q.outerHTML+" "+Y,w=""}else if(_!=D.ColumnHeader||p!=s._getSortRowIndex()&&S==u)if(_!=D.RowHeader||n!=s._getEditColumnIndex()||Y)if(_!=D.Cell||x!=Fi.Boolean||k||m&&!tn(G))if(_==D.Cell&&!O&&js(s,i,n)){var W=S.inputType||h.inputType;if(W||(W=x!=Fi.Number||k?"text":"tel"),!k&&!S.mask&&!h.mask){var q=t.getCellData(i,n,!1);if(Xi(q)){var K=S.format||h.format,$=q.toString();if(K&&q!=Math.round(q)){var J=$.indexOf("e")<0?$.match(/\.(\d+)/)[1].length:20;K=K.replace(/([a-z])(\d*)(.*)/gi,"$01"+J+"$3")}Y=_o.formatNumber(q,K,!0)}}o.innerHTML=(S.multiLine||h.multiLine)&&"checkbox"!=W?'<textarea wrap="soft"></textarea>':'<input type="'+W+'"/>';var Z=o.children[0];Fn(Z,"wj-grid-editor wj-form-control"),Wn(Z),Z.value=S.isContentHtml||h.isContentHtml?jn(Y):Y,Z.tabIndex=-1,Z.required=S.getIsRequired(h),Gn(Z,"aria-required",Z.required);var X=S.maxLength||h.maxLength;X&&(Z.maxLength=X),Z.style.textAlign=S.getAlignment(h);var ee=S.mask||h.mask;ee&&new Co(Z,ee),s._edtHdl._edt=Z}else{if(O){var te=[],ie=t.getCellData(i,n,!1);k.getDisplayValues(h.dataItem).forEach((function(e){var t=k.getKeyValue(e)==ie?" checked":"";te.push('<label><input type="radio" tabindex="-1"'+t+(s.isReadOnly||h.isReadOnly||u.isReadOnly?" disabled":"")+"><span>"+In(e)+"</span></label>")})),o.innerHTML=te.join(" "),v+=" "+e._WJC_RADIOMAP}var ne=V?S._tpl:null;if(ne){var oe=e._tplCtx;oe.value=G,oe.text=Y,oe.item=h.dataItem,oe.row=h,oe.col=S;var ae=Ji(ne)?gn(ne,oe):ne(oe,o);null==ae||O||(o.innerHTML=ae)}else O||(_==D.Cell&&(h.isContentHtml||S.isContentHtml)?o.innerHTML=Y:o.textContent=Y||"");if(F&&F.collapseTo){var re=F._rng;if(re&&re.columnSpan>1){var se=F.isCollapsed;o.innerHTML='<div role="button" class="'+e._WJC_COLLAPSE+'">'+Hs(se?"plus":"minus")+"</div>&nbsp;"+o.innerHTML,se&&Fn(o,"wj-state-collapsed")}}}else{var le=o.firstChild;s._isNativeCheckbox(le)||(o.innerHTML='<label><input type="checkbox" class="'+e._WJC_CHECKBOX+'" tabindex="-1"/><span></span></label>',le=o.querySelector("input")),le.checked=1==G,le.indeterminate=null==G,le.disabled=!s.canEditCell(i,n),le.disabled&&(le.style.cursor="default"),s.editRange&&s.editRange.contains(i,n)&&(s._edtHdl._edt=le)}else{var ce=s.editableCollectionView,de=ce?ce.currentEditItem:null;o.innerHTML=de&&h.dataItem==de?Hs("pencil"):h instanceof Rs?Hs("asterisk"):""}else{o.innerHTML=In(Y);var he=S.currentSort;he&&s.showSort&&(v+=" wj-sort-"+("+"==he?"asc":"desc"),o.innerHTML+="&nbsp;"+function(e){var t=Hs("+"==e.currentSort?"up":"down"),i=e.grid.collectionView;if(i&&i.sortDescriptions.length>1){var n=e.currentSortIndex;n>-1&&(t+='<span class="wj-sort-index">'+(n+1)+"</span>")}return t}(S)),s.allowPinning&&to(s.hostElement,o)&&function(e,t){var i=Xn(Fs(Bs._WJC_PIN,"pin"));zn(i,"wj-state-pinned",t),Gn(i,"aria-pressed",t),e.insertBefore(i,e.firstChild)}(o,n<s.frozenColumns)}if(L==ns.DropDownList&&s.showDropDown&&s.canEditCell(i,n)&&As()){var ue=function(){var e=Bs._ddBtn;return e||(Yn(e=Bs._ddBtn=Xn(Bs._tplDdBtn),yo.FlexGrid.ariaLabels.toggleDropDown),Gn(e,"aria-expanded",!1)),e.cloneNode(!0)}();o.insertBefore(ue,o.firstChild),js(s,i,n)&&(v+=" wj-hasdropdown")}}_!=D.RowHeader&&_!=D.ColumnHeader||Gn(o,"draggable",(_==D.RowHeader?!m&&!f&&h.allowDragging&&0!=(s.allowDragging&Ws.Rows):u.allowDragging&&0!=(s.allowDragging&Ws.Columns))?"true":null),o.className!=(v+=w)&&(o.className=v);var pe=o.style;for(var be in C)pe[be]!==C[be]&&(pe[be]=C[be]);if(s._edtHdl._edt&&s._edtHdl._edt.parentElement==o){var me=s._root,fe=me.getBoundingClientRect(),ge=o.getBoundingClientRect(),ye=fe.top+me.clientHeight-ge.top,_e=fe.left+me.clientWidth-ge.left;ge.height>ye&&(o.style.height=ye+"px"),ge.width>_e&&(o.style.width=_e+"px")}if((_==D.Cell||_==D.RowHeader)&&s._getShowErrors()){var ve=s._getError(t,i,n);s._edtHdl._setCellError(o,ve)}if(s.itemFormatter&&s.itemFormatter(t,i,n,o),s.formatItem.hasHandlers){var we=e._fmtRng;we?we.setRange(i,n,p,b):we=e._fmtRng=new ss(i,n,p,b);var Ce=new ps(t,we,o);s.onFormatItem(Ce)}},e.prototype.disposeCell=function(e){},e.prototype.getEditorValue=function(e){var t=e._edtHdl._edt;if(t instanceof HTMLInputElement&&"checkbox"==t.type)return t.checked;if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){var i=t.value,n=t.maxLength;return Xi(n)&&n>-1&&i.length>n&&(i=i.substr(0,n)),i}return null},e._WJC_RADIOMAP="wj-radio-map",e._WJC_CHECKBOX="wj-cell-check",e._WJC_COLLAPSE="wj-elem-collapse",e._WJC_DROPDOWN="wj-elem-dropdown",e._WJC_PIN="wj-elem-pin",e._tplDdBtn=Fs(e._WJC_DROPDOWN,"down"),e._tplCtx={row:null,col:null,value:null,text:null,item:null},e}();function js(e,t,i){return e.editRange&&e.editRange.contains(t,i)}function Hs(e){return'<span class="wj-glyph-'+e+'"></span>'}function Fs(e,t){return'<button class="wj-btn wj-btn-glyph wj-right {cls}" type="button" tabindex="-1">{glyph}</button>'.replace("{cls}",e).replace("{glyph}",Hs(t))}var Ns,zs=function(){function e(e){var t=this;this._fullEdit=!1,this._list=null,this._g=e,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),e.selectionChanging.addHandler((function(i,n){if(t.finishEditing()){var o=e._selHdl.selection.row;if(o!=n.row){var a=e.rows.length;(o>-1&&o<a?e.rows[o].dataItem:null)!=(n.row>-1&&n.row<a?e.rows[n.row].dataItem:null)&&t._commitRowEdits()}}else n.cancel=!0})),e.lostFocus.addHandler((function(){var e=Kn();e&&"fixed"==getComputedStyle(e).position?t.finishEditing():t._commitRowEdits()}));var i=e.hostElement;e.addEventListener(i,"mousedown",(function(i){if(!i.defaultPrevented&&0==i.button&&!e._mouseHdl._szRowCol){var n=e.hitTest(i);n.cellType!=as.Cell&&n.cellType!=as.None&&(t.finishEditing()||t.finishEditing(!0))}}),!0),e.addEventListener(i,"compositionend",this._keypress.bind(this))}return e.prototype.startEditing=function(e,t,i,n,o){void 0===e&&(e=!0);var a=this._g,r=a._selHdl.selection;if(t=Sn(t,!0,!0),i=Sn(i,!0,!0),null==t&&(t=r.row),null==i&&(i=r.col),null==n&&(n=!0),!this._allowEdit(t,i))return!1;var s=a.getMergedRange(a.cells,t,i,!1);s||(s=new ss(t,i));var l=a.rows[t].dataItem;if(a.scrollIntoView(s.row,s.col,!0),!a.select(s,!0))return!1;if(!a.rows[t]||l!=a.rows[t].dataItem)return!1;if(s.equals(this._rng))return!0;if(this.activeEditor&&!this.finishEditing())return!1;var c=new us(a.cells,s,o);if(!a.onBeginningEdit(c))return!1;var d=a.editableCollectionView,h=!1;d&&((h=(l=a.rows[t].dataItem)!=d.currentEditItem)&&a.onRowEditStarting(c),d.editItem(l),h&&(a.onRowEditStarted(c),this._edItem=l));var u=a.rows[t],p=a._getBindingColumn(a.cells,t,a.columns[i]),b=p.dataMap||u.dataMap,m=ns.RadioButtons,f=u.dataMap&&u.dataMapEditor==m||p.dataMap&&p.dataMapEditor==m;if(this._fullEdit=kn(e),this._rng=s,this._list=null,b&&!f){var g=b.getDisplayValues(l);(p.isContentHtml||u.isContentHtml)&&(g=g.map((function(e){return jn(e)}))),this._list=g}if(f){var y=a._activeCell||a.hostElement.querySelector(".wj-cell.wj-state-active");y&&(this._edt=y.querySelector("input"),this._updateRowHeaderCell(t))}else s.isSingleCell?this._updateEditorCell(t,i,h):a.refresh(!1);var _=this._edt;if(_){if("checkbox"==_.type||"radio"==_.type)this._fullEdit=!1;else if(n){var v=0,w=_.value.length,C=!1,D=yo.Globalize.numberFormat["%"]||"%",S=a.getCellData(t,i,!1);if(Xi(S)?C=_.value.indexOf(D)>-1:null==S&&(C=/^p/i.test(p.format))&&_.value.indexOf(D)<0&&(_.value+=D),C){var x=_.value;for(v=0,w=x.length;w>0&&(x[w-1]==D||" "==x[w-1]);)w--;for(;v<w&&x[v]==D;)v++}o&&"keydown"==o.type&&o.keyCode==Hi.Space&&(v=w),Qn(_,v,w),To()&&"right"==_.style.textAlign&&(_.style.paddingRight="1px")}a.onPrepareCellForEdit(c)}return null!=_&&!_.disabled&&!_.readOnly},e.prototype.finishEditing=function(e){var t=this._edt;if(!t)return this._removeListBox(),!0;var i=this._g,n=this._rng,o=new bs(i.cells,n),a=i.containsFocus(),r=i.hostElement.querySelector(".wj-control.wj-state-focused");if(r){var s=ha.getControl(r);s&&s.onLostFocus(o)}if(o.cancel=e,!e&&i.validateEdits&&(u=this._getValidationError())){o.cancel=!0;var l=i.cells.getCellElement(n.row,n.col);l&&(this._setCellError(l,u),o.stayInEditMode=!0)}if(!i.onCellEditEnding(o)&&o.stayInEditMode)return a?setTimeout((function(){t.select()})):t.select(),this._fullEdit=!0,!1;if(!o.cancel){o.data=i.cells.getCellData(n.topRow,n.leftCol,!1);for(var c=i.cellFactory.getEditorValue(i),d=n.topRow;d<=n.bottomRow&&d<i.rows.length;d++)for(var h=n.leftCol;h<=n.rightCol&&h<i.columns.length;h++){var u;if(!i.cells.setCellData(d,h,c,!0,!1)&&i.validateEdits&&(u=this._getValidationError(!0))){o.cancel=!0;var p=io(t,".wj-cell");return p&&(this._setCellError(p,u),o.stayInEditMode=!0),!1}}t.value==this._edtValue&&t.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._removeListBox();var b=io(t,".wj-cell");return to(b,Kn())&&i._setFocusNoScroll(b),!o.cancel&&o.refresh&&i._refreshOnEdit?i.refresh(!1):this._updateEditorCell(n.row,n.col,!1),a&&i.focus(),i.onCellEditEnded(o),!0},e.prototype._setCellError=function(e,t){""==t&&(t=null),zn(e,"wj-state-invalid",null!=t);var i=this._g.errorTip;i?i.setTooltip(e,t):Gn(e,"title",t)},Object.defineProperty(e.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),e.prototype.getClipString=function(e,t,i,n){var o,a=this,r=this._g,s=r.selectionMode,l=[],c=0!=(t&vs.CSV),d=c?"\r\n":"\n",h=c?",":"\t",u=0!=(t&vs.InvisibleRows),p=ls;if(!e&&s!=p.ListBox)for(var b=r.rows,m=0;m<b.length;m++)if(b[m].isSelected){s=p.ListBox;break}if(!e)switch(r._selHdl._expandSelection(),e=r.selection,s){case p.Row:case p.RowRange:case p.ListBox:e.col=0,e.col2=r.columns.length-1;break;case p.MultiRange:var f=r.selectedRanges;if(f.length>1){var g=this._sameCols(f),y=this._sameRows(f);if(g||y){(f=f.slice()).sort((function(e,t){return e.topRow-t.topRow||e.leftCol-t.leftCol}));for(var _=0;_<f.length;_++)for(var v=f[_],w=_+1;w<f.length;w++)v.contains(f[w])&&(f.splice(w,1),w--);if(g){var C=[];return f.forEach((function(e){C.push(a.getClipString(e,t,i,n)),i=!1})),C.join(d)}var D;if(y)return f.forEach((function(e){var o=a.getClipString(e,t,i,n).split(d);null==D?(D=o,n=!1):o.forEach((function(e,t){D[t]+=h+e}))})),D.join(d)}}}if(i&&(o=r.columnHeaders).rows.forEach((function(i,r){if(u||i.isVisible){var s=a._getRowClipString(o,r,e,t,n);l.push(s)}})),o=r.cells,s==p.ListBox)o.rows.forEach((function(i,r){if(i.isSelected&&(u||i.isVisible)){var s=a._getRowClipString(o,r,e,t,n);l.push(s)}}));else for(_=e.topRow;_<=e.bottomRow;_++)if(u||o.rows[_].isVisible){var S=this._getRowClipString(o,_,e,t,n);l.push(S)}return l.join(d)},e.prototype._getRowClipString=function(e,t,i,n,o){var a=[],r=e.rows[t],s=0!=(n&vs.CSV),l=0!=(n&vs.InvisibleColumns),c=0==(n&vs.Unformatted),d=0!=(n&vs.SkipMerged);if(r.isVisible){if(o)for(var h=e.cellType==as.ColumnHeader?e.grid.topLeftCells:e.grid.rowHeaders,u=0;u<h.columns.length;u++)if(l||h.columns[u].isVisible){var p=h.getCellData(t,u,!0);d&&this._skipMergedCell(e,i,t,u)&&(p=""),a.push(this._getCellClipString(p,n))}for(u=i.leftCol;u<=i.rightCol;u++)(l||e.columns[u].isVisible)&&(!(p=e.getCellData(t,u,c))&&r instanceof Ss&&u==e.columns.firstVisibleIndex&&(p=jn(r.getGroupHeader())),d&&this._skipMergedCell(e,i,t,u)&&(p=""),a.push(this._getCellClipString(p,n)))}return a.join(s?",":"\t")},e.prototype._skipMergedCell=function(e,t,i,n){var o=e.grid.getMergedRange(e,i,n,!1);return!(!o||(t&&(o.row=Math.max(t.topRow,o.row),o.col=Math.max(t.leftCol,o.col)),o.row==i&&o.col==n))},e.prototype._getCellClipString=function(e,t){Ji(e)||(e=an(e)?e.toJSON():null!=e?e.toString():""),e=e.replace(/\t/g," ");var i=0!=(t&vs.QuoteAll);return(i=i||/\n|^"|"$/.test(e))||0==(t&vs.CSV)||(i=e.indexOf(",")>-1),i&&(e='"'+(e=e.replace(/"/g,'""'))+'"'),e},e.prototype._sameRows=function(e){for(var t=e[0],i=1;i<e.length;i++)if(e[i].topRow!=t.topRow||e[i].bottomRow!=t.bottomRow)return!1;return!0},e.prototype._sameCols=function(e){for(var t=e[0],i=1;i<e.length;i++)if(e[i].leftCol!=t.leftCol||e[i].rightCol!=t.rightCol)return!1;return!0},e.prototype.setClipString=function(e,t){var i=this,n=this._g,o=n.editableCollectionView,a=null==t,r=ls;if(a)switch(n._selHdl._expandSelection(),t=n.selection,n.selectionMode){case r.Row:case r.RowRange:case r.ListBox:t.col=0,t.col2=n.columns.length-1;break;case r.MultiRange:var s=n.selectedRanges;if(s.length>1)return o&&o.beginUpdate(),s.forEach((function(t){n.setClipString(e,t)})),o&&o.endUpdate(),void(n.selectedRanges=s)}t=Un(t,ss);var l=this._parseClipString(Dn(e));!a&&l.length>t.rowSpan&&(l=l.slice(0,t.rowSpan)),this._expandClipRows(l,t);var c=a?new ss(t.topRow,t.leftCol,t.topRow+l.length-1,t.leftCol+l[0].length-1):t,d=new us(n.cells,c,e);if(!n.onPasting(d))return!1;c=new ss(t.topRow,t.leftCol);var h=!1,u=0,p=t.topRow,b=n.rows,m=n.columns,f=this._deferPaste(t,l.length);if(n.deferUpdate((function(){var e=-1;o&&f&&(e=o.currentPosition,o.beginUpdate());for(var a=0;a<l.length&&p<b.length;a++,p++){var r=b[p];if(r.isVisible){var s=r.dataItem,g=o?o.currentEditItem:null;g&&s!=g&&(n.onRowEditEnding(d),n.onRowEditEnded(d)),s!=g&&(n.onRowEditStarting(d),n.onRowEditStarted(d)),r instanceof Rs&&o&&f&&(r.dataItem=o.addNew());for(var y=l[a],_=t.leftCol,v=0;v<y.length&&_<m.length;v++,_++){var w=m[_];if(w.isVisible){if(i._allowEdit(p,_)){var C=y[v],D=C.length;D>1&&'"'==C[0]&&'"'==C[D-1]&&C.indexOf("\n")>-1&&(C=C.substr(1,D-2));var S=w.maxLength||r.maxLength;S&&(C=C.substr(0,S));var x=new us(n.cells,new ss(p,_),C);n.onPastingCell(x)&&(o&&(o.editItem(s),i._edItem=o.currentEditItem),n.setCellData(p,_,x.data)&&(n.onPastedCell(x),h=!0)),c.row2=Math.max(c.row2,p+u),c.col2=Math.max(c.col2,_)}}else v--}if(i._edItem&&o instanceof oa){var k=new Ni(Ui.Change,i._edItem,p);o.onCollectionChanged(k)}r instanceof Rs&&o&&f&&(r.dataItem=null,p--,u++,o.commitNew())}else a--}if(o)if(f)o.moveCurrentToPosition(e),o.endUpdate(!0);else{var L=o.currentAddItem;!L&&0==t.row&&n.newRowAtTop&&b[0]instanceof Rs&&(L=b[0].dataItem),L&&(o.editItem(L),i._edItem=L)}c.rowSpan>1&&0==c.topRow&&b[0]instanceof Rs&&(c.row=c.row2=0),n.select(c,!1)})),n.onPasted(d),h&&io(n.hostElement,"form")){var g=document.createEvent("HTMLEvents"),y=Xn("<input>",n.hostElement);g.initEvent("change",!0,!1),y.dispatchEvent(g),qn(y)}},e.prototype._deferPaste=function(e,t){var i=this._g.rows;return t>1&&i.length>1&&i[0].dataItem!=i[1].dataItem},e.prototype._parseClipString=function(e){e=(e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n$/,"");var t=0,i=0,n=[];for(t=0;t<e.length;t++){var o='"'==e[t],a=!1,r=!1;for(i=t;i<e.length&&!r;i++){var s=e[i];switch(s){case'"':o&&(a=!a);break;case"\t":case"\n":a||(this._parseClipCell(n,e,t,i,"\n"==s),t=i,i==e.length-1&&(t=i+1),r=!0)}}if(i==e.length){this._parseClipCell(n,e,t,i,!1);break}}return 0==n.length&&n.push([""]),n},e.prototype._parseClipCell=function(e,t,i,n,o){e.length||e.push([]);var a=t.substr(i,n-i),r=a.length;r>2&&'"'==a[0]&&'"'==a[r-1]&&a.indexOf('""')>-1?a=(a=a.substr(1,r-2)).replace(/""/g,'"'):"\t"==a&&(a=""),e[e.length-1].push(a),o&&e.push([])},e.prototype._expandClipRows=function(e,t){for(var i=e.length,n=0,o=0;o<i;o++)n=Math.max(n,e[o].length);for(var a=this._g,r=0,s=0,l=t.topRow;l<=t.bottomRow;l++)a.rows[l].isVisible&&r++;for(var c=t.leftCol;c<=t.rightCol;c++)a.columns[c].isVisible&&s++;if((r>1||s>1)&&(1==r&&(r=i),1==s&&(s=n),s%n==0&&r%i==0)){for(c=n;c<s;c++)for(l=0;l<i;l++)e[l].push(e[l%i][c%n]);for(l=i;l<r;l++)e.push(e[l%i])}},e.prototype._updateEditorCell=function(e,t,i){var n=this._g,o=n.cells.getCellElement(e,t),a=n._useFrozenDiv()&&(e<n.frozenRows||t<n.frozenColumns);!o||a||n._hasPendingUpdates()?n.refresh(!1):n.onUpdatingView(new Ai)&&(this._updateCell(o),(i||n._getHasValidation())&&this._updateRowHeaderCell(e),n.onUpdatedView())},e.prototype._updateRowHeaderCell=function(e){var t=this._g;if(t.headersVisibility&_s.Row){var i=t.rowHeaders,n=t._getEditColumnIndex(),o=i.getCellElement(e,n);o&&this._updateCell(o)}},e.prototype._updateCell=function(e){var t=new Ts(e,null),i=Os._WJS_UPDATING;t.panel&&(Fn(e,i),t.grid.cellFactory.updateCell(t.panel,t.row,t.col,e,t.range),Nn(e,i))},e.prototype._getValidationError=function(e){var t=this._g,i="";if(t._getHasValidation()){var n=this._rng.row,o=this._rng.col,a=t.cellFactory.getEditorValue(t),r=t.getCellData(n,o,!1);if(e)i=t._getError(t.cells,n,o,!0);else{var s=t.activeEditor;s&&(i=s.validationMessage),!i&&t.setCellData(n,o,a,!0,!1)&&(i=t._getError(t.cells,n,o),t.setCellData(n,o,r,!1,!1))}}return i},e.prototype._allowEdit=function(e,t){var i=this._g;if(i.isReadOnly||i.selectionMode==ls.None)return!1;if(i.collectionView&&!i.editableCollectionView)return!1;if(null!=e){if(e<0||e>=i.rows.length)return!1;var n=i.rows[e];if(!n||n.isReadOnly||!n.isVisible)return!1}if(null!=t){if(t<0||t>=i.columns.length)return!1;var o=i._getBindingColumn(i.cells,e,i.columns[t]);if(!o||o.isReadOnly||!o.isVisible)return!1}return!0},e.prototype._commitRowEdits=function(){var e=this._g;if(this.finishEditing()&&this._edItem){var t=e.editableCollectionView;if(t&&(t.currentEditItem||t.currentAddItem)){var i=new us(e.cells,e.selection);e.onRowEditEnding(i),t.commitEdit(),e.onRowEditEnded(i)}this._edItem=null}},e.prototype._keydown=function(e){var t=this._edt;switch(e.keyCode){case Hi.F2:return this._fullEdit=!this._fullEdit,e.preventDefault(),!0;case Hi.F4:return this._toggleListBox(e),e.preventDefault(),!0;case Hi.Space:return!t||"checkbox"!=t.type||t.disabled||t.readOnly||(t.checked=!t.checked,this.finishEditing(),e.preventDefault()),!0;case Hi.Enter:if(e.preventDefault(),t&&e.altKey){var i=e.target;if(i instanceof HTMLTextAreaElement&&"soft"==i.wrap){var n=i.value,o=i.selectionStart,a=i.selectionEnd;i.value=n.substr(0,o)+"\n"+n.substr(a),Qn(i,o+1)}return!0}return!this.finishEditing();case Hi.Tab:return e.preventDefault(),!this.finishEditing();case Hi.Escape:return e.preventDefault(),this.finishEditing(!0),!0;case Hi.Up:case Hi.Down:case Hi.Left:case Hi.Right:case Hi.PageUp:case Hi.PageDown:case Hi.Home:case Hi.End:if(this._lbx)return this._keydownListBox(e);if(e.altKey)switch(e.keyCode){case Hi.Up:case Hi.Down:return this._toggleListBox(e),e.preventDefault(),!0}if(!this._fullEdit&&this.finishEditing())return!1}return!0},e.prototype._keydownListBox=function(e){var t=!0;if(this._lbx)switch(e.keyCode){case Hi.Up:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case Hi.Down:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex++;break;case Hi.Home:case Hi.PageUp:this._lbx.selectedIndex=0;break;case Hi.End:case Hi.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:t=!1}return!!t&&(e.preventDefault(),!0)},e.prototype._keypress=function(e){if("AltLeft"!=e.code&&"AltRight"!=e.code){var t=this._edt,i=e.charCode||32,n=this._list;if(t&&"checkbox"!=t.type&&Kn()==t&&n&&n.length>0&&i>=32){var o=t.selectionStart,a=t.value.substr(0,o);e.target==t&&e.charCode&&(a+=String.fromCharCode(e.charCode),o++);var r=this._findString(n,a,!0);if(r<0&&(r=this._findString(n,a,!1)),r>-1){var s=this._lbx;s&&(s.selectedIndex=r),t.value=n[r],Qn(t,o,t.value.length),t.dispatchEvent(this._evtInput),e.preventDefault&&e.preventDefault()}}}else e.preventDefault()},e.prototype._findString=function(e,t,i){i||(t=t.toLowerCase());for(var n=0;n<e.length;n++){var o=e[n];if(null!=o&&(o=o.toString(),i||(o=o.toLowerCase()),0==o.indexOf(t)))return n}return-1},e.prototype._toggleListBox=function(e,t){var i=this._g,n=i._selHdl.selection,o=i.isTouching;if(t||(t=n),this._lbx&&(this._removeListBox(),n.intersects(t)))return i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus(),!0;var a=i.rows[t.row],r=i._getBindingColumn(i.cells,t.row,i.columns[t.col]),s=i._getMapEditor(a,r);if(!As()||s!=ns.DropDownList)return!1;if(!this.startEditing(!0,t.row,t.col,!o,e))return!1;var l=this._lbx=this._createListBox();return l.showSelection(),o&&l.focus(),!0},e.prototype._createListBox=function(){var e=this,t=this._g,i=t.activeEditor,n=this._rng,o=t.rows[n.row],a=t._getBindingColumn(t.cells,n.row,t.columns[n.col]),r=a.isContentHtml||o.isContentHtml,s=a.dataMap||o.dataMap,l=a.dropDownCssClass||o.dropDownCssClass,c=document.createElement("div");this._removeListBox(),Fn(c,"wj-dropdown-panel wj-grid-listbox"),Fn(c,l);var d=i?i.value:t.getCellData(n.row,n.col,!0),h=new Tr(c,{maxHeight:4*o.renderHeight,isContentHtml:r,itemsSource:s.getDisplayValues(o.dataItem),selectedValue:d});h.addEventListener(h.hostElement,"click",(function(){e._removeListBox(),t.focus(),e.finishEditing()})),h.lostFocus.addHandler((function(){e._removeListBox()})),h.selectedIndexChanged.addHandler((function(){var i=t.activeEditor;i&&(i.value=e._list[h.selectedIndex],i.dispatchEvent(e._evtInput),Qn(i,0,i.value.length))}));var u=t.cells.getCellElement(n.row,n.col);return u?(ba(c,u,!1,!1,!1),Gn(u.querySelector("."+Bs._WJC_DROPDOWN),"aria-expanded",!0)):(ba(c,t.getCellBoundingRect(n.row,n.col)),c[ha._OWNR_KEY]=t.hostElement),h},e.prototype._removeListBox=function(){var e=this._lbx;e&&(this._lbx=null,ma(e.hostElement,(function(){e.dispose()})))},e}(),Gs=function(){function e(e,t){this._col=Un(e,Cs),this._ctl=t,this._tbx=t.hostElement.querySelector("input"),wn(this._col instanceof Cs,"Invalid Column"),wn(this._ctl instanceof ha,"Invalid edit control"),wn(this._tbx instanceof HTMLInputElement,"Input element not found in editor");var i=this._ctl;this._prop=on(i.value)?on(i.checkedItems)?on(i.text)?null:"text":"checkedItems":"value",wn(null!=this._prop,"value, text properties not found in editor");var n=As();this._isDropDown=n&&i instanceof n.DropDown,this._isAutoComplete=n&&i instanceof n.AutoComplete,this._updateFocusBnd=this._updateFocus.bind(this),this._keypressBnd=this._keypress.bind(this),this._keydownBnd=this._keydown.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._hideEditor(),this._updateFocus(),this._connect(),this._col.gridChanged.addHandler(this._connect,this)}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._disconnect(),this._isDropDown&&(this._isDropDown=!1),this._g=this._col=this._ctl=this._tbx=null},e.prototype._connect=function(){if(this._col.grid!=this._g){this._disconnect();var e=this._col.grid;if(e){var t=e.hostElement,i=e.addEventListener.bind(e),n=this._updateFocusBnd;this._g=e,i(t,"keydown",this._keydownBnd),i(t,"keypress",this._keypressBnd),i(t,"mousedown",this._mousedownBnd,!0),i(t,"mouseup",n,!0),i(t,"blur",n,!0),i(t,"focus",n),i(this._tbx,"compositionstart",this._cmpstartBnd),e.selectionChanged.addHandler(n,this),e.prepareCellForEdit.addHandler(this._prepareCellForEdit,this),e.cellEditEnding.addHandler(this._cellEditEnding,this);var o=this._col;e.showDropDown&&this._isDropDown&&!o.dataMap&&(o.cellTemplate||(o.cellTemplate=Bs._tplDdBtn+" ${text}"))}}},e.prototype._disconnect=function(){var e=this._g;if(e){var t=e.hostElement,i=e.removeEventListener.bind(e),n=this._updateFocusBnd;i(t,"keydown",this._keydownBnd),i(t,"keypress",this._keypressBnd),i(t,"mousedown",this._mousedownBnd),i(t,"mouseup",n),i(t,"blur",n),i(t,"focus",n),i(this._tbx,"compositionstart",this._cmpstartBnd),e.selectionChanged.removeHandler(n,this),e.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this),e.cellEditEnding.removeHandler(this._cellEditEnding,this);var o=this._col,a=o.cellTemplate;Ji(a)&&0==a.indexOf(Bs._tplDdBtn)&&(o.cellTemplate=null),this._g=null}},e.prototype._prepareCellForEdit=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var i=this.grid,n=this._ctl,o=this._tbx,a=t.data,r=this._prop,s=!0,l=this._isDropDown&&a&&"mousedown"==a.type;if(a)switch(a.type){case"keypress":case"compositionstart":32!=a.keyCode&&(s=!1);break;case"mousedown":case"keydown":this._isAutoComplete&&(on(a.keyCode)||a.keyCode==Hi.F4||a.altKey)&&(s=!1,l=!0,n.text="",n.selectedIndex=-1)}if(s){var c=t.range,d=i.getCellData(c.row,c.col,"text"==r);n.isRequired&&null==d||(n[r]=d)}this._showEditor(),i._edtHdl._fullEdit=!0,a instanceof KeyboardEvent&&32==a.keyCode&&o.setSelectionRange(1,o.value.length),l&&(n.isDroppedDown=!0)}},e.prototype._cellEditEnding=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var i=this.grid,n=this._ctl,o=this._prop;if(this._isAutoComplete){var a=n.selectedIndex;if(Xi(a)&&a<0){var r=n.collectionView;r&&1==r.items.length?n.selectedIndex=0:t.cancel=!0}}if(!t.cancel&&o){var s=t.range;t.cancel=!i.setCellData(s.row,s.col,n[o])}this._hideEditor(),this._updateFocus()}},e.prototype._cmpstart=function(e){this._activateEditor(e)},e.prototype._keypress=function(e){e.defaultPrevented||e.target!=this._tbx||e.ctrlKey||e.altKey||e.metaKey||27==e.keyCode||this._activateEditor(e)},e.prototype._keydown=function(e){if(!e.defaultPrevented&&e.target==this._tbx&&this._isDropDown){var t=e.keyCode;switch(t){case Hi.F4:case Hi.Up:case Hi.Down:(t==Hi.F4||e.altKey)&&this._activateEditor(e)}}},e.prototype._mousedown=function(e){if(!e.defaultPrevented&&0==e.button&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&this._isDropDown&&no(e.target,Bs._WJC_DROPDOWN)){var t=this.grid,i=t.hitTest(e);i.getColumn(!0)==this._col&&(t.select(i.range),this._activateEditor(e),e.preventDefault())}},e.prototype._activateEditor=function(e){var t=this.grid;if(!t.activeEditor){var i=t._selHdl.selection;if(i.isValid)return t.startEditing(!0,i.row,i.col,!0,e)}return!1},e.prototype._showEditor=function(){var t=this.grid,i=t.activeEditor,n=io(i,".wj-cell");if(n){var o=this._tbx,a=this._ctl.hostElement;ro(a,e._cssVisible),zn(o,"wj-grid-ime",!1),n.innerHTML="",n.appendChild(a),t._edtHdl._edt=o,o.select(),o.focus(),i.value=""}},e.prototype._hideEditor=function(){var t=this.grid,i=this._ctl.hostElement,n=this._tbx;ro(i,e._cssHidden),zn(n,"wj-grid-ime",!0),n.setCustomValidity(""),t&&t._root.appendChild(i)},e.prototype._updateFocus=function(){var e=this.grid;if(e&&!e.activeEditor){var t=e.hostElement,i=".wj-flexgrid",n=this._tbx;io(Kn(),i)==t&&(io(n,i)!=t?this._hideEditor():e._selHdl.selection.col==this._col.index?(n.tabIndex=0,n.select(),n.focus()):n.tabIndex=-1)}},e._cssHidden={position:"fixed",left:-32e3,top:-32e3,width:"1px",height:"1px",overflow:"hidden"},e._cssVisible={position:"absolute",left:0,top:0,width:"100%",height:"100%",border:"none"},e}();!function(e){e[e.None=0]="None",e[e.MoveDown=1]="MoveDown",e[e.MoveAcross=2]="MoveAcross",e[e.Cycle=3]="Cycle",e[e.CycleOut=4]="CycleOut"}(Ns||(Ns={}));var Ys,Qs,Ws,qs=function(){function e(e){this._kaTab=Ns.None,this._kaEnter=Ns.MoveDown,this._g=e;var t=e.hostElement;e.addEventListener(t,"keypress",this._keypress.bind(this)),e.addEventListener(t,"keydown",this._keydown.bind(this))}return e.prototype._keydown=function(e){var t=this._g,i=t._edtHdl,n=t.selection,o=e.ctrlKey||e.metaKey,a=e.shiftKey,r=e.altKey,s=e.target,l=e.char||e.key,c=!0;if(!o&&!r&&l&&1==l.length&&s.firstElementChild&&(" "!=l||!a)){var d=s.querySelectorAll("."+Bs._WJC_RADIOMAP+" label input");if(d&&d.length){for(var h=-1,u=0;u<d.length;u++)if(d[u].checked){h=u;break}for(l=l.toLowerCase(),u=0;u<d.length;u++){var p=d[(h+u+1)%d.length];if(" "==l||p.parentElement.textContent[0].toLowerCase()==l)return p.click(),void e.preventDefault()}}}if(!t._wantsInput(s)){var b=e.defaultPrevented&&!(s instanceof HTMLInputElement),m=Ki(t.rows[n.row],Ss),f=t.editableCollectionView,g=t._getKeyCode(e),y=ds,_=ls;if((t.isRangeValid(n)&&!b||o&&65==g)&&(!t.activeEditor||!i._keydown(e)||t._isNativeCheckbox(t.activeEditor))){if(t.autoClipboard){if(o&&(67==g||45==g)){var v=new us(t.cells,n);if(t.onCopying(v)){var w=t.getClipString(null,!1,0!=(t.copyHeaders&_s.Column),0!=(t.copyHeaders&_s.Row))+"\r\n";t._eFocus.focus(),ua.copy(w),t.onCopied(v)}return void e.stopPropagation()}if(o&&86==g||a&&45==g)return t.isReadOnly||ua.paste((function(e){t.setClipString(e)})),void e.stopPropagation()}switch((a||o)&&"Space"==e.code&&(g=Hi.Space),g){case Hi.Space:if(a&&n.isValid)switch(t.selectionMode){case _.CellRange:case _.MultiRange:case _.Row:case _.RowRange:case _.ListBox:t.select(new ss(n.row,0,n.row,t.columns.length-1),!1)}else if(o&&n.isValid)switch(t.selectionMode){case _.CellRange:case _.MultiRange:t.select(new ss(0,n.col,t.rows.length-1,n.col),!1)}else(c=this._startEditing(!0,e))&&setTimeout((function(){var e=t.activeEditor;e&&(e.disabled||e.readOnly?t.finishEditing():"checkbox"==e.type&&(e.checked=!e.checked,t.finishEditing()))}));break;case 65:if(o)switch(t.selectionMode){case _.None:case _.Cell:break;default:t.selectAll()}else c=!1;break;case Hi.Left:o||r?c=!1:n.isValid&&0==n.leftCol&&m&&!m.isCollapsed&&m.hasChildren?m.isCollapsed=!0:this._moveSel(y.None,o?y.Home:y.Prev,a);break;case Hi.Right:o||e.altKey?c=!1:n.isValid&&0==n.leftCol&&m&&m.isCollapsed?m.isCollapsed=!1:this._moveSel(y.None,o?y.End:y.Next,a);break;case Hi.Up:o?c=!1:e.altKey?c=i._toggleListBox(e):this._moveSel(y.Prev,y.None,a);break;case Hi.Down:o?c=!1:e.altKey?c=i._toggleListBox(e):this._moveSel(y.Next,y.None,a);break;case Hi.PageUp:if(this._moveSel(e.altKey?y.Home:y.PrevPage,y.None,a),t.rows.frozen&&t.selection.row<t.rows.frozen){var C=t.scrollPosition;C.y&&(t.scrollPosition=new lo(C.x,0))}break;case Hi.PageDown:this._moveSel(e.altKey?y.End:y.NextPage,y.None,a);break;case Hi.Home:this._moveSel(o?y.Home:y.None,y.Home,a);break;case Hi.End:this._moveSel(o?y.End:y.None,y.End,a);break;case Hi.Tab:c=this._performKeyAction(t.keyActionTab,a);break;case Hi.Enter:c=this._performKeyAction(t.keyActionEnter,a),!a&&f&&null!=f.currentEditItem&&i._commitRowEdits();break;case Hi.Escape:if(c=!1,f&&(f.currentAddItem||f.currentEditItem)){var D=new us(t.cells,t.selection);D.cancel=!0,t.onRowEditEnding(D),f.currentAddItem&&f.cancelNew(),f.currentEditItem&&f.cancelEdit(),t.onRowEditEnded(D),c=!0}t._mouseHdl.resetMouseState();break;case Hi.Delete:case Hi.Back:c=this._deleteSel(e);break;case Hi.F2:c=this._startEditing(!0,e);break;case Hi.F4:c=i._toggleListBox(e);break;default:c=!1}c&&(t.containsFocus()||t.focus(),e.preventDefault(),e.stopPropagation())}}},e.prototype._performKeyAction=function(e,t){var i=ds;switch(e){case Ns.MoveDown:return this._moveSel(t?i.Prev:i.Next,i.None,!1),!0;case Ns.MoveAcross:return this._moveSel(i.None,t?i.Prev:i.Next,!1),!0;case Ns.Cycle:return this._moveSel(i.None,t?i.PrevCell:i.NextCell,!1),!0;case Ns.CycleOut:var n=this._g.selection;return this._moveSel(i.None,t?i.PrevCell:i.NextCell,!1),!n.equals(this._g.selection)}return!1},e.prototype._keypress=function(e){var t=this,i=this._g;if(!i._wantsInput(e.target)&&!e.defaultPrevented){var n=i._edtHdl;if(i.activeEditor)n._keypress(e);else if(e.charCode>Hi.Space&&"AltLeft"!=e.code&&"AltRight"!=e.code)if(this._startEditing(!1,e)&&i.activeEditor){var o=Kn();if(o instanceof HTMLInputElement&&"checkbox"!=o.type||o instanceof HTMLTextAreaElement){var a=i._selHdl.selection,r=i.getCellData(a.row,a.col,!0),s=i.getCellData(a.row,a.col,!1),l=yo.Globalize.numberFormat["%"]||"%",c=String.fromCharCode(e.charCode),d=Xi(s)&&r.indexOf(l)>-1||""==r&&o.value==l;o.value=c+(d?l:""),Qn(o,1),o.dispatchEvent(n._evtInput),n._keypress(e),n._edtValue=o.value!=r?o.value:null,e.preventDefault()}}else if(i.autoSearch){var h=!1;if(a=i._selHdl.selection,e.charCode>32||32==e.charCode&&this._search){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout((function(){t._toSearch=null,t._search=""}),ha._SEARCH_DELAY);var u=this._findNext(a.row,a.col);u<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],u=this._findNext(a.row,a.col)),u>-1&&(h=!0,i.select(u,a.col))}h||(this._search="")}}},e.prototype._findNext=function(e,t){var i=this._g,n=i.rows.length;(e<0||1==this._search.length)&&e++;var o=this._search,a=i.caseSensitiveSearch;a||(o=o.toLowerCase());for(var r=0;r<n;r++){var s=(e+r)%n,l=i.getCellData(s,t,!0).trim();if(a||(l=l.toLowerCase()),0==l.indexOf(this._search))return s}return-1},e.prototype._moveSel=function(e,t,i){var n=this._g;n.selectionMode!=ls.None&&n._selHdl.moveSelection(e,t,i)},e.prototype._deleteSel=function(e){var t=this,i=this._g,n=i.rows,o=i.editableCollectionView,a=i.selection,r=[],s=new ss,l=new bs(i.cells,s,e),c=ls;if(!i._edtHdl._allowEdit())return!1;if(i.allowDelete&&(null==o||o.canRemove&&!o.isAddingNew&&!o.isEditingItem)&&0==(r=n.filter((function(e){return e.isSelected}))).length)switch(i.selectionMode){case c.CellRange:case c.MultiRange:var d=i._getDeleteColumnIndex();i.selectedRanges.forEach((function(e){if(e.leftCol==d&&e.rightCol==i.columns.length-1)for(var t=e.topRow;t>-1&&t<=e.bottomRow;t++){var o=n[t];r.indexOf(o)<0&&r.push(o)}}));break;case c.Row:a.topRow>-1&&r.push(n[a.topRow]);break;case c.RowRange:for(var h=a.topRow;h>-1&&h<=a.bottomRow;h++)r.push(n[h])}if(r.length>0){i.deferUpdate((function(){o&&o.beginUpdate();for(var e=r.length-1;e>=0;e--){var t=r[e];t instanceof Rs||(s.setRange(t.index,-1),i.onDeletingRow(l)&&(o&&t.dataItem?o.remove(t.dataItem):i.rows.removeAt(t.index),i.onDeletedRow(l)))}o&&o.endUpdate(!1)}));var u=a.topRow;for(u=Math.min(u,i.rows.length-1);u>0&&i.rows[u]instanceof Rs;)u--;return a.row=a.row2=u,i.select(a,!1),i.childItemsPath&&o&&o.refresh(),!0}return 0==r.length&&(i.deferUpdate((function(){var n=i.scrollPosition;o&&o.beginUpdate(),t._deleteRange(e,a),i.selectionMode==c.MultiRange&&i._selHdl.extendedSelection.forEach((function(i){t._deleteRange(e,i)})),i.select(a,!1),i.scrollPosition=n,o&&o.endUpdate()})),!0)},e.prototype._deleteRange=function(e,t){for(var i=this._g,n=i.editableCollectionView,o=new ss,a=new bs(i.cells,o,e),r=t.row>t.row2?1:-1,s=t.row2;t.containsRow(s);s+=r){var l=i.rows[s];if(!l.isReadOnly)for(var c=t.leftCol;c<=t.rightCol;c++)if(!i._getBindingColumn(i.cells,s,i.columns[c]).getIsRequired(l)&&i.canEditCell(l.index,c)&&i.getCellData(s,c,!0)&&(o.setRange(s,c),a.cancel=!1,i.onBeginningEdit(a))){var d=l.dataItem,h=n?n.currentEditItem:null;h&&d!=h&&(i.onRowEditEnding(a),i.onRowEditEnded(a)),d!=h&&(i.onRowEditStarting(a),i.onRowEditStarted(a)),n&&(n.editItem(d),i._edtHdl._edItem=d),i.setCellData(s,c,"",!0,!1),i.onCellEditEnding(a),i.onCellEditEnded(a)}}},e.prototype._startEditing=function(e,t,i,n){return this._g._edtHdl.startEditing(e,i,n,!0,t)},e}();!function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both",e[e.ColumnsAllCells=4|e.Columns]="ColumnsAllCells",e[e.RowsAllCells=4|e.Rows]="RowsAllCells",e[e.BothAllCells=4|e.Both]="BothAllCells"}(Ys||(Ys={})),function(e){e[e.None=0]="None",e[e.Headers=1]="Headers",e[e.Cells=2]="Cells",e[e.Both=3]="Both"}(Qs||(Qs={})),function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both"}(Ws||(Ws={}));var Ks=function(){function e(e){var t=this,i=e.hostElement,n=e.addEventListener.bind(e),o=e.removeEventListener.bind(e);this._g=e,this._dvMarker=Xn('<div class="wj-marker">&nbsp;</div>'),n(i,"mousedown",(function(i){if(e._rcBounds=null,!i.defaultPrevented&&0==i.button){var s=i.target;if(!e.containsFocus()){var l=s instanceof HTMLElement&&s.tabIndex>-1?s:e._eFocus;e._setFocusNoScroll(l)}setTimeout((function(){i.defaultPrevented||e.focus()}));var c=no(s,"wj-flexgrid");if(c&&c!=e.hostElement||!e.activeEditor&&e._isInputElement(s)&&!t._hasRadioMap(i)&&!e._isNativeCheckbox(s)){var d=e.hitTest(i),h=as;switch(d.cellType){case h.Cell:e.select(d.range,!1),s instanceof HTMLElement&&"root"!=s.getAttribute("wj-part")&&s.focus();break;case h.ColumnHeader:case h.ColumnFooter:e.scrollIntoView(-1,d.col);break;case h.RowHeader:e.scrollIntoView(d.row,-1)}return void(To()&&d.cellType!=h.Cell&&e._isInputElement(s)&&s.focus())}var u=document;o(u,"mousemove"),o(u,"mouseup"),n(u,"mousemove",a),n(u,"mouseup",r),t._isDown=!0,t._mousedown(i)}}));var a=function(e){t._mousemove(e)},r=function(e){t._isDown=!1,o(document,"mousemove"),o(document,"mouseup"),t._mouseup(e)};n(i,"mouseenter",(function(t){e._rcBounds=null})),n(i,"mousemove",this._hover.bind(this)),n(i,"dblclick",this._dblclick.bind(this)),n(i,"click",this._click.bind(this)),n(i,"selectstart",(function(t){e._isInputElement(t.target)||t.preventDefault()})),n(i,"wheel",(function(t){if(!t.defaultPrevented&&t.deltaY&&!t.ctrlKey&&!t.metaKey){var i=e._root,n=t.deltaY,o=0;if(i.scrollHeight>i.offsetHeight&&no(t.target,"wj-flexgrid")==e.hostElement){switch(t.deltaMode){case 1:o=e.rows.defaultSize*(n<0?-1:1);break;case 2:o=i.clientHeight*(n<0?-1:1);break;case 0:default:Mo()&&(n=_n(n,-150,150)),o=n}e._eFocus.focus(),t.shiftKey?i.scrollLeft+=o:i.scrollTop+=o,t.preventDefault()}}})),n(i,"dragstart",this._dragstart.bind(this)),n(i,"dragover",this._dragover.bind(this)),n(i,"dragleave",this._dragover.bind(this)),n(i,"drop",this._drop.bind(this)),n(i,"dragend",this._dragend.bind(this))}return e.prototype.resetMouseState=function(){var e=this._g,t=e.hostElement;this._updating&&(this._updating=!1,e.endUpdate()),this._dragSrc&&Nn(this._dragSrc,"wj-state-dragsrc"),this._showDragMarker(null),t&&(t.style.cursor=""),Mo()&&this._szRowCol&&e.invalidate(),e.removeEventListener(document,"mousemove"),e.removeEventListener(document,"mouseup"),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelRows=null,this._szRowCol=null,this._szArgs=null,e._rcBounds=null},e.prototype._mousedown=function(e){var t=this._g,i=e.target,n=t.hitTest(e),o=n.cellType,a=as,r=e.ctrlKey||e.metaKey;if(this._selDown=t.selection,this._ignoreClick=!1,n.panel==t.cells){if(no(i,Bs._WJC_DROPDOWN)){var s=t.hitTest(i);return t._edtHdl._toggleListBox(e,s.range),e.preventDefault(),void(this._ignoreClick=!0)}var l=t.editRange;if(l&&l.contains(n.range))return}var c=Kn();if(i!=c||!t._isInputElement(i))if(o!=a.None)if(this._htDown=n,this._eMouse=e,null==this._szRowCol){var d=t.allowResizing,h=Ys;if((o==a.RowHeader||o==a.TopLeft)&&n.edgeBottom&&d&h.Rows&&this._getResizeRowHt(n))this._ignoreClick=!0;else if((o==a.ColumnHeader||o==a.TopLeft)&&n.edgeRight&&d&h.Columns&&this._getResizeColHt(n))this._ignoreClick=!0;else{var u=t.allowDragging,p=Ws;switch(o){case a.Cell:case a.RowHeader:r&&t.selectionMode==ls.ListBox&&this._startListBoxSelection(n.row),this._mouseSelect(e,e.shiftKey),o!=a.RowHeader||u&p.Rows||(e.preventDefault(),t.focus());break;case a.ColumnHeader:t.allowSorting||u&p.Columns||io(i,"button")||this._mouseSelect(e,e.shiftKey)}}}else{var b=t._eFocus;c!=b&&(b.tabIndex=0,b.focus()),this._ignoreClick=!0,this._handleResizing(e)}else t.finishEditing(),i!=t._root&&i!=t._fCt&&t._edtHdl._commitRowEdits()},e.prototype._mousemove=function(e){if(this._htDown&&!e.defaultPrevented){if(0==e.buttons&&this._eMouse&&e.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=e,this._szRowCol)this._handleResizing(e);else{var t=this._g,i=t.allowDragging,n=Ws;switch(this._htDown.cellType){case as.Cell:this._mouseSelect(e,!0);break;case as.RowHeader:i&n.Rows||this._mouseSelect(e,!0);break;case as.ColumnHeader:i&n.Columns||t.allowSorting||this._mouseSelect(e,!0)}}}},e.prototype._mouseup=function(e){var t=this._g;if(!t.isTouching||!(this._dragSrc||e.target instanceof HTMLHtmlElement)){var i=t.hitTest(e),n=this._htDown;if(n&&!e.defaultPrevented&&(this._szArgs&&this._finishResizing(e),!this._szArgs&&i.panel==n.panel&&i.row==n.row&&i.col==n.col)){var o=i.getColumn();if(o&&(!o._getFlag(ms.HasTemplate)||o.cellTemplate)){var a=i.target;if(a!=n.target&&a instanceof HTMLElement){if(n.target instanceof HTMLInputElement){var r=i.point,s=n.point;Math.abs(r.x-s.x)+Math.abs(r.y-s.y)<10&&(a=a.querySelector("input")||a)}var l=document.createEvent("Event");l.initEvent("click",!0,!0),["button","buttons","which","ctrlKey","shiftKey","altKey","metaKey"].forEach((function(t){l[t]=e[t]})),a.dispatchEvent(l)}}}this.resetMouseState()}},e.prototype._click=function(e){if(this._ignoreClick&&(this._ignoreClick=!1,e.preventDefault()),!e.defaultPrevented){var t=this._g,i=e.target,n=Ki(i,HTMLInputElement);if(!n&&t.bigCheckboxes&&(n=i.querySelector("input."+Bs._WJC_CHECKBOX)),n!=t.activeEditor&&t._isNativeCheckbox(n)){if((a=t.hitTest(i)).panel==t.cells&&t.startEditing(!1,a.row,a.col,!1,e)){var o=t.getCellData(a.row,a.col,!1);t.activeEditor.checked=!o,t.finishEditing(),t.focus()}return}if(this._hasRadioMap(e))return void this._handleClick(e);if(t.rows.maxGroupLevel>-1&&no(i,Bs._WJC_COLLAPSE)){var a=t.hitTest(i),r=t.rows[a.row];if(a.panel==t.cells&&r instanceof Ss)return void(e.ctrlKey||e.metaKey?t.collapseGroupsToLevel(r.isCollapsed?r.level+1:r.level):r.isCollapsed=!r.isCollapsed)}if(!(e.ctrlKey||e.metaKey||e.shiftKey||t.activeEditor)&&(a=t.hitTest(i)).panel==t.cells){var s=t._selHdl.selection;if(s.equals(this._selDown)&&a.range.contains(s))return void t.startEditing(!0,null,null,!0,e)}this._handleClick(e)}},e.prototype._handleClick=function(e){var t=this._g,i=e.target,n=t.hitTest(i),o=n.panel;if(!e.defaultPrevented&&n.grid==t){if(o==t.cells&&this._hasRadioMap(e)){var a=i instanceof HTMLInputElement?i:i.querySelector("input");return void(a instanceof HTMLInputElement&&!a.disabled&&a.parentElement instanceof HTMLLabelElement&&t.startEditing(!1,n.row,n.col,!1)&&(t.setCellData(n.row,n.col,a.parentElement.textContent),t.finishEditing()))}if(!t._isInputElement(i)){if(o==t.topLeftCells){switch(t.selectionMode){case ls.None:case ls.Cell:break;default:t.selectAll()}return}if(o==t.columnHeaders){if(t.allowPinning&&no(i,Bs._WJC_PIN))this._clickPin(e,n);else if(no(e.target,Bs._WJC_COLLAPSE)){var r=t._getColumnGroup(n.row,n.col);r&&(r.isCollapsed=!r.isCollapsed)}else i instanceof HTMLSpanElement&&i.parentElement instanceof HTMLLabelElement&&(i=i.parentElement.querySelector("input")),i instanceof HTMLInputElement||this._clickSort(e,n),t.focus();return}if(o==t.cells){if(n.row<0)return void this._clickSort(e,n);if(no(i,Bs._WJC_COLLAPSE)){var s=t.rows[n.row];return void(s instanceof Ss&&(e.ctrlKey?t.collapseGroupsToLevel(s.isCollapsed?s.level+1:s.level):s.isCollapsed=!s.isCollapsed))}no(i,Bs._WJC_DROPDOWN)&&t._edtHdl._toggleListBox(e,n.range)}}}},e.prototype._hasRadioMap=function(e){var t=e.target;if(t instanceof HTMLInputElement||t instanceof HTMLLabelElement){var i=no(t,Bs._WJC_RADIOMAP);return no(i,"wj-flexgrid")==this._g.hostElement}},e.prototype._clickSort=function(e,t){var i=this._g,n=i.allowSorting,o=i.collectionView,a=o?o.sortDescriptions:null,r=e.ctrlKey||e.metaKey,s=e.shiftKey;if(o&&o.canSort&&n!=gs.None){var l=t.panel.columns[t.col],c=i._getBindingColumn(t.panel,t.row,l),d=c?c._getBindingSort():null;if(c.allowSorting&&d){if(l==c){var h=i.getMergedRange(t.panel,t.row,t.col,!1);if(h&&h.columnSpan>1)return}var u=new us(t.panel,t.range,e);if(i.onSortingColumn(u)){i._edtHdl._commitRowEdits();for(var p=-1,b=0;b<a.length;b++)if(a[b].property==d){p=b;break}a.deferUpdate((function(){if(r&&s)a.clear();else if(p<0){n!=gs.MultiColumn&&a.clear();var e=new zi(d,!0);a.push(e)}else r?a.splice(p,1):(e=new zi(d,!a[p].ascending),a.splice(p,1,e))})),i.onSortedColumn(u)}}}},e.prototype._clickPin=function(e,t){var i=this._g,n=i.columns,o=n.frozen,a=i.allowPinning;a==ys.Both&&(a=e.shiftKey?ys.ColumnRange:ys.SingleColumn);var r=new us(i.cells,t.range);i.onPinningColumn(r)&&(a==ys.SingleColumn&&(t.col>=o?(n.moveElement(t.col,o,!1),n.frozen++):(n.moveElement(t.col,o-1,!1),n.frozen--)),a==ys.ColumnRange&&(n.frozen=t.col+1!=o?t.col+1:0),i.onPinnedColumn(r))},e.prototype._dblclick=function(e){var t,i=this._g,n=i.hitTest(e),o=n.cellType,a=i.selection,r=n.range;if(!e.defaultPrevented){var s=i.allowResizing,l=Ys,c=as;if(n.edgeRight&&s&l.Columns){if(o==c.ColumnHeader||o==c.Cell&&4&s){e.ctrlKey&&a.containsColumn(n.col)&&(r=a);for(var d=r.leftCol;d<=r.rightCol;d++)i.columns[d].allowResizing&&(t=new us(i.cells,new ss(-1,d)),i.onAutoSizingColumn(t)&&i.onResizingColumn(t)&&(this._ignoreClick=!0,i.autoSizeColumn(d),i.onResizedColumn(t),i.onAutoSizedColumn(t),e.preventDefault()))}else o==c.TopLeft&&n.panel.columns[n.col].allowResizing&&(t=new us(n.panel,new ss(-1,n.col)),i.onAutoSizingColumn(t)&&i.onResizingColumn(t)&&(this._ignoreClick=!0,i.autoSizeColumn(n.col,!0),i.onAutoSizedColumn(t),i.onResizedColumn(t),e.preventDefault()));this.resetMouseState()}else if(n.edgeBottom&&s&l.Rows){if(o==c.RowHeader||o==c.Cell&&4&s){e.ctrlKey&&a.containsRow(n.row)&&(r=a);for(var h=r.topRow;h<=r.bottomRow;h++)i.rows[h].allowResizing&&(t=new us(i.cells,new ss(h,-1)),i.onAutoSizingRow(t)&&i.onResizingRow(t)&&(this._ignoreClick=!0,i.autoSizeRow(h),i.onResizedRow(t),i.onAutoSizedRow(t),e.preventDefault()))}else o==c.TopLeft&&n.getRow().allowResizing&&(t=new us(n.panel,new ss(n.row,-1)),i.onAutoSizingRow(t)&&i.onResizingRow(t)&&(this._ignoreClick=!0,i.autoSizeRow(n.row,!0),i.onResizedRow(t),i.onAutoSizedRow(t),e.preventDefault()));this.resetMouseState()}}},e.prototype._hover=function(e){if(!this._isDown){var t=this._g,i=t.hitTest(e),n="";return this._szRowCol=this._getResizeColHt(i)||this._getResizeRowHt(i),this._szRowCol instanceof Cs?n="col-resize":this._szRowCol instanceof Ds&&(n="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,t.hostElement.style.cursor=n,i}return null},e.prototype._getResizeColHt=function(e){var t,i=this._g.allowResizing,n=e.cellType;return i&Ys.Columns&&(n==as.ColumnHeader||n==as.TopLeft||n==as.Cell&&4&i)&&(e.edgeRight&&(t=e.getColumn()),e.edgeFarRight&&(t=this._getResizeCol(e.panel,e.col)||e.getColumn()),e.edgeLeft&&(t=this._getResizeCol(e.panel,e.col,!0))),t&&t.allowResizing?t:null},e.prototype._getResizeRowHt=function(e){var t,i=this._g.allowResizing,n=e.cellType;return i&Ys.Rows&&(n==as.RowHeader||n==as.TopLeft||n==as.Cell&&4&i)&&(e.edgeBottom&&(t=e.getRow()),e.edgeFarBottom&&(t=this._getResizeRow(e.panel,e.row)||e.getRow()),e.edgeTop&&(t=this._getResizeRow(e.panel,e.row,!0))),t&&t.allowResizing?t:null},e.prototype._getResizeCol=function(e,t,i){void 0===i&&(i=!1);var n=this._g,o=e.columns;if(i){for(var a=t-1;a>=0;a--)if((r=o[a]).isVisible)return this._asResizable(r);if(o==n.columns&&0!=(n.headersVisibility&_s.Row))for(a=(o=n.rowHeaders.columns).length-1;a>=0;a--)if((r=o[a]).isVisible)return this._asResizable(r);return null}for(a=t+1;a<o.length;a++)if((r=o[a]).isVisible)return this._asResizable(r);if(t==o.length-1&&o==n.rowHeaders.columns)for(o=n.columns,a=0;a<o.length;a++){var r;if((r=o[a]).isVisible)return this._asResizable(r)}return null},e.prototype._getResizeRow=function(e,t,i){void 0===i&&(i=!1);var n=this._g,o=e.rows;if(i){for(var a=t-1;a>=0;a--)if((r=o[a]).isVisible)return this._asResizable(r);if(o==n.rows&&0!=(n.headersVisibility&_s.Column))for(a=(o=n.columnHeaders.rows).length-1;a>=0;a--)if((r=o[a]).isVisible)return this._asResizable(r);return null}for(a=t+1;a<o.length;a++)if((r=o[a]).isVisible)return this._asResizable(r);if(t==o.length-1&&o==n.columnHeaders.rows)for(o=n.rows,a=0;a<o.length;a++){var r;if((r=o[a]).isVisible)return this._asResizable(r)}return null},e.prototype._asResizable=function(e){return 0==e.renderSize&&e.allowResizing?e:null},e.prototype._mouseSelect=function(e,t){var i=this,n=this._g;if(e&&this._htDown&&this._htDown.panel&&n.selectionMode!=ls.None){var o=new Ts(this._htDown.panel,e);this._handleSelection(o,t),!Bo()&&e.button>=0&&e.target!=n._root&&((o=new Ts(n,e)).panel||setTimeout((function(){i._isDown&&i._eMouse&&i._mouseSelect(i._eMouse,t)}),100))}},e.prototype._handleResizing=function(t){"mousedown"==t.type&&(Mo()?Gn(t.target,"draggable",null):t.preventDefault());var i=this._szRowCol;if(i instanceof Cs){var n=this._g,o=dn(t).x,a=Math.round(Math.max(e._SZ_MIN,this._szStart+(o-this._htDown.point.x)*(n.rightToLeft?-1:1)));if(i.renderSize!=a){if(null==this._szArgs){var r=n.rowHeaders.columns.indexOf(i)>-1?n.rowHeaders:n.cells;this._szArgs=new us(r,new ss(-1,i.index))}this._szArgs.cancel=!1,n.onResizingColumn(this._szArgs)&&(n.deferResizing?this._showResizeMarker(a):i.width=a)}}var s=this._szRowCol;if(s instanceof Ds){n=this._g;var l=dn(t).y;a=Math.round(Math.max(e._SZ_MIN,this._szStart+(l-this._htDown.point.y))),s.renderSize!=a&&(null==this._szArgs&&(r=n.columnHeaders.rows.indexOf(s)>-1?n.columnHeaders:n.cells,this._szArgs=new us(r,new ss(s.index,-1))),this._szArgs.cancel=!1,n.onResizingRow(this._szArgs)&&(n.deferResizing?this._showResizeMarker(a):s.height=a))}},e.prototype._dragstart=function(e){var t=this._g,i=this._htDown,n=Ws;if(i){if(this._dragSrc=null,this._htDrag=null,!this._szRowCol){var o=new us(i.panel,i.range);if(i.cellType==as.ColumnHeader&&t.allowDragging&n.Columns&&i.col>-1&&t.columns[i.col].allowDragging)t.onDraggingColumn(o)?this._dragSrc=e.target:e.preventDefault();else if(i.cellType==as.RowHeader&&t.allowDragging&n.Rows&&i.row>-1&&t.rows[i.row].allowDragging){var a=t.rows[i.row];a instanceof Ss||a instanceof Rs||(t.onDraggingRow(o)?this._dragSrc=e.target:e.preventDefault())}else i.cellType==as.TopLeft&&t.allowDragging&n.Columns&&i.col>-1&&t.topLeftCells.columns[i.col].allowDragging&&(t.onDraggingColumn(o)?this._dragSrc=e.target:e.preventDefault())}this._dragSrc&&e.dataTransfer&&!e.defaultPrevented&&(this._htDrag=i,Yo(e.dataTransfer,"move"),e.stopPropagation(),Fn(this._dragSrc,"wj-state-dragsrc"),t.beginUpdate(),this._updating=!0)}},e.prototype._dragend=function(e){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},e.prototype._dragover=function(e){var t=this._g,i=this._hitTest(e),n=this._dragSrc?this._htDrag:null,o=as,a=!1;if(n&&i.cellType==n.cellType){var r=new us(i.panel,i.range,n);i.cellType==o.ColumnHeader?(r.cancel=!t.columns.canMoveElement(n.col,i.col),a=t.onDraggingColumnOver(r)):i.cellType==o.RowHeader?(r.cancel=!t.rows.canMoveElement(n.row,i.row),a=t.onDraggingRowOver(r)):i.cellType==o.TopLeft&&(r.cancel=!t.topLeftCells.columns.canMoveElement(n.col,i.col),a=t.onDraggingColumnOver(r))}if(a?(e.dataTransfer.dropEffect="move",e.preventDefault(),e.stopPropagation(),this._showDragMarker(i)):this._showDragMarker(null),n&&t.autoScroll){var s=t.controlRect,l=t.scrollPosition,c=ha._DRAG_SCROLL_EDGE,d=ha._DRAG_SCROLL_STEP;n.panel==t.columnHeaders?(e.pageX-s.left<c&&(l.x+=d),s.right-e.pageX<c&&(l.x-=d)):n.panel==t.rowHeaders&&(e.pageY-s.top<c&&(l.y+=d),s.bottom-e.pageY<c&&(l.y-=d)),l.equals(t._ptScrl)||(t.scrollPosition=l,t._rcBounds=null)}},e.prototype._drop=function(e){var t=this._g,i=this._hitTest(e),n=this._dragSrc?this._htDrag:null,o=as;if(n&&i.cellType==n.cellType){var a=t.selection,r=new us(i.panel,i.range,n);i.cellType==o.ColumnHeader?(t.columns.moveElement(n.col,i.col),t.select(a.row,i.col),t.onDraggedColumn(r)):i.cellType==o.RowHeader?(t.rows.moveElement(n.row,i.row),t.select(i.row,a.col),t.onDraggedRow(r)):i.cellType==o.TopLeft&&(t.topLeftCells.columns.moveElement(n.col,i.col),t.onDraggedColumn(r))}this.resetMouseState()},e.prototype._hitTest=function(e){var t=this._g;return t._rcBounds=null,t.hitTest(e)},e.prototype._showResizeMarker=function(e){var t,i=this._g,n=i._ptScrl,o=this._szArgs.panel.cellType,a=as,r=this._dvMarker,s=i.cells.hostElement;r.parentElement!=s&&s.appendChild(r),this._szRowCol instanceof Cs?(t={left:this._szRowCol.pos+e-1,top:-1e3,right:"",bottom:0,width:3,height:""},o!=a.TopLeft&&o!=a.RowHeader||(t.left-=i._eTL.offsetWidth+n.x),o==a.Cell&&this._szRowCol.index<i.frozenColumns&&(t.left-=n.x),i.rightToLeft&&(t.left=s.clientWidth-t.left-t.width)):(t={left:-1e3,top:this._szRowCol.pos+e-1,right:0,bottom:"",width:"",height:3},o!=a.TopLeft&&o!=a.ColumnHeader||(t.top-=i._eTL.offsetHeight+n.y),o==a.Cell&&this._szRowCol.index<i.frozenRows&&(t.top-=n.y)),ro(r,t)},e.prototype._showDragMarker=function(e){var t=this._dvMarker;if(e&&e.panel){if(!e.range.equals(this._rngTarget)){this._rngTarget=e.range;var i=e.panel.hostElement;t.parentElement!=i&&i.appendChild(t);var n=this._g,o=n._ptScrl,a=as,r={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(e.cellType){case a.TopLeft:case a.ColumnHeader:var s=e.panel.columns[e.col];r.left=s.pos-r.width/2,r.height=e.panel.height,this._htDown&&e.col>this._htDown.col&&(r.left+=s.renderWidth),e.cellType==a.ColumnHeader&&e.col<n.frozenColumns&&(r.left-=o.x),n.rightToLeft&&(r.left=t.parentElement.clientWidth-r.left-r.width);break;case a.RowHeader:var l=e.getRow();r.top=l.pos-r.height/2,r.width=e.panel.width,e.row>this._htDown.row&&(r.top+=l.renderHeight),e.row<n.frozenRows&&(r.top-=o.y)}ro(t,r)}}else qn(t),this._rngTarget=null},e.prototype._finishResizing=function(t){var i=this._g,n=i.selection,o=this._szArgs,a=this._eMouse&&this._eMouse.ctrlKey,r=as;if(o&&!o.cancel){if(o.col>-1){var s=o.col,l=dn(t).x,c=Math.round(Math.max(e._SZ_MIN,this._szStart+(l-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(o.panel.columns[s].width=Math.round(c),i.onResizedColumn(o),a&&this._htDown.cellType==r.ColumnHeader&&n.containsColumn(s))for(var d=n.leftCol;d<=n.rightCol;d++)i.columns[d].allowResizing&&d!=s&&(o=new us(i.cells,new ss(-1,d)),i.onResizingColumn(o)&&(i.columns[d].size=i.columns[s].size,i.onResizedColumn(o)));t.preventDefault()}if(o.row>-1){var h=o.row,u=dn(t).y;if(c=Math.round(Math.max(e._SZ_MIN,this._szStart+(u-this._htDown.point.y))),o.getRow().height=Math.round(c),i.onResizedRow(o),a&&this._htDown.cellType==r.RowHeader&&n.containsRow(h))for(var p=n.topRow;p<=n.bottomRow;p++)i.rows[p].allowResizing&&p!=h&&(o=new us(i.cells,new ss(p,-1)),i.onResizingRow(o)&&(i.rows[p].size=i.rows[h].size,i.onResizedRow(o)));t.preventDefault()}}},e.prototype._startListBoxSelection=function(e){for(var t=this._g.rows,i=this._lbSelRows={},n=0;n<t.length;n++)t[n].isSelected&&(i[n]=!0)},e.prototype._handleSelection=function(e,t){var i=this._g,n=i._selHdl.selection,o=new ss(e.row,e.col),a=as,r=ls;if(o.isValid)if(this._lbSelRows)this._handleListBoxSelection(e);else{switch(e.cellType){case a.RowHeader:o.col=0,o.col2=i.columns.length-1;break;case a.ColumnHeader:switch(i.selectionMode){case r.Row:case r.Cell:o.row=o.row2=n.row,t=!1;break;default:o.row=0,o.row2=i.rows.length-1}}if(t&&(i.anchorCursor?(o.row=n.row,o.col=n.col):(o.row2=n.row2,o.col2=n.col2),!o.isValid)){var s=this._htDown;s&&(o=new ss(s.row,s.col))}if(i.selectionMode==ls.MultiRange){var l=i._mouseHdl._eMouse,c=i._selHdl,d=c.selection,h=c.extendedSelection;l&&(l.ctrlKey||l.metaKey)?!t&&c._deselectRange(o)?c.selection.isValid&&(o=null):d.isValid&&!d.intersects(o)&&this._splitRange(d).forEach((function(e){h.push(e)})):h.clear()}if(o)switch(i.select(o,!1),e.cellType){case a.RowHeader:i.scrollIntoView(e.row,-1);break;case a.ColumnHeader:i.scrollIntoView(-1,e.col);break;default:i.scrollIntoView(e.row,e.col)}else{var u=new us(i.cells,new ss(e.row,e.col));i.onSelectionChanging(u),i.onSelectionChanged(u),i.invalidate()}}},e.prototype._handleListBoxSelection=function(e){var t=this._g,i=t.rows,n=new ss(e.row,e.col),o=new us(t.cells,n);if(t.onSelectionChanging(o)){for(var a=Math.min(n.topRow,n.bottomRow),r=Math.max(n.topRow,n.bottomRow),s=a;s<=r;s++)i[s]._setFlag(ms.Selected,!(null!=this._lbSelRows[s]),!0);t.refreshCells(!1,!0,!0),t.onSelectionChanged(o)}t.scrollIntoView(e.row,e.col)},e.prototype._splitRange=function(e){var t=this._g,i=t.columns.length,n=t.rows.length,o=[];if(e.columnSpan==i)for(var a=e.topRow;a<=e.bottomRow;a++)o.push(new ss(a,0,a,i-1));else if(e.rowSpan==n)for(var r=e.leftCol;r<=e.rightCol;r++)o.push(new ss(0,r,n-1,r));else o.push(e.clone());return o},e._SZ_MIN=0,e}();mo("wijmo.grid",a);var $s=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();function Js(){return fo("wijmo.input")}function Zs(){return fo("wijmo.grid.detail")}var Xs=a&&Bs;Xs||(window.wijmo.grid={},window.wijmo.grid.CellFactory=function(){});var el,tl=function(e){function t(i){var n=e.call(this)||this;if(n._lastApplyTimeStamp=0,n._noApplyLag=!1,n._startingEditing=!1,n._cellStampCounter=0,n._composing=!1,n.grid=i,!t._templateTypes)for(var o in t._templateTypes=[],el)isNaN(o)&&t._templateTypes.push(o);var a=n;return n._baseCf=i.cellFactory,i.cellFactory=n,n._evtInput=document.createEvent("HTMLEvents"),n._evtInput.initEvent("input",!0,!1),n._evtBlur=document.createEvent("HTMLEvents"),n._evtBlur.initEvent("blur",!1,!1),i.prepareCellForEdit.addHandler((function(e,t){a._noApplyLag=!0})),i.cellEditEnded.addHandler((function(e,n){(n.range.col<0||n.range.col<i.columns.length&&!i.columns[n.range.col][t.getTemplContextProp(el.CellEdit)])&&(a._editChar=null),setTimeout((function(){a._noApplyLag=!1}),300)})),i.beginningEdit.addHandler((function(e,t){a._startingEditing=!0})),i.hostElement.addEventListener("keydown",(function(e){a._startingEditing=!1}),!0),i.hostElement.addEventListener("keypress",(function(e){var t=e.charCode>32?String.fromCharCode(e.charCode):null;t&&io(e.target,".wj-flexgrid")===i.hostElement&&(!i.activeEditor||a._startingEditing?(a._editChar=t,setTimeout((function(){i.activeEditor||(a._editChar=null)}),0)):a._editChar&&(a._editChar+=t))}),!0),i.hostElement.addEventListener("compositionstart",(function(e){a._composing=!0}),!0),i.hostElement.addEventListener("compositionend",(function(e){a._composing=!1}),!0),n}return $s(t,e),t.prototype.updateCell=function(e,i,n,o,a){var r=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var s=o[t._cellStampProp]=this._cellStampCounter;o.style.overflow&&(o.style.overflow="");var l=i,c=n;a&&!a.isSingleCell&&(i=a.row,n=a.col);var d,h=this,u=e.grid,p=u.editRange,b=e.rows[i],m=b.dataItem,f=!1,g=!1,y=!1,_=!1;switch(e.cellType){case as.Cell:if(p&&p.row===i&&p.col===n)d=el.CellEdit,g=y=!0;else if(b instanceof Ss){var v=!((_=m instanceof aa)||b.hasChildren);n==e.columns.firstVisibleIndex?d=v?el.Cell:el.GroupHeader:(d=v?el.Cell:el.Group,g=!0)}else b instanceof Rs?d=el.NewCellTemplate:Zs()&&Zs().DetailRow&&b instanceof Zs().DetailRow||(d=el.Cell);break;case as.ColumnHeader:d=el.ColumnHeader;break;case as.RowHeader:d=u.collectionView&&u.collectionView.currentEditItem===m?el.RowHeaderEdit:el.RowHeader,f=!0;break;case as.TopLeft:d=el.TopLeft,f=!0;break;case as.ColumnFooter:d=el.ColumnFooter,g=!0;break;case as.BottomLeft:d=el.BottomLeft,f=!0}var w=!1;if(null!=d){var C=_&&d==el.GroupHeader?u.columns.getColumn(m.groupDescription.propertyName):n>=0&&n<e.columns.length?e.columns[n]:null;if(C){var D=t.getTemplContextProp,S=D(d),x=(f?u:C)[S];if(x||(d===el.RowHeaderEdit?(S=D(d=el.RowHeader),x=u[S]):d!==el.Group&&d!==el.GroupHeader||_||(S=D(d=el.Cell),x=C[S])),x){var k;g&&(k=e.getCellData(i,n,!1)),w=!0;var L=o.getAttribute(Os._WJS_MEASURE),V=L&&"true"===L.toLowerCase();y&&(this.clearCell(o),this._baseCf.updateCell(e,l,c,o,a,!0));var O,U=y&&u.imeEnabled,E=o[S],M={cell:o,column:C,row:b,panel:e,rng:a,isEdit:y,isImeInput:U,isTrueImeInput:U&&this._composing,templateContext:x,templateCache:E,templateContextProperty:S,cellStamp:s,cellValue:k};if(this.shouldInstantiate(M)){if(y){var P=o.firstElementChild;P&&(U||o.focus(),P.style.display="none")}else this.clearCell(o);this._doDisposeCell(o),this.renderTemplate(M,!0),M.templateCache=E=o[S],O=M.cellBindingsData}else this.renderTemplate(M,!1),O=M.cellBindingsData;if(x.cellOverflow&&(o.style.overflow=x.cellOverflow),V?this.applyImmediately(M):x.autoSizeRows&&!U?this.checkHeight(M):y&&setTimeout((function(){U?r._initImeEditInput(E,x):r._initEditInput(E,x,null)}),0),y){h._cellEditorVars=O.localVars;var R=function(e,t){if(u.cellEditEnding.removeHandler(R),!t.stayInEditMode){var i=Kn();i&&i.dispatchEvent(h._evtBlur),to(o,Kn())&&o.focus()}if(h._triggerEditorEvents(o),!t.cancel&&!t.stayInEditMode)for(var n=O.localVars,a=0,r=Object.getOwnPropertyNames(O.bindings);a<r.length;a++){var s=r[a];O.bindings[s].setValue(n,O.localVars.values[s])}var l=o.querySelectorAll(".wj-dropdown");[].forEach.call(l,(function(e){var t=ha.getControl(e);t&&Js()&&t instanceof Js().DropDown&&(t.isDroppedDown=!1)}))},I=function(e,t){u.cellEditEnded.removeHandler(I),h._cellEditorVars=null};u.cellEditEnding.addHandler(R),u.cellEditEnded.addHandler(I)}else this._baseCf.updateCell(e,l,c,o,a,!1)}}}w||(this._doDisposeCell(o),this._baseCf.updateCell(e,l,c,o,a))},t.prototype.getEditorValue=function(t){if(this._cellEditorVars){var i=t.editRange;return i&&i.isValid&&this._triggerEditorEvents(t.cells.getCellElement(i.row,i.col)),this._cellEditorVars.value}return e.prototype.getEditorValue.call(this,t)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype.disposeTemplate=function(e,t,i){t&&(t.rootElement=null,t.column=null,e[t.templateContextProperty]=null,t.templateContextProperty=null)},t.prototype.setBindingsData=function(e,t,i,n,o,a){e.row=t,e.col=i,e.item=n;var r={},s=e.cell||{},l={},c={localVars:s,bindings:l};if(s.row=t,s.col=i,s.item=n,s.value=o,s.values=r,a)for(var d=0,h=Object.getOwnPropertyNames(a);d<h.length;d++){var u=h[d],p=new Pi(a[u]);l[u]=p,r[u]=p.getValue(s)}return e.cell!==s&&(e.cell=s),c},t.prototype.checkHeight=function(e){var i=this;setTimeout((function(){var n=e.cell;if(e.cellStamp===n[t._cellStampProp]){var o=n.scrollHeight,a=e.panel.rows,r=e.row.index,s=e.rng,l=s&&s.rowSpan||1,c=e.isEdit;if(null!=a.maxSize&&(o=Math.min(o,a.maxSize)),r<a.length&&a[r].renderHeight*l<o-1){if(a.defaultSize=o/l,c){var d=i._isFullEdit(),h=i.grid;return h.refresh(),void h.startEditing(d)}}else c&&(e.isImeInput?i._initImeEditInput(e.templateCache,e.templateContext):i._initEditInput(e.templateCache,e.templateContext,null))}}),0)},t.prototype.doDisposeCell=function(e){for(var i=t._templateTypes,n=0;n<i.length;n++){var o=t.getTemplContextProp(el[i[n]]),a=e[o];a&&this.disposeTemplate(e,a,(a.column||this.grid)[o])}},t.getTemplContextProp=function(e){return"$__cellTempl"+el[e]},t.prototype._doDisposeCell=function(e){this.doDisposeCell(e)},t.prototype._initEditInput=function(e,i,n){var o=this,a=!1!==this.getEditorFocusFlag();if(this.setEditorFocusFlag(null),this._setFullEdit(i),a){var r=this._findInitialInput(e);if(r){var s=function(){r.removeEventListener("focus",s),setTimeout((function(){setTimeout((function(){var e=null!=n?n:o._editChar;e&&(r.value=e,o._editChar=null,t._setSelectionRange(r,e.length,e.length),r.dispatchEvent(o._evtInput))}),0)}),t._FOCUS_INTERVAL)};r.addEventListener("focus",s),r.focus()}}},t.prototype._initImeEditInput=function(e,i){var n=this,o=Kn();if(o&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement)&&Hn(o,"wj-grid-ime")){var a=this._findInitialInput(e),r=a.style.color,s=this._composing,l=function(){o.removeEventListener("compositionend",l),ro(o,Us._cssHidden),n.setEditorFocusFlag(!0),a&&(a.style.color=r),n._initEditInput(e,i,s?o.value:null)};if(s){if(o.addEventListener("compositionend",l),a){var c=a.getBoundingClientRect(),d=o.getBoundingClientRect(),h=window.getComputedStyle(o),u=parseFloat(h.left),p=parseFloat(h.top);ro(o,{left:u+c.left-d.left+"px",top:p+c.top-d.top+"px",width:c.width+"px",height:c.height+"px"}),a.style.color="transparent"}}else setTimeout((function(){return l()}),t._FOCUS_INTERVAL)}},t.prototype._findInitialInput=function(e){var t=e&&e.rootElement&&e.rootElement.querySelectorAll("input,textarea");if(t)for(var i=0;i<t.length;i++){var n=t[i],o=window.getComputedStyle(n);if("none"!==o.display&&"visible"===o.visibility)return n}return null},t._setSelectionRange=function(e,t,i){if(void 0===i&&(i=t),to(document.body,e)&&!e.disabled&&"none"!=e.style.display)try{e.setSelectionRange(Sn(t),Sn(i),To()?null:"backward"),e.focus()}catch(e){}},t.prototype._triggerEditorEvents=function(e){if(e)for(var t=e.querySelectorAll(".wj-control"),i=0;i<t.length;i++){var n=ha.getControl(t[i]);n&&this.flushPendingEvents(n)}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var t=this.grid;e.forceFullEdit&&t.activeEditor&&(t._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t._FOCUS_INTERVAL=ha._FOCUS_INTERVAL+20,t}(Bs);Xs||(window.wijmo.grid=null),function(e){e[e.Cell=0]="Cell",e[e.CellEdit=1]="CellEdit",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.RowHeaderEdit=4]="RowHeaderEdit",e[e.TopLeft=5]="TopLeft",e[e.GroupHeader=6]="GroupHeader",e[e.Group=7]="Group",e[e.NewCellTemplate=8]="NewCellTemplate",e[e.ColumnFooter=9]="ColumnFooter",e[e.BottomLeft=10]="BottomLeft"}(el||(el={})),mo("wijmo.interop.grid",r);var il,nl=["*"],ol=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),al=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r},rl=function(e,t){return function(i,n){t(i,n,e)}},sl=el,ll={selector:"wj-flex-grid",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","allowPinning","autoScroll","autoRowHeights","autoSizeMode","autoGenerateColumns","autoSearch","caseSensitiveSearch","quickAutoSize","bigCheckboxes","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","alternatingRowStep","validateEdits","treeIndent","itemsSource","autoClipboard","expandSelectionOnCopyPaste","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","editColumnIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","preserveWhiteSpace","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold","anchorCursor","lazyRender","refreshOnEdit","copyHeaders","columnGroups"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","pinningColumnNg: pinningColumn","pinnedColumnNg: pinnedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangingNg: groupCollapsedChanging","groupCollapsedChangedNg: groupCollapsedChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied"],providers:[{provide:c.m,useFactory:function(e){return new Or(e)},multi:!0,deps:["WjComponent"]}]},cl=function(e){function t(t,i,n,o){var a=e.call(this,Lr.getHostElement(t,i))||this;return a.cdRef=o,a.isInitialized=!1,a._wjBehaviour=Lr.attach(a,t,i,n),new pl(a,o),a.deferUpdate((function(){if(a.rows.defaultSize<10){var e=a.hostElement,t=getComputedStyle(e),i=getComputedStyle(document.body),n=2*parseInt(t.fontSize&&to(document.body,e)?t.fontSize:i.fontSize);a.rows.defaultSize=n,a.columns.defaultSize=4*n,a.columnHeaders.rows.defaultSize=n,a.rowHeaders.columns.defaultSize=Math.round(1.25*n)}})),a.created(),a}var i;return ol(t,e),i=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,i,n,o){var a=this;void 0===o&&(o=!1);var r=Lr.ngZone;r&&Lr.outsideZoneEvents[i]?r.runOutsideAngular((function(){e.prototype.addEventListener.call(a,t,i,n,o)})):e.prototype.addEventListener.call(this,t,i,n,o)},t.prototype.startEditing=function(t,i,n,o,a){void 0===t&&(t=!0),this._edtFocus=null;var r=e.prototype.startEditing.call(this,t,i,n,o,a);return r&&(this._edtFocus=o||null==o),r},t.prototype.onCellEditEnding=function(t){return this._edtFocus=null,e.prototype.onCellEditEnding.call(this,t)},t.meta={outputs:ll.outputs},t.\u0275fac=function(e){return new(e||t)(h.Qb(h.n),h.Qb(h.u),h.Qb("WjComponent",12),h.Qb(h.h))},t.\u0275cmp=h.Kb({type:t,selectors:[["wj-flex-grid"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",newRowAtTop:"newRowAtTop",allowAddNew:"allowAddNew",allowDelete:"allowDelete",allowDragging:"allowDragging",allowMerging:"allowMerging",allowResizing:"allowResizing",allowSorting:"allowSorting",allowPinning:"allowPinning",autoScroll:"autoScroll",autoRowHeights:"autoRowHeights",autoSizeMode:"autoSizeMode",autoGenerateColumns:"autoGenerateColumns",autoSearch:"autoSearch",caseSensitiveSearch:"caseSensitiveSearch",quickAutoSize:"quickAutoSize",bigCheckboxes:"bigCheckboxes",childItemsPath:"childItemsPath",groupHeaderFormat:"groupHeaderFormat",headersVisibility:"headersVisibility",showSelectedHeaders:"showSelectedHeaders",showMarquee:"showMarquee",itemFormatter:"itemFormatter",isReadOnly:"isReadOnly",imeEnabled:"imeEnabled",mergeManager:"mergeManager",selectionMode:"selectionMode",showGroups:"showGroups",showSort:"showSort",showDropDown:"showDropDown",showAlternatingRows:"showAlternatingRows",showErrors:"showErrors",alternatingRowStep:"alternatingRowStep",validateEdits:"validateEdits",treeIndent:"treeIndent",itemsSource:"itemsSource",autoClipboard:"autoClipboard",expandSelectionOnCopyPaste:"expandSelectionOnCopyPaste",frozenRows:"frozenRows",frozenColumns:"frozenColumns",cloneFrozenCells:"cloneFrozenCells",deferResizing:"deferResizing",sortRowIndex:"sortRowIndex",editColumnIndex:"editColumnIndex",stickyHeaders:"stickyHeaders",preserveSelectedState:"preserveSelectedState",preserveOutlineState:"preserveOutlineState",preserveWhiteSpace:"preserveWhiteSpace",keyActionTab:"keyActionTab",keyActionEnter:"keyActionEnter",rowHeaderPath:"rowHeaderPath",virtualizationThreshold:"virtualizationThreshold",anchorCursor:"anchorCursor",lazyRender:"lazyRender",refreshOnEdit:"refreshOnEdit",copyHeaders:"copyHeaders",columnGroups:"columnGroups"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",beginningEditNg:"beginningEdit",cellEditEndedNg:"cellEditEnded",cellEditEndingNg:"cellEditEnding",prepareCellForEditNg:"prepareCellForEdit",formatItemNg:"formatItem",resizingColumnNg:"resizingColumn",resizedColumnNg:"resizedColumn",autoSizingColumnNg:"autoSizingColumn",autoSizedColumnNg:"autoSizedColumn",draggingColumnNg:"draggingColumn",draggingColumnOverNg:"draggingColumnOver",draggedColumnNg:"draggedColumn",sortingColumnNg:"sortingColumn",sortedColumnNg:"sortedColumn",pinningColumnNg:"pinningColumn",pinnedColumnNg:"pinnedColumn",resizingRowNg:"resizingRow",resizedRowNg:"resizedRow",autoSizingRowNg:"autoSizingRow",autoSizedRowNg:"autoSizedRow",draggingRowNg:"draggingRow",draggingRowOverNg:"draggingRowOver",draggedRowNg:"draggedRow",deletingRowNg:"deletingRow",deletedRowNg:"deletedRow",loadingRowsNg:"loadingRows",loadedRowsNg:"loadedRows",rowEditStartingNg:"rowEditStarting",rowEditStartedNg:"rowEditStarted",rowEditEndingNg:"rowEditEnding",rowEditEndedNg:"rowEditEnded",rowAddedNg:"rowAdded",groupCollapsedChangingNg:"groupCollapsedChanging",groupCollapsedChangedNg:"groupCollapsedChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged",selectionChangingNg:"selectionChanging",selectionChangedNg:"selectionChanged",scrollPositionChangedNg:"scrollPositionChanged",updatingViewNg:"updatingView",updatedViewNg:"updatedView",updatingLayoutNg:"updatingLayout",updatedLayoutNg:"updatedLayout",pastingNg:"pasting",pastedNg:"pasted",pastingCellNg:"pastingCell",pastedCellNg:"pastedCell",copyingNg:"copying",copiedNg:"copied"},features:[h.Db([{provide:"WjComponent",useExisting:Object(h.X)((function(){return i}))}].concat(ll.providers))],ngContentSelectors:nl,decls:2,vars:0,template:function(e,t){1&e&&(h.jc(),h.Vb(0,"div"),h.ic(1),h.Ub())},encapsulation:2}),t=i=al([,rl(0,Object(h.r)(h.n)),rl(1,Object(h.r)(h.u)),rl(2,Object(h.r)("WjComponent")),rl(2,Object(h.N)()),rl(2,Object(h.E)()),rl(3,Object(h.r)(h.h))],t)}(Os),dl={selector:"wj-flex-grid-column",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","cellTemplate","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dataMapEditor","dropDownCssClass","quickAutoSize","editor"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]},hl=function(e){function t(t,i,n,o){var a=e.call(this)||this;a.cdRef=o,a.isInitialized=!1,a.wjProperty="columns";var r=(a._wjBehaviour=Lr.attach(a,t,i,n)).parentBehavior.directive;return r.autoGenerateColumns&&(r.autoGenerateColumns=!1,r.columns.clear()),a.created(),a}var i;return ol(t,e),i=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:dl.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.\u0275fac=function(e){return new(e||t)(h.Qb(h.n),h.Qb(h.u),h.Qb("WjComponent",12),h.Qb(h.h))},t.\u0275cmp=h.Kb({type:t,selectors:[["wj-flex-grid-column"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",name:"name",dataMap:"dataMap",dataType:"dataType",binding:"binding",sortMemberPath:"sortMemberPath",format:"format",cellTemplate:"cellTemplate",header:"header",width:"width",maxLength:"maxLength",minWidth:"minWidth",maxWidth:"maxWidth",align:"align",allowDragging:"allowDragging",allowSorting:"allowSorting",allowResizing:"allowResizing",allowMerging:"allowMerging",aggregate:"aggregate",isReadOnly:"isReadOnly",cssClass:"cssClass",isContentHtml:"isContentHtml",isSelected:"isSelected",visible:"visible",wordWrap:"wordWrap",multiLine:"multiLine",mask:"mask",inputType:"inputType",isRequired:"isRequired",showDropDown:"showDropDown",dataMapEditor:"dataMapEditor",dropDownCssClass:"dropDownCssClass",quickAutoSize:"quickAutoSize",editor:"editor"},outputs:{initialized:"initialized",isSelectedChangePC:"isSelectedChange"},features:[h.Db([{provide:"WjComponent",useExisting:Object(h.X)((function(){return i}))}].concat(dl.providers))],ngContentSelectors:nl,decls:2,vars:0,template:function(e,t){1&e&&(h.jc(),h.Vb(0,"div"),h.ic(1),h.Ub())},encapsulation:2}),t=i=al([,rl(0,Object(h.r)(h.n)),rl(1,Object(h.r)(h.u)),rl(2,Object(h.r)("WjComponent")),rl(2,Object(h.N)()),rl(2,Object(h.E)()),rl(3,Object(h.r)(h.h))],t)}(Cs),ul=function(){function e(e,t,i,n,o,a){this.viewContainerRef=e,this.templateRef=t,this.elRef=i,this.cdRef=a,this.autoSizeRows=!0,this.forceFullEdit=!0,n instanceof cl?this.grid=n:n instanceof hl&&(this.column=n,this.grid=Lr.getBehavior(n).parentBehavior.directive)}var t;return t=e,e.prototype.ngOnInit=function(){this.ownerControl=this.column&&this.column.grid===this.grid?this.column:this.grid,this._attachToControl()},e.prototype.ngOnDestroy=function(){this.cellTypeStr&&(this.viewContainerRef.clear(),this.ownerControl[pl.getTemplContextProp(this.cellType)]=null,this.grid.invalidate())},e.prototype._instantiateTemplate=function(e,t){return Lr.instantiateTemplate(e,this.viewContainerRef,this.templateRef,!1,t)},e.prototype._attachToControl=function(){if(this.cellTypeStr){var e=this.cellType=En(this.cellTypeStr,sl),t=this.ownerControl;t[pl.getTemplContextProp(e)]=this,t instanceof Cs&&(e===sl.Cell||e===sl.ColumnHeader||e===sl.ColumnFooter)&&t._setFlag(ms.HasTemplate,!0),this.grid.invalidate()}},e.\u0275fac=function(t){return new(t||e)(h.Qb(h.T),h.Qb(h.P,8),h.Qb(h.n),h.Qb("WjComponent",12),h.Qb(h.u),h.Qb(h.h))},e.\u0275dir=h.Lb({type:e,selectors:[["","wjFlexGridCellTemplate",""]],inputs:{wjFlexGridCellTemplate:"wjFlexGridCellTemplate",cellTypeStr:["cellType","cellTypeStr"],cellOverflow:"cellOverflow",valuePaths:"valuePaths",autoSizeRows:"autoSizeRows",forceFullEdit:"forceFullEdit"},exportAs:["wjFlexGridCellTemplate"],features:[h.Db([{provide:"WjComponent",useExisting:Object(h.X)((function(){return t}))}])]}),e=t=al([,rl(0,Object(h.r)(h.T)),rl(1,Object(h.r)(h.P)),rl(1,Object(h.E)()),rl(2,Object(h.r)(h.n)),rl(3,Object(h.r)("WjComponent")),rl(3,Object(h.N)()),rl(3,Object(h.E)()),rl(4,Object(h.r)(h.u)),rl(5,Object(h.r)(h.h))],e)}(),pl=function(e){function t(t,i){var n=e.call(this,t)||this;return n._needsCdCheck=!1,n._gridCdRef=i,t.updatedView.addHandler((function(){n._needsCdCheck&&(n._needsCdCheck=!1,n._gridCdRef.markForCheck())}),n),n}return ol(t,e),t.prototype.shouldInstantiate=function(e){var t=e.templateCache;return null==t||t.column!==e.column||!t.viewRef||t.templateContextProperty!==e.templateContextProperty||e.cell.firstChild!=t.rootElement},t.prototype.renderTemplate=function(e,t){var i=e.row,n=t?{}:e.templateCache.viewRef.context,o=e.templateContext;if(e.cellBindingsData=this.setBindingsData(n,i,e.column,i.dataItem,e.cellValue,o.valuePaths),t){var a=e.cell,r=o._instantiateTemplate(a,n),s=e.templateCache={column:e.column,viewRef:r.viewRef,rootElement:r.rootElement,templateContextProperty:e.templateContextProperty};a[e.templateContextProperty]=s}},t.prototype.setBindingsData=function(t,i,n,o,a,r){return this._needsCdCheck=!0,e.prototype.setBindingsData.call(this,t,i,n,o,a,r)},t.prototype.disposeTemplate=function(t,i,n){if(i&&i.viewRef){if(n){var o=n.viewContainerRef.indexOf(i.viewRef);o>-1&&n.viewContainerRef.remove(o)}i.viewRef=null,e.prototype.disposeTemplate.call(this,t,i,n)}},t.prototype.clearCell=function(e){e.textContent=""},t.prototype.applyImmediately=function(e){e.templateContext.cdRef.detectChanges()},t.prototype.flushPendingEvents=function(e){if(e){var t=Lr.getBehavior(e);t&&t.flushPendingEvents()}},t.prototype.getEditorFocusFlag=function(){return this.grid._edtFocus},t.prototype.setEditorFocusFlag=function(e){this.grid._edtFocus=e},t.prototype.checkHeight=function(t){var i=this;Lr.ngZone.runOutsideAngular((function(){e.prototype.checkHeight.call(i,t)}))},t}(tl),bl=function(){function e(){}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[l.b]]}),e}(),ml=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),fl=function(){function e(e){this._op=null,this._filter=e}return Object.defineProperty(e.prototype,"operator",{get:function(){return this._op},set:function(e){this._op=En(e,il,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._val},set:function(e){this._val=e,this._strVal=Ji(e)?e.toString().toLowerCase():null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case il.EQ:case il.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.operator=null,this.value=null},e.prototype.apply=function(t,i,n){var o=this._strVal||this._val;switch(Ji(t)&&(t=t.toLowerCase()),Ji(o)&&null==t&&(t=""),an(o)&&(i?o=uo.fromDateTime(o,e._refDateTime):n&&(o=uo.fromDateTime(e._refDateTime,o))),this._op){case null:return!0;case il.EQ:return null!=t&&null!=o?t.valueOf()==o.valueOf():t==o;case il.NE:return null!=t&&null!=o?t.valueOf()!=o.valueOf():t!=o;case il.GT:return t>o;case il.GE:return t>=o;case il.LT:return t<o;case il.LE:return t<=o;case il.BW:return!(null==this._strVal||!Ji(t))&&0==t.indexOf(this._strVal);case il.EW:return!!(null!=this._strVal&&Ji(t)&&t.length>=this._strVal.length)&&t.substr(t.length-this._strVal.length)==o;case il.CT:return!(null==this._strVal||!Ji(t))&&t.indexOf(this._strVal)>-1;case il.NC:return!(null==this._strVal||!Ji(t))&&t.indexOf(this._strVal)<0}throw"Unknown operator"},e._refDateTime=new Date(2e3,0,1,0,0,0),e}();!function(e){e[e.EQ=0]="EQ",e[e.NE=1]="NE",e[e.GT=2]="GT",e[e.GE=3]="GE",e[e.LT=4]="LT",e[e.LE=5]="LE",e[e.BW=6]="BW",e[e.EW=7]="EW",e[e.CT=8]="CT",e[e.NC=9]="NC"}(il||(il={}));var gl,yl=function(){function e(e){this._c1=new fl(this),this._c2=new fl(this),this._and=!0,this._col=e}return Object.defineProperty(e.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"and",{get:function(){return this._and},set:function(e){this._and=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=Un(e,rs,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this._col,i=this._c1,n=this._c2,o=!1,a=!1;if(!t||!t._binding||!this.isActive)return!0;e=t._binding.getValue(e);var r=this.dataMap||t.dataMap;if(r)e=r.getDisplayValue(e);else if(an(e)){o=!this._hasTimePart(),a=!this._hasDatePart();var s=fl._refDateTime;o?e=uo.fromDateTime(e,s):a&&(e=uo.fromDateTime(s,e))}else if(Xi(e)){var l=_o,c=t.format,d=l.formatNumber(e,c);e=l.parseFloat(d,c)}var h=i.apply(e,o,a),u=n.apply(e,o,a);return i.isActive&&n.isActive?this._and?h&&u:h||u:i.isActive?h:!n.isActive||u},e.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},e.prototype._hasDatePart=function(){var e=this._col.format;return!e||/[yMd]+/.test(e=yo.Globalize.calendar.patterns[e]||e)},e.prototype._hasTimePart=function(){var e=this._col.format;return!!e&&/[Hmst]+/.test(e=yo.Globalize.calendar.patterns[e]||e)},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}(),_l=function(e){function t(t,i){var n=e.call(this,t)||this;n._filter=Un(i,yl,!1);var o=n.getTemplate();n.applyTemplate("wj-control wj-conditionfilter-editor",o,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var a=yo.FlexGridFilter,r=a.ariaLabels;Yn(n._btnAnd,r.and),Yn(n._btnOr,r.or),eo(n._divHdr,a.header),eo(n._spAnd,a.and),eo(n._spOr,a.or),n._cmb1=n._createOperatorCombo(n._divCmb1,r.op1),n._cmb2=n._createOperatorCombo(n._divCmb2,r.op2),n._val1=n._createValueInput(n._divVal1,r.val1),n._val2=n._createValueInput(n._divVal2,r.val2),n._val1.isDisabled=!0,n._cmb1.selectedIndexChanged.addHandler((function(e,t){n._val1.isDisabled=null==e.selectedValue})),n._val2.isDisabled=!0,n._cmb2.selectedIndexChanged.addHandler((function(e,t){n._val2.isDisabled=null==e.selectedValue}));var s=n.hostElement;return n.addEventListener(s,"change",n._btnAndOrChanged.bind(n)),n.addEventListener(s,"keydown",n._keydown.bind(n)),setTimeout((function(){n.updateEditor()})),n}return ml(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.condition1,t=this._filter.condition2;this._cmb1.selectedValue=e.operator,this._cmb2.selectedValue=t.operator,this._val1 instanceof Kr&&!(this._val1 instanceof Zr)?(this._val1.text=pn(e.value,Fi.String),this._val2.text=pn(t.value,Fi.String)):(this._val1.value=e.value,this._val2.value=t.value);var i=this._filter.and;this._checkRadio(this._btnAnd,i),this._checkRadio(this._btnOr,!i)},t.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._checkRadio(this._btnAnd,!0),this._checkRadio(this._btnOr,!1)},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return null==this._cmb1.selectedValue&&!this._val1.text&&null==this._cmb2.selectedValue&&!this._val2.text},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=this._filter.condition1,t=this._filter.condition2;e.operator=this._cmb1.selectedValue,t.operator=this._cmb2.selectedValue,"value"in this._val1?(e.value=this._val1.value,t.value=this._val2.value):(e.value=this._getComboValue(this._val1),t.value=this._getComboValue(this._val2)),this._filter.and=this._btnAnd.checked},t.prototype._getComboValue=function(e){return e.selectedIndex>-1?e.selectedValue:e.text},t.prototype._createOperatorCombo=function(e,t){var i=this._filter.column,n=yo.FlexGridFilter,o=n.stringOperators;this._filter.dataMap||i.dataMap||(i.dataType==Fi.Date?o=n.dateOperators:i.dataType==Fi.Number?o=n.numberOperators:i.dataType==Fi.Boolean&&(o=n.booleanOperators));var a=new Kr(e,{itemsSource:o,displayMemberPath:"name",selectedValuePath:"op"});return Yn(a.inputElement,t),a},t.prototype._createValueInput=function(e,t){var i=this._filter,n=i.column,o=i.dataMap||n.dataMap,a=null,r=Fi;return n.dataType==r.Date?(a=i._hasDatePart()?i._hasTimePart()?new Xr(e):new Wr(e):new Zr(e)).format=n.format:n.dataType!=r.Number||o?(a=new Kr(e),o?(a.itemsSource=o.getDisplayValues(),a.isEditable=!0):n.dataType==r.Boolean&&(a.itemsSource=[!0,!1])):(a=new Mr(e)).format=n.format,a.isRequired=!1,Yn(a.inputElement,t),a},t.prototype._btnAndOrChanged=function(e){var t=e.target==this._btnAnd,i=e.target==this._btnOr;(t||i)&&(this._checkRadio(this._btnAnd,t),this._checkRadio(this._btnOr,i))},t.prototype._checkRadio=function(e,t){e.checked=t,e.setAttribute("aria-checked",t.toString()),e.setAttribute("tabindex",t?"1":"-1")},t.prototype._keydown=function(e){var t=e.target==this._btnAnd;if(t||e.target==this._btnOr)switch(e.keyCode){case Hi.Left:case Hi.Right:case Hi.Up:case Hi.Down:var i=t?this._btnOr:this._btnAnd;i.click(),i.focus(),e.preventDefault()}},t.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div role="radiogroup" style="text-align:center"><label><input wj-part="btn-and" type="radio" role="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio" role="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',t}(ha),vl=function(){function e(e){this._values=null,this._filterText=null,this._xValueSearch=!0,this._maxValues=250,this._uniqueValues=null,this._sortValues=!0,this._col=e}return Object.defineProperty(e.prototype,"showValues",{get:function(){return this._values},set:function(e){this._values=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterText",{get:function(){return this._filterText},set:function(e){this._filterText=Dn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(e){this._xValueSearch=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValues",{get:function(){return this._maxValues},set:function(e){this._maxValues=Sn(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(e){this._uniqueValues=On(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortValues",{get:function(){return this._sortValues},set:function(e){this._sortValues=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=Un(e,rs,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return null!=this._values&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this.column;return!(t&&t._binding&&this._values&&Object.keys(this._values).length)||(e=t._binding.getValue(e),e=this.dataMap?this.dataMap.getDisplayValue(e):t.dataMap?t.dataMap.getDisplayValue(e):_o.format(e,t.format),null!=this._values[e])},e.prototype.clear=function(){this.showValues=null,this.filterText=null},e.prototype.getUniqueValues=function(e){void 0===e&&(e=!0);var t=[];if(this.uniqueValues)return this.uniqueValues.forEach((function(e){t.push({value:e,text:e.toString()})})),t;var i={},n=this.column,o=n.collectionView,a=o?o.sourceCollection:[];if(e&&o&&o.sourceCollection&&o.filter){var r=this.showValues;this.showValues=null;for(var s=[],l=0;l<a.length;l++)o.filter(a[l])&&s.push(a[l]);a=s,this.showValues=r}for(l=0;l<a.length;l++){var c=n._binding.getValue(a[l]),d=this.dataMap?this.dataMap.getDisplayValue(c):n.dataMap?n.dataMap.getDisplayValue(c):_o.format(c,n.format);i[d]||(i[d]=!0,t.push({value:c,text:d}))}return t},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}(),wl=function(e){function t(t,i){var n=e.call(this,t)||this;n._filter=Un(i,vl,!1);var o=n.getTemplate();n.applyTemplate("wj-control wj-valuefilter-editor",o,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),n._cbSelectAll.tabIndex=0;var a=yo.FlexGridFilter;eo(n._spSelectAll,a.selectAll);var r=n._view=new oa;return r.sortNulls=ia.First,i.sortValues&&r.sortDescriptions.push(new zi(i.column.dataMap||i.dataMap?"text":"value",i.column.dataType!=Fi.Boolean)),r.filter=n._filterValues.bind(n),r.collectionChanged.addHandler(n._updateSelectAllCheck,n),n._filterText="",n._rxFilter=null,n._cmbFilter=new Kr(n._divFilter,{isRequired:!1,placeholder:a.search}),n._lbValues=new Tr(n._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:n._view,itemFormatter:function(e,t){return t||a.null}}),Yn(n._cmbFilter.inputElement,a.ariaLabels.search),n._cmbFilter.inputElement.addEventListener("input",n._filterTextChanged.bind(n)),n._cbSelectAll.addEventListener("click",n._cbSelectAllClicked.bind(n)),n.updateEditor(),n}return ml(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.column,t=this._filter.getUniqueValues(!0);this._lbValues.isContentHtml=e.isContentHtml;var i=this._filter.showValues;if(i&&0!=Object.keys(i).length){for(var n in i)for(o=0;o<t.length;o++)if(t[o].text==n){t[o].show=!0;break}}else for(var o=0;o<t.length;o++)t[o].show=!0;var a=this._filter.filterText||"";this._cmbFilter.text=a,this._filterText=a.toLowerCase(),this._rxFilter=a?new RegExp(Bn(a),"i"):null;var r=this._view,s=this._filter.maxValues,l=t.length;l>50&&l>s?(r.pageSize=50,setTimeout((function(){r.pageSize=s}))):r.pageSize=s,r.sourceCollection=t},t.prototype.clearEditor=function(e){void 0===e&&(e=!0),this._cmbFilter.text="",this._filterText="",this._rxFilter=null;var t=this._view;t.pageSize=0,t.items.forEach((function(t){t.show=e})),t.moveCurrentTo(-1),t.refresh(),t.pageSize=this._filter.maxValues},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return!this._filterText&&!this._cbSelectAll.indeterminate},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=null,t=this._getItems();if(this._filterText||this._cbSelectAll.indeterminate){e={};for(var i=0;i<t.length;i++){var n=t[i];n.show&&(e[n.text]=!0)}}var o=this._filter;o.showValues=e,o.filterText=this._filterText},t.prototype._getItems=function(){return this._filter.exclusiveValueSearch?this._view.items:this._view.sourceCollection},t.prototype._filterTextChanged=function(){var e=this;this._toFilter&&clearTimeout(this._toFilter),this._toFilter=setTimeout((function(){var t=e._cmbFilter.text.toLowerCase();t!=e._filterText&&(e._filterText=t,e._rxFilter=t?new RegExp(Bn(t),"i"):null,e._view.refresh(),e._filter.exclusiveValueSearch?(e._cbSelectAll.checked=!0,e._cbSelectAllClicked()):e._updateSelectAllCheck())}),ha._SEARCH_DELAY)},t.prototype._filterValues=function(e){var t=this._rxFilter;return null==t||null==e||t.test(e.text)},t.prototype._cbSelectAllClicked=function(){for(var e=this._cbSelectAll.checked,t=this._divValues.scrollTop,i=this._getItems(),n=0;n<i.length;n++)i[n].show=e;this._view.refresh(),this._divValues.scrollTop=t},t.prototype._updateSelectAllCheck=function(){var e=this._getItems(),t=0;e.forEach((function(e){e.show&&t++}));var i=this._cbSelectAll;0==t?(i.checked=!1,i.indeterminate=!1):t==e.length?(i.checked=!0,i.indeterminate=!1):i.indeterminate=!0},t.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values"></div></div>',t}(ha),Cl=function(){function e(e,t){this._owner=e,this._col=t,this._valueFilter=new vl(t),this._valueFilter.exclusiveValueSearch=e.exclusiveValueSearch,this._conditionFilter=new yl(t)}return Object.defineProperty(e.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(e){if((e=En(e,gl,!0))!=this._filterType){var t=this.isActive;this.clear(),this._filterType=e,t?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(e){this.conditionFilter.dataMap=e,this.valueFilter.dataMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){return this._conditionFilter.apply(e)&&this._valueFilter.apply(e)},e.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}();!function(e){e[e.None=0]="None",e[e.Condition=1]="Condition",e[e.Value=2]="Value",e[e.Both=3]="Both"}(gl||(gl={}));var Dl=function(){function e(e,t){this._showIcons=!0,this._showSort=!0,this._defFilterType=gl.Both,this._xValueSearch=!0,this.filterApplied=new Ii,this.filterChanging=new Ii,this.filterChanged=new Ii,this._filters=[],this._g=Un(e,Os,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var i=this._g.hostElement;e.addEventListener(i,"mousedown",this._mousedown.bind(this),!0),e.addEventListener(i,"click",this._click.bind(this),!0),e.addEventListener(i,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),t&&vn(this,t)}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(e){this._filterColumns=On(e),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(e){e!=this.showFilterIcons&&(this._showIcons=kn(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(e){this._showSort=kn(e)},enumerable:!0,configurable:!0}),e.prototype.getColumnFilter=function(e,t){if(void 0===t&&(t=!0),e=this._asColumn(e)){for(var i=0;i<this._filters.length;i++)if(this._filters[i].column==e)return this._filters[i];if(t&&e.binding){var n=new Cl(this,e);return this._filters.push(n),n}}return null},Object.defineProperty(e.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(e){(e=En(e,gl,!1))!=this.defaultFilterType&&(this._defFilterType=e,this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(e){this._xValueSearch=kn(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterDefinition",{get:function(){var e=this,t={defaultFilterType:this.defaultFilterType,filters:[]};return this._filters.forEach((function(i){var n=i.conditionFilter,o=i.valueFilter,a=o.uniqueValues&&o.uniqueValues.length;if(i&&i.column&&i.column.binding&&(i.isActive||a||i.filterType!=e.defaultFilterType)){var r={binding:i.column.binding};if(n.isActive){var s=n.condition1,l=n.condition2;r={binding:i.column.binding,type:"condition",condition1:{operator:s.operator,value:s.value},and:n.and,condition2:{operator:l.operator,value:l.value}}}else(o.isActive||a)&&(r={binding:i.column.binding,type:"value",uniqueValues:o.uniqueValues,sortValues:o.sortValues,maxValues:o.maxValues,exclusiveValueSearch:o.exclusiveValueSearch,showValues:o.showValues});i.filterType!=e.defaultFilterType&&(r.filterType=i.filterType),t.filters.push(r)}})),JSON.stringify(t)},set:function(e){if(e=Dn(e),this.clear(),e){var t=JSON.parse(e);this.defaultFilterType=t.defaultFilterType;for(var i=function(e){var i=t.filters[e],o=n._g.getColumn(i.binding),a=n.getColumnFilter(o,!0);if(a)switch(null!=i.filterType&&(a.filterType=En(i.filterType,gl)),i.type){case"condition":var r=a.conditionFilter;r.condition1.value=o.dataType==Fi.Date?pn(i.condition1.value,o.dataType,null):i.condition1.value,r.condition1.operator=i.condition1.operator,r.and=i.and,r.condition2.value=o.dataType==Fi.Date?pn(i.condition2.value,o.dataType,null):i.condition2.value,r.condition2.operator=i.condition2.operator;break;case"value":var s=a.valueFilter;s.uniqueValues=i.uniqueValues,["sortValues","maxValues","exclusiveValueSearch"].forEach((function(e){null!=i[e]&&(s[e]=i[e])})),s.showValues=i.showValues}},n=this,o=0;o<t.filters.length;o++)i(o)}this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeEditor",{get:function(){return ha.getControl(this._divEdt)},enumerable:!0,configurable:!0}),e.prototype.editColumnFilter=function(e,t,i){var n=this;this.closeEditor(),e=this._asColumn(e);var o=this._g,a=Xn('<div class="wj-dropdown-panel"></div>'),r=this.getColumnFilter(e),s=new Sl(a,r,this.showSortButtons);this._divEdt=a,this._edtCol=e,o.rightToLeft&&(a.dir="rtl");var l=new us(o.cells,new ss(-1,e.index));if(this.onFilterChanging(l)){l.cancel=!0,s.filterChanged.addHandler((function(){l.cancel=!1,setTimeout((function(){l.cancel||n.apply()}))})),s.buttonClicked.addHandler((function(){n.closeEditor(),o.focus(),n.onFilterChanged(l)})),s.lostFocus.addHandler((function(){setTimeout((function(){var e=ha.getControl(n._divEdt);e&&!e.containsFocus()&&n.closeEditor()}),10)}));var c=t?t.col:e.index,d=o.columns[c];!t&&d&&d.binding!=e.binding&&(c=o.selection.leftCol),o._edtHdl._commitRowEdits(),o.scrollIntoView(-1,c,!0);var h=o.columnHeaders,u=t&&t.panel==h?t.row:h.rows.length-1,p=c,b=i||h.getCellElement(u,p),m=b?null:h.getCellBoundingRect(u,p);b?ba(a,b,!1,!1,!1):ba(a,m),this._setAriaExpanded(b,!0),this._setAriaExpanded(o.cells.getCellElement(-1,p),!0);for(var f=s.hostElement.querySelectorAll("input"),g=0;g<f.length;g++){var y=f[g];if(y.offsetHeight>0&&y.tabIndex>-1&&!y.disabled){y.focus();break}}s.containsFocus()||s.focus()}else this._divEdt=this._edtCol=null},e.prototype._setAriaExpanded=function(t,i){t&&Gn(t.querySelector("."+e._WJC_FILTER),"aria-expanded",i)},e.prototype.closeEditor=function(){var e=this._g,t=ha.getControl(this._divEdt),i=this._edtCol;if(t&&ma(t.hostElement,(function(){t.dispose()})),i){var n=e.columnHeaders,o=n.rows.length?n.getCellElement(n.rows.length-1,i.index):null;this._setAriaExpanded(o,!1),o=e.cells.getCellElement(-1,i.index),this._setAriaExpanded(o,!1)}this._divEdt=null,this._edtCol=null},e.prototype.apply=function(){var e=this._g.collectionView;if(e){var t=this._g.editableCollectionView;t&&(t.commitEdit(),t.commitNew()),e.filter=this._filter.bind(this)}var i=e?e.updateFilterDefinition:null;nn(i)&&i.call(e,this),this.onFilterApplied()},e.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},e.prototype.onFilterApplied=function(e){this.filterApplied.raise(this,e)},e.prototype.onFilterChanging=function(e){return this.filterChanging.raise(this,e),!e.cancel},e.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},e.prototype._asColumn=function(e){return Ji(e)?this._g.getColumn(e):Xi(e)?this._g.columns[e]:Un(e,Cs,!1)},e.prototype._filter=function(e){for(var t=this._filters,i=0;i<t.length;i++)if(!t[i].apply(e))return!1;return!0},e.prototype._formatItem=function(e,t){if(t.panel==e.columnHeaders){var i=this._g,n=i.getMergedRange(t.panel,t.row,t.col)||new ss(t.row,t.col),o=i.columns[n.col],a=i._getBindingColumn(t.panel,t.row,o),r=t.cell;if(n.row2==t.panel.rows.length-1||o!=a){var s=this.getColumnFilter(a,this.defaultFilterType!=gl.None);this._filterColumns&&this._filterColumns.indexOf(a.binding)<0&&(s=null),s?(zn(r,"wj-filter-on",s.isActive),zn(r,"wj-filter-off",!s.isActive)):(Nn(r,"wj-filter-on"),Nn(r,"wj-filter-off")),s&&s.filterType!=gl.None&&(this._showIcons&&this._addFilterButton(a,s,r),0==t.row&&(r=i.cells.getCellElement(-1,t.col))&&this._addFilterButton(o,s,r))}}},e.prototype._addFilterButton=function(t,i,n){var o=e._WJC_FILTER,a=Xn('<button class="wj-btn wj-btn-glyph wj-right '+o+'" type="button" tabindex="-1"><span class="wj-glyph-filter"></span></button>');Yn(a,yo.FlexGridFilter.ariaLabels.edit+" "+t.header),Gn(a,"aria-haspopup","dialog"),Gn(a,"aria-expanded",!1),Gn(a,"aria-describedby",t.describedById),Gn(a,"aria-pressed",i.isActive),n.querySelector("."+o)||(1==n.children.length&&(n=n.querySelector("div")||n),n.insertBefore(a,n.firstChild))},e.prototype._mousedown=function(e){this._edtColPrev=this._edtCol},e.prototype._click=function(e){this._toggleEditor(e)&&(e.stopPropagation(),e.preventDefault())},e.prototype._toggleEditor=function(t){var i=this;if(!t.defaultPrevented&&0==t.button)if(no(t.target,e._WJC_FILTER)){var n=this._g,o=n.hitTest(t.target);if(o.panel||(o=n.hitTest(t)),o.panel==n.columnHeaders||o.panel==n.cells&&-1==o.row){var a=n._getBindingColumn(o.panel,o.row,n.columns[o.col]);return this._divEdt&&this._edtCol==a?(this.closeEditor(),n.focus()):a!=this._edtColPrev&&setTimeout((function(){i.editColumnFilter(a,o)}),this._divEdt?100:0),!0}}else this.closeEditor();return!1},e.prototype._keydown=function(e){if(!e.defaultPrevented&&!e.ctrlKey&&e.altKey&&(e.keyCode==Hi.Down||e.keyCode==Hi.Up)){var t=this.grid,i=t.selection,n=i.col>-1?t.columns[i.col]:null,o=n?t._getBindingColumn(t.cells,i.row,n):null;if(o&&(!o||!o.dataMap||o.dataMapEditor!=ns.DropDownList)){var a=this.getColumnFilter(o,!1);a&&a.filterType!=gl.None&&(this.editColumnFilter(o),e.preventDefault(),e.stopPropagation())}}},e._WJC_FILTER="wj-elem-filter",e}();wo("FlexGridFilter",{ariaLabels:{edit:"Edit Filter for Column",dialog:"Filter Editor for Column",asc:"Sort Column in Ascending Order",dsc:"Sort Column in Descending Order",search:"Search Item List",op1:"First Condition Operator",val1:"First Condition Value",and:"Require both Conditions",or:"Require either Condition",op2:"Second Condition Operator",val2:"Second Condition Value"},ascending:"\u2191 Ascending",descending:"\u2193 Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:il.EQ},{name:"Does not equal",op:il.NE},{name:"Begins with",op:il.BW},{name:"Ends with",op:il.EW},{name:"Contains",op:il.CT},{name:"Does not contain",op:il.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:il.EQ},{name:"Does not equal",op:il.NE},{name:"Is Greater than",op:il.GT},{name:"Is Greater than or equal to",op:il.GE},{name:"Is Less than",op:il.LT},{name:"Is Less than or equal to",op:il.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:il.EQ},{name:"Is Before",op:il.LT},{name:"Is After",op:il.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:il.EQ},{name:"Does not equal",op:il.NE}]});var Sl=function(e){function t(t,i,n){void 0===n&&(n=!0);var o=e.call(this,t,null,!0)||this;o.filterChanged=new Ii,o.buttonClicked=new Ii,o._filter=Un(i,Cl);var a=o.getTemplate();o.applyTemplate("wj-control wj-content wj-columnfiltereditor",a,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var r=yo.FlexGridFilter,s=r.ariaLabels,l=o.hostElement,c=o.filter.column,d=c.grid.collectionView;Gn(l,"role","dialog"),Yn(l,s.dialog+" "+c.header),Yn(o._btnAsc,s.asc),Yn(o._btnDsc,s.dsc),eo(o._btnAsc,r.ascending),eo(o._btnDsc,r.descending),eo(o._aVal,r.values),eo(o._aCnd,r.conditions),eo(o._btnApply,r.apply),eo(o._btnCancel,r.cancel),eo(o._btnClear,r.clear),o._showFilter(o.filter.conditionFilter.isActive||0==(i.filterType&gl.Value)?gl.Condition:gl.Value),n&&d&&d.canSort||(o._divSort.style.display="none");var h=o._btnClicked.bind(o);return o._btnApply.addEventListener("click",h),o._btnCancel.addEventListener("click",h),o._btnClear.addEventListener("click",h),o._btnAsc.addEventListener("click",h),o._btnDsc.addEventListener("click",h),o._aVal.addEventListener("click",h),o._aCnd.addEventListener("click",h),o.addEventListener(l,"keydown",(function(e){if(!e.defaultPrevented){var t=e.target.tagName.match(/^(a|button)$/i);switch(e.keyCode){case Hi.Space:t&&(o._btnClicked(e),e.preventDefault());break;case Hi.Enter:t?o._btnClicked(e):(o.updateFilter(),o.onFilterChanged(),o.onButtonClicked()),e.preventDefault();break;case Hi.Escape:o.onButtonClicked(),e.preventDefault();break;case Hi.Tab:$n(o.hostElement,e.shiftKey?-1:1),e.preventDefault()}}})),o.addEventListener(window,"resize",(function(){o.isTouching||o._wasTouching||o.onButtonClicked()})),o}return ml(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},t.prototype.updateFilter=function(){switch(this._getFilterType()){case gl.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case gl.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},t.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},t.prototype.onButtonClicked=function(e){this.buttonClicked.raise(this,e)},t.prototype._showFilter=function(e){this._wasTouching=this.isTouching,e==gl.Value&&null==this._edtVal&&(this._edtVal=new wl(this._divEdtVal,this.filter.valueFilter)),e==gl.Condition&&null==this._edtCnd&&(this._edtCnd=new _l(this._divEdtCnd,this.filter.conditionFilter)),0!=(e&this.filter.filterType)&&(e==gl.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus()):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus()));var t=this._divType.style;switch(this.filter.filterType){case gl.None:case gl.Condition:case gl.Value:t.display="none";break;default:t.display=""}},t.prototype._enableLink=function(e,t){zn(e,"wj-state-disabled",!t),Gn(e,"href",t?"":null),Gn(e,"disabled",t?null:"disabled")},t.prototype._getFilterType=function(){return"none"!=this._divEdtVal.style.display?gl.Value:gl.Condition},t.prototype._btnClicked=function(e){var t=e.target;if(e.preventDefault(),e.stopPropagation(),!Hn(t,"wj-state-disabled"))if(t!=this._aVal)if(t!=this._aCnd){if(t==this._btnAsc||t==this._btnDsc){var i=this.filter.column,n=i.grid.collectionView,o=new zi(i.sortMemberPath?i.sortMemberPath:i.binding,e.target==this._btnAsc);n.sortDescriptions.deferUpdate((function(){n.sortDescriptions.clear(),n.sortDescriptions.push(o)}))}t==this._btnApply?(this.updateFilter(),this.onFilterChanged()):t==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}else this._showFilter(gl.Condition),$n(this._edtCnd.hostElement,0);else this._showFilter(gl.Value),$n(this._edtVal.hostElement,0)},t.controlTemplate='<div><div wj-part="div-sort"><button wj-part="btn-asc" class="wj-btn" style="min-width:95px"></button>&nbsp;&nbsp;&nbsp;<button wj-part="btn-dsc" class="wj-btn" style="min-width:95px"></button></div><div wj-part="div-type" class="wj-filtertype"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-apply" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-clear" class="wj-btn"></button></div></div>',t}(ha);mo("wijmo.grid.filter",s);var xl=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),kl=function(e,t){return function(i,n){t(i,n,e)}},Ll={selector:"wj-flex-grid-filter",template:"",inputs:["wjProperty","showFilterIcons","showSortButtons","defaultFilterType","filterColumns"],outputs:["initialized","filterChangingNg: filterChanging","filterChangedNg: filterChanged","filterAppliedNg: filterApplied"],providers:[]},Vl=function(e){function t(t,i,n){var o=e.call(this,n)||this;return o.isInitialized=!1,o._wjBehaviour=Lr.attach(o,t,i,n),o.created(),o}var i;return xl(t,e),i=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:Ll.outputs},t.\u0275fac=function(e){return new(e||t)(h.Qb(h.n),h.Qb(h.u),h.Qb("WjComponent",12))},t.\u0275cmp=h.Kb({type:t,selectors:[["wj-flex-grid-filter"]],inputs:{wjProperty:"wjProperty",showFilterIcons:"showFilterIcons",showSortButtons:"showSortButtons",defaultFilterType:"defaultFilterType",filterColumns:"filterColumns"},outputs:{initialized:"initialized",filterChangingNg:"filterChanging",filterChangedNg:"filterChanged",filterAppliedNg:"filterApplied"},features:[h.Db([{provide:"WjComponent",useExisting:Object(h.X)((function(){return i}))}].concat(Ll.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=i=function(e,t,i,n){var o,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,i,r):o(t,i))||r);return a>3&&r&&Object.defineProperty(t,i,r),r}([,kl(0,Object(h.r)(h.n)),kl(1,Object(h.r)(h.u)),kl(2,Object(h.r)("WjComponent")),kl(2,Object(h.N)()),kl(2,Object(h.E)())],t)}(Dl),Ol=function(){function e(){}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[l.b]]}),e}();const Ul=["button"],El=["*"],Ml=new h.t("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),Pl=new h.t("MatButtonToggleGroup"),Rl={provide:c.m,useExisting:Object(h.X)(()=>Al),multi:!0};let Il=0;class Tl{constructor(e,t){this.source=e,this.value=t}}let Al=(()=>{class e{constructor(e,t){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+Il++,this.valueChange=new h.p,this.change=new h.p,this.appearance=t&&t.appearance?t.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(e=>{e.name=this._name,e._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=Object(D.b)(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(e=>e.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=Object(D.b)(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(D.b)(e),this._buttonToggles&&this._buttonToggles.forEach(e=>e._markForCheck())}ngOnInit(){this._selectionModel=new ze.b(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,t=Array.isArray(e)?e[e.length-1]:e,i=new Tl(t,this.value);this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(e,t,i=!1,n=!1){this.multiple||!this.selected||e.checked||(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):n=!0,n?Promise.resolve().then(()=>this._updateModelValue(i)):this._updateModelValue(i)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(t=>null!=e.value&&t===e.value):e.value===this._rawValue)}_setSelectionByValue(e){if(this._rawValue=e,this._buttonToggles)if(this.multiple&&e){if(!Array.isArray(e))throw Error("Value must be an array in multiple-selection mode.");this._clearSelection(),e.forEach(e=>this._selectValue(e))}else this._clearSelection(),this._selectValue(e)}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const t=this._buttonToggles.find(t=>null!=t.value&&t.value===e);t&&(t.checked=!0,this._selectionModel.select(t))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.h),h.Qb(Ml,8))},e.\u0275dir=h.Lb({type:e,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,t,i){var n;1&e&&h.Jb(i,Hl,!0),2&e&&h.pc(n=h.ec())&&(t._buttonToggles=n)},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,t){2&e&&(h.Fb("aria-disabled",t.disabled),h.Hb("mat-button-toggle-vertical",t.vertical)("mat-button-toggle-group-appearance-standard","standard"===t.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[h.Db([Rl,{provide:Pl,useExisting:e}])]}),e})();class Bl{}const jl=Object(G.w)(Bl);let Hl=(()=>{class e extends jl{constructor(e,t,i,n,o,a){super(),this._changeDetectorRef=t,this._elementRef=i,this._focusMonitor=n,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new h.p;const r=Number(o);this.tabIndex=r||0===r?r:null,this.buttonToggleGroup=e,this.appearance=a&&a.appearance?a.appearance:"standard"}get buttonId(){return this.id+"-button"}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const t=Object(D.b)(e);t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=Object(D.b)(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+Il++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Tl(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Pl,8),h.Qb(h.h),h.Qb(h.n),h.Qb(C.g),h.ac("tabindex"),h.Qb(Ml,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-button-toggle"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Ul,!0),2&e&&h.pc(i=h.ec())&&(t._buttonElement=i.first)},hostAttrs:[1,"mat-button-toggle"],hostVars:11,hostBindings:function(e,t){1&e&&h.dc("focus",(function(){return t.focus()})),2&e&&(h.Fb("tabindex",-1)("id",t.id)("name",null),h.Hb("mat-button-toggle-standalone",!t.buttonToggleGroup)("mat-button-toggle-checked",t.checked)("mat-button-toggle-disabled",t.disabled)("mat-button-toggle-appearance-standard","standard"===t.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[h.Bb],ngContentSelectors:El,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,t){if(1&e&&(h.jc(),h.Vb(0,"button",0,1),h.dc("click",(function(){return t._onButtonClick()})),h.Vb(2,"div",2),h.ic(3),h.Ub(),h.Ub(),h.Rb(4,"div",3),h.Rb(5,"div",4)),2&e){const e=h.qc(1);h.kc("id",t.buttonId)("disabled",t.disabled||null),h.Fb("tabindex",t.disabled?-1:t.tabIndex)("aria-pressed",t.checked)("name",t.name||null)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),h.Eb(5),h.kc("matRippleTrigger",e)("matRippleDisabled",t.disableRipple||t.disabled)}},directives:[G.q],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),e})(),Fl=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[G.h,G.r],G.h]}),e})();const Nl=["trigger"],zl=["panel"];function Gl(e,t){if(1&e&&(h.Vb(0,"span",8),h.yc(1),h.Ub()),2&e){const e=h.hc();h.Eb(1),h.zc(e.placeholder||"\xa0")}}function Yl(e,t){if(1&e&&(h.Vb(0,"span"),h.yc(1),h.Ub()),2&e){const e=h.hc(2);h.Eb(1),h.zc(e.triggerValue||"\xa0")}}function Ql(e,t){1&e&&h.ic(0,0,["*ngSwitchCase","true"])}function Wl(e,t){if(1&e&&(h.Vb(0,"span",9),h.xc(1,Yl,2,1,"span",10),h.xc(2,Ql,1,0,void 0,11),h.Ub()),2&e){const e=h.hc();h.kc("ngSwitch",!!e.customTrigger),h.Eb(2),h.kc("ngSwitchCase",!0)}}function ql(e,t){if(1&e){const e=h.Wb();h.Vb(0,"div",12),h.Vb(1,"div",13,14),h.dc("@transformPanel.done",(function(t){return h.rc(e),h.hc()._panelDoneAnimatingStream.next(t.toState)}))("keydown",(function(t){return h.rc(e),h.hc()._handleKeydown(t)})),h.ic(3,1),h.Ub(),h.Ub()}if(2&e){const e=h.hc();h.kc("@transformPanelWrap",void 0),h.Eb(1),h.Gb("mat-select-panel ",e._getPanelTheme(),""),h.wc("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),h.kc("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),h.Fb("id",e.id+"-panel")}}const Kl=[[["mat-select-trigger"]],"*"],$l=["mat-select-trigger","*"],Jl={transformPanelWrap:Object(N.m)("transformPanelWrap",[Object(N.l)("* => void",Object(N.h)("@transformPanel",[Object(N.f)()],{optional:!0}))]),transformPanel:Object(N.m)("transformPanel",[Object(N.j)("void",Object(N.k)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(N.j)("showing",Object(N.k)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(N.j)("showing-multiple",Object(N.k)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(N.l)("void => *",Object(N.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(N.l)("* => void",Object(N.e)("100ms 25ms linear",Object(N.k)({opacity:0})))])};let Zl=0;const Xl=new h.t("mat-select-scroll-strategy"),ec=new h.t("MAT_SELECT_CONFIG"),tc={provide:Xl,deps:[Y.c],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class ic{constructor(e,t){this.source=e,this.value=t}}class nc{constructor(e,t,i,n,o){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=i,this._parentFormGroup=n,this.ngControl=o}}const oc=Object(G.w)(Object(G.z)(Object(G.x)(Object(G.y)(nc)))),ac=new h.t("MatSelectTrigger");let rc=(()=>{class e extends oc{constructor(e,t,i,n,o,a,r,s,l,c,d,u,p,b){super(o,n,r,s,c),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=i,this._dir=a,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=p,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+Zl++,this._destroy=new x.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new x.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Object(Ha.a)(()=>{const e=this.options;return e?e.changes.pipe(Object(U.a)(e),Object(E.a)(()=>Object(L.a)(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(Object(M.a)(1),Object(E.a)(()=>this.optionSelectionChanges))}),this.openedChange=new h.p,this._openedStream=this.openedChange.pipe(Object(P.a)(e=>e),Object(ye.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(P.a)(e=>!e),Object(ye.a)(()=>{})),this.selectionChange=new h.p,this.valueChange=new h.p,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=u,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(d)||0,this.id=this.id,b&&(null!=b.disableOptionCentering&&(this.disableOptionCentering=b.disableOptionCentering),null!=b.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=b.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Object(D.b)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Object(D.b)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Object(D.b)(e)}get compareWith(){return this._compareWith}set compareWith(e){if("function"!=typeof e)throw Error("`compareWith` must be a function.");this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){e!==this._value&&(this.writeValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Object(D.e)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ze.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(ge.a)(),Object(R.a)(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Object(R.a)(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(R.a)(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(Object(U.a)(null),Object(R.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(M.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.options&&this._setSelectionByValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,i=t===S.c||t===S.o||t===S.h||t===S.l,n=t===S.e||t===S.m,o=this._keyManager;if(!o.isTyping()&&n&&!Object(S.r)(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const i=this.selected;t===S.g||t===S.d?(t===S.g?o.setFirstItemActive():o.setLastItemActive(),e.preventDefault()):o.onKeydown(e);const n=this.selected;n&&i!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,i=e.keyCode,n=i===S.c||i===S.o,o=t.isTyping();if(i===S.g||i===S.d)e.preventDefault(),i===S.g?t.setFirstItemActive():t.setLastItemActive();else if(n&&e.altKey)e.preventDefault(),this.close();else if(o||i!==S.e&&i!==S.m||!t.activeItem||Object(S.r)(e))if(!o&&this._multiple&&i===S.a&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const i=t.activeItemIndex;t.onKeydown(e),this._multiple&&n&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==i&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(M.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.multiple&&e){if(!Array.isArray(e))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),e.forEach(e=>this._selectValue(e)),this._sortValues()}else{this._selectionModel.clear();const t=this._selectValue(e);t?this._keyManager.setActiveItem(t):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{try{return null!=t.value&&this._compareWith(t.value,e)}catch(i){return Object(h.Z)()&&console.warn(i),!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new C.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(R.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Object(R.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Object(L.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(R.a)(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(L.a)(...this.options.map(e=>e._stateChanges)).pipe(Object(R.a)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(e,t){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(new ic(this,t)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(e=>e.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const e=this._keyManager.activeItemIndex||0,t=Object(G.t)(e,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=Object(G.u)(e+t,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}focus(e){this._elementRef.nativeElement.focus(e)}_getOptionIndex(e){return this.options.reduce((t,i,n)=>void 0!==t?t:e===i?n:void 0,void 0)}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),i=Math.min(t*e,256),n=t*e-i;let o=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);o+=Object(G.t)(o,this.options,this.optionGroups);const a=i/2;this._scrollTop=this._calculateOverlayScroll(o,a,n),this._offsetY=this._calculateOverlayOffsetY(o,a,n),this._checkOverlayWithinViewport(n)}_calculateOverlayScroll(e,t,i){const n=this._getItemHeight();return Math.min(Math.max(0,n*e-t+n/2),i)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),i=this._isRtl(),n=this.multiple?56:32;let o;if(this.multiple)o=40;else{let e=this._selectionModel.selected[0]||this.options.first;o=e&&e.group?32:16}i||(o*=-1);const a=0-(e.left+o-(i?n:0)),r=e.right+o-t.width+(i?0:n);a>0?o+=a+8:r>0&&(o-=r+8),this.overlayDir.offsetX=Math.round(o),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,i){const n=this._getItemHeight(),o=(n-this._triggerRect.height)/2,a=Math.floor(256/n);let r;return this._disableOptionCentering?0:(r=0===this._scrollTop?e*n:this._scrollTop===i?(e-(this._getItemCount()-a))*n+(n-(this._getItemCount()*n-256)%n):t-n/2,Math.round(-1*r-o))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this._triggerRect.top-8,o=i.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),r=Math.min(this._getItemCount()*t,256)-a-this._triggerRect.height;r>o?this._adjustPanelUp(r,o):a>n?this._adjustPanelDown(a,n,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const i=Math.round(e-t);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,i){const n=Math.round(e-t);if(this._scrollTop+=n,this._offsetY+=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(W.e),h.Qb(h.h),h.Qb(h.D),h.Qb(G.b),h.Qb(h.n),h.Qb(q.b,8),h.Qb(c.q,8),h.Qb(c.i,8),h.Qb(_r.a,8),h.Qb(c.n,10),h.ac("tabindex"),h.Qb(Xl),h.Qb(C.j),h.Qb(ec,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,i){var n;1&e&&(h.Jb(i,ac,!0),h.Jb(i,G.l,!0),h.Jb(i,G.e,!0)),2&e&&(h.pc(n=h.ec())&&(t.customTrigger=n.first),h.pc(n=h.ec())&&(t.options=n),h.pc(n=h.ec())&&(t.optionGroups=n))},viewQuery:function(e,t){var i;1&e&&(h.Ec(Nl,!0),h.Ec(zl,!0),h.Ec(Y.a,!0)),2&e&&(h.pc(i=h.ec())&&(t.trigger=i.first),h.pc(i=h.ec())&&(t.panel=i.first),h.pc(i=h.ec())&&(t.overlayDir=i.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(e,t){1&e&&h.dc("keydown",(function(e){return t._handleKeydown(e)}))("focus",(function(){return t._onFocus()}))("blur",(function(){return t._onBlur()})),2&e&&(h.Fb("id",t.id)("tabindex",t.tabIndex)("aria-label",t._getAriaLabel())("aria-labelledby",t._getAriaLabelledby())("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-owns",t.panelOpen?t._optionIds:null)("aria-multiselectable",t.multiple)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),h.Hb("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[h.Db([{provide:_r.d,useExisting:e},{provide:G.f,useExisting:e}]),h.Bb,h.Cb],ngContentSelectors:$l,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(h.jc(Kl),h.Vb(0,"div",0,1),h.dc("click",(function(){return t.toggle()})),h.Vb(3,"div",2),h.xc(4,Gl,2,1,"span",3),h.xc(5,Wl,3,2,"span",4),h.Ub(),h.Vb(6,"div",5),h.Rb(7,"div",6),h.Ub(),h.Ub(),h.xc(8,ql,4,11,"ng-template",7),h.dc("backdropClick",(function(){return t.close()}))("attach",(function(){return t._onAttached()}))("detach",(function(){return t.close()}))),2&e){const e=h.qc(1);h.Eb(3),h.kc("ngSwitch",t.empty),h.Eb(1),h.kc("ngSwitchCase",!0),h.Eb(1),h.kc("ngSwitchCase",!1),h.Eb(3),h.kc("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[Y.b,l.n,l.o,Y.a,l.p,l.j],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[Jl.transformPanelWrap,Jl.transformPanel]},changeDetection:0}),e})(),sc=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},providers:[tc],imports:[[l.b,Y.f,G.m,G.h],W.b,_r.e,G.m,G.h]}),e})();const lc=["flexCompany"];function cc(e,t){1&e&&h.Rb(0,"mat-progress-bar",22),2&e&&h.kc("color","primary")("mode","indeterminate")}function dc(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",23),h.dc("click",(function(){return h.rc(e),h.hc().EditCompany()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function hc(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",24),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteCompany()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function uc(e,t){if(1&e&&(h.Vb(0,"mat-option",25),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let pc=(()=>{class e{constructor(e,t,i,n){this._companyListService=e,this._snackBar=t,this._snackBarTemplate=i,this._matDialogRef=n,this._listCompanyObservableArray=new na,this._listCompanyCollectionView=new oa(this._listCompanyObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._btnAddDisabled=!1,this.cboShowNumberOfRows=new na,this.listPageIndex=15}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetCompanyListData(),yield this.createCboShowNumberOfRows()}))}createCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this.cboShowNumberOfRows.push({rowNumber:t,rowString:i})}}cboShowNumberOfRowsOnSelectedIndexChanged(){this._listCompanyCollectionView.pageSize=this.listPageIndex,this._listCompanyCollectionView.refresh(),this._listCompanyCollectionView.refresh()}GetCompanyListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listCompanyObservableArray=new na,this._listCompanyCollectionView=new oa(this._listCompanyObservableArray),this._listCompanyCollectionView.pageSize=15,this._listCompanyCollectionView.trackChanges=!0,yield this._listCompanyCollectionView.refresh(),yield this._flexCompany.refresh(),this._isProgressBarHidden=!0,this._companyListSubscription=(yield this._companyListService.CompanyList()).subscribe(e=>{var t=e;console.log("Response:",t),t.length>0&&(this._listCompanyObservableArray=t,this._listCompanyCollectionView=new oa(this._listCompanyObservableArray),this._listCompanyCollectionView.pageSize=15,this._listCompanyCollectionView.trackChanges=!0,this._listCompanyCollectionView.refresh(),this._flexCompany.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._companyListSubscription&&this._companyListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._companyListSubscription&&this._companyListSubscription.unsubscribe())})}))}AddCompany(){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addCompanySubscription=(yield this._companyListService.AddCompany()).subscribe(e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this.GetCompanyListData(),this.DetailCompany(e,"Company Detail"),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully")},e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addCompanySubscription&&this._addCompanySubscription.unsubscribe()}))}))}EditCompany(){this.DetailCompany(this._listCompanyCollectionView.currentItem.Id,"Edit Company Detail")}DeleteCompany(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listCompanyCollectionView.currentItem;this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._deleteCompanySubscription=(yield this._companyListService.DeleteCompany(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetCompanyListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteCompanySubscription&&this._deleteCompanySubscription.unsubscribe()}))}))}ComfirmDeleteCompany(){this._matDialogRef.open(sr,{width:"500px",data:{objDialogTitle:"Delete Company",objComfirmationMessage:` Delete this ${this._listCompanyCollectionView.currentItem.Company}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteCompany()})}DetailCompany(e,t){this._matDialogRef.open(Dr,{width:"1200px",height:"550px",data:{objDialogTitle:t,objCompanyId:e},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetCompanyListData()})}ngOnDestroy(){null!==this._companyListSubscription&&this._companyListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Sr),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-company-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(lc,!0),2&e&&h.pc(i=h.ec())&&(t._flexCompany=i.first)},decls:60,vars:48,consts:[["src","../../../../assets/menu-icons/company.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexCompany",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditEmployee",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Company List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddCompany()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.xc(16,cc,1,2,"mat-progress-bar",7),h.Vb(17,"wj-flex-grid",8,9),h.Rb(19,"wj-flex-grid-filter"),h.Vb(20,"wj-flex-grid-column",10),h.xc(21,dc,4,0,"ng-template",11),h.Ub(),h.Vb(22,"wj-flex-grid-column",10),h.xc(23,hc,4,0,"ng-template",11),h.Ub(),h.Rb(24,"wj-flex-grid-column",12),h.Rb(25,"wj-flex-grid-column",12),h.Rb(26,"wj-flex-grid-column",12),h.Rb(27,"wj-flex-grid-column",12),h.Rb(28,"wj-flex-grid-column",12),h.Rb(29,"wj-flex-grid-column",12),h.Rb(30,"wj-flex-grid-column",12),h.Rb(31,"wj-flex-grid-column",12),h.Ub(),h.Ub(),h.Ub(),h.Vb(32,"div",5),h.Vb(33,"div",13),h.Vb(34,"div",5),h.Vb(35,"mat-button-toggle-group",14),h.Vb(36,"mat-button-toggle",15),h.dc("click",(function(){return t._listCompanyCollectionView.moveToFirstPage()})),h.Vb(37,"mat-icon",16),h.yc(38,"navigate_before"),h.Ub(),h.Vb(39,"mat-icon"),h.yc(40,"navigate_before"),h.Ub(),h.Ub(),h.Vb(41,"mat-button-toggle",15),h.dc("click",(function(){return t._listCompanyCollectionView.moveToPreviousPage()})),h.Vb(42,"mat-icon"),h.yc(43,"navigate_before"),h.Ub(),h.Ub(),h.Vb(44,"mat-button-toggle",17),h.yc(45),h.Ub(),h.Vb(46,"mat-button-toggle",15),h.dc("click",(function(){return t._listCompanyCollectionView.moveToNextPage()})),h.Vb(47,"mat-icon"),h.yc(48,"navigate_next"),h.Ub(),h.Ub(),h.Vb(49,"mat-button-toggle",15),h.dc("click",(function(){return t._listCompanyCollectionView.moveToLastPage()})),h.Vb(50,"mat-icon",16),h.yc(51,"navigate_next"),h.Ub(),h.Vb(52,"mat-icon"),h.yc(53,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(54,"div",18),h.Vb(55,"mat-form-field",19),h.Vb(56,"mat-label"),h.yc(57,"Row"),h.Ub(),h.Vb(58,"mat-select",20),h.dc("ngModelChange",(function(e){return t.listPageIndex=e}))("selectionChange",(function(){return t.cboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(59,uc,2,2,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._btnAddDisabled),h.Eb(11),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listCompanyCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Code")("binding","CompanyCode")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Company")("binding","Company")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Address")("binding","Address")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","SSS No.")("binding","SSSNumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","PHIC No.")("binding","PHICNumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","HDMFNo.")("binding","HDMFNumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Tax No.")("binding","TaxNumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",".40*"),h.Eb(14),h.Bc(" ",t._listCompanyCollectionView.pageIndex+1," / ",t._listCompanyCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t.listPageIndex),h.Eb(1),h.kc("ngForOf",t.cboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,l.l,cl,Vl,hl,ul,Al,Hl,_r.c,_r.g,rc,c.o,c.r,l.k,fr,G.l],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})(),bc=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}EmployeeList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/list/filteredBy/"+e,this.appSettings.defaultOptions)}))}AddEmployee(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/employee/create","",this.appSettings.defaultOptions)}))}DeleteEmployee(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/employee/delete/"+e,this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/payroll/group/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const mc=["flexEmployees"];function fc(e,t){if(1&e&&(h.Vb(0,"mat-option",24),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function gc(e,t){1&e&&h.Rb(0,"mat-progress-bar",25),2&e&&h.kc("color","primary")("mode","indeterminate")}function yc(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",26),h.dc("click",(function(){return h.rc(e),h.hc().EditEmployeeDetail()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function _c(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",27),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteEmployee()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function vc(e,t){if(1&e&&(h.Vb(0,"mat-option",24),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let wc=(()=>{class e{constructor(e,t,i,n,o){this.employeeListService=e,this.snackBar=t,this.snackBarTemplate=i,this.router=n,this.DeleteConfirmDialog=o,this.cboShowNumberOfRows=new na,this.listPageIndex=15,this.payrollGroupListDropdown=[],this.filterPayrollGroup="",this.unauthorizedQueryCount=0,this.listEmployeeObservableArray=new na,this.listEmployeeCollectionView=new oa(this.listEmployeeObservableArray),this.isProgressBarHidden=!1,this.isDataLoaded=!1,this.isEmployeeListAuthorized=!1,this.btnAddDisabled=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetPayrollGroupDropdownListData(),yield this.createCboShowNumberOfRows()}))}createCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this.cboShowNumberOfRows.push({rowNumber:t,rowString:i})}}cboShowNumberOfRowsOnSelectedIndexChanged(){this.listEmployeeCollectionView.pageSize=this.listPageIndex,this.listEmployeeCollectionView.refresh(),this.listEmployeeCollectionView.refresh()}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.payrollGroupDropdownSubscription=yield(yield this.employeeListService.PayrollGroupList()).subscribe(e=>{var t=e;if(t.length>0)for(var i=0;i<t.length;i++)this.payrollGroupListDropdown.push(t[i]);this.filterPayrollGroup=this.payrollGroupListDropdown[0].Value,this.GetEmployeeData(),null!==this.payrollGroupDropdownSubscription&&this.payrollGroupDropdownSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+"  Status Code: "+e.status),null!==this.payrollGroupDropdownSubscription&&this.payrollGroupDropdownSubscription.unsubscribe())})}))}payrollGroupSelectionChange(){this.GetEmployeeData()}GetEmployeeData(){return Object(b.a)(this,void 0,void 0,(function*(){this.listEmployeeObservableArray=new na,this.listEmployeeCollectionView=new oa(this.listEmployeeObservableArray),this.listEmployeeCollectionView.pageSize=15,this.listEmployeeCollectionView.trackChanges=!0,yield this.listEmployeeCollectionView.refresh(),yield this.flexEmployees.refresh(),this.isProgressBarHidden=!0,this.employeeListSubscription=yield(yield this.employeeListService.EmployeeList(this.filterPayrollGroup)).subscribe(e=>{e.length>0&&(this.listEmployeeObservableArray=e,this.listEmployeeCollectionView=new oa(this.listEmployeeObservableArray),this.listEmployeeCollectionView.pageSize=15,this.listEmployeeCollectionView.trackChanges=!0,this.listEmployeeCollectionView.refresh(),this.flexEmployees.refresh()),this.isDataLoaded=!0,this.isProgressBarHidden=!1,null!=this.employeeListSubscription&&this.employeeListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!=this.employeeListSubscription&&this.employeeListSubscription.unsubscribe()})}))}AddEmployeeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.btnAddDisabled=!0,1==this.isDataLoaded&&(this.isDataLoaded=!1,this.AddEmployeeSubscription=yield(yield this.employeeListService.AddEmployee()).subscribe(e=>{this.btnAddDisabled=!1,this.isDataLoaded=!0,this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully"),this.router.navigate(["/software/employee-detail/"+e])},e=>{this.btnAddDisabled=!1,this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this.AddEmployeeSubscription&&this.AddEmployeeSubscription.unsubscribe()}))}))}EditEmployeeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.router.navigate(["/software/employee-detail/"+this.listEmployeeCollectionView.currentItem.Id])}))}DeleteEmployeeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this.listEmployeeCollectionView.currentItem;this.DeletemployeeListSubscription=yield(yield this.employeeListService.DeleteEmployee(e.Id)).subscribe(e=>{this.GetEmployeeData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Deleted Successfully"),null!=this.DeletemployeeListSubscription&&this.DeletemployeeListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this.DeletemployeeListSubscription&&this.DeletemployeeListSubscription.unsubscribe()})}))}ComfirmDeleteEmployee(){this.DeleteConfirmDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Employee",objComfirmationMessage:`Delete ${this.listEmployeeCollectionView.currentItem.FullName}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteEmployeeDetail()})}btnCSVEmployeesListClick(){var e=this.generateCSV(),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.setAttribute("download","employees-list.csv"),i.click()}generateCSV(){var e,t="";if(e=this.listEmployeeCollectionView,""!=(t="Employees List\r\n\n")){var i="";for(var n in e.items[0])i+=n+",";t+=(i=i.slice(0,-1))+"\r\n",e.moveToFirstPage();for(var o=0;o<e.pageCount;o++){for(var a=0;a<e.items.length;a++){var r="";for(var n in e.items[a])r+='"'+e.items[a][n]+'",';r.slice(0,r.length-1),t+=r+"\r\n"}e.moveToNextPage()}}return new Blob([t],{type:"text/csv;charset=utf-8;"})}ngOnDestroy(){null!==this.payrollGroupDropdownSubscription&&this.payrollGroupDropdownSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(bc),h.Qb(lr.a),h.Qb(cr),h.Qb(d.b),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-employee-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(mc,!0),2&e&&h.pc(i=h.ec())&&(t.flexEmployees=i.first)},decls:76,vars:73,consts:[["src","../../../../assets/menu-icons/employees.png","height","35"],[1,"spacer"],["mat-flat-button","","color","accent","id","btnAddEmployee",2,"margin","5px",3,"disabled","click"],["mat-flat-button","","color","primary","id","btnAddEmployee",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexEmployees",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"value"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditEmployee",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Employee List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.btnCSVEmployeesListClick()})),h.Vb(6,"mat-icon"),h.yc(7,"get_app"),h.Ub(),h.yc(8," CSV "),h.Ub(),h.Vb(9,"button",3),h.dc("click",(function(){return t.AddEmployeeDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"add"),h.Ub(),h.yc(12," Add "),h.Ub(),h.Vb(13,"button",4),h.Vb(14,"mat-icon"),h.yc(15,"close"),h.Ub(),h.yc(16," Close "),h.Ub(),h.Ub(),h.Vb(17,"div",5),h.Vb(18,"div",6),h.Vb(19,"div",7),h.Vb(20,"mat-form-field",8),h.Vb(21,"mat-label"),h.yc(22,"Payroll Group"),h.Ub(),h.Vb(23,"mat-select",9),h.dc("ngModelChange",(function(e){return t.filterPayrollGroup=e}))("selectionChange",(function(){return t.payrollGroupSelectionChange()})),h.xc(24,fc,2,2,"mat-option",10),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(25,"div",6),h.Vb(26,"div",11),h.xc(27,gc,1,2,"mat-progress-bar",12),h.Vb(28,"wj-flex-grid",13,14),h.Rb(30,"wj-flex-grid-filter"),h.Vb(31,"wj-flex-grid-column",15),h.xc(32,yc,4,0,"ng-template",16),h.Ub(),h.Vb(33,"wj-flex-grid-column",15),h.xc(34,_c,4,0,"ng-template",16),h.Ub(),h.Rb(35,"wj-flex-grid-column",17),h.Rb(36,"wj-flex-grid-column",17),h.Rb(37,"wj-flex-grid-column",17),h.Rb(38,"wj-flex-grid-column",17),h.Rb(39,"wj-flex-grid-column",17),h.Rb(40,"wj-flex-grid-column",17),h.Rb(41,"wj-flex-grid-column",17),h.Rb(42,"wj-flex-grid-column",17),h.Rb(43,"wj-flex-grid-column",17),h.Rb(44,"wj-flex-grid-column",17),h.Rb(45,"wj-flex-grid-column",17),h.Rb(46,"wj-flex-grid-column",17),h.Rb(47,"wj-flex-grid-column",17),h.Ub(),h.Vb(48,"div",6),h.Vb(49,"div",18),h.Vb(50,"div",6),h.Vb(51,"mat-button-toggle-group",19),h.Vb(52,"mat-button-toggle",20),h.dc("click",(function(){return t.listEmployeeCollectionView.moveToFirstPage()})),h.Vb(53,"mat-icon",21),h.yc(54,"navigate_before"),h.Ub(),h.Vb(55,"mat-icon"),h.yc(56,"navigate_before"),h.Ub(),h.Ub(),h.Vb(57,"mat-button-toggle",20),h.dc("click",(function(){return t.listEmployeeCollectionView.moveToPreviousPage()})),h.Vb(58,"mat-icon"),h.yc(59,"navigate_before"),h.Ub(),h.Ub(),h.Vb(60,"mat-button-toggle",22),h.yc(61),h.Ub(),h.Vb(62,"mat-button-toggle",20),h.dc("click",(function(){return t.listEmployeeCollectionView.moveToNextPage()})),h.Vb(63,"mat-icon"),h.yc(64,"navigate_next"),h.Ub(),h.Ub(),h.Vb(65,"mat-button-toggle",20),h.dc("click",(function(){return t.listEmployeeCollectionView.moveToLastPage()})),h.Vb(66,"mat-icon",21),h.yc(67,"navigate_next"),h.Ub(),h.Vb(68,"mat-icon"),h.yc(69,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(70,"div",23),h.Vb(71,"mat-form-field",8),h.Vb(72,"mat-label"),h.yc(73,"Row"),h.Ub(),h.Vb(74,"mat-select",9),h.dc("ngModelChange",(function(e){return t.listPageIndex=e}))("selectionChange",(function(){return t.cboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(75,vc,2,2,"mat-option",10),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t.btnAddDisabled),h.Eb(4),h.kc("disabled",t.btnAddDisabled),h.Eb(14),h.kc("ngModel",t.filterPayrollGroup),h.Eb(1),h.kc("ngForOf",t.payrollGroupListDropdown),h.Eb(3),h.kc("ngIf",t.isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t.listEmployeeCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Code")("binding","EmployeeCode")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","ID")("binding","IdNumber")("isReadOnly",!0)("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Biometric ID")("binding","BiometricIdNumber")("isReadOnly",!0)("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Full Name")("binding","FullName")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Company")("binding","Company")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Branch")("binding","Branch")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Position")("binding","Position")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Address")("binding","Address")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Contact No.")("binding","ContactNumber")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Mobile No.")("binding","ContactMobileNumber")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Email Address")("binding","EmailAddress")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",40),h.Eb(14),h.Bc(" ",t.listEmployeeCollectionView.pageIndex+1," / ",t.listEmployeeCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t.listPageIndex),h.Eb(1),h.kc("ngForOf",t.cboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,l.l,cl,Vl,hl,ul,Al,Hl,G.l,fr],styles:[".wj-flex-grid[_ngcontent-%COMP%]{padding:7px;border:none}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.icon-middle[_ngcontent-%COMP%]{display:inline-block}"]}),e})();class Cc{}class Dc{}let Sc=(()=>{class e{constructor(e,t){this.dialogRef=e,this.caseData=t,this.title="",this.objEmployeeDetail=[]}ngOnInit(){this.title=this.caseData.objDialogTitle,this.objEmployeeDetail=this.caseData.objEmployeeName}Close(){this.dialogRef.close({event:"Close"})}Save(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.dialogRef.close({event:"Save",objEmployeeName:this.objEmployeeDetail})}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-employee-detail-edit-name-dialog"]],decls:36,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Full Name",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","mat-dialog-close","","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Last Name"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t.objEmployeeDetail.LastName=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",4),h.Vb(12,"mat-form-field",5),h.Vb(13,"mat-label"),h.yc(14,"First Name"),h.Ub(),h.Vb(15,"input",6),h.dc("ngModelChange",(function(e){return t.objEmployeeDetail.FirstName=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(16,"div",4),h.Vb(17,"mat-form-field",5),h.Vb(18,"mat-label"),h.yc(19,"Middle Name"),h.Ub(),h.Vb(20,"input",6),h.dc("ngModelChange",(function(e){return t.objEmployeeDetail.MiddleName=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",4),h.Vb(22,"mat-form-field",5),h.Vb(23,"mat-label"),h.yc(24,"Extension Name"),h.Ub(),h.Vb(25,"input",6),h.dc("ngModelChange",(function(e){return t.objEmployeeDetail.ExtensionName=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(26,"mat-divider"),h.Vb(27,"div",7),h.Vb(28,"button",8),h.dc("click",(function(){return t.Save()})),h.Vb(29,"mat-icon"),h.yc(30,"save"),h.Ub(),h.yc(31," Save "),h.Ub(),h.Vb(32,"button",9),h.dc("click",(function(){return t.Close()})),h.Vb(33,"mat-icon"),h.yc(34,"close"),h.Ub(),h.yc(35," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.kc("ngModel",t.objEmployeeDetail.LastName),h.Eb(5),h.kc("ngModel",t.objEmployeeDetail.FirstName),h.Eb(5),h.kc("ngModel",t.objEmployeeDetail.MiddleName),h.Eb(5),h.kc("ngModel",t.objEmployeeDetail.ExtensionName))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,or,v.a,tr,w.a],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})(),xc=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}ZipCodeList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/zip/code/list",this.appSettings.defaultOptions)}))}GenderList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/sex/list",this.appSettings.defaultOptions)}))}CivilStatusList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/civil/status/list",this.appSettings.defaultOptions)}))}CitizenshipList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/citizenship/list",this.appSettings.defaultOptions)}))}BloodTypeList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/blood/type/list",this.appSettings.defaultOptions)}))}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/user/list",this.appSettings.defaultOptions)}))}CompanyList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/company/list",this.appSettings.defaultOptions)}))}CityList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/city/list",this.appSettings.defaultOptions)}))}ReligionList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/religion/list",this.appSettings.defaultOptions)}))}PayrollTypeList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/payroll/type/list",this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/payroll/group/list",this.appSettings.defaultOptions)}))}SSSComputationList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/payroll/sss/computation/list",this.appSettings.defaultOptions)}))}HDMFComputationList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/payroll/hdmf/computation/list",this.appSettings.defaultOptions)}))}TaxTableList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/payroll/tax/table/list",this.appSettings.defaultOptions)}))}TaxExemptionList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/payroll/tax/exemption/list",this.appSettings.defaultOptions)}))}BranchList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/hr/branch/list",this.appSettings.defaultOptions)}))}DivisionList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/hr/division/list",this.appSettings.defaultOptions)}))}DepartmentList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/hr/department/list",this.appSettings.defaultOptions)}))}PositionList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/hr/position/list",this.appSettings.defaultOptions)}))}ShiftList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/hr/shift/list",this.appSettings.defaultOptions)}))}PList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/hr/posotion/list",this.appSettings.defaultOptions)}))}EmployeeDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/detail/"+e,this.appSettings.defaultOptions)}))}SaveEmployee(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/employee/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockEmployee(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/employee/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}Unlockemployee(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/employee/unlock/"+e,"",this.appSettings.defaultOptions)}))}uploadFile(e,t,i){return Object(b.a)(this,void 0,void 0,(function*(){var i=new FormData;return i.append("image",e,t),this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/employee/upload/image/",i,this.appSettings.uploadFileOptions)}))}EmployeePayrollDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/payroll/detail/"+e,this.appSettings.defaultOptions)}))}EmployeeMemoList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/memo/list/"+e,this.appSettings.defaultOptions)}))}AddEmployeeMemo(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/employee/memo/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}SaveEmployeeMemo(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/employee/memo/update/"+e.Id,JSON.stringify(e),this.appSettings.defaultOptions)}))}DeleteEmployeeMemo(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/employee/memo/delete/"+e,this.appSettings.defaultOptions)}))}uploadMemoFile(e,t){return Object(b.a)(this,void 0,void 0,(function*(){var i=new FormData;return i.append(t,e),this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/employee/memo/upload/memo/file/",i,this.appSettings.uploadFileOptions)}))}DocTypeList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/memo/doctype/list",this.appSettings.defaultOptions)}))}ChangeHistoryList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/history/list/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function kc(e,t){if(1&e&&(h.Vb(0,"mat-option",6),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("value",e.Id)("disabled",i.isLocked),h.Eb(1),h.Ac(" ",e.Value," ")}}let Lc=(()=>{class e{constructor(e,t,i,n,o){this.employeeDetailService=e,this.snackBar=t,this.snackBarTemplate=i,this.dialogRef=n,this.caseData=o,this.userListDropdown=[],this.title="",this.UserId=0,this.Username=""}ngOnInit(){this.title=this.caseData.objDialogTitle,this.GetUserDropdownListData()}GetUserDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.userDropdownSubscription=yield(yield this.employeeDetailService.UserList()).subscribe(e=>{this.userListDropdown=e,this.UserId=this.userListDropdown[0],null!==this.userDropdownSubscription&&this.userDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.userDropdownSubscription&&this.userDropdownSubscription.unsubscribe()})}))}selected(e){this.UserId=e.source.value,this.Username=e.source.selected.viewValue}Close(){this.dialogRef.close({event:"Close"})}Link(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.dialogRef.close({event:"Link",UserId:this.UserId,Username:this.Username})}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(xc),h.Qb(lr.a),h.Qb(cr),h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-employee-detial-link-to-username-dialog"]],decls:15,vars:2,consts:[["appearance","outline","readonly","",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value","disabled",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","mat-dialog-close","","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],[3,"value","disabled"]],template:function(e,t){1&e&&(h.Vb(0,"mat-form-field",0),h.Vb(1,"mat-label"),h.yc(2,"User"),h.Ub(),h.Vb(3,"mat-select",1),h.dc("ngModelChange",(function(e){return t.UserId=e}))("selectionChange",(function(e){return t.selected(e)})),h.xc(4,kc,2,3,"mat-option",2),h.Ub(),h.Ub(),h.Rb(5,"mat-divider"),h.Vb(6,"div",3),h.Vb(7,"button",4),h.dc("click",(function(){return t.Link()})),h.Vb(8,"mat-icon"),h.yc(9,"link"),h.Ub(),h.yc(10," Link "),h.Ub(),h.Vb(11,"button",5),h.dc("click",(function(){return t.Close()})),h.Vb(12,"mat-icon"),h.yc(13,"close"),h.Ub(),h.yc(14," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(3),h.kc("ngModel",t.UserId),h.Eb(1),h.kc("ngForOf",t.userListDropdown))},directives:[_r.c,_r.g,rc,c.o,c.r,l.k,ft,or,v.a,tr,w.a,G.l],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})();const Vc=["mat-calendar-body",""];function Oc(e,t){if(1&e&&(h.Vb(0,"tr",2),h.Vb(1,"td",3),h.yc(2),h.Ub(),h.Ub()),2&e){const e=h.hc();h.Eb(1),h.wc("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),h.Fb("colspan",e.numCols),h.Eb(1),h.Ac(" ",e.label," ")}}function Uc(e,t){if(1&e&&(h.Vb(0,"td",7),h.yc(1),h.Ub()),2&e){const e=h.hc(2);h.wc("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),h.Fb("colspan",e._firstRowOffset),h.Eb(1),h.Ac(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Ec(e,t){if(1&e){const e=h.Wb();h.Vb(0,"td",8),h.dc("click",(function(i){h.rc(e);const n=t.$implicit;return h.hc(2)._cellClicked(n,i)})),h.Vb(1,"div",9),h.yc(2),h.Ub(),h.Rb(3,"div",10),h.Ub()}if(2&e){const e=t.$implicit,i=t.index,n=h.hc().index,o=h.hc();h.wc("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),h.Hb("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(n,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,n,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,n,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),h.kc("ngClass",e.cssClasses)("tabindex",o._isActiveCell(n,i)?0:-1),h.Fb("data-mat-row",n)("data-mat-col",i)("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-selected",o._isSelected(e)),h.Eb(1),h.Hb("mat-calendar-body-selected",o._isSelected(e))("mat-calendar-body-today",o.todayValue===e.compareValue),h.Eb(1),h.Ac(" ",e.displayValue," ")}}function Mc(e,t){if(1&e&&(h.Vb(0,"tr",4),h.xc(1,Uc,2,6,"td",5),h.xc(2,Ec,4,44,"td",6),h.Ub()),2&e){const e=t.$implicit,i=t.index,n=h.hc();h.Eb(1),h.kc("ngIf",0===i&&n._firstRowOffset),h.Eb(1),h.kc("ngForOf",e)}}function Pc(e,t){if(1&e&&(h.Vb(0,"th",5),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.Fb("aria-label",e.long),h.Eb(1),h.zc(e.narrow)}}const Rc=["*"];function Ic(e,t){}function Tc(e,t){if(1&e){const e=h.Wb();h.Vb(0,"mat-month-view",5),h.dc("activeDateChange",(function(t){return h.rc(e),h.hc().activeDate=t}))("_userSelection",(function(t){return h.rc(e),h.hc()._dateSelected(t)})),h.Ub()}if(2&e){const e=h.hc();h.kc("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function Ac(e,t){if(1&e){const e=h.Wb();h.Vb(0,"mat-year-view",6),h.dc("activeDateChange",(function(t){return h.rc(e),h.hc().activeDate=t}))("monthSelected",(function(t){return h.rc(e),h.hc()._monthSelectedInYearView(t)}))("selectedChange",(function(t){return h.rc(e),h.hc()._goToDateInView(t,"month")})),h.Ub()}if(2&e){const e=h.hc();h.kc("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)}}function Bc(e,t){if(1&e){const e=h.Wb();h.Vb(0,"mat-multi-year-view",7),h.dc("activeDateChange",(function(t){return h.rc(e),h.hc().activeDate=t}))("yearSelected",(function(t){return h.rc(e),h.hc()._yearSelectedInMultiYearView(t)}))("selectedChange",(function(t){return h.rc(e),h.hc()._goToDateInView(t,"year")})),h.Ub()}if(2&e){const e=h.hc();h.kc("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)}}const jc=["button"];function Hc(e,t){1&e&&(h.gc(),h.Vb(0,"svg",3),h.Rb(1,"path",4),h.Ub())}const Fc=[[["","matDatepickerToggleIcon",""]]],Nc=["[matDatepickerToggleIcon]"];function zc(e){return Error(`MatDatepicker: No provider found for ${e}. You must import one of the following modules at your application root: MatNativeDateModule, MatMomentDateModule, or provide a custom implementation.`)}let Gc=(()=>{class e{constructor(){this.changes=new x.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(h.Mb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();class Yc{constructor(e,t,i,n,o={},a=e,r){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=n,this.cssClasses=o,this.compareValue=a,this.rawValue=r}}let Qc=(()=>{class e{constructor(e,t){this._elementRef=e,this._ngZone=t,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new h.p,this.previewChange=new h.p,this._enterHandler=e=>{if(this._skipNextFocus&&"focus"===e.type)this._skipNextFocus=!1;else if(e.target&&this.isRange){const t=this._getCellFromElement(e.target);t&&this._ngZone.run(()=>this.previewChange.emit({value:t.enabled?t:null,event:e}))}},this._leaveHandler=e=>{null!==this.previewEnd&&this.isRange&&e.target&&Wc(e.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e}))},t.runOutsideAngular(()=>{const t=e.nativeElement;t.addEventListener("mouseenter",this._enterHandler,!0),t.addEventListener("focus",this._enterHandler,!0),t.addEventListener("mouseleave",this._leaveHandler,!0),t.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,t){e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e.compareValue||this.endValue===e.compareValue}ngOnChanges(e){const t=e.numCols,{rows:i,numCols:n}=this;(e.rows||t)&&(this._firstRowOffset=i&&i.length&&i[0].length?n-i[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/n+"%"),!t&&this._cellWidth||(this._cellWidth=100/n+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,t){let i=e*this.numCols+t;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Object(M.a)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})})}_isRangeStart(e){return qc(e,this.startValue,this.endValue)}_isRangeEnd(e){return Kc(e,this.startValue,this.endValue)}_isInRange(e){return $c(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return qc(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let n=this.rows[t][i-1];if(!n){const e=this.rows[t-1];n=e&&e[e.length-1]}return n&&!this._isRangeEnd(n.compareValue)}_isComparisonBridgeEnd(e,t,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let n=this.rows[t][i+1];if(!n){const e=this.rows[t+1];n=e&&e[0]}return n&&!this._isRangeStart(n.compareValue)}_isComparisonEnd(e){return Kc(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return $c(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isPreviewStart(e){return qc(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Kc(e,this.previewStart,this.previewEnd)}_isInPreview(e){return $c(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let t;if(Wc(e)?t=e:Wc(e.parentNode)&&(t=e.parentNode),t){const e=t.getAttribute("data-mat-row"),i=t.getAttribute("data-mat-col");if(e&&i)return this.rows[parseInt(e)][parseInt(i)]}return null}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.D))},e.\u0275cmp=h.Kb({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[h.Cb],attrs:Vc,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,t){1&e&&(h.xc(0,Oc,3,6,"tr",0),h.xc(1,Mc,3,2,"tr",1)),2&e&&(h.kc("ngIf",t._firstRowOffset<t.labelMinRequiredCells),h.Eb(1),h.kc("ngForOf",t.rows))},directives:[l.l,l.k,l.j],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),e})();function Wc(e){return"TD"===e.nodeName}function qc(e,t,i){return null!==i&&t!==i&&e<i&&e===t}function Kc(e,t,i){return null!==t&&t!==i&&e>=t&&e===i}function $c(e,t,i,n){return n&&null!==t&&null!==i&&t!==i&&e>=t&&e<=i}class Jc{constructor(e,t){this.start=e,this.end=t}}let Zc=(()=>{class e{constructor(e,t){this.selection=e,this._adapter=t,this._selectionChanged=new x.a,this.selectionChanged=this._selectionChanged.asObservable(),this.selection=e}updateSelection(e,t){this.selection=e,this._selectionChanged.next({selection:e,source:t})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(void 0),h.Qb(G.a))},e.\u0275dir=h.Lb({type:e}),e})(),Xc=(()=>{class e extends Zc{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(G.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac}),e})();const ed={provide:Zc,deps:[[new h.E,new h.N,Zc],G.a],useFactory:function(e,t){return e||new Xc(t)}},td=new h.t("MAT_DATE_RANGE_SELECTION_STRATEGY");let id=(()=>{class e{constructor(e){this._dateAdapter=e}selectionFinished(e,t){let{start:i,end:n}=t;return null==i?i=e:null==n&&e&&this._dateAdapter.compareDate(e,i)>=0?n=e:(i=e,n=null),new Jc(i,n)}createPreview(e,t){let i=null,n=null;return t.start&&!t.end&&e&&(i=t.start,n=e),new Jc(i,n)}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(G.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac}),e})(),nd=(()=>{class e{constructor(e,t,i,n,o){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=n,this._rangeStrategy=o,this._rerenderSubscription=k.a.EMPTY,this.selectedChange=new h.p,this._userSelection=new h.p,this.activeDateChange=new h.p,!this._dateAdapter)throw zc("DateAdapter");if(!this._dateFormats)throw zc("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const t=this._activeDate,i=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Jc?e:this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Object(U.a)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const t=e.value,i=this._dateAdapter.getYear(this.activeDate),n=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.createDate(i,n,t);let a,r;this._selected instanceof Jc?(a=this._getDateInCurrentMonth(this._selected.start),r=this._getDateInCurrentMonth(this._selected.end)):a=r=this._getDateInCurrentMonth(this._selected),a===t&&r===t||this.selectedChange.emit(o),this._userSelection.emit({value:o,event:e.event})}_handleCalendarBodyKeydown(e){const t=this._activeDate,i=this._isRtl();switch(e.keyCode){case S.h:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case S.l:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case S.o:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case S.c:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case S.g:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case S.d:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case S.k:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case S.j:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case S.e:case S.m:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),e.preventDefault()));case S.f:return void(null!=this._previewEnd&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:t}){if(this._rangeStrategy){const i=this._rangeStrategy.createPreview(t?t.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(i.start),this._previewEnd=this._getCellCompareValue(i.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow");let i=this._dateAdapter.getDayOfWeekNames("long").map((e,i)=>({long:e,narrow:t[i]}));this._weekdays=i.slice(e).concat(i.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,n=this._firstWeekOffset;i<e;i++,n++){7==n&&(this._weeks.push([]),n=0);const e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),o=this._shouldEnableDate(e),a=this._dateAdapter.format(e,this._dateFormats.display.dateA11yLabel),r=this.dateClass?this.dateClass(e):void 0;this._weeks[this._weeks.length-1].push(new Yc(i+1,t[i],a,o,r,this._getCellCompareValue(e),e))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){const t=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),n=this._dateAdapter.getDate(e);return new Date(t,i,n).getTime()}return null}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Jc?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.h),h.Qb(G.c,8),h.Qb(G.a,8),h.Qb(q.b,8),h.Qb(td,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-month-view"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Qc,!0),2&e&&h.pc(i=h.ec())&&(t._matCalendarBody=i.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],decls:7,vars:13,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keydown"],["scope","col"]],template:function(e,t){1&e&&(h.Vb(0,"table",0),h.Vb(1,"thead",1),h.Vb(2,"tr"),h.xc(3,Pc,2,2,"th",2),h.Ub(),h.Vb(4,"tr"),h.Rb(5,"th",3),h.Ub(),h.Ub(),h.Vb(6,"tbody",4),h.dc("selectedValueChange",(function(e){return t._dateSelected(e)}))("previewChange",(function(e){return t._previewChanged(e)}))("keydown",(function(e){return t._handleCalendarBodyKeydown(e)})),h.Ub(),h.Ub()),2&e&&(h.Eb(3),h.kc("ngForOf",t._weekdays),h.Eb(3),h.kc("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1))},directives:[l.k,Qc],encapsulation:2,changeDetection:0}),e})(),od=(()=>{class e{constructor(e,t,i){if(this._changeDetectorRef=e,this._dateAdapter=t,this._dir=i,this._rerenderSubscription=k.a.EMPTY,this.selectedChange=new h.p,this.yearSelected=new h.p,this.activeDateChange=new h.p,!this._dateAdapter)throw zc("DateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const i=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),ad(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Jc?e:this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Object(U.a)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const e=this._dateAdapter.getYear(this._activeDate)-rd(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let t=0,i=[];t<24;t++)i.push(e+t),4==i.length&&(this._years.push(i.map(e=>this._createCellForYear(e))),i=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const t=e.value;this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));let i=this._dateAdapter.getMonth(this.activeDate),n=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,i,1));this.selectedChange.emit(this._dateAdapter.createDate(t,i,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,i=this._isRtl();switch(e.keyCode){case S.h:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case S.l:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case S.o:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case S.c:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case S.g:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-rd(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case S.d:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-rd(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case S.k:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case S.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case S.e:case S.m:this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_getActiveCell(){return rd(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){let t=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1));return new Yc(e,t,t,this._shouldEnableYear(e))}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Jc){const t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.h),h.Qb(G.a,8),h.Qb(q.b,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Qc,!0),2&e&&h.pc(i=h.ec())&&(t._matCalendarBody=i.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(h.Vb(0,"table",0),h.Vb(1,"thead",1),h.Vb(2,"tr"),h.Rb(3,"th",2),h.Ub(),h.Ub(),h.Vb(4,"tbody",3),h.dc("selectedValueChange",(function(e){return t._yearSelected(e)}))("keydown",(function(e){return t._handleCalendarBodyKeydown(e)})),h.Ub(),h.Ub()),2&e&&(h.Eb(4),h.kc("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},directives:[Qc],encapsulation:2,changeDetection:0}),e})();function ad(e,t,i,n,o){const a=e.getYear(t),r=e.getYear(i),s=sd(e,n,o);return Math.floor((a-s)/24)===Math.floor((r-s)/24)}function rd(e,t,i,n){return((e.getYear(t)-sd(e,i,n))%24+24)%24}function sd(e,t,i){let n=0;return i?n=e.getYear(i)-24+1:t&&(n=e.getYear(t)),n}let ld=(()=>{class e{constructor(e,t,i,n){if(this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=n,this._rerenderSubscription=k.a.EMPTY,this.selectedChange=new h.p,this.monthSelected=new h.p,this.activeDateChange=new h.p,!this._dateAdapter)throw zc("DateAdapter");if(!this._dateFormats)throw zc("MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate;const i=this._getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Jc?e:this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Object(U.a)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const t=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(i);const n=this._dateAdapter.getNumDaysInMonth(i);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),n)))}_handleCalendarBodyKeydown(e){const t=this._activeDate,i=this._isRtl();switch(e.keyCode){case S.h:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case S.l:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case S.o:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case S.c:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case S.g:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case S.d:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case S.k:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case S.j:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case S.e:case S.m:this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(t=>this._createCellForMonth(t,e[t]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,t){let i=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),this._dateFormats.display.monthYearA11yLabel);return new Yc(e,t.toLocaleUpperCase(),i,this._shouldEnableMonth(e))}_shouldEnableMonth(e){const t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(let i=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){const i=this._dateAdapter.getYear(this.maxDate),n=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&t>n}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){const i=this._dateAdapter.getYear(this.minDate),n=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&t<n}return!1}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Jc?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.h),h.Qb(G.c,8),h.Qb(G.a,8),h.Qb(q.b,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-year-view"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Qc,!0),2&e&&h.pc(i=h.ec())&&(t._matCalendarBody=i.first)},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(h.Vb(0,"table",0),h.Vb(1,"thead",1),h.Vb(2,"tr"),h.Rb(3,"th",2),h.Ub(),h.Ub(),h.Vb(4,"tbody",3),h.dc("selectedValueChange",(function(e){return t._monthSelected(e)}))("keydown",(function(e){return t._handleCalendarBodyKeydown(e)})),h.Ub(),h.Ub()),2&e&&(h.Eb(4),h.kc("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},directives:[Qc],encapsulation:2,changeDetection:0}),e})(),cd=(()=>{class e{constructor(e,t,i,n,o){this._intl=e,this.calendar=t,this._dateAdapter=i,this._dateFormats=n,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const e=this._dateAdapter.getYear(this.calendar.activeDate)-rd(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+24-1,i=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(i,n)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):ad(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Gc),h.Qb(Object(h.X)(()=>dd)),h.Qb(G.a,8),h.Qb(G.c,8),h.Qb(h.h))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Rc,decls:9,vars:8,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,t){1&e&&(h.jc(),h.Vb(0,"div",0),h.Vb(1,"div",1),h.Vb(2,"button",2),h.dc("click",(function(){return t.currentPeriodClicked()})),h.yc(3),h.Rb(4,"div",3),h.Ub(),h.Rb(5,"div",4),h.ic(6),h.Vb(7,"button",5),h.dc("click",(function(){return t.previousClicked()})),h.Ub(),h.Vb(8,"button",6),h.dc("click",(function(){return t.nextClicked()})),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(2),h.Fb("aria-label",t.periodButtonLabel),h.Eb(1),h.Ac(" ",t.periodButtonText," "),h.Eb(1),h.Hb("mat-calendar-invert","month"!=t.calendar.currentView),h.Eb(3),h.kc("disabled",!t.previousEnabled()),h.Fb("aria-label",t.prevButtonLabel),h.Eb(1),h.kc("disabled",!t.nextEnabled()),h.Fb("aria-label",t.nextButtonLabel))},directives:[v.a,C.c],encapsulation:2,changeDetection:0}),e})(),dd=(()=>{class e{constructor(e,t,i,n){if(this._dateAdapter=t,this._dateFormats=i,this._changeDetectorRef=n,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new h.p,this.yearSelected=new h.p,this.monthSelected=new h.p,this._userSelection=new h.p,this.stateChanges=new x.a,!this._dateAdapter)throw zc("DateAdapter");if(!this._dateFormats)throw zc("MAT_DATE_FORMATS");this._intlChanges=e.changes.subscribe(()=>{n.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Jc?e:this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new z.d(this.headerComponent||cd),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){const e=this._getCurrentViewComponent();e&&(this._changeDetectorRef.detectChanges(),e._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){const e=this.currentView;let t;t="month"===e?this.monthView:"year"===e?this.yearView:this.multiYearView,t._init()}_dateSelected(e){const t=e.value;(this.selected instanceof Jc||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Gc),h.Qb(G.a,8),h.Qb(G.c,8),h.Qb(h.h))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-calendar"]],viewQuery:function(e,t){var i;1&e&&(h.Ec(nd,!0),h.Ec(ld,!0),h.Ec(od,!0)),2&e&&(h.pc(i=h.ec())&&(t.monthView=i.first),h.pc(i=h.ec())&&(t.yearView=i.first),h.pc(i=h.ec())&&(t.multiYearView=i.first))},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[h.Db([ed]),h.Cb],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange"]],template:function(e,t){1&e&&(h.xc(0,Ic,0,0,"ng-template",0),h.Vb(1,"div",1),h.xc(2,Tc,1,8,"mat-month-view",2),h.xc(3,Ac,1,5,"mat-year-view",3),h.xc(4,Bc,1,5,"mat-multi-year-view",4),h.Ub()),2&e&&(h.kc("cdkPortalOutlet",t._calendarHeaderPortal),h.Eb(1),h.kc("ngSwitch",t.currentView),h.Eb(1),h.kc("ngSwitchCase","month"),h.Eb(1),h.kc("ngSwitchCase","year"),h.Eb(1),h.kc("ngSwitchCase","multi-year"))},directives:[z.c,C.d,l.n,l.o,nd,ld,od],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),e})();const hd={transformPanel:Object(N.m)("transformPanel",[Object(N.j)("void",Object(N.k)({opacity:0,transform:"scale(1, 0.8)"})),Object(N.l)("void => enter",Object(N.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(N.k)({opacity:1,transform:"scale(1, 1)"}))),Object(N.l)("* => void",Object(N.e)("100ms linear",Object(N.k)({opacity:0})))]),fadeInCalendar:Object(N.m)("fadeInCalendar",[Object(N.j)("void",Object(N.k)({opacity:0})),Object(N.j)("enter",Object(N.k)({opacity:1})),Object(N.l)("void => *",Object(N.e)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let ud=0;const pd=new h.t("mat-datepicker-scroll-strategy"),bd={provide:pd,deps:[Y.c],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class md{constructor(e){this._elementRef=e}}const fd=Object(G.v)(md);let gd=(()=>{class e extends fd{constructor(e,t,i,n,o){super(e),this._changeDetectorRef=t,this._model=i,this._dateAdapter=n,this._rangeSelectionStrategy=o,this._animationState="enter",this._animationDone=new x.a}ngAfterViewInit(){this._calendar.focusActiveCell()}ngOnDestroy(){this._animationDone.complete()}_handleUserSelection(e){if(this._model&&this._dateAdapter){const t=this._model.selection,i=e.value,n=t instanceof Jc;if(n&&this._rangeSelectionStrategy){const n=this._rangeSelectionStrategy.selectionFinished(i,t,e.event);this._model.updateSelection(n,this)}else!i||!n&&this._dateAdapter.sameDate(i,t)||this._model.add(i)}this._model&&!this._model.isComplete()||this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}_getSelected(){return this._model?this._model.selection:null}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.h),h.Qb(Zc),h.Qb(G.a),h.Qb(td,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(e,t){var i;1&e&&h.Ec(dd,!0),2&e&&h.pc(i=h.ec())&&(t._calendar=i.first)},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,t){1&e&&h.Ib("@transformPanel.done",(function(){return t._animationDone.next()})),2&e&&(h.Dc("@transformPanel",t._animationState),h.Hb("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[h.Bb],decls:1,vars:13,consts:[["cdkTrapFocus","",3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","_userSelection"]],template:function(e,t){1&e&&(h.Vb(0,"mat-calendar",0),h.dc("yearSelected",(function(e){return t.datepicker._selectYear(e)}))("monthSelected",(function(e){return t.datepicker._selectMonth(e)}))("_userSelection",(function(e){return t._handleUserSelection(e)})),h.Ub()),2&e&&h.kc("id",t.datepicker.id)("ngClass",t.datepicker.panelClass)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._minDate)("maxDate",t.datepicker._maxDate)("dateFilter",t.datepicker._dateFilter)("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter")},directives:[dd,C.e,l.j],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-calendar{min-width:250px;min-height:312px;max-width:750px;max-height:788px}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-calendar{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-calendar{width:80vw;height:100vw}}\n"],encapsulation:2,data:{animation:[hd.transformPanel,hd.fadeInCalendar]},changeDetection:0}),e})(),yd=(()=>{class e{constructor(e,t,i,n,o,a,r,s,l){if(this._dialog=e,this._overlay=t,this._ngZone=i,this._viewContainerRef=n,this._dateAdapter=a,this._dir=r,this._document=s,this._model=l,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this.yearSelected=new h.p,this.monthSelected=new h.p,this.openedStream=new h.p,this.closedStream=new h.p,this._opened=!1,this.id="mat-datepicker-"+ud++,this._focusedElementBeforeOpen=null,this._disabledChange=new x.a,!this._dateAdapter)throw zc("DateAdapter");this._scrollStrategy=o}get startAt(){return this._startAt||(this._datepickerInput?this._datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this._datepickerInput?this._datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Object(D.b)(e)}get disabled(){return void 0===this._disabled&&this._datepickerInput?this._datepickerInput.disabled:!!this._disabled}set disabled(e){const t=Object(D.b)(e);t!==this._disabled&&(this._disabled=t,this._disabledChange.next(t))}get opened(){return this._opened}set opened(e){e?this.open():this.close()}get _minDate(){return this._datepickerInput&&this._datepickerInput.min}get _maxDate(){return this._datepickerInput&&this._datepickerInput.max}get _dateFilter(){return this._datepickerInput&&this._datepickerInput.dateFilter}ngOnChanges(e){const t=e.xPosition||e.yPosition;t&&!t.firstChange&&this._popupRef&&(this._setConnectedPositions(this._popupRef.getConfig().positionStrategy),this.opened&&this._popupRef.updatePosition())}ngOnDestroy(){this._destroyPopup(),this.close(),this._disabledChange.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_registerInput(e){if(this._datepickerInput)throw Error("A MatDatepicker can only be associated with a single input.");return this._datepickerInput=e,this._model}open(){if(!this._opened&&!this.disabled){if(!this._datepickerInput)throw Error("Attempted to open an MatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}close(){if(!this._opened)return;if(this._popupComponentRef&&this._popupRef){const e=this._popupComponentRef.instance;e._startExitAnimation(),e._animationDone.pipe(Object(M.a)(1)).subscribe(()=>this._destroyPopup())}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(gd,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!0,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._forwardContentValues(this._dialogRef.componentInstance)}_openAsPopup(){const e=new z.d(gd,this._viewContainerRef);this._destroyPopup(),this._createPopup(),this._popupComponentRef=this._popupRef.attach(e),this._forwardContentValues(this._popupComponentRef.instance),this._ngZone.onStable.asObservable().pipe(Object(M.a)(1)).subscribe(()=>{this._popupRef.updatePosition()})}_forwardContentValues(e){e.datepicker=this,e.color=this.color}_createPopup(){const e=this._overlay.position().flexibleConnectedTo(this._datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition(),t=new Y.d({positionStrategy:this._setConnectedPositions(e),hasBackdrop:!0,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),Object(L.a)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe(Object(P.a)(e=>e.keyCode===S.f||this._datepickerInput&&e.altKey&&e.keyCode===S.o))).subscribe(e=>{e&&e.preventDefault(),this.close()})}_destroyPopup(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}_setConnectedPositions(e){const t="end"===this.xPosition?"end":"start",i="start"===t?"end":"start",n="above"===this.yPosition?"bottom":"top",o="top"===n?"bottom":"top";return e.withPositions([{originX:t,originY:o,overlayX:t,overlayY:n},{originX:t,originY:n,overlayX:t,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:n},{originX:i,originY:n,overlayX:i,overlayY:o}])}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Xa),h.Qb(Y.c),h.Qb(h.D),h.Qb(h.T),h.Qb(pd),h.Qb(G.a,8),h.Qb(q.b,8),h.Qb(l.c,8),h.Qb(Zc))},e.\u0275dir=h.Lb({type:e,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",panelClass:"panelClass",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",openedStream:"opened",closedStream:"closed"},features:[h.Cb]}),e})(),_d=(()=>{class e extends yd{}return e.\u0275fac=function(t){return vd(t||e)},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[h.Db([ed]),h.Bb],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),e})();const vd=h.Xb(_d);class wd{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let Cd=(()=>{class e{constructor(e,t,i){if(this._elementRef=e,this._dateAdapter=t,this._dateFormats=i,this.dateChange=new h.p,this.dateInput=new h.p,this._valueChange=new h.p,this._disabledChange=new h.p,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=k.a.EMPTY,this._localeSubscription=k.a.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getDateFilter();return i&&t&&!i(t)?{matDatepickerFilter:!0}:null},this._minValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMinDate();return!i||!t||this._dateAdapter.compareDate(i,t)<=0?null:{matDatepickerMin:{min:i,actual:t}}},this._maxValidator=e=>{const t=this._getValidDateOrNull(this._dateAdapter.deserialize(e.value)),i=this._getMaxDate();return!i||!t||this._dateAdapter.compareDate(i,t)>=0?null:{matDatepickerMax:{max:i,actual:t}}},this._lastValueValid=!1,!this._dateAdapter)throw zc("DateAdapter");if(!this._dateFormats)throw zc("MAT_DATE_FORMATS");this._localeSubscription=t.localeChanges.subscribe(()=>{this.value=this.value})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._getValidDateOrNull(e);const t=this.value;this._assignValue(e),this._formatValue(e),this._dateAdapter.sameDate(t,e)||this._valueChange.emit(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const t=Object(D.b)(e),i=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this._disabledChange.emit(t)),t&&this._isInitialized&&i.blur&&i.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(e=>{if(e.source!==this){const t=this._getValueFromModel(e.selection);this._lastValueValid=this._isValidValue(t),this._cvaOnChange(t),this._onTouched(),this._formatValue(t),this.dateInput.emit(new wd(this,this._elementRef.nativeElement)),this.dateChange.emit(new wd(this,this._elementRef.nativeElement)),this._outsideValueChanged&&this._outsideValueChanged()}})}ngAfterViewInit(){this._isInitialized=!0}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this._disabledChange.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this.value=e}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&e.keyCode===S.c&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const t=this._lastValueValid;let i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._getValidDateOrNull(i),this._dateAdapter.sameDate(i,this.value)?(e&&!this.value&&this._cvaOnChange(i),t!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(i),this._cvaOnChange(i),this._valueChange.emit(i),this.dateInput.emit(new wd(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new wd(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_getValidDateOrNull(e){return this._dateAdapter.isDateInstance(e)&&this._dateAdapter.isValid(e)?e:null}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(G.a,8),h.Qb(G.c,8))},e.\u0275dir=h.Lb({type:e,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"}}),e})();const Dd={provide:c.m,useExisting:Object(h.X)(()=>xd),multi:!0},Sd={provide:c.l,useExisting:Object(h.X)(()=>xd),multi:!0};let xd=(()=>{class e extends Cd{constructor(e,t,i,n){super(e,t,i),this._formField=n,this._validator=c.u.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._registerModel(e._registerInput(this)))}get min(){return this._min}set min(e){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get max(){return this._max}set max(e){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(e)),this._validatorOnChange()}get dateFilter(){return this._dateFilter}set dateFilter(e){this._dateFilter=e,this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(G.a,8),h.Qb(G.c,8),h.Qb(_r.a,8))},e.\u0275dir=h.Lb({type:e,selectors:[["input","matDatepicker",""]],hostVars:5,hostBindings:function(e,t){1&e&&h.dc("input",(function(e){return t._onInput(e.target.value)}))("change",(function(){return t._onChange()}))("blur",(function(){return t._onBlur()}))("keydown",(function(e){return t._onKeydown(e)})),2&e&&(h.Yb("disabled",t.disabled),h.Fb("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[h.Db([Dd,Sd,{provide:vr.a,useExisting:e}]),h.Bb]}),e})(),kd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["","matDatepickerToggleIcon",""]]}),e})(),Ld=(()=>{class e{constructor(e,t,i){this._intl=e,this._changeDetectorRef=t,this._stateChanges=k.a.EMPTY;const n=Number(i);this.tabIndex=n||0===n?n:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Object(D.b)(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker._disabledChange:Object(V.a)(),t=this.datepicker&&this.datepicker._datepickerInput?this.datepicker._datepickerInput._disabledChange:Object(V.a)(),i=this.datepicker?Object(L.a)(this.datepicker.openedStream,this.datepicker.closedStream):Object(V.a)();this._stateChanges.unsubscribe(),this._stateChanges=Object(L.a)(this._intl.changes,e,t,i).subscribe(()=>this._changeDetectorRef.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Gc),h.Qb(h.h),h.ac("tabindex"))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,i){var n;1&e&&h.Jb(i,kd,!0),2&e&&h.pc(n=h.ec())&&(t._customIcon=n.first)},viewQuery:function(e,t){var i;1&e&&h.Ec(jc,!0),2&e&&h.pc(i=h.ec())&&(t._button=i.first)},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:7,hostBindings:function(e,t){1&e&&h.dc("focus",(function(){return t._button.focus()})),2&e&&(h.Fb("tabindex",t.disabled?null:-1),h.Hb("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&"accent"===t.datepicker.color)("mat-warn",t.datepicker&&"warn"===t.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[h.Cb],ngContentSelectors:Nc,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple","click"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,t){1&e&&(h.jc(Fc),h.Vb(0,"button",0,1),h.dc("click",(function(e){return t._open(e)})),h.xc(2,Hc,2,0,"svg",2),h.ic(3),h.Ub()),2&e&&(h.kc("disabled",t.disabled)("disableRipple",t.disableRipple),h.Fb("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),h.Eb(2),h.kc("ngIf",!t._customIcon))},directives:[v.a,l.l],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),Vd=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},providers:[Gc,bd,{provide:td,useClass:id}],imports:[[l.b,v.b,rr,Y.f,C.a,z.h],W.b]}),e})();function Od(e,t){if(1&e&&(h.Vb(0,"mat-option",25),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}let Ud=(()=>{class e{constructor(e,t,i,n,o,a){this.dialogRef=e,this.caseData=t,this.datePipe=i,this.employeeDetailService=n,this.snackBar=o,this.snackBarTemplate=a,this.title="",this.AttachmentFile="",this._employeeMemo=[],this.uploadFileSub=[],this.UIDate=new Date,this.fileTypeListDropdown=[],this.isHiddenComponent=!1,this.isHiddenMemoCode=!1,this.isUploadButtonDisable=!0}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this.title=this.caseData.objDialogTitle,this.GetPayrollTypeDropdownListData()}))}Close(){}GetPayrollTypeDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.isHiddenComponent=!0,this.payrollTypeDropdownSubscription=yield(yield this.employeeDetailService.DocTypeList()).subscribe(e=>{this.fileTypeListDropdown=e,this._employeeMemo.AttachmentType=e[0].Value,this.loadMemoDetail(),null!==this.payrollTypeDropdownSubscription&&this.payrollTypeDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.payrollTypeDropdownSubscription&&this.payrollTypeDropdownSubscription.unsubscribe()})}))}loadMemoDetail(){this._employeeMemo.Id=this.caseData.objData.Id,this._employeeMemo.MemoCode=this.caseData.objData.MemoCode,this._employeeMemo.EmployeeId=this.caseData.objData.EmployeeId,this._employeeMemo.MemoDate=this.caseData.objData.MemoDate,this.UIDate=new Date(this.caseData.objData.MemoDate),this._employeeMemo.Particulars=this.caseData.objData.Particulars,this._employeeMemo.AttachmentURL=this.caseData.objData.AttachmentURL,console.log(),0!==this._employeeMemo.Id&&(this._employeeMemo.AttachmentType=this.caseData.objData.AttachmentType),setTimeout(()=>{this.isHiddenComponent=!1},100)}Save(){this.dialogRef.close("Add Memo"==this.title?{event:"Add",objData:this._employeeMemo}:{event:"Edit",objData:this._employeeMemo})}GetUIDate(){this._employeeMemo.MemoDate=this.datePipe.transform(this.UIDate,"yyyy-MM-dd")}checkAttachmentDetail(){}DocumentFileOnChange(){this.isUploadButtonDisable=""===this.AttachmentFile}btnUploadFile(){return Object(b.a)(this,void 0,void 0,(function*(){let e=document.getElementById("btnUploadFile");e.setAttribute("disabled","disabled");let t=document.getElementById("inputFileUpload");t.files.length>0?this.uploadFileSub=(yield this.employeeDetailService.uploadMemoFile(t.files[0],this._employeeMemo.AttachmentURL)).subscribe(e=>{this._employeeMemo.AttachmentURL=e,this.isUploadButtonDisable=!0,null!==this.payrollTypeDropdownSubscription&&this.payrollTypeDropdownSubscription.unsubscribe()},e=>{this.isUploadButtonDisable=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.payrollTypeDropdownSubscription&&this.payrollTypeDropdownSubscription.unsubscribe()}):e.removeAttribute("disabled")}))}ViewDocumentUrl(){window.open(this._employeeMemo.AttachmentURL)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(l.d),h.Qb(xc),h.Qb(lr.a),h.Qb(cr))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-employee-detail-employee-memo"]],decls:58,vars:12,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body",3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["type","text","matInput","","placeholder","URL","readonly","","autocomplete","off",3,"ngModel","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","ngModelChange","dateInput"],["matSuffix","",3,"for"],["color","primary"],["datePickerUIDate",""],["fxFlex","34",2,"padding","5px"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"padding","5px  5px  0px  5px"],["type","text","matInput","","placeholder","URL","autocomplete","off",3,"ngModel","ngModelChange"],["fxFlex","10"],["type","button","color","","id","btnUploadFile","value","Upload",2,"margin-right","5px",3,"disabled","click"],["fxFlex","30"],["id","inputFileUpload","placeholder","","type","file","accept","image/*",2,"width","90%",3,"ngModel","change","ngModelChange"],["fxFlex","100",2,"padding","5px","margin-top","10px"],["matInput","","placeholder","Particulars","rows","5",2,"min-height","102px",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Code"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t._employeeMemo.MemoCode=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",4),h.Vb(12,"mat-form-field",5),h.Vb(13,"mat-label"),h.yc(14,"Date"),h.Ub(),h.Vb(15,"input",7),h.dc("ngModelChange",(function(e){return t.UIDate=e}))("dateInput",(function(){return t.GetUIDate()})),h.Ub(),h.Rb(16,"mat-datepicker-toggle",8),h.Rb(17,"mat-datepicker",9,10),h.Ub(),h.Ub(),h.Vb(19,"div",11),h.Vb(20,"mat-form-field",5),h.Vb(21,"mat-label"),h.yc(22,"Attachment Type"),h.Ub(),h.Vb(23,"mat-select",12),h.dc("ngModelChange",(function(e){return t._employeeMemo.AttachmentType=e})),h.xc(24,Od,2,2,"mat-option",13),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(25,"div",3),h.Vb(26,"div",14),h.Vb(27,"div",3),h.Vb(28,"mat-form-field",5),h.Vb(29,"mat-label"),h.yc(30,"URL"),h.Ub(),h.Vb(31,"input",15),h.dc("ngModelChange",(function(e){return t._employeeMemo.AttachmentURL=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(32,"div",3),h.Vb(33,"div",16),h.Vb(34,"input",17),h.dc("click",(function(){return t.btnUploadFile()})),h.Ub(),h.Ub(),h.Vb(35,"div",18),h.Vb(36,"input",19),h.dc("change",(function(){return t.DocumentFileOnChange()}))("ngModelChange",(function(e){return t.AttachmentFile=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(37,"div",3),h.Vb(38,"div",20),h.Vb(39,"mat-form-field",5),h.Vb(40,"mat-label"),h.yc(41,"Particulars"),h.Ub(),h.Vb(42,"textarea",21),h.dc("ngModelChange",(function(e){return t._employeeMemo.Particulars=e})),h.yc(43," "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(44,"mat-divider"),h.Vb(45,"div",22),h.Vb(46,"button",23),h.dc("click",(function(){return t.Save()})),h.Vb(47,"mat-icon"),h.yc(48,"save"),h.Ub(),h.yc(49," Save "),h.Ub(),h.Vb(50,"button",23),h.dc("click",(function(){return t.ViewDocumentUrl()})),h.Vb(51,"mat-icon"),h.yc(52,"visibility"),h.Ub(),h.yc(53," View "),h.Ub(),h.Vb(54,"button",24),h.dc("click",(function(){return t.Close()})),h.Vb(55,"mat-icon"),h.yc(56,"close"),h.Ub(),h.yc(57," Cancel "),h.Ub(),h.Ub()),2&e){const e=h.qc(18);h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("hidden",t.isHiddenComponent),h.Eb(6),h.kc("ngModel",t._employeeMemo.MemoCode),h.Eb(5),h.kc("matDatepicker",e)("ngModel",t.UIDate),h.Eb(1),h.kc("for",e),h.Eb(7),h.kc("ngModel",t._employeeMemo.AttachmentType),h.Eb(1),h.kc("ngForOf",t.fileTypeListDropdown),h.Eb(7),h.kc("ngModel",t._employeeMemo.AttachmentURL),h.Eb(3),h.kc("disabled",t.isUploadButtonDisable),h.Eb(2),h.kc("ngModel",t.AttachmentFile),h.Eb(6),h.kc("ngModel",t._employeeMemo.Particulars)}},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,xd,Ld,_r.h,_d,rc,l.k,or,v.a,w.a,tr,G.l],styles:[""]}),e})();var Ed=i("Wp6s"),Md=i("GU7r"),Pd=i("PqYM");function Rd(e,t){1&e&&h.ic(0)}const Id=["*"];function Td(e,t){}const Ad=function(e){return{animationDuration:e}},Bd=function(e,t){return{value:e,params:t}},jd=["tabBodyWrapper"],Hd=["tabHeader"];function Fd(e,t){}function Nd(e,t){if(1&e&&h.xc(0,Fd,0,0,"ng-template",9),2&e){const e=h.hc().$implicit;h.kc("cdkPortalOutlet",e.templateLabel)}}function zd(e,t){if(1&e&&h.yc(0),2&e){const e=h.hc().$implicit;h.zc(e.textLabel)}}function Gd(e,t){if(1&e){const e=h.Wb();h.Vb(0,"div",6),h.dc("click",(function(){h.rc(e);const i=t.$implicit,n=t.index,o=h.hc(),a=h.qc(1);return o._handleClick(i,a,n)})),h.Vb(1,"div",7),h.xc(2,Nd,1,1,"ng-template",8),h.xc(3,zd,1,1,"ng-template",8),h.Ub(),h.Ub()}if(2&e){const e=t.$implicit,i=t.index,n=h.hc();h.Hb("mat-tab-label-active",n.selectedIndex==i),h.kc("id",n._getTabLabelId(i))("disabled",e.disabled)("matRippleDisabled",e.disabled||n.disableRipple),h.Fb("tabIndex",n._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",n._tabs.length)("aria-controls",n._getTabContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),h.Eb(2),h.kc("ngIf",e.templateLabel),h.Eb(1),h.kc("ngIf",!e.templateLabel)}}function Yd(e,t){if(1&e){const e=h.Wb();h.Vb(0,"mat-tab-body",10),h.dc("_onCentered",(function(){return h.rc(e),h.hc()._removeTabBodyWrapperHeight()}))("_onCentering",(function(t){return h.rc(e),h.hc()._setTabBodyWrapperHeight(t)})),h.Ub()}if(2&e){const e=t.$implicit,i=t.index,n=h.hc();h.Hb("mat-tab-body-active",n.selectedIndex==i),h.kc("id",n._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",n.animationDuration),h.Fb("aria-labelledby",n._getTabLabelId(i))}}const Qd=["tabListContainer"],Wd=["tabList"],qd=["nextPaginator"],Kd=["previousPaginator"],$d=new h.t("MatInkBarPositioner",{providedIn:"root",factory:function(){return e=>({left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"})}});let Jd=(()=>{class e{constructor(e,t,i,n){this._elementRef=e,this._ngZone=t,this._inkBarPositioner=i,this._animationMode=n}alignToElement(e){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(e))}):this._setStyles(e)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(e){const t=this._inkBarPositioner(e),i=this._elementRef.nativeElement;i.style.left=t.left,i.style.width=t.width}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.D),h.Qb($d),h.Qb(ve.a,8))},e.\u0275dir=h.Lb({type:e,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,t){2&e&&h.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode)}}),e})();const Zd=new h.t("MatTabContent"),Xd=new h.t("MatTabLabel");let eh=(()=>{class e extends z.b{}return e.\u0275fac=function(t){return th(t||e)},e.\u0275dir=h.Lb({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[h.Db([{provide:Xd,useExisting:e}]),h.Bb]}),e})();const th=h.Xb(eh);class ih{}const nh=Object(G.x)(ih),oh=new h.t("MAT_TAB_GROUP");let ah=(()=>{class e extends nh{constructor(e,t){super(),this._viewContainerRef=e,this._closestTabGroup=t,this.textLabel="",this._contentPortal=null,this._stateChanges=new x.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){e&&(this._templateLabel=e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new z.i(this._explicitContent||this._implicitContent,this._viewContainerRef)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.T),h.Qb(oh,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-tab"]],contentQueries:function(e,t,i){var n;1&e&&(h.Jb(i,Xd,!0),h.uc(i,Zd,!0,h.P)),2&e&&(h.pc(n=h.ec())&&(t.templateLabel=n.first),h.pc(n=h.ec())&&(t._explicitContent=n.first))},viewQuery:function(e,t){var i;1&e&&h.vc(h.P,!0),2&e&&h.pc(i=h.ec())&&(t._implicitContent=i.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[h.Bb,h.Cb],ngContentSelectors:Id,decls:1,vars:0,template:function(e,t){1&e&&(h.jc(),h.xc(0,Rd,1,0,"ng-template"))},encapsulation:2}),e})();const rh={translateTab:Object(N.m)("translateTab",[Object(N.j)("center, void, left-origin-center, right-origin-center",Object(N.k)({transform:"none"})),Object(N.j)("left",Object(N.k)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(N.j)("right",Object(N.k)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(N.l)("* => left, * => right, left => center, right => center",Object(N.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(N.l)("void => left-origin-center",[Object(N.k)({transform:"translate3d(-100%, 0, 0)"}),Object(N.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(N.l)("void => right-origin-center",[Object(N.k)({transform:"translate3d(100%, 0, 0)"}),Object(N.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let sh=(()=>{class e extends z.c{constructor(e,t,i,n){super(e,t,n),this._host=i,this._centeringSub=k.a.EMPTY,this._leavingSub=k.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Object(U.a)(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.k),h.Qb(h.T),h.Qb(Object(h.X)(()=>ch)),h.Qb(l.c))},e.\u0275dir=h.Lb({type:e,selectors:[["","matTabBodyHost",""]],features:[h.Bb]}),e})(),lh=(()=>{class e{constructor(e,t,i){this._elementRef=e,this._dir=t,this._dirChangeSubscription=k.a.EMPTY,this._translateTabComplete=new x.a,this._onCentering=new h.p,this._beforeCentering=new h.p,this._afterLeavingCenter=new h.p,this._onCentered=new h.p(!0),this.animationDuration="500ms",t&&(this._dirChangeSubscription=t.change.subscribe(e=>{this._computePositionAnimationState(e),i.markForCheck()})),this._translateTabComplete.pipe(Object(ge.a)((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{this._isCenterPosition(e.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(e.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const t=this._getLayoutDirection();return"ltr"==t&&e<=0||"rtl"==t&&e>0?"left-origin-center":"right-origin-center"}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(q.b,8),h.Qb(h.h))},e.\u0275dir=h.Lb({type:e,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),e})(),ch=(()=>{class e extends lh{constructor(e,t,i){super(e,t,i)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(q.b,8),h.Qb(h.h))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-tab-body"]],viewQuery:function(e,t){var i;1&e&&h.Ec(z.f,!0),2&e&&h.pc(i=h.ec())&&(t._portalHost=i.first)},hostAttrs:[1,"mat-tab-body"],features:[h.Bb],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,t){1&e&&(h.Vb(0,"div",0,1),h.dc("@translateTab.start",(function(e){return t._onTranslateTabStarted(e)}))("@translateTab.done",(function(e){return t._translateTabComplete.next(e)})),h.xc(2,Td,0,0,"ng-template",2),h.Ub()),2&e&&h.kc("@translateTab",h.oc(3,Bd,t._position,h.nc(1,Ad,t.animationDuration)))},directives:[sh],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[rh.translateTab]}}),e})();const dh=new h.t("MAT_TABS_CONFIG");let hh=0;class uh{}class ph{constructor(e){this._elementRef=e}}const bh=Object(G.v)(Object(G.w)(ph),"primary");let mh=(()=>{class e extends bh{constructor(e,t,i,n){super(e),this._changeDetectorRef=t,this._animationMode=n,this._tabs=new h.H,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=k.a.EMPTY,this._tabLabelSubscription=k.a.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new h.p,this.focusChange=new h.p,this.animationDone=new h.p,this.selectedTabChange=new h.p(!0),this._groupId=hh++,this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Object(D.b)(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Object(D.e)(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const t=this._elementRef.nativeElement;t.classList.remove("mat-background-"+this.backgroundColor),e&&t.classList.add("mat-background-"+e),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const t=null==this._selectedIndex;t||this.selectedTabChange.emit(this._createChangeEvent(e)),Promise.resolve().then(()=>{this._tabs.forEach((t,i)=>t.isActive=i===e),t||this.selectedIndexChange.emit(e)})}this._tabs.forEach((t,i)=>{t.position=i-e,null==this._selectedIndex||0!=t.position||t.origin||(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const e=this._tabs.toArray();for(let t=0;t<e.length;t++)if(e[t].isActive){this._indexToSelect=this._selectedIndex=t;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Object(U.a)(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(e=>!e._closestTabGroup||e._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(e){this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const t=new uh;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(L.a)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,t,i){e.disabled||(this.selectedIndex=t.focusIndex=i)}_getTabIndex(e,t){return e.disabled?null:this.selectedIndex===t?0:-1}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.h),h.Qb(dh,8),h.Qb(ve.a,8))},e.\u0275dir=h.Lb({type:e,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[h.Bb]}),e})(),fh=(()=>{class e extends mh{constructor(e,t,i,n){super(e,t,i,n)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.h),h.Qb(dh,8),h.Qb(ve.a,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-tab-group"]],contentQueries:function(e,t,i){var n;1&e&&h.Jb(i,ah,!0),2&e&&h.pc(n=h.ec())&&(t._allTabs=n)},viewQuery:function(e,t){var i;1&e&&(h.Ec(jd,!0),h.Ec(Hd,!0)),2&e&&(h.pc(i=h.ec())&&(t._tabBodyWrapper=i.first),h.pc(i=h.ec())&&(t._tabHeader=i.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,t){2&e&&h.Hb("mat-tab-group-dynamic-height",t.dynamicHeight)("mat-tab-group-inverted-header","below"===t.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[h.Db([{provide:oh,useExisting:e}]),h.Bb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,t){1&e&&(h.Vb(0,"mat-tab-header",0,1),h.dc("indexFocused",(function(e){return t._focusChanged(e)}))("selectFocusedIndex",(function(e){return t.selectedIndex=e})),h.xc(2,Gd,4,14,"div",2),h.Ub(),h.Vb(3,"div",3,4),h.xc(5,Yd,1,8,"mat-tab-body",5),h.Ub()),2&e&&(h.kc("selectedIndex",t.selectedIndex||0)("disableRipple",t.disableRipple)("disablePagination",t.disablePagination),h.Eb(2),h.kc("ngForOf",t._tabs),h.Eb(1),h.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode),h.Eb(2),h.kc("ngForOf",t._tabs))},directives:function(){return[Dh,l.k,_h,G.q,C.d,l.l,z.c,ch]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),e})();class gh{}const yh=Object(G.x)(gh);let _h=(()=>{class e extends yh{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n))},e.\u0275dir=h.Lb({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,t){2&e&&(h.Fb("aria-disabled",!!t.disabled),h.Hb("mat-tab-disabled",t.disabled))},inputs:{disabled:"disabled"},features:[h.Bb]}),e})();const vh=Object(Q.f)({passive:!0});let wh=(()=>{class e{constructor(e,t,i,n,o,a,r){this._elementRef=e,this._changeDetectorRef=t,this._viewportRuler=i,this._dir=n,this._ngZone=o,this._platform=a,this._animationMode=r,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new x.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new x.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new h.p,this.indexFocused=new h.p,o.runOutsideAngular(()=>{Object(fe.a)(e.nativeElement,"mouseleave").pipe(Object(R.a)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Object(D.e)(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Object(fe.a)(this._previousPaginator.nativeElement,"touchstart",vh).pipe(Object(R.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Object(fe.a)(this._nextPaginator.nativeElement,"touchstart",vh).pipe(Object(R.a)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Object(V.a)(null),t=this._viewportRuler.change(150),i=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new C.f(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),Object(L.a)(e,t,this._items.changes).pipe(Object(R.a)(this._destroyed)).subscribe(()=>{Promise.resolve().then(i),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Object(R.a)(this._destroyed)).subscribe(e=>{this.indexFocused.emit(e),this._setTabFocus(e)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Object(S.r)(e))switch(e.keyCode){case S.g:this._keyManager.setFirstItemActive(),e.preventDefault();break;case S.d:this._keyManager.setLastItemActive(),e.preventDefault();break;case S.e:case S.m:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){this._isValidIndex(e)&&this.focusIndex!==e&&this._keyManager&&this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const t=this._items?this._items.toArray()[e]:null;return!!t&&!t.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const t=this._tabListContainer.nativeElement,i=this._getLayoutDirection();t.scrollLeft="ltr"==i?0:t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,t=this._platform,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,t&&(t.TRIDENT||t.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const t=this._items?this._items.toArray()[e]:null;if(!t)return;const i=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:n,offsetWidth:o}=t.elementRef.nativeElement;let a,r;"ltr"==this._getLayoutDirection()?(a=n,r=a+o):(r=this._tabList.nativeElement.offsetWidth-n,a=r-o);const s=this.scrollDistance,l=this.scrollDistance+i;a<s?this.scrollDistance-=s-a+60:r>l&&(this.scrollDistance+=r-l+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&null!=t.button&&0!==t.button||(this._stopInterval(),Object(Pd.a)(650,100).pipe(Object(R.a)(Object(L.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:t,distance:i}=this._scrollHeader(e);(0===i||i>=t)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.h),h.Qb(W.e),h.Qb(q.b,8),h.Qb(h.D),h.Qb(Q.a),h.Qb(ve.a,8))},e.\u0275dir=h.Lb({type:e,inputs:{disablePagination:"disablePagination"}}),e})(),Ch=(()=>{class e extends wh{constructor(e,t,i,n,o,a,r){super(e,t,i,n,o,a,r),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Object(D.b)(e)}_itemSelected(e){e.preventDefault()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.h),h.Qb(W.e),h.Qb(q.b,8),h.Qb(h.D),h.Qb(Q.a),h.Qb(ve.a,8))},e.\u0275dir=h.Lb({type:e,inputs:{disableRipple:"disableRipple"},features:[h.Bb]}),e})(),Dh=(()=>{class e extends Ch{constructor(e,t,i,n,o,a,r){super(e,t,i,n,o,a,r)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.h),h.Qb(W.e),h.Qb(q.b,8),h.Qb(h.D),h.Qb(Q.a),h.Qb(ve.a,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-tab-header"]],contentQueries:function(e,t,i){var n;1&e&&h.Jb(i,_h,!1),2&e&&h.pc(n=h.ec())&&(t._items=n)},viewQuery:function(e,t){var i;1&e&&(h.vc(Jd,!0),h.vc(Qd,!0),h.vc(Wd,!0),h.Ec(qd,!0),h.Ec(Kd,!0)),2&e&&(h.pc(i=h.ec())&&(t._inkBar=i.first),h.pc(i=h.ec())&&(t._tabListContainer=i.first),h.pc(i=h.ec())&&(t._tabList=i.first),h.pc(i=h.ec())&&(t._nextPaginator=i.first),h.pc(i=h.ec())&&(t._previousPaginator=i.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,t){2&e&&h.Hb("mat-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-tab-header-rtl","rtl"==t._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[h.Bb],ngContentSelectors:Id,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,t){1&e&&(h.jc(),h.Vb(0,"div",0,1),h.dc("click",(function(){return t._handlePaginatorClick("before")}))("mousedown",(function(e){return t._handlePaginatorPress("before",e)}))("touchend",(function(){return t._stopInterval()})),h.Rb(2,"div",2),h.Ub(),h.Vb(3,"div",3,4),h.dc("keydown",(function(e){return t._handleKeydown(e)})),h.Vb(5,"div",5,6),h.dc("cdkObserveContent",(function(){return t._onContentChanges()})),h.Vb(7,"div",7),h.ic(8),h.Ub(),h.Rb(9,"mat-ink-bar"),h.Ub(),h.Ub(),h.Vb(10,"div",8,9),h.dc("mousedown",(function(e){return t._handlePaginatorPress("after",e)}))("click",(function(){return t._handlePaginatorClick("after")}))("touchend",(function(){return t._stopInterval()})),h.Rb(12,"div",2),h.Ub()),2&e&&(h.Hb("mat-tab-header-pagination-disabled",t._disableScrollBefore),h.kc("matRippleDisabled",t._disableScrollBefore||t.disableRipple),h.Eb(5),h.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode),h.Eb(5),h.Hb("mat-tab-header-pagination-disabled",t._disableScrollAfter),h.kc("matRippleDisabled",t._disableScrollAfter||t.disableRipple))},directives:[G.q,Md.a,Jd],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),e})(),Sh=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[l.b,G.h,z.h,G.r,Md.c,C.a],G.h]}),e})();const xh=["input"],kh=function(){return{enterDuration:150}},Lh=["*"],Vh=new h.t("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),Oh=new h.t("mat-checkbox-click-action");let Uh=0;const Eh={provide:c.m,useExisting:Object(h.X)(()=>Ih),multi:!0};class Mh{}class Ph{constructor(e){this._elementRef=e}}const Rh=Object(G.z)(Object(G.v)(Object(G.w)(Object(G.x)(Ph))));let Ih=(()=>{class e extends Rh{constructor(e,t,i,n,o,a,r,s){super(e),this._changeDetectorRef=t,this._focusMonitor=i,this._ngZone=n,this._clickAction=a,this._animationMode=r,this._options=s,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++Uh,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new h.p,this.indeterminateChange=new h.p,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this._options.color),this.tabIndex=parseInt(o)||0,this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(e){this._required=Object(D.b)(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const t=Object(D.b)(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const t=e!=this._indeterminate;this._indeterminate=Object(D.b)(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let t=this._currentCheckState,i=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&i.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){i.classList.add(this._currentAnimationClass);const e=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{i.classList.remove(e)},1e3)})}}_emitChangeEvent(){const e=new Mh;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e)}toggle(){this.checked=!this.checked}_onInputClick(e){e.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e="keyboard",t){this._focusMonitor.focusVia(this._inputElement,e,t)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,t){if("NoopAnimations"===this._animationMode)return"";let i="";switch(e){case 0:if(1===t)i="unchecked-checked";else{if(3!=t)return"";i="unchecked-indeterminate"}break;case 2:i=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:i=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:i=1===t?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+i}_syncIndeterminate(e){const t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(h.n),h.Qb(h.h),h.Qb(C.g),h.Qb(h.D),h.ac("tabindex"),h.Qb(Oh,8),h.Qb(ve.a,8),h.Qb(Vh,8))},e.\u0275cmp=h.Kb({type:e,selectors:[["mat-checkbox"]],viewQuery:function(e,t){var i;1&e&&(h.Ec(xh,!0),h.Ec(G.q,!0)),2&e&&(h.pc(i=h.ec())&&(t._inputElement=i.first),h.pc(i=h.ec())&&(t.ripple=i.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(h.Yb("id",t.id),h.Fb("tabindex",null),h.Hb("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[h.Db([Eh]),h.Bb],ngContentSelectors:Lh,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(h.jc(),h.Vb(0,"label",0,1),h.Vb(2,"div",2),h.Vb(3,"input",3,4),h.dc("change",(function(e){return t._onInteractionEvent(e)}))("click",(function(e){return t._onInputClick(e)})),h.Ub(),h.Vb(5,"div",5),h.Rb(6,"div",6),h.Ub(),h.Rb(7,"div",7),h.Vb(8,"div",8),h.gc(),h.Vb(9,"svg",9),h.Rb(10,"path",10),h.Ub(),h.fc(),h.Rb(11,"div",11),h.Ub(),h.Ub(),h.Vb(12,"span",12,13),h.dc("cdkObserveContent",(function(){return t._onLabelTextChange()})),h.Vb(14,"span",14),h.yc(15,"\xa0"),h.Ub(),h.ic(16),h.Ub(),h.Ub()),2&e){const e=h.qc(1),i=h.qc(13);h.Fb("for",t.inputId),h.Eb(2),h.Hb("mat-checkbox-inner-container-no-side-margin",!i.textContent||!i.textContent.trim()),h.Eb(1),h.kc("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),h.Fb("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),h.Eb(2),h.kc("matRippleTrigger",e)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",h.mc(19,kh))}},directives:[G.q,Md.a],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),e})(),Th=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)}}),e})(),Ah=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[G.r,G.h,Md.c,Th],G.h,Th]}),e})();const Bh=["tabGroup"],jh=["flexEmployeeMemo"],Hh=["flexChangeHistory"];function Fh(e,t){1&e&&h.Rb(0,"mat-progress-bar",89),2&e&&h.kc("color","primary")("mode","indeterminate")}function Nh(e,t){if(1&e&&(h.Vb(0,"mat-option",90),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function zh(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Gh(e,t){if(1&e&&(h.Vb(0,"mat-option",92),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("value",e.Id)("disabled",i.isLocked),h.Eb(1),h.Ac(" ",e.Company," ")}}function Yh(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Qh(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Wh(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function qh(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Kh(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function $h(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Jh(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Zh(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Xh(e,t){if(1&e&&(h.Vb(0,"mat-option",90),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function eu(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function tu(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function iu(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function nu(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.TaxExemptionCode," ")}}function ou(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Shift," ")}}function au(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function ru(e,t){if(1&e&&(h.Vb(0,"mat-option",91),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i.isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function su(e,t){1&e&&h.Rb(0,"mat-progress-bar",93),2&e&&h.kc("color","primary")("mode","indeterminate")}function lu(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",94),h.dc("click",(function(){return h.rc(e),h.hc().EditEmployeeMemo()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function cu(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",95),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteEmployeeMemo()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function du(e,t){1&e&&h.Rb(0,"mat-progress-bar",93),2&e&&h.kc("color","primary")("mode","indeterminate")}function hu(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",97),h.dc("click",(function(){return h.rc(e),h.hc(2).BtnAddEmployeeMemo()})),h.Vb(1,"mat-icon"),h.yc(2,"add"),h.Ub(),h.yc(3," ADD "),h.Ub()}if(2&e){const e=h.hc(2);h.kc("disabled",e.isLocked)}}function uu(e,t){if(1&e&&(h.xc(0,hu,4,1,"button",96),h.Rb(1,"br")),2&e){const e=h.hc();h.kc("ngIf",e._isTabMemo)}}let pu=(()=>{class e{constructor(e,t,i,n,o,a,r,s){this.activatedRoute=e,this.snackBar=t,this.snackBarTemplate=i,this.employeeDetailService=n,this.softwareSecurityService=o,this.matDialog=a,this._decimalPipe=r,this.datePipe=s,this.userRightEmployeeDetail=null,this.employeePayrollModel={Id:0,EmployeeId:0,PayrollGroup:"",PayrollType:"",PayrollRate:"",MonthlyRate:"",DailyRate:"",HourlyRate:"",AbsentDailyRate:"",LateHourlyRate:"",UndertimeHourlyRate:"",OvertimeHourlyRate:"",NightDifferentialRate:"",SSSAddOnAmount:"",SSSComputationType:"",HDMFAddOnAmount:"",HDMFComputationType:"",TaxTable:"",TaxExemptionId:0,IsMinimumWageEarner:!0,CostOfLivingAllowance:"",AdditionalAllowance:"",ATMAccountNumber:"",SSSNumber:"",HDMFNumber:"",PHICNumber:"",TIN:""},this.employeeHRModel={Id:0,EmployeeId:0,DateHired:this.datePipe.transform(new Date,"yyyy-MM-dd"),DateRegular:this.datePipe.transform(new Date,"yyyy-MM-dd"),DateResigned:this.datePipe.transform(new Date,"yyyy-MM-dd"),Branch:"",Division:"",Department:"",Position:"",DefaultShiftId:""},this.UIDateHired=new Date,this.UIDateRegular=new Date,this.UIDateResigned=new Date,this.employeeModel={Id:0,EmployeeCode:"",IdNumber:0,BiometricIdNumber:"",LastName:"",FirstName:"",MiddleName:"",ExtensionName:"",FullName:"",Address:"",CityId:0,ZipCode:"",ContactNumber:"",ContactMobileNumber:"",EmailAddress:"",DateOfBirth:this.datePipe.transform(new Date,"yyyy-MM-dd"),PlaceOfBirth:"",Sex:"",CivilStatus:"",Citizenship:"",Height:"",Weight:"",BloodType:"",Religion:"",Remarks:"",PictureURL:"https://filbrokerstorage.blob.core.windows.net/crm-easyfis/3d225df6-aba5-40e7-9cb9-e8e97ee76762",CompanyId:0,UserId:0,Username:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:new Date,UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:new Date,IsLocked:!1,EmployeePayroll:new Cc,EmployeeHR:new Dc},this.UIDateOfBirth=new Date,this.isLocked=!1,this.isComponentsShown=!1,this.isProgressBarHidden=!1,this.isDataLoaded=!1,this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.zipCodeListDropdown=[],this.genderListDropdown=[],this.civilStatusListDropdown=[],this.citizenshipListDropdown=[],this.bloodTypeListDropdown=[],this.companyListDropdown=[],this.userListDropdown=[],this.cityListDropdown=[],this.religionListDropdown=[],this.payrollGroupListDropdown=[],this.payrollTypeListDropdown=[],this.sssComputationListDropdown=[],this.hdmfComputationListDropdown=[],this.taxTableListDropdown=[],this.taxExemptionListDropdown=[],this.branchListDropdown=[],this.divisionListDropdown=[],this.departmentListDropdown=[],this.positionListDropdown=[],this.shiftDropdown=[],this.inputTypePayrollRate="text",this.inputTypeMonthlyRate="text",this.inputTypeHourlyRate="text",this.inputTypeAbsentDailyRate="text",this.inputTypeDailyRate="text",this.inputTypeLateHourlyRate="text",this.inputTypeUndertimeHourlyRate="text",this.inputTypeNightDifferentialRate="text",this.inputTypeOvertimeHourlyRate="text",this.inputTypeSSSAddOnAmount="text",this.inputTypeHDMFAddOnAmount="text",this.inputTypeCostOfLivingAllowance="text",this.inputTypeAdditionalAllowance="text",this.inputTypeHeight="text",this.inputTypeWeight="text",this.imagefile="",this.uploadButtonDisabled=!0,this._listEmployeeMemoObservableArray=new na,this._listEmployeeMemoCollectionView=new oa(this._listEmployeeMemoObservableArray),this._listEmployeeMemoPageIndex=15,this._isEmployeeMemoProgressBarHidden=!1,this._isEmployeeMemDataLoaded=!1,this.buttonAddDisabled=!1,this._isTabMemo=!1,this._listChangeHistoryObservableArray=new na,this._listChangeHistoryCollectionView=new oa(this._listChangeHistoryObservableArray),this._listChangeHistoryPageIndex=15,this._isChangeHistoryProgressBarHidden=!1,this._isChangeHistoryDataLoaded=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetZipCodeListData(),this.softwareSecurityService.openModule("Employee Detail"),this.userRightEmployeeDetail=this.softwareSecurityService.GetModuleRights("Employee Detail")}))}GetZipCodeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.zipCodeDropdownSubscription=yield(yield this.employeeDetailService.ZipCodeList()).subscribe(e=>{this.zipCodeListDropdown=e,this.GetGenderListData(),null!==this.zipCodeDropdownSubscription&&this.zipCodeDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.zipCodeDropdownSubscription&&this.zipCodeDropdownSubscription.unsubscribe()})}))}GetGenderListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.genderDropdownSubscription=yield(yield this.employeeDetailService.GenderList()).subscribe(e=>{this.genderListDropdown=e,this.GetCivilStatusListData(),null!==this.genderDropdownSubscription&&this.genderDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.genderDropdownSubscription&&this.genderDropdownSubscription.unsubscribe()})}))}GetCivilStatusListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.civilStatusDropdownSubscription=yield(yield this.employeeDetailService.CivilStatusList()).subscribe(e=>{this.civilStatusListDropdown=e,this.GetCitizenshipListData(),null!==this.civilStatusDropdownSubscription&&this.civilStatusDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.civilStatusDropdownSubscription&&this.civilStatusDropdownSubscription.unsubscribe()})}))}GetCitizenshipListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.citizenshipDropdownSubscription=yield(yield this.employeeDetailService.CitizenshipList()).subscribe(e=>{this.citizenshipListDropdown=e,this.GetBloodTypeListData(),null!==this.citizenshipDropdownSubscription&&this.citizenshipDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.citizenshipDropdownSubscription&&this.citizenshipDropdownSubscription.unsubscribe()})}))}GetBloodTypeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.bloodTypeDropdownSubscription=yield(yield this.employeeDetailService.BloodTypeList()).subscribe(e=>{this.bloodTypeListDropdown=e,this.GetCompanyDropdownListData(),null!==this.bloodTypeDropdownSubscription&&this.bloodTypeDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.bloodTypeDropdownSubscription&&this.bloodTypeDropdownSubscription.unsubscribe()})}))}GetCompanyDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.companyDropdownSubscription=yield(yield this.employeeDetailService.CompanyList()).subscribe(e=>{this.companyListDropdown=e,this.GetUserDropdownListData(),null!==this.companyDropdownSubscription&&this.companyDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.companyDropdownSubscription&&this.companyDropdownSubscription.unsubscribe()})}))}GetUserDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.userDropdownSubscription=yield(yield this.employeeDetailService.UserList()).subscribe(e=>{this.userListDropdown=e,this.GetCityDropdownListData(),null!==this.userDropdownSubscription&&this.userDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.userDropdownSubscription&&this.userDropdownSubscription.unsubscribe()})}))}GetCityDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.cityDropdownSubscription=yield(yield this.employeeDetailService.CityList()).subscribe(e=>{this.cityListDropdown=e,this.GetReligionDropdownListData(),null!==this.cityDropdownSubscription&&this.cityDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.cityDropdownSubscription&&this.cityDropdownSubscription.unsubscribe()})}))}GetReligionDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.religionDropdownSubscription=yield(yield this.employeeDetailService.ReligionList()).subscribe(e=>{this.religionListDropdown=e,this.GetEmployeeDetail(),null!==this.religionDropdownSubscription&&this.religionDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.religionDropdownSubscription&&this.religionDropdownSubscription.unsubscribe()})}))}GetPayrollTypeDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.payrollTypeDropdownSubscription=yield(yield this.employeeDetailService.PayrollTypeList()).subscribe(e=>{this.GetPayrollGroupDropdownListData(),this.payrollTypeListDropdown=e,null!==this.payrollTypeDropdownSubscription&&this.payrollTypeDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.payrollTypeDropdownSubscription&&this.payrollTypeDropdownSubscription.unsubscribe()})}))}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.payrollGroupDropdownSubscription=yield(yield this.employeeDetailService.PayrollGroupList()).subscribe(e=>{this.payrollGroupListDropdown=e,this.SSSComputationDropdownListData(),null!==this.payrollGroupDropdownSubscription&&this.payrollGroupDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.payrollGroupDropdownSubscription&&this.payrollGroupDropdownSubscription.unsubscribe()})}))}SSSComputationDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.sssComputationDropdownSubscription=yield(yield this.employeeDetailService.SSSComputationList()).subscribe(e=>{this.sssComputationListDropdown=e,this.HDMFComputationDropdownListData(),null!==this.sssComputationDropdownSubscription&&this.sssComputationDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.sssComputationDropdownSubscription&&this.sssComputationDropdownSubscription.unsubscribe()})}))}HDMFComputationDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.hdmfComputationDropdownSubscription=yield(yield this.employeeDetailService.HDMFComputationList()).subscribe(e=>{this.hdmfComputationListDropdown=e,this.GetTaxTableDropdownListData(),null!==this.hdmfComputationDropdownSubscription&&this.hdmfComputationDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.hdmfComputationDropdownSubscription&&this.hdmfComputationDropdownSubscription.unsubscribe()})}))}GetTaxTableDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.taxTableDropdownSubscription=yield(yield this.employeeDetailService.TaxTableList()).subscribe(e=>{this.taxTableListDropdown=e,this.GetTaxExemptionDropdownListData(),null!==this.taxTableDropdownSubscription&&this.taxTableDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.taxTableDropdownSubscription&&this.taxTableDropdownSubscription.unsubscribe()})}))}GetTaxExemptionDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.taxExemptionDropdownSubscription=yield(yield this.employeeDetailService.TaxExemptionList()).subscribe(e=>{this.taxExemptionListDropdown=e,this.GetBranchDropdownListData(),null!==this.taxExemptionDropdownSubscription&&this.taxExemptionDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.taxExemptionDropdownSubscription&&this.taxExemptionDropdownSubscription.unsubscribe()})}))}GetBranchDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.branchDropdownSubscription=yield(yield this.employeeDetailService.BranchList()).subscribe(e=>{this.branchListDropdown=e,this.GetDivisionDropdownListData(),null!==this.branchDropdownSubscription&&this.branchDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.branchDropdownSubscription&&this.branchDropdownSubscription.unsubscribe()})}))}GetDivisionDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.divisionDropdownSubscription=yield(yield this.employeeDetailService.DivisionList()).subscribe(e=>{this.divisionListDropdown=e,this.GetDepartmentDropdownListData(),null!==this.divisionDropdownSubscription&&this.divisionDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.divisionDropdownSubscription&&this.divisionDropdownSubscription.unsubscribe()})}))}GetDepartmentDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.departmentDropdownSubscription=yield(yield this.employeeDetailService.DepartmentList()).subscribe(e=>{this.departmentListDropdown=e,this.GetPositionDropdownListData(),null!==this.departmentDropdownSubscription&&this.departmentDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.departmentDropdownSubscription&&this.departmentDropdownSubscription.unsubscribe()})}))}GetPositionDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.positionDropdownSubscription=yield(yield this.employeeDetailService.PList()).subscribe(e=>{this.positionListDropdown=e,this.GetShiftDropdownListData(),null!==this.positionDropdownSubscription&&this.positionDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.positionDropdownSubscription&&this.positionDropdownSubscription.unsubscribe()})}))}GetShiftDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.shiftDropdownSubscription=yield(yield this.employeeDetailService.ShiftList()).subscribe(e=>{this.shiftDropdown=e,null!==this.shiftDropdownSubscription&&this.shiftDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.shiftDropdownSubscription&&this.shiftDropdownSubscription.unsubscribe()})}))}GetEmployeeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons();let e=0;this.activatedRoute.params.subscribe(t=>{e=t.id}),this.isProgressBarHidden=!0,this.isComponentsShown=!1,this.employeeDetailSubscription=yield(yield this.employeeDetailService.EmployeeDetail(e)).subscribe(e=>{let t=e;console.log(t),null!=t&&(this.employeeModel.Id=t.Id,this.employeeModel.EmployeeCode=t.EmployeeCode,this.employeeModel.IdNumber=t.IdNumber,this.employeeModel.BiometricIdNumber=t.BiometricIdNumber,this.employeeModel.LastName=t.LastName,this.employeeModel.FirstName=t.FirstName,this.employeeModel.MiddleName=t.MiddleName,this.employeeModel.ExtensionName=t.ExtensionName,this.employeeModel.FullName=t.FullName,this.employeeModel.Address=t.Address,this.employeeModel.CityId=t.CityId,this.employeeModel.ZipCode=t.ZipCode,this.employeeModel.ContactNumber=t.ContactNumber,this.employeeModel.ContactMobileNumber=t.ContactMobileNumber,this.employeeModel.EmailAddress=t.EmailAddress,this.employeeModel.DateOfBirth=t.DateOfBirth,this.UIDateOfBirth=new Date(t.DateOfBirth),this.employeeModel.PlaceOfBirth=t.PlaceOfBirth,this.employeeModel.Sex=t.Sex,this.employeeModel.CivilStatus=t.CivilStatus,this.employeeModel.Citizenship=t.Citizenship,this.employeeModel.Height=this._decimalPipe.transform(t.Height,"1.2-2"),this.employeeModel.Weight=this._decimalPipe.transform(t.Weight,"1.2-2"),this.employeeModel.BloodType=t.BloodType,this.employeeModel.Religion=t.Religion,this.employeeModel.Remarks=t.Remarks,this.employeeModel.PictureURL=t.PictureURL,this.employeeModel.CompanyId=t.CompanyId,this.employeeModel.UserId=t.UserId,this.employeeModel.Username=t.Username,this.employeeModel.CreatedByUserId=t.CreatedByUserId,this.employeeModel.CreatedByUser=t.CreatedByUser,this.employeeModel.CreatedDateTime=t.CreatedDateTime,this.employeeModel.UpdatedByUserId=t.UpdatedByUserId,this.employeeModel.UpdatedByUser=t.UpdatedByUser,this.employeeModel.UpdatedDateTime=t.UpdatedDateTime,this.employeeModel.IsLocked=t.IsLocked,null!==t.EmployeePayroll?(this.employeeModel.EmployeePayroll=t.EmployeePayroll,this.employeeModel.EmployeePayroll.PayrollRate=this._decimalPipe.transform(t.EmployeePayroll.PayrollRate,"1.2-2"),this.employeeModel.EmployeePayroll.MonthlyRate=this._decimalPipe.transform(t.EmployeePayroll.MonthlyRate,"1.2-2"),this.employeeModel.EmployeePayroll.DailyRate=this._decimalPipe.transform(t.EmployeePayroll.DailyRate,"1.2-2"),this.employeeModel.EmployeePayroll.HourlyRate=this._decimalPipe.transform(t.EmployeePayroll.HourlyRate,"1.2-2"),this.employeeModel.EmployeePayroll.AbsentDailyRate=this._decimalPipe.transform(t.EmployeePayroll.AbsentDailyRate,"1.2-2"),this.employeeModel.EmployeePayroll.LateHourlyRate=this._decimalPipe.transform(t.EmployeePayroll.LateHourlyRate,"1.2-2"),this.employeeModel.EmployeePayroll.UndertimeHourlyRate=this._decimalPipe.transform(t.EmployeePayroll.UndertimeHourlyRate,"1.2-2"),this.employeeModel.EmployeePayroll.OvertimeHourlyRate=this._decimalPipe.transform(t.EmployeePayroll.OvertimeHourlyRate,"1.2-2"),this.employeeModel.EmployeePayroll.SSSAddOnAmount=this._decimalPipe.transform(t.EmployeePayroll.SSSAddOnAmount,"1.2-2"),this.employeeModel.EmployeePayroll.HDMFAddOnAmount=this._decimalPipe.transform(t.EmployeePayroll.HDMFAddOnAmount,"1.2-2"),this.employeeModel.EmployeePayroll.CostOfLivingAllowance=this._decimalPipe.transform(t.EmployeePayroll.CostOfLivingAllowance,"1.2-2"),this.employeeModel.EmployeePayroll.AdditionalAllowance=this._decimalPipe.transform(t.EmployeePayroll.AdditionalAllowance,"1.2-2"),this.employeeModel.EmployeePayroll.NightDifferentialRate=this._decimalPipe.transform(t.EmployeePayroll.NightDifferentialRate,"1.2-2")):(this.employeeModel.EmployeePayroll=this.employeePayrollModel,this.snackBarTemplate.snackBarError(this.snackBar,"Employee Payroll Null")),null!==t.EmployeeHR?(this.employeeModel.EmployeeHR=t.EmployeeHR,this.employeeModel.EmployeeHR.DateHired=t.EmployeeHR.DateHired,this.employeeModel.EmployeeHR.DateRegular=t.EmployeeHR.DateRegular,this.employeeModel.EmployeeHR.DateResigned=t.EmployeeHR.DateResigned,this.UIDateHired=new Date(t.EmployeeHR.DateHired),this.UIDateRegular=new Date(t.EmployeeHR.DateHired),this.UIDateResigned=new Date(t.EmployeeHR.DateHired)):(this.employeeModel.EmployeeHR=this.employeeHRModel,this.snackBarTemplate.snackBarError(this.snackBar,"Employee HR Null"))),this.loadComponent(t.IsLocked),this.isProgressBarHidden=!1,this.isDataLoaded=!0,this.isComponentsShown=!0,this.GetEmployeeMemoListData(),null!==this.employeeDetailSubscription&&this.employeeDetailSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.employeeDetailSubscription&&this.employeeDetailSubscription.unsubscribe()}),yield this.GetPayrollTypeDropdownListData()}))}GetUIDateOfBirth(){this.employeeModel.DateOfBirth=this.datePipe.transform(this.UIDateOfBirth,"yyyy-MM-dd")}GetUIDateHired(){this.employeeModel.EmployeeHR.DateHired=this.datePipe.transform(this.UIDateHired,"yyyy-MM-dd")}GetUIDateRegular(){this.employeeModel.EmployeeHR.DateRegular=this.datePipe.transform(this.UIDateRegular,"yyyy-MM-dd")}GetUIDateResigned(){this.employeeModel.EmployeeHR.DateResigned=this.datePipe.transform(this.UIDateResigned,"yyyy-MM-dd")}handleData(e){this.employeeModel.EmployeePayroll.IsMinimumWageEarner=e}SaveEmployeeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.saveEmployeeDetailSubscription=yield(yield this.employeeDetailService.SaveEmployee(this.employeeModel.Id,this.employeeModel)).subscribe(e=>{this.loadComponent(this.employeeModel.IsLocked),this.GetChangeHistoryListData(),this.isDataLoaded=!0,this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully."),null!==this.saveEmployeeDetailSubscription&&this.saveEmployeeDetailSubscription.unsubscribe()},e=>{this.loadComponent(this.employeeModel.IsLocked),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.saveEmployeeDetailSubscription&&this.saveEmployeeDetailSubscription.unsubscribe()}))}))}LockEmployeeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.lockEmployeeDetailSubscription=yield(yield this.employeeDetailService.LockEmployee(this.employeeModel.Id,this.employeeModel)).subscribe(e=>{this.loadComponent(!0),this.GetChangeHistoryListData(),this.isDataLoaded=!0,this.snackBarTemplate.snackBarSuccess(this.snackBar,"Lock Successfully."),null!==this.lockEmployeeDetailSubscription&&this.lockEmployeeDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.lockEmployeeDetailSubscription&&this.lockEmployeeDetailSubscription.unsubscribe()}))}))}UnlockEmployeeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.unlockEmployeeDetailSubscription=yield(yield this.employeeDetailService.Unlockemployee(this.employeeModel.Id)).subscribe(e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.snackBarTemplate.snackBarSuccess(this.snackBar,"Unlock Successfully."),null!==this.unlockEmployeeDetailSubscription&&this.unlockEmployeeDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.unlockEmployeeDetailSubscription&&this.unlockEmployeeDetailSubscription.unsubscribe()}))}))}btnUploadImage(){return Object(b.a)(this,void 0,void 0,(function*(){let e=document.getElementById("btnUploadPhoto");e.setAttribute("disabled","disabled");let t=document.getElementById("inputFileUploadPhoto");this.uploadPhotoSubscription=yield(yield this.employeeDetailService.uploadFile(t.files[0],this.employeeModel.FullName,this.employeeModel.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Uploaded Successfully."),this.employeeModel.PictureURL=e,null!==this.uploadPhotoSubscription&&this.uploadPhotoSubscription.unsubscribe()},t=>{this.isDataLoaded=!0,e.removeAttribute("disabled"),this.snackBarTemplate.snackBarError(this.snackBar,t.error+"  Status Code: "+t.status),null!==this.uploadPhotoSubscription&&this.uploadPhotoSubscription.unsubscribe()})}))}loadComponent(e){return Object(b.a)(this,void 0,void 0,(function*(){this.btnSaveDisabled=e,this.btnLockisabled=e,this.btnUnlockDisabled=!e,this.isLocked=e}))}disableButtons(){this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0}EditEmployeeNameDialog(){this.matDialog.open(Sc,{width:"1000px",data:{objDialogTitle:"Edit Employee Name",objEmployeeName:{LastName:this.employeeModel.LastName,FirstName:this.employeeModel.FirstName,MiddleName:this.employeeModel.MiddleName,ExtensionName:this.employeeModel.ExtensionName}},disableClose:!0}).afterClosed().subscribe(e=>{"Save"==e.event&&(this.employeeModel.LastName=e.objEmployeeName.LastName,this.employeeModel.FirstName=e.objEmployeeName.FirstName,this.employeeModel.MiddleName=e.objEmployeeName.MiddleName,this.employeeModel.ExtensionName=e.objEmployeeName.ExtensionName)})}LinkToUserName(){this.matDialog.open(Lc,{width:"500px",data:{objDialogTitle:"Link Username"},disableClose:!0}).afterClosed().subscribe(e=>{"Link"==e.event&&(this.employeeModel.UserId=e.UserId,this.employeeModel.Username=e.Username)})}restrictNumeric(e){let t;return""==e.key?0:!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||e.which<33||e.which<33||(t=String.fromCharCode(e.which),!!/^[0-9.,]+$/.test(t)))}RemoveComma(e){return e.toString().replace(/,/g,"")}PayrollRateToNumberTypeFocus(){this.employeeModel.EmployeePayroll.PayrollRate=this.RemoveComma(this.employeeModel.EmployeePayroll.PayrollRate),this.inputTypePayrollRate="number"}PayrollRateFormatValueFocusOut(){this.inputTypePayrollRate="text",this.employeeModel.EmployeePayroll.PayrollRate=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.PayrollRate?0:this.employeeModel.EmployeePayroll.PayrollRate,"1.2-2")}MonthlyRateToNumberTypeFocus(){this.employeeModel.EmployeePayroll.MonthlyRate=this.RemoveComma(this.employeeModel.EmployeePayroll.MonthlyRate),this.inputTypeMonthlyRate="number"}MonthlyRateFormatValueFocusOut(){this.inputTypeMonthlyRate="text",this.employeeModel.EmployeePayroll.MonthlyRate=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.MonthlyRate?0:this.employeeModel.EmployeePayroll.MonthlyRate,"1.2-2")}HourlyRateToNumberTypeFocus(){this.employeeModel.EmployeePayroll.HourlyRate=this.RemoveComma(this.employeeModel.EmployeePayroll.HourlyRate),this.inputTypeHourlyRate="number"}HourlyRateFormatValueFocusOut(){this.inputTypeHourlyRate="text",this.employeeModel.EmployeePayroll.HourlyRate=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.HourlyRate?0:this.employeeModel.EmployeePayroll.HourlyRate,"1.2-2")}AbsentDailyRateFormatValueFocusOut(){this.inputTypeAbsentDailyRate="text",this.employeeModel.EmployeePayroll.AbsentDailyRate=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.AbsentDailyRate?0:this.employeeModel.EmployeePayroll.AbsentDailyRate,"1.2-2")}AbsentDailyRateToNumberTypeFocus(){this.employeeModel.EmployeePayroll.AbsentDailyRate=this.RemoveComma(this.employeeModel.EmployeePayroll.AbsentDailyRate),this.inputTypeAbsentDailyRate="number"}DailyRateFormatValueFocusOut(){this.inputTypeDailyRate="text",this.employeeModel.EmployeePayroll.DailyRate=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.DailyRate?0:this.employeeModel.EmployeePayroll.DailyRate,"1.2-2")}DailyRateToNumberTypeFocus(){this.employeeModel.EmployeePayroll.DailyRate=this.RemoveComma(this.employeeModel.EmployeePayroll.DailyRate),this.inputTypeDailyRate="number"}LateHourlyRateFormatValueFocusOut(){this.inputTypeLateHourlyRate="text",this.employeeModel.EmployeePayroll.LateHourlyRate=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.LateHourlyRate?0:this.employeeModel.EmployeePayroll.LateHourlyRate,"1.2-2")}LateHourlyRateToNumberTypeFocus(){this.employeeModel.EmployeePayroll.LateHourlyRate=this.RemoveComma(this.employeeModel.EmployeePayroll.LateHourlyRate),this.inputTypeLateHourlyRate="number"}UndertimeHourlyRateFormatValueFocusOut(){this.inputTypeUndertimeHourlyRate="text",this.employeeModel.EmployeePayroll.UndertimeHourlyRate=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.UndertimeHourlyRate?0:this.employeeModel.EmployeePayroll.UndertimeHourlyRate,"1.2-2")}UndertimeHourlyRateToNumberTypeFocus(){this.employeeModel.EmployeePayroll.UndertimeHourlyRate=this.RemoveComma(this.employeeModel.EmployeePayroll.UndertimeHourlyRate),this.inputTypeUndertimeHourlyRate="number"}NightDifferentialRateFormatValueFocusOut(){this.inputTypeNightDifferentialRate="text",this.employeeModel.EmployeePayroll.NightDifferentialRate=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.NightDifferentialRate?0:this.employeeModel.EmployeePayroll.NightDifferentialRate,"1.2-2")}NightDifferentialRateToNumberTypeFocus(){this.employeeModel.EmployeePayroll.NightDifferentialRate=this.RemoveComma(this.employeeModel.EmployeePayroll.NightDifferentialRate),this.inputTypeNightDifferentialRate="number"}OvertimeHourlyRateFormatValueFocusOut(){this.inputTypeOvertimeHourlyRate="text",this.employeeModel.EmployeePayroll.OvertimeHourlyRate=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.OvertimeHourlyRate?0:this.employeeModel.EmployeePayroll.OvertimeHourlyRate,"1.2-2")}OvertimeHourlyRateToNumberTypeFocus(){this.employeeModel.EmployeePayroll.OvertimeHourlyRate=this.RemoveComma(this.employeeModel.EmployeePayroll.OvertimeHourlyRate),this.inputTypeOvertimeHourlyRate="number"}SSSAddOnAmountFormatValueFocusOut(){this.inputTypeSSSAddOnAmount="text",this.employeeModel.EmployeePayroll.SSSAddOnAmount=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.SSSAddOnAmount?0:this.employeeModel.EmployeePayroll.SSSAddOnAmount,"1.2-2")}SSSAddOnAmountToNumberTypeFocus(){this.employeeModel.EmployeePayroll.SSSAddOnAmount=this.RemoveComma(this.employeeModel.EmployeePayroll.SSSAddOnAmount),this.inputTypeSSSAddOnAmount="number"}HDMFAddOnAmountFormatValueFocusOut(){this.inputTypeHDMFAddOnAmount="text",this.employeeModel.EmployeePayroll.HDMFAddOnAmount=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.HDMFAddOnAmount?0:this.employeeModel.EmployeePayroll.HDMFAddOnAmount,"1.2-2")}HDMFAddOnAmountToNumberTypeFocus(){this.employeeModel.EmployeePayroll.HDMFAddOnAmount=this.RemoveComma(this.employeeModel.EmployeePayroll.HDMFAddOnAmount),this.inputTypeHDMFAddOnAmount="number"}CostOfLivingAllowanceFormatValueFocusOut(){this.inputTypeCostOfLivingAllowance="text",this.employeeModel.EmployeePayroll.CostOfLivingAllowance=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.CostOfLivingAllowance?0:this.employeeModel.EmployeePayroll.CostOfLivingAllowance,"1.2-2")}CostOfLivingAllowanceToNumberTypeFocus(){this.employeeModel.EmployeePayroll.CostOfLivingAllowance=this.RemoveComma(this.employeeModel.EmployeePayroll.CostOfLivingAllowance),this.inputTypeCostOfLivingAllowance="number"}AdditionalAllowanceFormatValueFocusOut(){this.inputTypeAdditionalAllowance="text",this.employeeModel.EmployeePayroll.AdditionalAllowance=this._decimalPipe.transform(""==this.employeeModel.EmployeePayroll.AdditionalAllowance?0:this.employeeModel.EmployeePayroll.AdditionalAllowance,"1.2-2")}AdditionalAllowanceToNumberTypeFocus(){this.employeeModel.EmployeePayroll.AdditionalAllowance=this.RemoveComma(this.employeeModel.EmployeePayroll.AdditionalAllowance),this.inputTypeAdditionalAllowance="number"}HeightFormatValueFocusOut(){this.inputTypeHeight="text",this.employeeModel.Height=this._decimalPipe.transform(""==this.employeeModel.Height?0:this.employeeModel.Height,"1.2-2")}HeightToNumberTypeFocus(){this.employeeModel.Height=this.RemoveComma(this.employeeModel.Height),this.inputTypeHeight="number"}WeightFormatValueFocusOut(){this.inputTypeWeight="text",this.employeeModel.Weight=this._decimalPipe.transform(""==this.employeeModel.Weight?0:this.employeeModel.Weight,"1.2-2")}WeightToNumberTypeFocus(){this.employeeModel.Weight=this.RemoveComma(this.employeeModel.Weight),this.inputTypeWeight="number"}documentFileOnChange(){""!==this.imagefile&&(this.uploadButtonDisabled=!1)}GetEmployeeMemoListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listEmployeeMemoObservableArray=new na,this._listEmployeeMemoCollectionView=new oa(this._listEmployeeMemoObservableArray),this._listEmployeeMemoCollectionView.pageSize=15,this._listEmployeeMemoCollectionView.trackChanges=!0,yield this._listEmployeeMemoCollectionView.refresh(),yield this._flexEmployeeMemo.refresh(),this._isEmployeeMemoProgressBarHidden=!0,this._employeeMemoListSubscription=(yield this.employeeDetailService.EmployeeMemoList(this.employeeModel.Id)).subscribe(e=>{e.length>0&&(this._listEmployeeMemoCollectionView=e,this._listEmployeeMemoCollectionView=new oa(this._listEmployeeMemoCollectionView),this._listEmployeeMemoCollectionView.pageSize=15,this._listEmployeeMemoCollectionView.trackChanges=!0,this._listEmployeeMemoCollectionView.refresh(),this._flexEmployeeMemo.refresh()),this._isEmployeeMemDataLoaded=!0,this._isEmployeeMemoProgressBarHidden=!1,null!=this._employeeMemoListSubscription&&this._employeeMemoListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._employeeMemoListSubscription&&this._employeeMemoListSubscription.unsubscribe()}),yield this.GetChangeHistoryListData()}))}BtnAddEmployeeMemo(){let e={Id:0,EmployeeId:this.employeeModel.Id,MemoCode:"0000000000",MemoDate:this.datePipe.transform(new Date,"yyyy-MM-dd"),Particulars:"NA",AttachmentURL:"NA",AttachmentType:""};console.log(this._isEmployeeMemDataLoaded),this.DetailEmployeeMemo(e,"Add Memo")}EditEmployeeMemo(){this.DetailEmployeeMemo(this._listEmployeeMemoCollectionView.currentItem,"Edit Memo")}AddEmployeeMemoModel(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonAddDisabled=!0,1==this._isEmployeeMemDataLoaded&&(this._isEmployeeMemDataLoaded=!1,this._addEmployeeMemoSubscription=(yield this.employeeDetailService.AddEmployeeMemo(e)).subscribe(e=>{this.buttonAddDisabled=!1,this._isEmployeeMemDataLoaded=!0,this.GetEmployeeMemoListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully"),null!=this._addEmployeeMemoSubscription&&this._addEmployeeMemoSubscription.unsubscribe()},e=>{this.buttonAddDisabled=!1,this._isEmployeeMemDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addEmployeeMemoSubscription&&this._addEmployeeMemoSubscription.unsubscribe()}))}))}SaveEmployeeMemo(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonAddDisabled=!0,1==this._isEmployeeMemDataLoaded&&(this._isEmployeeMemDataLoaded=!1,this._addEmployeeMemoSubscription=(yield this.employeeDetailService.SaveEmployeeMemo(e)).subscribe(e=>{this.buttonAddDisabled=!1,this._isEmployeeMemDataLoaded=!0,this.GetEmployeeMemoListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully")},e=>{this.buttonAddDisabled=!1,this._isEmployeeMemDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addEmployeeMemoSubscription&&this._addEmployeeMemoSubscription.unsubscribe()}))}))}DeleteEmployeeMemo(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this._isEmployeeMemDataLoaded){this._isEmployeeMemDataLoaded=!1;let e=this._listEmployeeMemoCollectionView.currentItem;this._isEmployeeMemoProgressBarHidden=!0,this._deleteEmployeeMemoSubscription=(yield this.employeeDetailService.DeleteEmployeeMemo(e.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetEmployeeMemoListData(),this._isEmployeeMemoProgressBarHidden=!1,this._isEmployeeMemDataLoaded=!0},e=>{this._isEmployeeMemDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this._deleteEmployeeMemoSubscription&&this._deleteEmployeeMemoSubscription.unsubscribe()})}}))}ComfirmDeleteEmployeeMemo(){this.matDialog.open(sr,{width:"500px",data:{objDialogTitle:"",objComfirmationMessage:`Delete ${this._listEmployeeMemoCollectionView.currentItem.MemoCode}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteEmployeeMemo()})}DetailEmployeeMemo(e,t){this.matDialog.open(Ud,{width:"1000px",data:{objDialogTitle:t,objData:e},disableClose:!0}).afterClosed().subscribe(e=>{let t={Id:e.objData.Id,EmployeeId:e.objData.EmployeeId,MemoCode:e.objData.MemoCode,MemoDate:e.objData.MemoDate,Particulars:e.objData.Particulars,AttachmentURL:e.objData.AttachmentURL,AttachmentType:e.objData.AttachmentType};console.log(e.event),"Add"===e.event&&this.AddEmployeeMemoModel(t),"Edit"===e.event&&this.SaveEmployeeMemo(t)})}activeTab(){return Object(b.a)(this,void 0,void 0,(function*(){this._isTabMemo=yield!1,3==this.tabGroup.selectedIndex&&(this._isTabMemo=yield!0)}))}GetChangeHistoryListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listChangeHistoryObservableArray=new na,this._listChangeHistoryCollectionView=new oa(this._listChangeHistoryObservableArray),this._listChangeHistoryCollectionView.pageSize=15,this._listChangeHistoryCollectionView.trackChanges=!0,yield this._listChangeHistoryCollectionView.refresh(),yield this._flexChangeHistory.refresh(),this._isChangeHistoryProgressBarHidden=!0,this._ChangeHistoryListSubscription=(yield this.employeeDetailService.ChangeHistoryList(this.employeeModel.Id)).subscribe(e=>{e.length>0&&(this._listChangeHistoryCollectionView=e,this._listChangeHistoryCollectionView=new oa(this._listChangeHistoryCollectionView),this._listChangeHistoryCollectionView.pageSize=15,this._listChangeHistoryCollectionView.trackChanges=!0,this._listChangeHistoryCollectionView.refresh(),this._flexChangeHistory.refresh()),this._isChangeHistoryDataLoaded=!0,this._isChangeHistoryProgressBarHidden=!1,null!=this._ChangeHistoryListSubscription&&this._ChangeHistoryListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._ChangeHistoryListSubscription&&this._ChangeHistoryListSubscription.unsubscribe()})}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(xc),h.Qb(y),h.Qb(Xa),h.Qb(l.e),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-employee-detail"]],viewQuery:function(e,t){var i;1&e&&(h.Ec(Bh,!0),h.Ec(jh,!0),h.Ec(Hh,!0)),2&e&&(h.pc(i=h.ec())&&(t.tabGroup=i.first),h.pc(i=h.ec())&&(t._flexEmployeeMemo=i.first),h.pc(i=h.ec())&&(t._flexChangeHistory=i.first))},decls:498,vars:232,consts:[["src","../../../../assets/menu-icons/employees.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","routerLink","/software/employee-list","color","warn",2,"margin-right","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container",2,"min-height","1000px"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","18"],["fxFlex","100",2,"padding","5px"],[2,"width","100%",3,"src"],["mat-dialog-content","",2,"padding","15px 30px"],["id","inputFileUploadPhoto","placeholder","","type","file","accept","image/*",2,"width","100%",3,"ngModel","disabled","ngModelChange","change"],["mat-flat-button","","color","accent","id","btnUploadPhoto",2,"width","100%",3,"disabled","click"],["fxFlex","80"],[2,"margin-left","5px",3,"vertical"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Full Name",3,"ngModel","readonly","ngModelChange"],["mat-flat-button","",2,"margin-top","5px","width","100%","height","60%","background-color","#985eff","color","white",3,"disabled","click"],["fxFlex","100",2,"padding","15px"],[3,"ngModel","ngModelChange"],["disabled","",3,"disabled","value",4,"ngFor","ngForOf"],[3,"disabled","value",4,"ngFor","ngForOf"],["matInput","","placeholder","Contact No.",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","Contact Mobile No.",3,"ngModel","readonly","ngModelChange"],[3,"vertical"],["appearance","outline","readonly","",2,"width","100%"],[3,"value","disabled",4,"ngFor","ngForOf"],["fxFlex","50",2,"padding","5px","margin","10px"],["mat-flat-button","",2,"width","100%","height","70%","background-color","#00a4ef","color","white",3,"disabled","click"],[1,"detail-tab",3,"selectedTabChange"],["tabGroup",""],["label","General"],["matInput","","placeholder","Address","rows","1",3,"ngModel","readonly","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","readonly","ngModelChange","dateInput"],["matSuffix","",3,"for","disabled"],["color","primary"],["datePickerUIDateOfBirth",""],["matInput","","placeholder","Place Of Birth",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","Email Address",3,"ngModel","readonly","ngModelChange"],["fxFlex","33",2,"padding","5px"],["fxFlex","34",2,"padding","5px"],["matInput","","placeholder","Contact No.",2,"text-align","right",3,"type","ngModel","readonly","ngModelChange","focus","focusout"],["matInput","","placeholder","Civil Status",2,"text-align","right",3,"type","ngModel","readonly","ngModelChange","focus","focusout"],["appearance","outline","readonly","","disabled","",2,"width","100%"],["fxFlex","100",2,"margin","5px"],["matInput","","placeholder","Remarks","rows","5",2,"min-height","102px",3,"ngModel","readonly","ngModelChange"],["label","Payroll"],["type","text","matInput","","placeholder","0.00",2,"text-align","right",3,"ngModel","readonly","ngModelChange","focus","focusout"],["matInput","","placeholder","0.00",2,"text-align","right",3,"type","ngModel","readonly","ngModelChange","focus","focusout"],["matInput","","placeholder","0.00",2,"text-align","right",3,"type","readonly","ngModel","ngModelChange","focus","focusout"],["matInput","","placeholder","0.00","ui-number-mask","2",2,"text-align","right",3,"type","ngModel","readonly","ngModelChange","keypress","focus","focusout"],["matInput","","placeholder","ATMA ccount No.",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","0.00",2,"text-align","right",3,"type","ngModel","readonly","ngModelChange","(focus","focusout"],["matInput","","placeholder","SSSNumber",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","HDMFNumber",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","TIN",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","PHICNumber",3,"ngModel","readonly","ngModelChange"],["fxFlex","34",2,"padding","23px","text-align","start","display","inline"],[2,"width","100%","border","gray 1px !important"],["color","primary",3,"disabled","ngModel","ngModelChange"],[2,"color","gray"],["label","HR"],["datePickerUIDateHired",""],["datePickerUIDateRegular",""],["datePickerUIDateResigned",""],["label","Memo"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexEmployeeMemo",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],[2,"margin-top","10px","margin-bottom","10px"],[3,"click"],[2,"margin-right","-15px"],[2,"width","100px"],["label","Change History"],["flexChangeHistory",""],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],[2,"margin-top","10px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray","margin-bottom","15px"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[2,"width","100%",3,"color","mode"],["disabled","",3,"disabled","value"],[3,"disabled","value"],[3,"value","disabled"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditTaxExempt",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn","id","btnDeleteEmployeeMemo",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary","style","float: right; margin: 5px;",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){if(1&e){h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Employee Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SaveEmployeeDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockEmployeeDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockEmployeeDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.Vb(18,"mat-icon"),h.yc(19,"close"),h.Ub(),h.yc(20," Close "),h.Ub(),h.Ub(),h.xc(21,Fh,1,2,"mat-progress-bar",4),h.Vb(22,"div",5),h.Vb(23,"div",6),h.Vb(24,"div",7),h.Vb(25,"div",8),h.Vb(26,"div",7),h.Vb(27,"div",9),h.Vb(28,"mat-card"),h.Rb(29,"img",10),h.Ub(),h.Vb(30,"div",11),h.Vb(31,"input",12),h.dc("ngModelChange",(function(e){return t.imagefile=e}))("change",(function(){return t.documentFileOnChange()})),h.Ub(),h.Ub(),h.Vb(32,"button",13),h.dc("click",(function(){return t.btnUploadImage()})),h.Vb(33,"mat-icon"),h.yc(34,"insert_photo"),h.Ub(),h.yc(35," Upload Photo "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(36,"div",14),h.Vb(37,"div",7),h.Rb(38,"mat-divider",15),h.Vb(39,"div",16),h.Vb(40,"div",7),h.Vb(41,"div",16),h.Vb(42,"mat-form-field",17),h.Vb(43,"mat-label"),h.yc(44,"Employee Code"),h.Ub(),h.Vb(45,"input",18),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeeCode=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(46,"div",16),h.Vb(47,"button",19),h.dc("click",(function(){return t.EditEmployeeNameDialog()})),h.Vb(48,"mat-icon"),h.yc(49,"edit"),h.Ub(),h.yc(50," Edit Name "),h.Ub(),h.Ub(),h.Ub(),h.Vb(51,"div",7),h.Vb(52,"div",20),h.Vb(53,"h1"),h.Vb(54,"b"),h.yc(55),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(56,"div",7),h.Vb(57,"div",16),h.Vb(58,"mat-form-field",17),h.Vb(59,"mat-label"),h.yc(60,"Position"),h.Ub(),h.Vb(61,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeeHR.Position=e})),h.xc(62,Nh,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Vb(63,"div",16),h.Vb(64,"mat-form-field",17),h.Vb(65,"mat-label"),h.yc(66,"Payroll Group"),h.Ub(),h.Vb(67,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.PayrollGroup=e})),h.xc(68,zh,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(69,"div",7),h.Vb(70,"div",16),h.Vb(71,"mat-form-field",17),h.Vb(72,"mat-label"),h.yc(73,"Contact Tel No."),h.Ub(),h.Vb(74,"input",24),h.dc("ngModelChange",(function(e){return t.employeeModel.ContactNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(75,"div",16),h.Vb(76,"mat-form-field",17),h.Vb(77,"mat-label"),h.yc(78,"Contact Mobile No."),h.Ub(),h.Vb(79,"input",25),h.dc("ngModelChange",(function(e){return t.employeeModel.ContactMobileNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(80,"mat-divider",26),h.Vb(81,"div",16),h.Vb(82,"div",7),h.Vb(83,"div",16),h.Vb(84,"mat-form-field",17),h.Vb(85,"mat-label"),h.yc(86,"ID Number"),h.Ub(),h.Vb(87,"input",18),h.dc("ngModelChange",(function(e){return t.employeeModel.IdNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(88,"div",16),h.Vb(89,"mat-form-field",17),h.Vb(90,"mat-label"),h.yc(91,"Biometric ID Number"),h.Ub(),h.Vb(92,"input",18),h.dc("ngModelChange",(function(e){return t.employeeModel.BiometricIdNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(93,"div",7),h.Vb(94,"div",9),h.Vb(95,"mat-form-field",27),h.Vb(96,"mat-label"),h.yc(97,"Company"),h.Ub(),h.Vb(98,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.CompanyId=e})),h.xc(99,Gh,2,3,"mat-option",28),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(100,"div",7),h.Vb(101,"div",9),h.Vb(102,"mat-form-field",17),h.Vb(103,"mat-label"),h.yc(104,"Branch"),h.Ub(),h.Vb(105,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeeHR.Branch=e})),h.xc(106,Yh,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(107,"div",7),h.Vb(108,"div",29),h.Vb(109,"h3"),h.yc(110),h.Ub(),h.Ub(),h.Vb(111,"div",16),h.Vb(112,"button",30),h.dc("click",(function(){return t.LinkToUserName()})),h.Vb(113,"mat-icon"),h.yc(114,"link"),h.Ub(),h.yc(115," Link Username "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(116,"mat-divider"),h.Vb(117,"mat-tab-group",31,32),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(119,"mat-tab",33),h.Rb(120,"br"),h.Vb(121,"div",7),h.Vb(122,"div",16),h.Vb(123,"div",7),h.Vb(124,"div",9),h.Vb(125,"mat-form-field",17),h.Vb(126,"mat-label"),h.yc(127,"Address"),h.Ub(),h.Vb(128,"textarea",34),h.dc("ngModelChange",(function(e){return t.employeeModel.Address=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(129,"div",7),h.Vb(130,"div",16),h.Vb(131,"mat-form-field",17),h.Vb(132,"mat-label"),h.yc(133,"City"),h.Ub(),h.Vb(134,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.CityId=e})),h.xc(135,Qh,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(136,"div",16),h.Vb(137,"mat-form-field",17),h.Vb(138,"mat-label"),h.yc(139,"Zip Code"),h.Ub(),h.Vb(140,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.ZipCode=e})),h.xc(141,Wh,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(142,"div",7),h.Vb(143,"div",16),h.Vb(144,"mat-form-field",17),h.Vb(145,"mat-label"),h.yc(146,"Date Of Birth"),h.Ub(),h.Vb(147,"input",35),h.dc("ngModelChange",(function(e){return t.UIDateOfBirth=e}))("dateInput",(function(){return t.GetUIDateOfBirth()})),h.Ub(),h.Rb(148,"mat-datepicker-toggle",36),h.Rb(149,"mat-datepicker",37,38),h.Ub(),h.Ub(),h.Vb(151,"div",16),h.Vb(152,"mat-form-field",17),h.Vb(153,"mat-label"),h.yc(154,"Place Of Birth"),h.Ub(),h.Vb(155,"input",39),h.dc("ngModelChange",(function(e){return t.employeeModel.PlaceOfBirth=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(156,"div",7),h.Vb(157,"div",16),h.Vb(158,"mat-form-field",17),h.Vb(159,"mat-label"),h.yc(160,"Religion"),h.Ub(),h.Vb(161,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.Religion=e})),h.xc(162,qh,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(163,"div",16),h.Vb(164,"mat-form-field",17),h.Vb(165,"mat-label"),h.yc(166,"Email Address"),h.Ub(),h.Vb(167,"input",40),h.dc("ngModelChange",(function(e){return t.employeeModel.EmailAddress=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(168,"div",16),h.Vb(169,"div",7),h.Vb(170,"div",41),h.Vb(171,"mat-form-field",17),h.Vb(172,"mat-label"),h.yc(173,"Civil Status"),h.Ub(),h.Vb(174,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.CivilStatus=e})),h.xc(175,Kh,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(176,"div",41),h.Vb(177,"mat-form-field",17),h.Vb(178,"mat-label"),h.yc(179,"Sex"),h.Ub(),h.Vb(180,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.Sex=e})),h.xc(181,$h,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(182,"div",42),h.Vb(183,"mat-form-field",17),h.Vb(184,"mat-label"),h.yc(185,"Citizenship"),h.Ub(),h.Vb(186,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.Citizenship=e})),h.xc(187,Jh,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(188,"div",7),h.Vb(189,"div",41),h.Vb(190,"mat-form-field",17),h.Vb(191,"mat-label"),h.yc(192,"Height (cm)"),h.Ub(),h.Vb(193,"input",43),h.dc("ngModelChange",(function(e){return t.employeeModel.Height=e}))("focus",(function(){return t.HeightToNumberTypeFocus()}))("focusout",(function(){return t.HeightFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(194,"div",41),h.Vb(195,"mat-form-field",17),h.Vb(196,"mat-label"),h.yc(197,"Weight (kg)"),h.Ub(),h.Vb(198,"input",44),h.dc("ngModelChange",(function(e){return t.employeeModel.Weight=e}))("focus",(function(){return t.WeightToNumberTypeFocus()}))("focusout",(function(){return t.WeightFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(199,"div",42),h.Vb(200,"mat-form-field",45),h.Vb(201,"mat-label"),h.yc(202,"BloodType"),h.Ub(),h.Vb(203,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.BloodType=e})),h.xc(204,Zh,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(205,"div",7),h.Vb(206,"div",46),h.Vb(207,"mat-form-field",17),h.Vb(208,"mat-label"),h.yc(209,"Remarks"),h.Ub(),h.Vb(210,"textarea",47),h.dc("ngModelChange",(function(e){return t.employeeModel.Remarks=e})),h.yc(211," "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(212,"mat-tab",48),h.Rb(213,"br"),h.Vb(214,"div",7),h.Vb(215,"div",16),h.Vb(216,"div",7),h.Vb(217,"div",16),h.Vb(218,"mat-form-field",17),h.Vb(219,"mat-label"),h.yc(220,"Payroll Type"),h.Ub(),h.Vb(221,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.PayrollType=e})),h.xc(222,Xh,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Vb(223,"div",16),h.Vb(224,"mat-form-field",17),h.Vb(225,"mat-label"),h.yc(226,"Hourly Rate"),h.Ub(),h.Vb(227,"input",49),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.HourlyRate=e}))("focus",(function(){return t.HourlyRateToNumberTypeFocus()}))("focusout",(function(){return t.HourlyRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(228,"div",7),h.Vb(229,"div",16),h.Vb(230,"mat-form-field",17),h.Vb(231,"mat-label"),h.yc(232,"Monthly Rate"),h.Ub(),h.Vb(233,"input",50),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.MonthlyRate=e}))("focus",(function(){return t.MonthlyRateToNumberTypeFocus()}))("focusout",(function(){return t.MonthlyRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(234,"div",16),h.Vb(235,"mat-form-field",17),h.Vb(236,"mat-label"),h.yc(237,"Late Hourly Rate"),h.Ub(),h.Vb(238,"input",50),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.LateHourlyRate=e}))("focus",(function(){return t.LateHourlyRateToNumberTypeFocus()}))("focusout",(function(){return t.LateHourlyRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(239,"div",7),h.Vb(240,"div",16),h.Vb(241,"mat-form-field",17),h.Vb(242,"mat-label"),h.yc(243,"Payroll Rate"),h.Ub(),h.Vb(244,"input",51),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.PayrollRate=e}))("focus",(function(){return t.PayrollRateToNumberTypeFocus()}))("focusout",(function(){return t.PayrollRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(245,"div",16),h.Vb(246,"mat-form-field",17),h.Vb(247,"mat-label"),h.yc(248,"Under timeHourly Rate"),h.Ub(),h.Vb(249,"input",50),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.UndertimeHourlyRate=e}))("focus",(function(){return t.UndertimeHourlyRateToNumberTypeFocus()}))("focusout",(function(){return t.UndertimeHourlyRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(250,"div",7),h.Vb(251,"div",16),h.Vb(252,"mat-form-field",17),h.Vb(253,"mat-label"),h.yc(254,"Daily Rate"),h.Ub(),h.Vb(255,"input",50),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.DailyRate=e}))("focus",(function(){return t.DailyRateToNumberTypeFocus()}))("focusout",(function(){return t.DailyRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(256,"div",16),h.Vb(257,"mat-form-field",17),h.Vb(258,"mat-label"),h.yc(259,"Overtime Hourly Rate"),h.Ub(),h.Vb(260,"input",52),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.OvertimeHourlyRate=e}))("keypress",(function(e){return t.restrictNumeric(e)}))("focus",(function(){return t.OvertimeHourlyRateToNumberTypeFocus()}))("focusout",(function(){return t.OvertimeHourlyRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(261,"div",7),h.Vb(262,"div",16),h.Vb(263,"mat-form-field",17),h.Vb(264,"mat-label"),h.yc(265,"Absent Daily Rate"),h.Ub(),h.Vb(266,"input",50),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.AbsentDailyRate=e}))("focus",(function(){return t.AbsentDailyRateToNumberTypeFocus()}))("focusout",(function(){return t.AbsentDailyRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(267,"div",16),h.Vb(268,"mat-form-field",17),h.Vb(269,"mat-label"),h.yc(270,"Night Differential Rate"),h.Ub(),h.Vb(271,"input",50),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.NightDifferentialRate=e}))("focus",(function(){return t.NightDifferentialRateToNumberTypeFocus()}))("focusout",(function(){return t.NightDifferentialRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(272,"div",16),h.Vb(273,"div",7),h.Vb(274,"div",16),h.Vb(275,"mat-form-field",17),h.Vb(276,"mat-label"),h.yc(277,"ATMA ccount No."),h.Ub(),h.Vb(278,"input",53),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.ATMAccountNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(279,"div",16),h.Vb(280,"mat-form-field",17),h.Vb(281,"mat-label"),h.yc(282,"Cost Of Living Allowance"),h.Ub(),h.Vb(283,"input",54),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.CostOfLivingAllowance=e}))("(focus",(function(){return t.CostOfLivingAllowanceToNumberTypeFocus()}))("focusout",(function(){return t.CostOfLivingAllowanceFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(284,"div",7),h.Vb(285,"div",41),h.Vb(286,"mat-form-field",17),h.Vb(287,"mat-label"),h.yc(288,"SSSNumber"),h.Ub(),h.Vb(289,"input",55),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.SSSNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(290,"div",41),h.Vb(291,"mat-form-field",17),h.Vb(292,"mat-label"),h.yc(293,"HDMFNumber"),h.Ub(),h.Vb(294,"input",56),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.HDMFNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(295,"div",42),h.Vb(296,"mat-form-field",17),h.Vb(297,"mat-label"),h.yc(298,"TIN"),h.Ub(),h.Vb(299,"input",57),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.TIN=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(300,"div",7),h.Vb(301,"div",41),h.Vb(302,"mat-form-field",17),h.Vb(303,"mat-label"),h.yc(304,"SSS Computation Type"),h.Ub(),h.Vb(305,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.SSSComputationType=e})),h.xc(306,eu,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(307,"div",41),h.Vb(308,"mat-form-field",17),h.Vb(309,"mat-label"),h.yc(310,"HDMF Computation Type"),h.Ub(),h.Vb(311,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.HDMFComputationType=e})),h.xc(312,tu,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(313,"div",42),h.Vb(314,"mat-form-field",17),h.Vb(315,"mat-label"),h.yc(316,"Tax Table"),h.Ub(),h.Vb(317,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.TaxTable=e})),h.xc(318,iu,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(319,"div",7),h.Vb(320,"div",41),h.Vb(321,"mat-form-field",17),h.Vb(322,"mat-label"),h.yc(323,"SSS Add On Amount"),h.Ub(),h.Vb(324,"input",50),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.SSSAddOnAmount=e}))("focus",(function(){return t.SSSAddOnAmountToNumberTypeFocus()}))("focusout",(function(){return t.SSSAddOnAmountFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(325,"div",41),h.Vb(326,"mat-form-field",17),h.Vb(327,"mat-label"),h.yc(328,"HDMF Add On Amount"),h.Ub(),h.Vb(329,"input",50),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.HDMFAddOnAmount=e}))("focus",(function(){return t.HDMFAddOnAmountToNumberTypeFocus()}))("focusout",(function(){return t.HDMFAddOnAmountFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(330,"div",42),h.Vb(331,"mat-form-field",17),h.Vb(332,"mat-label"),h.yc(333,"Tax Exemption"),h.Ub(),h.Vb(334,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.TaxExemptionId=e})),h.xc(335,nu,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(336,"div",7),h.Vb(337,"div",41),h.Vb(338,"mat-form-field",17),h.Vb(339,"mat-label"),h.yc(340,"Additional Allowance"),h.Ub(),h.Vb(341,"input",50),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.AdditionalAllowance=e}))("focus",(function(){return t.AdditionalAllowanceToNumberTypeFocus()}))("focusout",(function(){return t.AdditionalAllowanceFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(342,"div",41),h.Vb(343,"mat-form-field",17),h.Vb(344,"mat-label"),h.yc(345,"PHICNumber"),h.Ub(),h.Vb(346,"input",58),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.PHICNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(347,"div",59),h.Vb(348,"div",60),h.Vb(349,"mat-checkbox",61),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeePayroll.IsMinimumWageEarner=e})),h.Vb(350,"span",62),h.yc(351," Is Minimum Wage Earner"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(352,"mat-tab",63),h.Rb(353,"br"),h.Vb(354,"div",7),h.Vb(355,"div",16),h.Vb(356,"div",7),h.Vb(357,"div",9),h.Vb(358,"mat-form-field",45),h.Vb(359,"mat-label"),h.yc(360,"Shift Code"),h.Ub(),h.Vb(361,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeeHR.DefaultShiftId=e})),h.xc(362,ou,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(363,"div",7),h.Vb(364,"div",41),h.Vb(365,"mat-form-field",17),h.Vb(366,"mat-label"),h.yc(367,"Date Hired"),h.Ub(),h.Vb(368,"input",35),h.dc("ngModelChange",(function(e){return t.UIDateHired=e}))("dateInput",(function(){return t.GetUIDateHired()})),h.Ub(),h.Rb(369,"mat-datepicker-toggle",36),h.Rb(370,"mat-datepicker",37,64),h.Ub(),h.Ub(),h.Vb(372,"div",41),h.Vb(373,"mat-form-field",17),h.Vb(374,"mat-label"),h.yc(375,"Date Regular"),h.Ub(),h.Vb(376,"input",35),h.dc("ngModelChange",(function(e){return t.UIDateRegular=e}))("dateInput",(function(){return t.GetUIDateRegular()})),h.Ub(),h.Rb(377,"mat-datepicker-toggle",36),h.Rb(378,"mat-datepicker",37,65),h.Ub(),h.Ub(),h.Vb(380,"div",42),h.Vb(381,"mat-form-field",17),h.Vb(382,"mat-label"),h.yc(383,"Date Resigned"),h.Ub(),h.Vb(384,"input",35),h.dc("ngModelChange",(function(e){return t.UIDateResigned=e}))("dateInput",(function(){return t.GetUIDateResigned()})),h.Ub(),h.Rb(385,"mat-datepicker-toggle",36),h.Rb(386,"mat-datepicker",37,66),h.Ub(),h.Ub(),h.Ub(),h.Vb(388,"div",7),h.Vb(389,"div",16),h.Vb(390,"mat-form-field",17),h.Vb(391,"mat-label"),h.yc(392,"Division"),h.Ub(),h.Vb(393,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeeHR.Division=e})),h.xc(394,au,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(395,"div",16),h.Vb(396,"mat-form-field",17),h.Vb(397,"mat-label"),h.yc(398,"Department"),h.Ub(),h.Vb(399,"mat-select",21),h.dc("ngModelChange",(function(e){return t.employeeModel.EmployeeHR.Department=e})),h.xc(400,ru,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(401,"div",16),h.Ub(),h.Ub(),h.Vb(402,"mat-tab",67),h.xc(403,su,1,2,"mat-progress-bar",68),h.Vb(404,"wj-flex-grid",69,70),h.Rb(406,"wj-flex-grid-filter"),h.Vb(407,"wj-flex-grid-column",71),h.xc(408,lu,4,0,"ng-template",72),h.Ub(),h.Vb(409,"wj-flex-grid-column",71),h.xc(410,cu,4,0,"ng-template",72),h.Ub(),h.Rb(411,"wj-flex-grid-column",73),h.Rb(412,"wj-flex-grid-column",73),h.Rb(413,"wj-flex-grid-column",73),h.Rb(414,"wj-flex-grid-column",73),h.Rb(415,"wj-flex-grid-column",73),h.Ub(),h.Vb(416,"mat-button-toggle-group",74),h.Vb(417,"mat-button-toggle",75),h.dc("click",(function(){return t._listEmployeeMemoCollectionView.moveToFirstPage()})),h.Vb(418,"mat-icon",76),h.yc(419,"navigate_before"),h.Ub(),h.Vb(420,"mat-icon"),h.yc(421,"navigate_before"),h.Ub(),h.Ub(),h.Vb(422,"mat-button-toggle",75),h.dc("click",(function(){return t._listEmployeeMemoCollectionView.moveToPreviousPage()})),h.Vb(423,"mat-icon"),h.yc(424,"navigate_before"),h.Ub(),h.Ub(),h.Vb(425,"mat-button-toggle",77),h.yc(426),h.Ub(),h.Vb(427,"mat-button-toggle",75),h.dc("click",(function(){return t._listEmployeeMemoCollectionView.moveToNextPage()})),h.Vb(428,"mat-icon"),h.yc(429,"navigate_next"),h.Ub(),h.Ub(),h.Vb(430,"mat-button-toggle",75),h.dc("click",(function(){return t._listEmployeeMemoCollectionView.moveToLastPage()})),h.Vb(431,"mat-icon",76),h.yc(432,"navigate_next"),h.Ub(),h.Vb(433,"mat-icon"),h.yc(434,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(435,"mat-tab",78),h.xc(436,du,1,2,"mat-progress-bar",68),h.Vb(437,"wj-flex-grid",69,79),h.Rb(439,"wj-flex-grid-filter"),h.Rb(440,"wj-flex-grid-column",73);h.Rb(441,"wj-flex-grid-column",73),h.Rb(442,"wj-flex-grid-column",73),h.Rb(443,"wj-flex-grid-column",73),h.Rb(444,"wj-flex-grid-column",73),h.Rb(445,"wj-flex-grid-column",73),h.Rb(446,"wj-flex-grid-column",73),h.Ub(),h.Vb(447,"mat-button-toggle-group",74),h.Vb(448,"mat-button-toggle",75),h.dc("click",(function(){return t._listChangeHistoryCollectionView.moveToFirstPage()})),h.Vb(449,"mat-icon",76),h.yc(450,"navigate_before"),h.Ub(),h.Vb(451,"mat-icon"),h.yc(452,"navigate_before"),h.Ub(),h.Ub(),h.Vb(453,"mat-button-toggle",75),h.dc("click",(function(){return t._listChangeHistoryCollectionView.moveToPreviousPage()})),h.Vb(454,"mat-icon"),h.yc(455,"navigate_before"),h.Ub(),h.Ub(),h.Vb(456,"mat-button-toggle",77),h.yc(457),h.Ub(),h.Vb(458,"mat-button-toggle",75),h.dc("click",(function(){return t._listChangeHistoryCollectionView.moveToNextPage()})),h.Vb(459,"mat-icon"),h.yc(460,"navigate_next"),h.Ub(),h.Ub(),h.Vb(461,"mat-button-toggle",75),h.dc("click",(function(){return t._listChangeHistoryCollectionView.moveToLastPage()})),h.Vb(462,"mat-icon",76),h.yc(463,"navigate_next"),h.Ub(),h.Vb(464,"mat-icon"),h.yc(465,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(466,"mat-tab",80),h.xc(467,uu,2,1,"ng-template",81),h.Ub(),h.Ub(),h.Rb(468,"mat-divider",82),h.Vb(469,"div",83),h.Vb(470,"div",16),h.Vb(471,"div",7),h.Vb(472,"div",84),h.Vb(473,"mat-label",85),h.yc(474,"Created By:"),h.Ub(),h.Ub(),h.Vb(475,"div",86),h.Vb(476,"mat-label",85),h.yc(477),h.Ub(),h.Ub(),h.Vb(478,"div",87),h.Vb(479,"mat-label",85),h.yc(480,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(481,"div",88),h.Vb(482,"mat-label",85),h.yc(483),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(484,"div",16),h.Vb(485,"div",7),h.Vb(486,"div",84),h.Vb(487,"mat-label",85),h.yc(488,"Updated By:"),h.Ub(),h.Ub(),h.Vb(489,"div",86),h.Vb(490,"mat-label",85),h.yc(491),h.Ub(),h.Ub(),h.Vb(492,"div",87),h.Vb(493,"mat-label",85),h.yc(494,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(495,"div",88),h.Vb(496,"mat-label",85),h.yc(497),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()}if(2&e){const e=h.qc(150),i=h.qc(371),n=h.qc(379),o=h.qc(387);h.Eb(5),h.kc("disabled",t.btnSaveDisabled),h.Eb(4),h.kc("disabled",t.btnLockisabled),h.Eb(4),h.kc("disabled",t.btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t.isProgressBarHidden),h.Eb(2),h.kc("hidden",!t.isComponentsShown),h.Eb(6),h.lc("src",t.employeeModel.PictureURL,h.sc),h.Eb(2),h.kc("ngModel",t.imagefile)("disabled",t.isLocked),h.Eb(1),h.kc("disabled",t.uploadButtonDisabled),h.Eb(6),h.kc("vertical",!0),h.Eb(7),h.kc("ngModel",t.employeeModel.EmployeeCode)("readonly",t.isLocked),h.Eb(2),h.kc("disabled",t.isLocked),h.Eb(8),h.Cc("",t.employeeModel.FirstName,"\xa0",t.employeeModel.MiddleName," \xa0",t.employeeModel.LastName,"\xa0",t.employeeModel.ExtensionName,""),h.Eb(6),h.kc("ngModel",t.employeeModel.EmployeeHR.Position),h.Eb(1),h.kc("ngForOf",t.positionListDropdown),h.Eb(5),h.kc("ngModel",t.employeeModel.EmployeePayroll.PayrollGroup),h.Eb(1),h.kc("ngForOf",t.payrollGroupListDropdown),h.Eb(6),h.kc("ngModel",t.employeeModel.ContactNumber)("readonly",t.isLocked),h.Eb(5),h.kc("ngModel",t.employeeModel.ContactMobileNumber)("readonly",t.isLocked),h.Eb(1),h.kc("vertical",!0),h.Eb(7),h.kc("ngModel",t.employeeModel.IdNumber)("readonly",t.isLocked),h.Eb(5),h.kc("ngModel",t.employeeModel.BiometricIdNumber)("readonly",t.isLocked),h.Eb(6),h.kc("ngModel",t.employeeModel.CompanyId),h.Eb(1),h.kc("ngForOf",t.companyListDropdown),h.Eb(6),h.kc("ngModel",t.employeeModel.EmployeeHR.Branch),h.Eb(1),h.kc("ngForOf",t.branchListDropdown),h.Eb(4),h.Ac("Username:\xa0",t.employeeModel.Username,""),h.Eb(2),h.kc("disabled",t.isLocked),h.Eb(16),h.kc("ngModel",t.employeeModel.Address)("readonly",t.isLocked),h.Eb(6),h.kc("ngModel",t.employeeModel.CityId),h.Eb(1),h.kc("ngForOf",t.cityListDropdown),h.Eb(5),h.kc("ngModel",t.employeeModel.ZipCode),h.Eb(1),h.kc("ngForOf",t.zipCodeListDropdown),h.Eb(6),h.kc("matDatepicker",e)("ngModel",t.UIDateOfBirth)("readonly",t.isLocked),h.Eb(1),h.kc("for",e)("disabled",t.isLocked),h.Eb(7),h.kc("ngModel",t.employeeModel.PlaceOfBirth)("readonly",t.isLocked),h.Eb(6),h.kc("ngModel",t.employeeModel.Religion),h.Eb(1),h.kc("ngForOf",t.religionListDropdown),h.Eb(5),h.kc("ngModel",t.employeeModel.EmailAddress)("readonly",t.isLocked),h.Eb(7),h.kc("ngModel",t.employeeModel.CivilStatus),h.Eb(1),h.kc("ngForOf",t.civilStatusListDropdown),h.Eb(5),h.kc("ngModel",t.employeeModel.Sex),h.Eb(1),h.kc("ngForOf",t.genderListDropdown),h.Eb(5),h.kc("ngModel",t.employeeModel.Citizenship),h.Eb(1),h.kc("ngForOf",t.citizenshipListDropdown),h.Eb(6),h.lc("type",t.inputTypeHeight),h.kc("ngModel",t.employeeModel.Height)("readonly",t.isLocked),h.Eb(5),h.lc("type",t.inputTypeWeight),h.kc("ngModel",t.employeeModel.Weight)("readonly",t.isLocked),h.Eb(5),h.kc("ngModel",t.employeeModel.BloodType),h.Eb(1),h.kc("ngForOf",t.bloodTypeListDropdown),h.Eb(6),h.kc("ngModel",t.employeeModel.Remarks)("readonly",t.isLocked),h.Eb(11),h.kc("ngModel",t.employeeModel.EmployeePayroll.PayrollType),h.Eb(1),h.kc("ngForOf",t.payrollTypeListDropdown),h.Eb(5),h.kc("ngModel",t.employeeModel.EmployeePayroll.HourlyRate)("readonly",t.isLocked),h.Eb(6),h.lc("type",t.inputTypeMonthlyRate),h.kc("ngModel",t.employeeModel.EmployeePayroll.MonthlyRate)("readonly",t.isLocked),h.Eb(5),h.lc("type",t.inputTypeHourlyRate),h.kc("ngModel",t.employeeModel.EmployeePayroll.LateHourlyRate)("readonly",t.isLocked),h.Eb(6),h.lc("type",t.inputTypePayrollRate),h.kc("readonly",t.isLocked)("ngModel",t.employeeModel.EmployeePayroll.PayrollRate),h.Eb(5),h.lc("type",t.inputTypeUndertimeHourlyRate),h.kc("ngModel",t.employeeModel.EmployeePayroll.UndertimeHourlyRate)("readonly",t.isLocked),h.Eb(6),h.lc("type",t.inputTypeDailyRate),h.kc("ngModel",t.employeeModel.EmployeePayroll.DailyRate)("readonly",t.isLocked),h.Eb(5),h.lc("type",t.inputTypeOvertimeHourlyRate),h.kc("ngModel",t.employeeModel.EmployeePayroll.OvertimeHourlyRate)("readonly",t.isLocked),h.Eb(6),h.lc("type",t.inputTypeAbsentDailyRate),h.kc("ngModel",t.employeeModel.EmployeePayroll.AbsentDailyRate)("readonly",t.isLocked),h.Eb(5),h.lc("type",t.inputTypeNightDifferentialRate),h.kc("ngModel",t.employeeModel.EmployeePayroll.NightDifferentialRate)("readonly",t.isLocked),h.Eb(7),h.kc("ngModel",t.employeeModel.EmployeePayroll.ATMAccountNumber)("readonly",t.isLocked),h.Eb(5),h.lc("type",t.inputTypeCostOfLivingAllowance),h.kc("ngModel",t.employeeModel.EmployeePayroll.CostOfLivingAllowance)("readonly",t.isLocked),h.Eb(6),h.kc("ngModel",t.employeeModel.EmployeePayroll.SSSNumber)("readonly",t.isLocked),h.Eb(5),h.kc("ngModel",t.employeeModel.EmployeePayroll.HDMFNumber)("readonly",t.isLocked),h.Eb(5),h.kc("ngModel",t.employeeModel.EmployeePayroll.TIN)("readonly",t.isLocked),h.Eb(6),h.kc("ngModel",t.employeeModel.EmployeePayroll.SSSComputationType),h.Eb(1),h.kc("ngForOf",t.sssComputationListDropdown),h.Eb(5),h.kc("ngModel",t.employeeModel.EmployeePayroll.HDMFComputationType),h.Eb(1),h.kc("ngForOf",t.hdmfComputationListDropdown),h.Eb(5),h.kc("ngModel",t.employeeModel.EmployeePayroll.TaxTable),h.Eb(1),h.kc("ngForOf",t.taxTableListDropdown),h.Eb(6),h.lc("type",t.inputTypeSSSAddOnAmount),h.kc("ngModel",t.employeeModel.EmployeePayroll.SSSAddOnAmount)("readonly",t.isLocked),h.Eb(5),h.lc("type",t.inputTypeHDMFAddOnAmount),h.kc("ngModel",t.employeeModel.EmployeePayroll.HDMFAddOnAmount)("readonly",t.isLocked),h.Eb(5),h.kc("ngModel",t.employeeModel.EmployeePayroll.TaxExemptionId),h.Eb(1),h.kc("ngForOf",t.taxExemptionListDropdown),h.Eb(6),h.lc("type",t.inputTypeAdditionalAllowance),h.kc("ngModel",t.employeeModel.EmployeePayroll.AdditionalAllowance)("readonly",t.isLocked),h.Eb(5),h.kc("ngModel",t.employeeModel.EmployeePayroll.PHICNumber)("readonly",t.isLocked),h.Eb(3),h.kc("disabled",t.isLocked)("ngModel",t.employeeModel.EmployeePayroll.IsMinimumWageEarner),h.Eb(12),h.kc("ngModel",t.employeeModel.EmployeeHR.DefaultShiftId),h.Eb(1),h.kc("ngForOf",t.shiftDropdown),h.Eb(6),h.kc("matDatepicker",i)("ngModel",t.UIDateHired)("readonly",t.isLocked),h.Eb(1),h.kc("for",i)("disabled",t.isLocked),h.Eb(7),h.kc("matDatepicker",n)("ngModel",t.UIDateRegular)("readonly",t.isLocked),h.Eb(1),h.kc("for",n)("disabled",t.isLocked),h.Eb(7),h.kc("matDatepicker",o)("ngModel",t.UIDateResigned)("readonly",t.isLocked),h.Eb(1),h.kc("for",o)("disabled",t.isLocked),h.Eb(8),h.kc("ngModel",t.employeeModel.EmployeeHR.Division),h.Eb(1),h.kc("ngForOf",t.divisionListDropdown),h.Eb(5),h.kc("ngModel",t.employeeModel.EmployeeHR.Department),h.Eb(1),h.kc("ngForOf",t.departmentListDropdown),h.Eb(3),h.kc("ngIf",t._isEmployeeMemoProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listEmployeeMemoCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Code")("binding","MemoCode")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Date")("binding","MemoDate")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Particulars")("binding","Particulars")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Attachment URL")("binding","AttachmentURL")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Attachment Type")("binding","AttachmentType")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t._listEmployeeMemoCollectionView.pageIndex+1," / ",t._listEmployeeMemoCollectionView.pageCount,""),h.Eb(10),h.kc("ngIf",t._isChangeHistoryProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listChangeHistoryCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("header","Code")("binding","HistoryCode")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Date")("binding","HistoryDate")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Field Name")("binding","FieldName")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Old Value")("binding","OldValue")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","New Value")("binding","NewValue")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Edited By")("binding","EditedUser")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Time Stamp")("binding","EditedTimeStamp")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t._listChangeHistoryCollectionView.pageIndex+1," / ",t._listChangeHistoryCollectionView.pageCount,""),h.Eb(20),h.zc(t.employeeModel.CreatedByUser),h.Eb(6),h.zc(t.employeeModel.CreatedDateTime),h.Eb(8),h.zc(t.employeeModel.UpdatedByUser),h.Eb(6),h.zc(t.employeeModel.UpdatedDateTime)}},directives:[_.a,v.a,w.a,d.c,l.l,li.b,li.a,Ed.a,nr,c.d,c.o,c.r,ft,_r.c,_r.g,vr.b,rc,l.k,fh,ah,xd,Ld,_r.h,_d,Ih,cl,Vl,hl,ul,Al,Hl,eh,fr,G.l],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-checkbox[_ngcontent-%COMP%]   .mat-checkbox-frame[_ngcontent-%COMP%]{border-color:#000;padding:10px;background-color:#ddd}"]}),e})(),bu=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.caseData=t,this._decimalPipe=i,this.title="",this._mandatoryBIR=[],this.inputTypeAmountStart="text",this.inputTypeAmountEnd="text",this.inputTypeEmployeeTaxPercentage="text",this.inputTypeEmployeeAdditionalAmount="text"}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this.title=this.caseData.objDialogTitle,this._mandatoryBIR.Id=this.caseData.objData.Id,this._mandatoryBIR.AmountStart=this._decimalPipe.transform(this.caseData.objData.AmountStart,"1.2-2"),this._mandatoryBIR.AmountEnd=this._decimalPipe.transform(this.caseData.objData.AmountEnd,"1.2-2"),this._mandatoryBIR.EmployeeTaxPercentage=this._decimalPipe.transform(this.caseData.objData.EmployeeTaxPercentage,"1.2-2"),this._mandatoryBIR.EmployeeAdditionalAmount=this._decimalPipe.transform(this.caseData.objData.EmployeeAdditionalAmount,"1.2-2")}))}Close(){}Save(){this.dialogRef.close("Add Mandatory BIR"==this.title?{event:"Add",objData:this._mandatoryBIR}:{event:"Edit",objData:this._mandatoryBIR})}RemoveComma(e){return e.toString().replace(/,/g,"")}AmountStartToNumberType(){this._mandatoryBIR.AmountStart=this.RemoveComma(this._mandatoryBIR.AmountStart),this.inputTypeAmountStart="number"}AmountStartFormatValue(){this.inputTypeAmountStart="text",this._mandatoryBIR.AmountStart=this._decimalPipe.transform(""==this._mandatoryBIR.AmountStart?0:this._mandatoryBIR.AmountStart,"1.2-2")}AmountEndToNumberType(){this._mandatoryBIR.AmountEnd=this.RemoveComma(this._mandatoryBIR.AmountEnd),this.inputTypeAmountEnd="number"}AmountEndFormatValue(){this.inputTypeAmountEnd="text",this._mandatoryBIR.AmountEnd=this._decimalPipe.transform(""==this._mandatoryBIR.AmountEnd?0:this._mandatoryBIR.AmountEnd,"1.2-2")}EmployeeTaxPercentageToNumberType(){this._mandatoryBIR.EmployeeTaxPercentage=this.RemoveComma(this._mandatoryBIR.EmployeeTaxPercentage),this.inputTypeEmployeeTaxPercentage="number"}EmployeeTaxPercentageFormatValue(){this.inputTypeEmployeeTaxPercentage="text",this._mandatoryBIR.EmployeeTaxPercentage=this._decimalPipe.transform(""==this._mandatoryBIR.EmployeeTaxPercentage?0:this._mandatoryBIR.EmployeeTaxPercentage,"1.2-2")}EmployeeAdditionalAmountToNumberType(){this._mandatoryBIR.EmployeeAdditionalAmount=this.RemoveComma(this._mandatoryBIR.EmployeeAdditionalAmount),this.inputTypeEmployeeAdditionalAmount="number"}EmployeeAdditionalAmountFormatValue(){this.inputTypeEmployeeAdditionalAmount="text",this._mandatoryBIR.EmployeeAdditionalAmount=this._decimalPipe.transform(""==this._mandatoryBIR.EmployeeAdditionalAmount?0:this._mandatoryBIR.EmployeeAdditionalAmount,"1.2-2")}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-mandatory-tables-detail-mandatory-bir-detail"]],decls:37,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focusout","focus"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","mat-dialog-close","","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Amount Start"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryBIR.AmountStart=e}))("focusout",(function(){return t.AmountStartFormatValue()}))("focus",(function(){return t.AmountStartToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",4),h.Vb(12,"mat-form-field",5),h.Vb(13,"mat-label"),h.yc(14,"AmountEnd"),h.Ub(),h.Vb(15,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryBIR.AmountEnd=e}))("focusout",(function(){return t.AmountEndFormatValue()}))("focus",(function(){return t.AmountEndToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(16,"div",3),h.Vb(17,"div",4),h.Vb(18,"mat-form-field",5),h.Vb(19,"mat-label"),h.yc(20,"Employee Tax Percentage"),h.Ub(),h.Vb(21,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryBIR.EmployeeTaxPercentage=e}))("focusout",(function(){return t.EmployeeTaxPercentageFormatValue()}))("focus",(function(){return t.EmployeeTaxPercentageToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(22,"div",4),h.Vb(23,"mat-form-field",5),h.Vb(24,"mat-label"),h.yc(25,"Employee Additional Amount"),h.Ub(),h.Vb(26,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryBIR.EmployeeAdditionalAmount=e}))("focusout",(function(){return t.EmployeeAdditionalAmountFormatValue()}))("focus",(function(){return t.EmployeeAdditionalAmountToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(27,"mat-divider"),h.Vb(28,"div",7),h.Vb(29,"button",8),h.dc("click",(function(){return t.Save()})),h.Vb(30,"mat-icon"),h.yc(31,"save"),h.Ub(),h.yc(32," Save "),h.Ub(),h.Vb(33,"button",9),h.dc("click",(function(){return t.Close()})),h.Vb(34,"mat-icon"),h.yc(35,"close"),h.Ub(),h.yc(36," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.lc("type",t.inputTypeAmountStart),h.kc("ngModel",t._mandatoryBIR.AmountStart),h.Eb(5),h.lc("type",t.inputTypeAmountEnd),h.kc("ngModel",t._mandatoryBIR.AmountEnd),h.Eb(6),h.lc("type",t.inputTypeEmployeeTaxPercentage),h.kc("ngModel",t._mandatoryBIR.EmployeeTaxPercentage),h.Eb(5),h.lc("type",t.inputTypeEmployeeAdditionalAmount),h.kc("ngModel",t._mandatoryBIR.EmployeeAdditionalAmount))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,or,v.a,tr,w.a],styles:[""]}),e})(),mu=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.caseData=t,this._decimalPipe=i,this.title="",this._mandatoryHDMF=[],this.inputTypeAmountStart="text",this.inputTypeAmountEnd="text",this.inputTypeEmployeeContributionPercentage="text",this.inputTypeEmployerContributionPercentage="text",this.inputTypeEmployeeContributionValue="text",this.inputTypeEmployerContributionValue="text"}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this.title=this.caseData.objDialogTitle,this._mandatoryHDMF.Id=this.caseData.objData.Id,this._mandatoryHDMF.AmountStart=this._decimalPipe.transform(this.caseData.objData.AmountStart,"1.2-2"),this._mandatoryHDMF.AmountEnd=this._decimalPipe.transform(this.caseData.objData.AmountEnd,"1.2-2"),this._mandatoryHDMF.EmployeeContributionPercentage=this._decimalPipe.transform(this.caseData.objData.EmployeeContributionPercentage,"1.2-2"),this._mandatoryHDMF.EmployerContributionPercentage=this._decimalPipe.transform(this.caseData.objData.EmployerContributionPercentage,"1.2-2"),this._mandatoryHDMF.EmployeeContributionValue=this._decimalPipe.transform(this.caseData.objData.EmployeeContributionValue,"1.2-2"),this._mandatoryHDMF.EmployerContributionValue=this._decimalPipe.transform(this.caseData.objData.EmployerContributionValue,"1.2-2"),this._mandatoryHDMF.Remarks=this.caseData.objData.Remarks}))}Close(){this.dialogRef.close({event:"Close"})}Save(){this.dialogRef.close("Add Mandatory HDMF"==this.title?{event:"Add",objData:this._mandatoryHDMF}:{event:"Edit",objData:this._mandatoryHDMF})}RemoveComma(e){return e.toString().replace(/,/g,"")}AmountStartToNumberType(){this._mandatoryHDMF.AmountStart=this.RemoveComma(this._mandatoryHDMF.AmountStart),this.inputTypeAmountStart="number"}AmountStartFormatValue(){this.inputTypeAmountStart="text",this._mandatoryHDMF.AmountStart=this._decimalPipe.transform(""==this._mandatoryHDMF.AmountStart?0:this._mandatoryHDMF.AmountStart,"1.2-2")}AmountEndToNumberType(){this._mandatoryHDMF.AmountEnd=this.RemoveComma(this._mandatoryHDMF.AmountEnd),this.inputTypeAmountEnd="number"}AmountEndFormatValue(){this.inputTypeAmountEnd="text",this._mandatoryHDMF.AmountEnd=this._decimalPipe.transform(""==this._mandatoryHDMF.AmountEnd?0:this._mandatoryHDMF.AmountEnd,"1.2-2")}EmployeeContributionPercentageToNumberType(){this._mandatoryHDMF.EmployeeContributionPercentage=this.RemoveComma(this._mandatoryHDMF.EmployeeContributionPercentage),this.inputTypeEmployeeContributionPercentage="number"}EmployeeContributionPercentageFormatValue(){this.inputTypeEmployeeContributionPercentage="text",this._mandatoryHDMF.EmployeeContributionPercentage=this._decimalPipe.transform(""==this._mandatoryHDMF.EmployeeContributionPercentage?0:this._mandatoryHDMF.EmployeeContributionPercentage,"1.2-2")}EmployerContributionPercentageToNumberType(){this._mandatoryHDMF.EmployerContributionPercentage=this.RemoveComma(this._mandatoryHDMF.EmployerContributionPercentage),this.inputTypeEmployerContributionPercentage="number"}EmployerContributionPercentageFormatValue(){this.inputTypeEmployerContributionPercentage="text",this._mandatoryHDMF.EmployerContributionPercentage=this._decimalPipe.transform(""==this._mandatoryHDMF.EmployerContributionPercentage?0:this._mandatoryHDMF.EmployerContributionPercentage,"1.2-2")}EmployeeContributionValueToNumberType(){this._mandatoryHDMF.EmployeeContributionValue=this.RemoveComma(this._mandatoryHDMF.EmployeeContributionValue),this.inputTypeEmployeeContributionValue="number"}EmployeeContributionValueFormatValue(){this.inputTypeEmployerContributionPercentage="text",this._mandatoryHDMF.EmployeeContributionValue=this._decimalPipe.transform(""==this._mandatoryHDMF.EmployeeContributionValue?0:this._mandatoryHDMF.EmployeeContributionValue,"1.2-2")}EmployerContributionValueToNumberType(){this._mandatoryHDMF.EmployerContributionValue=this.RemoveComma(this._mandatoryHDMF.EmployerContributionValue),this.inputTypeEmployerContributionValue="number"}EmployerContributionValueFormatValue(){this.inputTypeEmployerContributionPercentage="text",this._mandatoryHDMF.EmployerContributionValue=this._decimalPipe.transform(""==this._mandatoryHDMF.EmployerContributionValue?0:this._mandatoryHDMF.EmployerContributionValue,"1.2-2")}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-mandatory-tables-detail-mandatory-hdmf-detail"]],decls:54,vars:14,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focusout","focus"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Remarks","rows","6",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","mat-dialog-close","","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Amount Start"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryHDMF.AmountStart=e}))("focusout",(function(){return t.AmountStartFormatValue()}))("focus",(function(){return t.AmountStartToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",4),h.Vb(12,"mat-form-field",5),h.Vb(13,"mat-label"),h.yc(14,"Amount End"),h.Ub(),h.Vb(15,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryHDMF.AmountEnd=e}))("focusout",(function(){return t.AmountEndFormatValue()}))("focus",(function(){return t.AmountEndToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(16,"div",3),h.Vb(17,"div",4),h.Vb(18,"mat-form-field",5),h.Vb(19,"mat-label"),h.yc(20,"Employee Contribution Percentage"),h.Ub(),h.Vb(21,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryHDMF.EmployeeContributionPercentage=e}))("focusout",(function(){return t.EmployeeContributionPercentageFormatValue()}))("focus",(function(){return t.EmployeeContributionPercentageToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(22,"div",4),h.Vb(23,"mat-form-field",5),h.Vb(24,"mat-label"),h.yc(25,"Employer Contribution Percentage"),h.Ub(),h.Vb(26,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryHDMF.EmployerContributionPercentage=e}))("focusout",(function(){return t.EmployerContributionPercentageFormatValue()}))("focus",(function(){return t.EmployerContributionPercentageToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(27,"div",3),h.Vb(28,"div",4),h.Vb(29,"mat-form-field",5),h.Vb(30,"mat-label"),h.yc(31,"Employee Contribution Value"),h.Ub(),h.Vb(32,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryHDMF.EmployeeContributionValue=e}))("focusout",(function(){return t.EmployeeContributionValueFormatValue()}))("focus",(function(){return t.EmployeeContributionValueToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(33,"div",4),h.Vb(34,"mat-form-field",5),h.Vb(35,"mat-label"),h.yc(36,"Employer Contribution Value"),h.Ub(),h.Vb(37,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryHDMF.EmployerContributionValue=e}))("focusout",(function(){return t.EmployerContributionValueFormatValue()}))("focus",(function(){return t.EmployerContributionValueToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(38,"div",3),h.Vb(39,"div",7),h.Vb(40,"mat-form-field",5),h.Vb(41,"mat-label"),h.yc(42,"Remarks"),h.Ub(),h.Vb(43,"textarea",8),h.dc("ngModelChange",(function(e){return t._mandatoryHDMF.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(44,"mat-divider"),h.Vb(45,"div",9),h.Vb(46,"button",10),h.dc("click",(function(){return t.Save()})),h.Vb(47,"mat-icon"),h.yc(48,"save"),h.Ub(),h.yc(49," Save "),h.Ub(),h.Vb(50,"button",11),h.dc("click",(function(){return t.Close()})),h.Vb(51,"mat-icon"),h.yc(52,"close"),h.Ub(),h.yc(53," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.lc("type",t.inputTypeAmountStart),h.kc("ngModel",t._mandatoryHDMF.AmountStart),h.Eb(5),h.lc("type",t.inputTypeAmountEnd),h.kc("ngModel",t._mandatoryHDMF.AmountEnd),h.Eb(6),h.lc("type",t.inputTypeEmployeeContributionPercentage),h.kc("ngModel",t._mandatoryHDMF.EmployeeContributionPercentage),h.Eb(5),h.lc("type",t.inputTypeEmployerContributionPercentage),h.kc("ngModel",t._mandatoryHDMF.EmployerContributionPercentage),h.Eb(6),h.lc("type",t.inputTypeEmployeeContributionValue),h.kc("ngModel",t._mandatoryHDMF.EmployeeContributionValue),h.Eb(5),h.lc("type",t.inputTypeEmployerContributionValue),h.kc("ngModel",t._mandatoryHDMF.EmployerContributionValue),h.Eb(6),h.kc("ngModel",t._mandatoryHDMF.Remarks))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,or,v.a,tr,w.a],styles:[""]}),e})(),fu=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.caseData=t,this._decimalPipe=i,this.title="",this._mandatoryPHIC=[],this.inputTypeAmountStart="text",this.inputTypeAmountEnd="text",this.inputTypeEmployeeContributionValue="text",this.inputTypeEmployerContributionValue="text"}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this.title=this.caseData.objDialogTitle,this._mandatoryPHIC.Id=this.caseData.objData.Id,this._mandatoryPHIC.AmountStart=this._decimalPipe.transform(this.caseData.objData.AmountStart,"1.2-2"),this._mandatoryPHIC.AmountEnd=this._decimalPipe.transform(this.caseData.objData.AmountEnd,"1.2-2"),this._mandatoryPHIC.EmployeeContributionValue=this._decimalPipe.transform(this.caseData.objData.EmployeeContributionValue,"1.2-2"),this._mandatoryPHIC.EmployerContributionValue=this._decimalPipe.transform(this.caseData.objData.EmployerContributionValue,"1.2-2"),this._mandatoryPHIC.Remarks=this.caseData.objData.Remarks}))}Close(){this.dialogRef.close({event:"Close"})}Save(){this.dialogRef.close("Add Mandatory PHIC"==this.title?{event:"Add",objData:this._mandatoryPHIC}:{event:"Edit",objData:this._mandatoryPHIC})}RemoveComma(e){return e.toString().replace(/,/g,"")}AmountStartToNumberType(){this._mandatoryPHIC.AmountStart=this.RemoveComma(this._mandatoryPHIC.AmountStart),this.inputTypeAmountStart="number"}AmountStartFormatValue(){this.inputTypeAmountStart="text",this._mandatoryPHIC.AmountStart=this._decimalPipe.transform(""===this._mandatoryPHIC.AmountStart?0:this._mandatoryPHIC.AmountStart,"1.2-2")}AmountEndToNumberType(){this._mandatoryPHIC.AmountEnd=this.RemoveComma(this._mandatoryPHIC.AmountEnd),this.inputTypeAmountEnd="number"}AmountEndFormatValue(){return Object(b.a)(this,void 0,void 0,(function*(){this.inputTypeAmountEnd=yield"text",this._mandatoryPHIC.AmountEnd=this._decimalPipe.transform(""===this._mandatoryPHIC.AmountEnd?0:this._mandatoryPHIC.AmountEnd,"1.2-2")}))}EmployeeContributionValueToNumberType(){this._mandatoryPHIC.EmployeeContributionValue=this.RemoveComma(this._mandatoryPHIC.EmployeeContributionValue),this.inputTypeEmployeeContributionValue="number"}EmployeeContributionValueFormatValue(){this.inputTypeEmployeeContributionValue="text",this._mandatoryPHIC.EmployeeContributionValue=this._decimalPipe.transform(""===this._mandatoryPHIC.EmployeeContributionValue?0:this._mandatoryPHIC.EmployeeContributionValue,"1.2-2")}EmployerContributionValueToNumberType(){this._mandatoryPHIC.EmployerContributionValue=this.RemoveComma(this._mandatoryPHIC.EmployerContributionValue),this.inputTypeEmployerContributionValue="number"}EmployerContributionValueFormatValue(){this.inputTypeEmployerContributionValue="text",this._mandatoryPHIC.EmployerContributionValue=this._decimalPipe.transform(""===this._mandatoryPHIC.EmployerContributionValue?0:this._mandatoryPHIC.EmployerContributionValue,"1.2-2")}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-mandatory-tables-detail-mandatory-phic-detail"]],decls:43,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focus","focusout"],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focusout","focus"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Remarks","rows","6",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","mat-dialog-close","","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Amount Start"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t._mandatoryPHIC.AmountStart=e}))("focus",(function(){return t.AmountStartToNumberType()}))("focusout",(function(){return t.AmountStartFormatValue()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",4),h.Vb(12,"mat-form-field",5),h.Vb(13,"mat-label"),h.yc(14,"Amount End"),h.Ub(),h.Vb(15,"input",7),h.dc("ngModelChange",(function(e){return t._mandatoryPHIC.AmountEnd=e}))("focusout",(function(){return t.AmountEndFormatValue()}))("focus",(function(){return t.AmountEndToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(16,"div",3),h.Vb(17,"div",4),h.Vb(18,"mat-form-field",5),h.Vb(19,"mat-label"),h.yc(20,"Employee Contribution Value"),h.Ub(),h.Vb(21,"input",7),h.dc("ngModelChange",(function(e){return t._mandatoryPHIC.EmployeeContributionValue=e}))("focusout",(function(){return t.EmployeeContributionValueFormatValue()}))("focus",(function(){return t.EmployeeContributionValueToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(22,"div",4),h.Vb(23,"mat-form-field",5),h.Vb(24,"mat-label"),h.yc(25,"Employee Contribution Value"),h.Ub(),h.Vb(26,"input",7),h.dc("ngModelChange",(function(e){return t._mandatoryPHIC.EmployerContributionValue=e}))("focusout",(function(){return t.EmployerContributionValueFormatValue()}))("focus",(function(){return t.EmployerContributionValueToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(27,"div",3),h.Vb(28,"div",8),h.Vb(29,"mat-form-field",5),h.Vb(30,"mat-label"),h.yc(31,"Remarks"),h.Ub(),h.Vb(32,"textarea",9),h.dc("ngModelChange",(function(e){return t._mandatoryPHIC.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(33,"mat-divider"),h.Vb(34,"div",10),h.Vb(35,"button",11),h.dc("click",(function(){return t.Save()})),h.Vb(36,"mat-icon"),h.yc(37,"save"),h.Ub(),h.yc(38," Save "),h.Ub(),h.Vb(39,"button",12),h.dc("click",(function(){return t.Close()})),h.Vb(40,"mat-icon"),h.yc(41,"close"),h.Ub(),h.yc(42," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.lc("type",t.inputTypeAmountStart),h.kc("ngModel",t._mandatoryPHIC.AmountStart),h.Eb(5),h.lc("type",t.inputTypeAmountEnd),h.kc("ngModel",t._mandatoryPHIC.AmountEnd),h.Eb(6),h.lc("type",t.inputTypeEmployeeContributionValue),h.kc("ngModel",t._mandatoryPHIC.EmployeeContributionValue),h.Eb(5),h.lc("type",t.inputTypeEmployerContributionValue),h.kc("ngModel",t._mandatoryPHIC.EmployerContributionValue),h.Eb(6),h.kc("ngModel",t._mandatoryPHIC.Remarks))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,or,v.a,tr,w.a],styles:[""]}),e})(),gu=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.caseData=t,this._decimalPipe=i,this.title="",this._mandatorySSS=[],this.inputTypeAmountStart="text",this.inputTypeAmountEnd="text",this.inputTypeEmployeeContributionValue="text",this.inputTypeEmployerContributionValue="text",this.inputTypeEmployerECValue="text"}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this.title=this.caseData.objDialogTitle,this._mandatorySSS.Id=this.caseData.objData.Id,this._mandatorySSS.AmountStart=this._decimalPipe.transform(this.caseData.objData.AmountStart,"1.2-2"),this._mandatorySSS.AmountEnd=this._decimalPipe.transform(this.caseData.objData.AmountEnd,"1.2-2"),this._mandatorySSS.EmployeeContributionValue=this._decimalPipe.transform(this.caseData.objData.EmployeeContributionValue,"1.2-2"),this._mandatorySSS.EmployerContributionValue=this._decimalPipe.transform(this.caseData.objData.EmployerContributionValue,"1.2-2"),this._mandatorySSS.EmployerECValue=this._decimalPipe.transform(this.caseData.objData.EmployerECValue,"1.2-2"),this._mandatorySSS.Remarks=this.caseData.objData.Remarks}))}Close(){this.dialogRef.close({event:"Close"})}Save(){this.dialogRef.close("Add Mandatory SSS"==this.title?{event:"Add",objData:this._mandatorySSS}:{event:"Edit",objData:this._mandatorySSS})}RemoveComma(e){return e.toString().replace(/,/g,"")}AmountStartFormatValue(){this.inputTypeAmountStart="text",this._mandatorySSS.AmountStart=this._decimalPipe.transform(""==this._mandatorySSS.AmountStart?0:this._mandatorySSS.AmountStart,"1.2-2")}AmountStartToNumberType(){this._mandatorySSS.AmountStart=this.RemoveComma(this._mandatorySSS.AmountStart),this.inputTypeAmountStart="number"}AmountEndFormatValue(){this.inputTypeAmountEnd="text",this._mandatorySSS.AmountEnd=this._decimalPipe.transform(""==this._mandatorySSS.AmountEnd?0:this._mandatorySSS.AmountEnd,"1.2-2")}AmountEndToNumberType(){this._mandatorySSS.AmountEnd=this.RemoveComma(this._mandatorySSS.AmountEnd),this.inputTypeAmountEnd="number"}EmployeeContributionValueFormatValue(){this.inputTypeEmployeeContributionValue="text",this._mandatorySSS.EmployeeContributionValue=this._decimalPipe.transform(""==this._mandatorySSS.EmployeeContributionValue?0:this._mandatorySSS.EmployeeContributionValue,"1.2-2")}EmployeeContributionValueToNumberType(){this._mandatorySSS.EmployeeContributionValue=this.RemoveComma(this._mandatorySSS.EmployeeContributionValue),this.inputTypeEmployeeContributionValue="number"}EmployerContributionValueFormatValue(){this.inputTypeEmployerContributionValue="text",this._mandatorySSS.EmployerContributionValue=this._decimalPipe.transform(""==this._mandatorySSS.EmployerContributionValue?0:this._mandatorySSS.EmployerContributionValue,"1.2-2")}EmployerContributionValueToNumberType(){this._mandatorySSS.EmployerContributionValue=this.RemoveComma(this._mandatorySSS.EmployerContributionValue),this.inputTypeEmployerContributionValue="number"}EmployerECValueFormatValue(){this.inputTypeEmployerECValue="text",this._mandatorySSS.EmployerECValue=this._decimalPipe.transform(""==this._mandatorySSS.EmployerECValue?0:this._mandatorySSS.EmployerECValue,"1.2-2")}EmployerECValueToNumberType(){this._mandatorySSS.EmployerECValue=this.RemoveComma(this._mandatorySSS.EmployerECValue),this.inputTypeEmployerECValue="number"}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-mandatory-tables-detail-mandatory-sss-detail"]],decls:48,vars:12,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focusout","focus"],["fxFlex","33",2,"padding","5px"],["fxFlex","34",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Remarks","rows","6",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","mat-dialog-close","","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Amount Start"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t._mandatorySSS.AmountStart=e}))("focusout",(function(){return t.AmountStartFormatValue()}))("focus",(function(){return t.AmountStartToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",4),h.Vb(12,"mat-form-field",5),h.Vb(13,"mat-label"),h.yc(14,"Amount End"),h.Ub(),h.Vb(15,"input",6),h.dc("ngModelChange",(function(e){return t._mandatorySSS.AmountEnd=e}))("focusout",(function(){return t.AmountEndFormatValue()}))("focus",(function(){return t.AmountEndToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(16,"div",3),h.Vb(17,"div",7),h.Vb(18,"mat-form-field",5),h.Vb(19,"mat-label"),h.yc(20,"Employee Contribution Value"),h.Ub(),h.Vb(21,"input",6),h.dc("ngModelChange",(function(e){return t._mandatorySSS.EmployeeContributionValue=e}))("focusout",(function(){return t.EmployeeContributionValueFormatValue()}))("focus",(function(){return t.EmployeeContributionValueToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(22,"div",7),h.Vb(23,"mat-form-field",5),h.Vb(24,"mat-label"),h.yc(25,"Employer Contribution Value"),h.Ub(),h.Vb(26,"input",6),h.dc("ngModelChange",(function(e){return t._mandatorySSS.EmployerContributionValue=e}))("focusout",(function(){return t.EmployerContributionValueFormatValue()}))("focus",(function(){return t.EmployerContributionValueToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(27,"div",8),h.Vb(28,"mat-form-field",5),h.Vb(29,"mat-label"),h.yc(30,"Employer EC Value"),h.Ub(),h.Vb(31,"input",6),h.dc("ngModelChange",(function(e){return t._mandatorySSS.EmployerECValue=e}))("focusout",(function(){return t.EmployerECValueFormatValue()}))("focus",(function(){return t.EmployerECValueToNumberType()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(32,"div",3),h.Vb(33,"div",9),h.Vb(34,"mat-form-field",5),h.Vb(35,"mat-label"),h.yc(36,"Remarks"),h.Ub(),h.Vb(37,"textarea",10),h.dc("ngModelChange",(function(e){return t._mandatorySSS.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(38,"mat-divider"),h.Vb(39,"div",11),h.Vb(40,"button",12),h.dc("click",(function(){return t.Save()})),h.Vb(41,"mat-icon"),h.yc(42,"save"),h.Ub(),h.yc(43," Save "),h.Ub(),h.Vb(44,"button",13),h.dc("click",(function(){return t.Close()})),h.Vb(45,"mat-icon"),h.yc(46,"close"),h.Ub(),h.yc(47," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.lc("type",t.inputTypeAmountStart),h.kc("ngModel",t._mandatorySSS.AmountStart),h.Eb(5),h.lc("type",t.inputTypeAmountEnd),h.kc("ngModel",t._mandatorySSS.AmountEnd),h.Eb(6),h.lc("type",t.inputTypeEmployeeContributionValue),h.kc("ngModel",t._mandatorySSS.EmployeeContributionValue),h.Eb(5),h.lc("type",t.inputTypeEmployerContributionValue),h.kc("ngModel",t._mandatorySSS.EmployerContributionValue),h.Eb(5),h.lc("type",t.inputTypeEmployerECValue),h.kc("ngModel",t._mandatorySSS.EmployerECValue),h.Eb(6),h.kc("ngModel",t._mandatorySSS.Remarks))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,or,v.a,tr,w.a],styles:[""]}),e})(),yu=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}MandatoryBIRList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/bir/list",this.appSettings.defaultOptions)}))}AddMandatoryBIR(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/bir/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}SaveMandatoryBIR(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/bir/update/"+e.Id,JSON.stringify(e),this.appSettings.defaultOptions)}))}DeleteMandatoryBIR(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/bir/delete/"+e,this.appSettings.defaultOptions)}))}MandatoryHDMFList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/hdmf/list",this.appSettings.defaultOptions)}))}AddMandatoryHDMF(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/hdmf/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}SaveMandatoryHDMF(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/hdmf/update/"+e.Id,JSON.stringify(e),this.appSettings.defaultOptions)}))}DeleteMandatoryHDMF(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/hdmf/delete/"+e,this.appSettings.defaultOptions)}))}MandatoryPHICList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/phic/list",this.appSettings.defaultOptions)}))}AddMandatoryPHIC(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/phic/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}SaveMandatoryPHIC(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/phic/update/"+e.Id,JSON.stringify(e),this.appSettings.defaultOptions)}))}DeleteMandatoryPHIC(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/phic/delete/"+e,this.appSettings.defaultOptions)}))}MandatorySSSList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/sss/list",this.appSettings.defaultOptions)}))}AddMandatorySSS(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/sss/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}SaveMandatorySSS(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/sss/update/"+e.Id,JSON.stringify(e),this.appSettings.defaultOptions)}))}DeleteMandatorySSS(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/mst/mandatary/sss/delete/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _u=["flexMandatoryBIR"],vu=["flexMandatoryHDMF"],wu=["flexMandatoryPHIC"],Cu=["flexMandatorySSS"],Du=["tabGroup"];function Su(e,t){1&e&&h.Rb(0,"mat-progress-bar",26),2&e&&h.kc("color","primary")("mode","indeterminate")}function xu(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",27),h.dc("click",(function(){return h.rc(e),h.hc().EditMandatoryBIR()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function ku(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",28),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteMandatoryBIR()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Lu(e,t){1&e&&h.Rb(0,"mat-progress-bar",26),2&e&&h.kc("color","primary")("mode","indeterminate")}function Vu(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",29),h.dc("click",(function(){return h.rc(e),h.hc().EditMandatoryHDMF()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Ou(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",30),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteMandatoryHDMF()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Uu(e,t){1&e&&h.Rb(0,"mat-progress-bar",26),2&e&&h.kc("color","primary")("mode","indeterminate")}function Eu(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",31),h.dc("click",(function(){return h.rc(e),h.hc().EditMandatoryPHIC()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Mu(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",32),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteMandatoryPHIC()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Pu(e,t){1&e&&h.Rb(0,"mat-progress-bar",26),2&e&&h.kc("color","primary")("mode","indeterminate")}function Ru(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",33),h.dc("click",(function(){return h.rc(e),h.hc().EditMandatorySSS()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Iu(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",34),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteMandatorySSS()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}let Tu=(()=>{class e{constructor(e,t,i,n,o){this._mandatoryTablesService=e,this.router=t,this.snackBar=i,this.snackBarTemplate=n,this.matDialog=o,this.buttonDisabled=!1,this._listMandatoryBIRObservableArray=new na,this._listMandatoryBIRCollectionView=new oa(this._listMandatoryBIRObservableArray),this._listMandatoryBIRPageIndex=15,this.isMandatoryBIRProgressBarHidden=!1,this.isMandatoryBIRDataLoaded=!1,this._listMandatoryHDMFObservableArray=new na,this._listMandatoryHDMFCollectionView=new oa(this._listMandatoryHDMFObservableArray),this._listMandatoryHDMFPageIndex=15,this.isMandatoryHDMFProgressBarHidden=!1,this.isMandatoryHDMFDataLoaded=!1,this._listMandatoryPHICObservableArray=new na,this._listMandatoryPHICCollectionView=new oa(this._listMandatoryPHICObservableArray),this._listMandatoryPHICPageIndex=15,this._isMandatoryPHICProgressBarHidden=!1,this._isMandatoryPHICDataLoaded=!1,this._listMandatorySSSObservableArray=new na,this._listMandatorySSSCollectionView=new oa(this._listMandatorySSSObservableArray),this._listMandatorySSSPageIndex=15,this._isMandatorySSSProgressBarHidden=!1,this._isMandatorySSSDataLoaded=!1}ngOnInit(){this.GetMandatoryBIRListData(),this.GetMandatoryPHICListData(),this.GetMandatoryHDMFListData(),this.GetMandatorySSSListData()}GetMandatoryBIRListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listMandatoryBIRObservableArray=new na,this._listMandatoryBIRCollectionView=new oa(this._listMandatoryBIRObservableArray),this._listMandatoryBIRCollectionView.pageSize=15,this._listMandatoryBIRCollectionView.trackChanges=!0,yield this._listMandatoryBIRCollectionView.refresh(),yield this._flexMandatoryBIR.refresh(),this.isMandatoryBIRProgressBarHidden=!0,this._mandatoryBIRListSubscription=(yield this._mandatoryTablesService.MandatoryBIRList()).subscribe(e=>{e.length>0&&(this._listMandatoryBIRCollectionView=e,this._listMandatoryBIRCollectionView=new oa(this._listMandatoryBIRCollectionView),this._listMandatoryBIRCollectionView.pageSize=15,this._listMandatoryBIRCollectionView.trackChanges=!0,this._listMandatoryBIRCollectionView.refresh(),this._flexMandatoryBIR.refresh()),this.isMandatoryBIRDataLoaded=!0,this.isMandatoryBIRProgressBarHidden=!1,null!=this._mandatoryBIRListSubscription&&this._mandatoryBIRListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._mandatoryBIRListSubscription&&this._mandatoryBIRListSubscription.unsubscribe()})}))}BtnAddMandatoryBIR(){this.DetailMandatoryBIR({Id:0,AmountStart:"0.00",AmountEnd:"0.00",EmployeeTaxPercentage:"0.00",EmployeeAdditionalAmount:"0.00"},"Add Mandatory BIR")}EditMandatoryBIR(){this.DetailMandatoryBIR(this._listMandatoryBIRCollectionView.currentItem,"Edit Mandatory BIR")}AddMandatoryBIR(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this.isMandatoryBIRDataLoaded&&(this.isMandatoryBIRDataLoaded=!1,this._addMandatoryBIRSubscription=(yield this._mandatoryTablesService.AddMandatoryBIR(e)).subscribe(e=>{this.buttonDisabled=!1,this.isMandatoryBIRDataLoaded=!0,this.GetMandatoryBIRListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully"),null!=this._addMandatoryBIRSubscription&&this._addMandatoryBIRSubscription.unsubscribe()},e=>{this.buttonDisabled=!1,this.isMandatoryBIRDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addMandatoryBIRSubscription&&this._addMandatoryBIRSubscription.unsubscribe()}))}))}SaveMandatoryBIR(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this.isMandatoryBIRDataLoaded&&(this.isMandatoryBIRDataLoaded=!1,this._addMandatoryBIRSubscription=(yield this._mandatoryTablesService.SaveMandatoryBIR(e)).subscribe(e=>{this.buttonDisabled=!1,this.isMandatoryBIRDataLoaded=!0,this.GetMandatoryBIRListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully")},e=>{this.buttonDisabled=!1,this.isMandatoryBIRDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addMandatoryBIRSubscription&&this._addMandatoryBIRSubscription.unsubscribe()}))}))}DeleteMandatoryBIR(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this.isMandatoryBIRDataLoaded){this.isMandatoryBIRDataLoaded=!1;let e=this._listMandatoryBIRCollectionView.currentItem;this.isMandatoryBIRProgressBarHidden=!0,this._deleteMandatoryBIRSubscription=(yield this._mandatoryTablesService.DeleteMandatoryBIR(e.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetMandatoryBIRListData(),this.isMandatoryBIRProgressBarHidden=!1,this.isMandatoryBIRDataLoaded=!0},e=>{this.isMandatoryBIRDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this._deleteMandatoryBIRSubscription&&this._deleteMandatoryBIRSubscription.unsubscribe()})}}))}ComfirmDeleteMandatoryBIR(){this.matDialog.open(sr,{width:"500px",data:{objDialogTitle:"",objComfirmationMessage:"Delete BIR?"},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteMandatoryBIR()})}DetailMandatoryBIR(e,t){this.matDialog.open(bu,{width:"800px",data:{objDialogTitle:t,objData:e},disableClose:!0}).afterClosed().subscribe(e=>{let t={Id:e.objData.Id,AmountStart:e.objData.AmountStart,AmountEnd:e.objData.AmountEnd,EmployeeTaxPercentage:e.objData.EmployeeTaxPercentage,EmployeeAdditionalAmount:e.objData.EmployeeAdditionalAmount};"Add"===e.event&&this.AddMandatoryBIR(t),"Edit"===e.event&&this.SaveMandatoryBIR(t)})}GetMandatoryHDMFListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listMandatoryHDMFObservableArray=new na,this._listMandatoryHDMFCollectionView=new oa(this._listMandatoryHDMFObservableArray),this._listMandatoryHDMFCollectionView.pageSize=15,this._listMandatoryHDMFCollectionView.trackChanges=!0,yield this._listMandatoryHDMFCollectionView.refresh(),yield this._flexMandatoryHDMF.refresh(),this.isMandatoryHDMFProgressBarHidden=!0,this._mandatoryHDMFListSubscription=(yield this._mandatoryTablesService.MandatoryHDMFList()).subscribe(e=>{e.length>0&&(this._listMandatoryHDMFCollectionView=e,this._listMandatoryHDMFCollectionView=new oa(this._listMandatoryHDMFCollectionView),this._listMandatoryHDMFCollectionView.pageSize=15,this._listMandatoryHDMFCollectionView.trackChanges=!0,this._listMandatoryHDMFCollectionView.refresh(),this._flexMandatoryHDMF.refresh()),this.isMandatoryHDMFDataLoaded=!0,this.isMandatoryHDMFProgressBarHidden=!1,null!=this._mandatoryHDMFListSubscription&&this._mandatoryHDMFListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._mandatoryHDMFListSubscription&&this._mandatoryHDMFListSubscription.unsubscribe()})}))}BtnAddMandatoryHDMF(){this.DetailMandatoryHDMF({Id:0,AmountStart:"0.00",AmountEnd:"0.00",EmployeeContributionPercentage:"0.00",EmployerContributionPercentage:"0.00",EmployeeContributionValue:"0.00",EmployerContributionValue:"0.00",Remarks:"NA"},"Add Mandatory HDMF")}EditMandatoryHDMF(){this.DetailMandatoryHDMF(this._listMandatoryHDMFCollectionView.currentItem,"Edit Mandatory HDMF")}AddMandatoryHDMF(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this.isMandatoryHDMFDataLoaded&&(this.isMandatoryHDMFDataLoaded=!1,this._addMandatoryHDMFSubscription=(yield this._mandatoryTablesService.AddMandatoryHDMF(e)).subscribe(e=>{this.buttonDisabled=!1,this.isMandatoryHDMFDataLoaded=!0,this.GetMandatoryHDMFListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully"),null!=this._addMandatoryHDMFSubscription&&this._addMandatoryHDMFSubscription.unsubscribe()},e=>{this.buttonDisabled=!1,this.isMandatoryHDMFDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addMandatoryHDMFSubscription&&this._addMandatoryHDMFSubscription.unsubscribe()}))}))}SaveMandatoryHDMF(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this.isMandatoryHDMFDataLoaded&&(this.isMandatoryHDMFDataLoaded=!1,this._addMandatoryHDMFSubscription=(yield this._mandatoryTablesService.SaveMandatoryHDMF(e)).subscribe(e=>{this.buttonDisabled=!1,this.isMandatoryHDMFDataLoaded=!0,this.GetMandatoryHDMFListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully")},e=>{this.buttonDisabled=!1,this.isMandatoryHDMFDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addMandatoryHDMFSubscription&&this._addMandatoryHDMFSubscription.unsubscribe()}))}))}DeleteMandatoryHDMFs(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this.isMandatoryHDMFDataLoaded){this.isMandatoryHDMFDataLoaded=!1;let e=this._listMandatoryHDMFCollectionView.currentItem;this.isMandatoryHDMFProgressBarHidden=!0,this._deleteMandatoryHDMFSubscription=(yield this._mandatoryTablesService.DeleteMandatoryHDMF(e.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetMandatoryHDMFListData(),this.isMandatoryHDMFProgressBarHidden=!1,this.isMandatoryHDMFDataLoaded=!0},e=>{this.isMandatoryHDMFDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this._deleteMandatoryHDMFSubscription&&this._deleteMandatoryHDMFSubscription.unsubscribe()})}}))}ComfirmDeleteMandatoryHDMF(){this.matDialog.open(sr,{width:"500px",data:{objDialogTitle:"",objComfirmationMessage:"Delete HDMF?"},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteMandatoryHDMFs()})}DetailMandatoryHDMF(e,t){this.matDialog.open(mu,{width:"800px",data:{objDialogTitle:t,objData:e},disableClose:!0}).afterClosed().subscribe(e=>{let t={Id:e.objData.Id,AmountStart:e.objData.AmountStart,AmountEnd:e.objData.AmountEnd,EmployeeContributionPercentage:e.objData.EmployeeContributionPercentage,EmployerContributionPercentage:e.objData.EmployerContributionPercentage,EmployeeContributionValue:e.objData.EmployeeContributionValue,EmployerContributionValue:e.objData.EmployerContributionValue,Remarks:e.objData.Remarks};"Add"===e.event&&this.AddMandatoryHDMF(t),"Edit"===e.event&&this.SaveMandatoryHDMF(t)})}GetMandatoryPHICListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listMandatoryPHICObservableArray=new na,this._listMandatoryPHICCollectionView=new oa(this._listMandatoryPHICObservableArray),this._listMandatoryPHICCollectionView.pageSize=15,this._listMandatoryPHICCollectionView.trackChanges=!0,yield this._listMandatoryPHICCollectionView.refresh(),yield this._flexMandatoryPHIC.refresh(),this._isMandatoryPHICProgressBarHidden=!0,this._mandatoryPHICTablesListSubscription=(yield this._mandatoryTablesService.MandatoryPHICList()).subscribe(e=>{e.length>0&&(this._listMandatoryPHICCollectionView=e,this._listMandatoryPHICCollectionView=new oa(this._listMandatoryPHICCollectionView),this._listMandatoryPHICCollectionView.pageSize=15,this._listMandatoryPHICCollectionView.trackChanges=!0,this._listMandatoryPHICCollectionView.refresh(),this._flexMandatoryPHIC.refresh()),this._isMandatoryPHICDataLoaded=!0,this._isMandatoryPHICProgressBarHidden=!1,null!=this._mandatoryPHICTablesListSubscription&&this._mandatoryPHICTablesListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._mandatoryPHICTablesListSubscription&&this._mandatoryPHICTablesListSubscription.unsubscribe()})}))}BtnAddMandatoryPHIC(){this.DetailMandatoryPHIC({Id:0,AmountStart:"0.00",AmountEnd:"0.00",EmployeeContributionValue:"0.00",EmployerContributionValue:"0.00",Remarks:"NA"},"Add Mandatory PHIC")}EditMandatoryPHIC(){let e=this._listMandatoryPHICCollectionView.currentItem,t={Id:e.Id,AmountStart:this.RemoveComma(e.AmountStart),AmountEnd:this.RemoveComma(e.AmountEnd),EmployeeContributionValue:this.RemoveComma(e.EmployeeContributionValue),EmployerContributionValue:this.RemoveComma(e.EmployerContributionValue),Remarks:e.Remarks};this.DetailMandatoryPHIC(t,"Edit Mandatory PHIC")}AddMandatoryPHIC(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this._isMandatoryPHICDataLoaded&&(this._isMandatoryPHICDataLoaded=!1,this._addMandatoryPHICSubscription=(yield this._mandatoryTablesService.AddMandatoryPHIC(e)).subscribe(e=>{this.buttonDisabled=!1,this._isMandatoryPHICDataLoaded=!0,this.GetMandatoryPHICListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully"),null!=this._addMandatoryPHICSubscription&&this._addMandatoryPHICSubscription.unsubscribe()},e=>{this.buttonDisabled=!1,this._isMandatoryPHICDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addMandatoryPHICSubscription&&this._addMandatoryPHICSubscription.unsubscribe()}))}))}SaveMandatoryPHIC(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this._isMandatoryPHICDataLoaded&&(this._isMandatoryPHICDataLoaded=!1,this._addMandatoryPHICSubscription=(yield this._mandatoryTablesService.SaveMandatoryPHIC(e)).subscribe(e=>{this.buttonDisabled=!1,this._isMandatoryPHICDataLoaded=!0,this.GetMandatoryPHICListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully")},e=>{this.buttonDisabled=!1,this._isMandatoryPHICDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addMandatoryPHICSubscription&&this._addMandatoryPHICSubscription.unsubscribe()}))}))}DeleteMandatoryPHIC(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this._isMandatoryPHICDataLoaded){this._isMandatoryPHICDataLoaded=!1;let e=this._listMandatoryPHICCollectionView.currentItem;this._isMandatoryPHICProgressBarHidden=!0,this._deleteMandatoryPHICSubscription=(yield this._mandatoryTablesService.DeleteMandatoryPHIC(e.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetMandatoryPHICListData(),this._isMandatoryPHICProgressBarHidden=!1,this._isMandatoryPHICDataLoaded=!0},e=>{this._isMandatoryPHICDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this._deleteMandatoryPHICSubscription&&this._deleteMandatoryPHICSubscription.unsubscribe()})}}))}ComfirmDeleteMandatoryPHIC(){this.matDialog.open(sr,{width:"500px",data:{objDialogTitle:"",objComfirmationMessage:"Delete PHIC?"},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteMandatoryPHIC()})}DetailMandatoryPHIC(e,t){this.matDialog.open(fu,{width:"800px",data:{objDialogTitle:t,objData:e},disableClose:!0}).afterClosed().subscribe(e=>{let t={Id:e.objData.Id,AmountStart:e.objData.AmountStart,AmountEnd:e.objData.AmountEnd,EmployeeContributionValue:e.objData.EmployeeContributionValue,EmployerContributionValue:e.objData.EmployerContributionValue,Remarks:e.objData.Remarks};"Add"===e.event&&this.AddMandatoryPHIC(t),"Edit"===e.event&&this.SaveMandatoryPHIC(t)})}GetMandatorySSSListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listMandatorySSSObservableArray=new na,this._listMandatorySSSCollectionView=new oa(this._listMandatorySSSObservableArray),this._listMandatorySSSCollectionView.pageSize=15,this._listMandatorySSSCollectionView.trackChanges=!0,yield this._listMandatorySSSCollectionView.refresh(),yield this._flexMandatorySSS.refresh(),this._isMandatorySSSProgressBarHidden=!0,this._mandatorySSSListSubscription=(yield this._mandatoryTablesService.MandatorySSSList()).subscribe(e=>{e.length>0&&(this._listMandatorySSSCollectionView=e,this._listMandatorySSSCollectionView=new oa(this._listMandatorySSSCollectionView),this._listMandatorySSSCollectionView.pageSize=15,this._listMandatorySSSCollectionView.trackChanges=!0,this._listMandatorySSSCollectionView.refresh(),this._flexMandatorySSS.refresh()),this._isMandatorySSSDataLoaded=!0,this._isMandatorySSSProgressBarHidden=!1,null!=this._mandatorySSSListSubscription&&this._mandatorySSSListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._mandatorySSSListSubscription&&this._mandatorySSSListSubscription.unsubscribe()})}))}BtnAddMandatorySSS(){this.DetailMandatorySSS({Id:0,AmountStart:"0.00",AmountEnd:"0.00",EmployeeContributionValue:"0.00",EmployerContributionValue:"0.00",EmployerECValue:"0.00",Remarks:"NA"},"Add Mandatory SSS")}EditMandatorySSS(){let e=this._listMandatorySSSCollectionView.currentItem;this.DetailMandatorySSS({Id:e.Id,AmountStart:e.AmountStart,AmountEnd:e.AmountEnd,EmployeeContributionValue:e.EmployeeContributionValue,EmployerContributionValue:e.EmployerContributionValue,EmployerECValue:e.EmployerECValue,Remarks:"NA"},"Edit Mandatory SSS")}AddMandatorySSS(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this._isMandatorySSSDataLoaded&&(this._isMandatorySSSDataLoaded=!1,this._addMandatorySSSSubscription=(yield this._mandatoryTablesService.AddMandatorySSS(e)).subscribe(e=>{this.buttonDisabled=!1,this._isMandatorySSSDataLoaded=!0,this.GetMandatorySSSListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully"),null!=this._addMandatorySSSSubscription&&this._addMandatorySSSSubscription.unsubscribe()},e=>{this.buttonDisabled=!1,this._isMandatorySSSDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addMandatorySSSSubscription&&this._addMandatorySSSSubscription.unsubscribe()}))}))}SaveMandatorySSS(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this._isMandatorySSSDataLoaded&&(this._isMandatorySSSDataLoaded=!1,this._addMandatorySSSSubscription=(yield this._mandatoryTablesService.SaveMandatorySSS(e)).subscribe(e=>{this.buttonDisabled=!1,this._isMandatorySSSDataLoaded=!0,this.GetMandatorySSSListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully")},e=>{this.buttonDisabled=!1,this._isMandatorySSSDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addMandatorySSSSubscription&&this._addMandatorySSSSubscription.unsubscribe()}))}))}DeleteMandatorySSS(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this._isMandatorySSSDataLoaded){this._isMandatorySSSDataLoaded=!1;let e=this._listMandatorySSSCollectionView.currentItem;this._isMandatorySSSProgressBarHidden=!0,this._deleteMandatorySSSSubscription=(yield this._mandatoryTablesService.DeleteMandatorySSS(e.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetMandatorySSSListData(),this._isMandatorySSSProgressBarHidden=!1,this._isMandatorySSSDataLoaded=!0},e=>{this._isMandatorySSSDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this._deleteMandatorySSSSubscription&&this._deleteMandatorySSSSubscription.unsubscribe()})}}))}ComfirmDeleteMandatorySSS(){this.matDialog.open(sr,{width:"500px",data:{objDialogTitle:"",objComfirmationMessage:"Delete SSS?"},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteMandatorySSS()})}activeTab(){}DetailMandatorySSS(e,t){this.matDialog.open(gu,{width:"800px",data:{objDialogTitle:t,objData:e},disableClose:!0}).afterClosed().subscribe(e=>{let t={Id:e.objData.Id,AmountStart:e.objData.AmountStart,AmountEnd:e.objData.AmountEnd,EmployeeContributionValue:e.objData.EmployeeContributionValue,EmployerContributionValue:e.objData.EmployerContributionValue,EmployerECValue:e.objData.EmployerECValue,Remarks:e.objData.Remarks};"Add"===e.event&&this.AddMandatorySSS(t),"Edit"===e.event&&this.SaveMandatorySSS(t)})}AddMandatoryTable(){return Object(b.a)(this,void 0,void 0,(function*(){0==this.tabGroup.selectedIndex&&this.BtnAddMandatoryBIR(),1==this.tabGroup.selectedIndex&&this.BtnAddMandatoryHDMF(),2==this.tabGroup.selectedIndex&&this.BtnAddMandatoryPHIC(),3==this.tabGroup.selectedIndex&&this.BtnAddMandatorySSS()}))}RemoveComma(e){return e.toString().replace(/,/g,"")}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(yu),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-mandatory-tables-list"]],viewQuery:function(e,t){var i;1&e&&(h.Ec(_u,!0),h.Ec(vu,!0),h.Ec(wu,!0),h.Ec(Cu,!0),h.Ec(Du,!0)),2&e&&(h.pc(i=h.ec())&&(t._flexMandatoryBIR=i.first),h.pc(i=h.ec())&&(t._flexMandatoryHDMF=i.first),h.pc(i=h.ec())&&(t._flexMandatoryPHIC=i.first),h.pc(i=h.ec())&&(t._flexMandatorySSS=i.first),h.pc(i=h.ec())&&(t.tabGroup=i.first))},decls:152,vars:159,consts:[["src","../../../../assets/menu-icons/mandatory tables.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],[2,"max-height","100%",3,"selectedTabChange"],["tabGroup",""],["label","BIR"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexMandatoryBIR",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],[2,"margin-top","7px"],[3,"click"],[2,"margin-right","-15px"],[2,"width","100px"],["label","HDMF"],["flexMandatoryHDMF",""],["label","PHIC"],["flexMandatoryPHIC",""],["label","SSS"],["flexMandatorySSS",""],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditTaxExempt",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn","id","btnDeleteMandatoryBIR",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary","id","btnEditMandatoryHDMF",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn","id","btnDeleteMandatoryHDMF",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary","id","btnEditMandatoryPHIC",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn","id","btnDeleteMandatoryPHIC",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary","id","btnEditMandatorySSS",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn","id","btnDeleteMandatorySSS",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Mandatory Tables"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddMandatoryTable()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.Vb(16,"mat-tab-group",7,8),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(18,"mat-tab",9),h.xc(19,Su,1,2,"mat-progress-bar",10),h.Vb(20,"wj-flex-grid",11,12),h.Rb(22,"wj-flex-grid-filter"),h.Vb(23,"wj-flex-grid-column",13),h.xc(24,xu,4,0,"ng-template",14),h.Ub(),h.Vb(25,"wj-flex-grid-column",13),h.xc(26,ku,4,0,"ng-template",14),h.Ub(),h.Rb(27,"wj-flex-grid-column",15),h.Rb(28,"wj-flex-grid-column",15),h.Rb(29,"wj-flex-grid-column",15),h.Rb(30,"wj-flex-grid-column",15),h.Ub(),h.Vb(31,"mat-button-toggle-group",16),h.Vb(32,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryBIRCollectionView.moveToFirstPage()})),h.Vb(33,"mat-icon",18),h.yc(34,"navigate_before"),h.Ub(),h.Vb(35,"mat-icon"),h.yc(36,"navigate_before"),h.Ub(),h.Ub(),h.Vb(37,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryBIRCollectionView.moveToPreviousPage()})),h.Vb(38,"mat-icon"),h.yc(39,"navigate_before"),h.Ub(),h.Ub(),h.Vb(40,"mat-button-toggle",19),h.yc(41),h.Ub(),h.Vb(42,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryBIRCollectionView.moveToNextPage()})),h.Vb(43,"mat-icon"),h.yc(44,"navigate_next"),h.Ub(),h.Ub(),h.Vb(45,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryBIRCollectionView.moveToLastPage()})),h.Vb(46,"mat-icon",18),h.yc(47,"navigate_next"),h.Ub(),h.Vb(48,"mat-icon"),h.yc(49,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(50,"mat-tab",20),h.xc(51,Lu,1,2,"mat-progress-bar",10),h.Vb(52,"wj-flex-grid",11,21),h.Rb(54,"wj-flex-grid-filter"),h.Vb(55,"wj-flex-grid-column",13),h.xc(56,Vu,4,0,"ng-template",14),h.Ub(),h.Vb(57,"wj-flex-grid-column",13),h.xc(58,Ou,4,0,"ng-template",14),h.Ub(),h.Rb(59,"wj-flex-grid-column",15),h.Rb(60,"wj-flex-grid-column",15),h.Rb(61,"wj-flex-grid-column",15),h.Rb(62,"wj-flex-grid-column",15),h.Rb(63,"wj-flex-grid-column",15),h.Rb(64,"wj-flex-grid-column",15),h.Rb(65,"wj-flex-grid-column",15),h.Ub(),h.Vb(66,"mat-button-toggle-group",16),h.Vb(67,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryHDMFCollectionView.moveToFirstPage()})),h.Vb(68,"mat-icon",18),h.yc(69,"navigate_before"),h.Ub(),h.Vb(70,"mat-icon"),h.yc(71,"navigate_before"),h.Ub(),h.Ub(),h.Vb(72,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryHDMFCollectionView.moveToPreviousPage()})),h.Vb(73,"mat-icon"),h.yc(74,"navigate_before"),h.Ub(),h.Ub(),h.Vb(75,"mat-button-toggle",19),h.yc(76),h.Ub(),h.Vb(77,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryHDMFCollectionView.moveToNextPage()})),h.Vb(78,"mat-icon"),h.yc(79,"navigate_next"),h.Ub(),h.Ub(),h.Vb(80,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryHDMFCollectionView.moveToLastPage()})),h.Vb(81,"mat-icon",18),h.yc(82,"navigate_next"),h.Ub(),h.Vb(83,"mat-icon"),h.yc(84,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(85,"mat-tab",22),h.xc(86,Uu,1,2,"mat-progress-bar",10),h.Vb(87,"wj-flex-grid",11,23),h.Rb(89,"wj-flex-grid-filter"),h.Vb(90,"wj-flex-grid-column",13),h.xc(91,Eu,4,0,"ng-template",14),h.Ub(),h.Vb(92,"wj-flex-grid-column",13),h.xc(93,Mu,4,0,"ng-template",14),h.Ub(),h.Rb(94,"wj-flex-grid-column",15),h.Rb(95,"wj-flex-grid-column",15),h.Rb(96,"wj-flex-grid-column",15),h.Rb(97,"wj-flex-grid-column",15),h.Rb(98,"wj-flex-grid-column",15),h.Ub(),h.Vb(99,"mat-button-toggle-group",16),h.Vb(100,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryPHICCollectionView.moveToFirstPage()})),h.Vb(101,"mat-icon",18),h.yc(102,"navigate_before"),h.Ub(),h.Vb(103,"mat-icon"),h.yc(104,"navigate_before"),h.Ub(),h.Ub(),h.Vb(105,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryPHICCollectionView.moveToPreviousPage()})),h.Vb(106,"mat-icon"),h.yc(107,"navigate_before"),h.Ub(),h.Ub(),h.Vb(108,"mat-button-toggle",19),h.yc(109),h.Ub(),h.Vb(110,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryPHICCollectionView.moveToNextPage()})),h.Vb(111,"mat-icon"),h.yc(112,"navigate_next"),h.Ub(),h.Ub(),h.Vb(113,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatoryPHICCollectionView.moveToLastPage()})),h.Vb(114,"mat-icon",18),h.yc(115,"navigate_next"),h.Ub(),h.Vb(116,"mat-icon"),h.yc(117,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(118,"mat-tab",24),h.xc(119,Pu,1,2,"mat-progress-bar",10),h.Vb(120,"wj-flex-grid",11,25),h.Rb(122,"wj-flex-grid-filter"),h.Vb(123,"wj-flex-grid-column",13),h.xc(124,Ru,4,0,"ng-template",14),h.Ub(),h.Vb(125,"wj-flex-grid-column",13),h.xc(126,Iu,4,0,"ng-template",14),h.Ub(),h.Rb(127,"wj-flex-grid-column",15),h.Rb(128,"wj-flex-grid-column",15),h.Rb(129,"wj-flex-grid-column",15),h.Rb(130,"wj-flex-grid-column",15),h.Rb(131,"wj-flex-grid-column",15),h.Rb(132,"wj-flex-grid-column",15),h.Ub(),h.Vb(133,"mat-button-toggle-group",16),h.Vb(134,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatorySSSCollectionView.moveToFirstPage()})),h.Vb(135,"mat-icon",18),h.yc(136,"navigate_before"),h.Ub(),h.Vb(137,"mat-icon"),h.yc(138,"navigate_before"),h.Ub(),h.Ub(),h.Vb(139,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatorySSSCollectionView.moveToPreviousPage()})),h.Vb(140,"mat-icon"),h.yc(141,"navigate_before"),h.Ub(),h.Ub(),h.Vb(142,"mat-button-toggle",19),h.yc(143),h.Ub(),h.Vb(144,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatorySSSCollectionView.moveToNextPage()})),h.Vb(145,"mat-icon"),h.yc(146,"navigate_next"),h.Ub(),h.Ub(),h.Vb(147,"mat-button-toggle",17),h.dc("click",(function(){return t._listMandatorySSSCollectionView.moveToLastPage()})),h.Vb(148,"mat-icon",18),h.yc(149,"navigate_next"),h.Ub(),h.Vb(150,"mat-icon"),h.yc(151,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t.buttonDisabled),h.Eb(14),h.kc("ngIf",t.isMandatoryBIRProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listMandatoryBIRCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Amount Start")("binding","AmountStart")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Amount End")("binding","AmountEnd")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employee Tax Percentage")("binding","EmployeeTaxPercentage")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employee Additional Amount")("binding","EmployeeAdditionalAmount")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t._listMandatoryBIRCollectionView.pageIndex+1," / ",t._listMandatoryBIRCollectionView.pageCount,""),h.Eb(10),h.kc("ngIf",t.isMandatoryHDMFProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listMandatoryHDMFCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Amount Start")("binding","AmountStart")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Amount End")("binding","AmountEnd")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employee Contribution Percentage")("binding","EmployeeContributionPercentage")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employer Contribution Percentage")("binding","EmployerContributionPercentage")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employee Contribution Value")("binding","EmployeeContributionValue")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employer Contribution Value")("binding","EmployerContributionValue")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t._listMandatoryHDMFCollectionView.pageIndex+1," / ",t._listMandatoryHDMFCollectionView.pageCount,""),h.Eb(10),h.kc("ngIf",t._isMandatoryPHICProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listMandatoryPHICCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Amount Start")("binding","AmountStart")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Amount End")("binding","AmountEnd")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employee Contribution Value")("binding","EmployeeContributionValue")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employer Contribution Value")("binding","EmployerContributionValue")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t._listMandatoryPHICCollectionView.pageIndex+1," / ",t._listMandatoryPHICCollectionView.pageCount,""),h.Eb(10),h.kc("ngIf",t._isMandatorySSSProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listMandatorySSSCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Amount Start")("binding","AmountStart")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Amount End")("binding","AmountEnd")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employee Contribution Value")("binding","EmployeeContributionValue")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employer Contribution Value")("binding","EmployerContributionValue")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Employer EC Value")("binding","EmployerECValue")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t._listMandatorySSSCollectionView.pageIndex+1," / ",t._listMandatorySSSCollectionView.pageCount,""))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,fh,ah,l.l,cl,Vl,hl,ul,Al,Hl,fr],styles:[""]}),e})(),Au=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}ShiftDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/shift/detail/"+e,this.appSettings.defaultOptions)}))}SaveShift(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/shift/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockShift(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/shift/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockShift(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/shift/unlock/"+e,"",this.appSettings.defaultOptions)}))}ShiftLineList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/shift/line/list/"+e,this.appSettings.defaultOptions)}))}AddShiftLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/shift/line/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}UpdateTRLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/shift/line/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DeleteShiftLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/shift/line/delete/"+e,this.appSettings.defaultOptions)}))}DayList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/shift/line/day/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Bu(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}let ju=(()=>{class e{constructor(e,t,i,n,o,a){this._shiftCodeDetailService=e,this._snackBar=t,this._snackBarTemplate=i,this._matDialogRef=n,this._caseData=o,this._decimalPipe=a,this._title="",this._isComponentsShown=!0,this._shiftLineModel={Id:0,ShiftId:0,ShiftDate:"",TimeIn1:"",TimeOut1:"",TimeIn2:"",TimeOut2:"",IsRestDay:!1,TotalNumberOfHours:"",NightDifferentialHours:"",IsFlexible:!1,FixibilityHoursLimit:"",Remarks:""},this._dayListDropdown=[]}ngOnInit(){this._title=this._caseData.objDialogTitle,this.DateTypeListData()}DateTypeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._dayDropdownSubscription=yield(yield this._shiftCodeDetailService.DayList()).subscribe(e=>{this._dayListDropdown=e,this._shiftLineModel.ShiftDate=e[0].Value,this.loadDTRLineDetail(),null!==this._dayDropdownSubscription&&this._dayDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._dayDropdownSubscription&&this._dayDropdownSubscription.unsubscribe()})}))}fillLeadingZeroes(e,t){let i=e,n=t-i.length;for(;n>0;)i="0"+i,n--;return i}convertTime(e){if(""==e)return"";const[t,i]=e.split(" ");let[n,o]=t.split(":");return"12"===n&&(n="00"),"PM"===i&&(n=parseInt(n,10)+12),`${this.fillLeadingZeroes(n,2)}:${this.fillLeadingZeroes(o,2)}`}restrictNumeric(e){let t;return""==e.key?0:!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||e.which<33||e.which<33||(t=String.fromCharCode(e.which),!!/^[0-9.,]+$/.test(t)))}formatValueTotalNumberOfHours(){this._shiftLineModel.TotalNumberOfHours=this._decimalPipe.transform(""==this._shiftLineModel.TotalNumberOfHours?0:this._shiftLineModel.TotalNumberOfHours,"1.2-2")}formatValueNightDifferentialHours(){this._shiftLineModel.NightDifferentialHours=this._decimalPipe.transform(""==this._shiftLineModel.NightDifferentialHours?0:this._shiftLineModel.NightDifferentialHours,"1.2-2")}formatValueFixibilityHoursLimit(){this._shiftLineModel.FixibilityHoursLimit=this._decimalPipe.transform(""==this._shiftLineModel.FixibilityHoursLimit?0:this._shiftLineModel.FixibilityHoursLimit,"1.2-2")}loadDTRLineDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this._shiftLineModel.Id=this._caseData.objShiftLine.Id,this._shiftLineModel.ShiftDate=this._caseData.objShiftLine.ShiftDate,this._shiftLineModel.ShiftId=yield this._caseData.objShiftLine.ShiftId,this._shiftLineModel.TimeIn1=yield this.convertTime(this._caseData.objShiftLine.TimeIn1),this._shiftLineModel.TimeOut1=yield this.convertTime(this._caseData.objShiftLine.TimeOut1),this._shiftLineModel.TimeIn2=yield this.convertTime(this._caseData.objShiftLine.TimeIn2),this._shiftLineModel.TimeOut2=yield this.convertTime(this._caseData.objShiftLine.TimeOut2),this._shiftLineModel.IsRestDay=yield this._caseData.objShiftLine.IsRestDay,this._shiftLineModel.IsFlexible=yield this._caseData.objShiftLine.IsFlexible,this._shiftLineModel.TotalNumberOfHours=yield this._decimalPipe.transform(this._caseData.objShiftLine.TotalNumberOfHours,"1.2-2"),this._shiftLineModel.NightDifferentialHours=yield this._decimalPipe.transform(this._caseData.objShiftLine.NightDifferentialHours,"1.2-2"),this._shiftLineModel.FixibilityHoursLimit=yield this._decimalPipe.transform(this._caseData.objShiftLine.FixibilityHoursLimit,"1.2-2"),this._shiftLineModel.Remarks=this._caseData.objShiftLine.Remarks,setTimeout(()=>{this._isComponentsShown=!0},1500)}))}Close(){this._matDialogRef.close({event:"Close"})}CloseOnSave(){this._matDialogRef.close("Add ShiftLine Detail"===this._title?{event:"Add",data:this._shiftLineModel}:{event:"Update",data:this._shiftLineModel})}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Au),h.Qb(lr.a),h.Qb(cr),h.Qb(Wa),h.Qb(Ka),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-shift-code-detial-shift-line"]],decls:76,vars:14,consts:[["mat-dialog-title",""],[3,"hidden"],["fxLayout","row","fxLayout.xs","column",2,"margin-top","-5px"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matNativeControl","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","25",2,"padding","5px"],["type","time","matInput","",2,"text-align","right",3,"ngModel","ngModelChange"],["fxLayout","row","fxLayout.xs","column"],["matInput","","placeholder","0.00",2,"text-align","right",3,"ngModel","keypress","change","ngModelChange"],["type","text","matInput","","placeholder","0.00",2,"text-align","right",3,"ngModel","keypress","change","ngModelChange"],["fxFlex","12",2,"padding","23px","text-align","start","display","inline","margin-right","10px"],[2,"width","100%","border","gray 1px !important"],["color","primary",3,"ngModel","ngModelChange"],[2,"color","gray"],["fxFlex","13",2,"padding","23px","text-align","start","display","inline"],["fxLayout","row","fxLayout.xs","column",2,"height","12.45em"],["fxFlex","75",2,"padding","5px"],["matInput","","placeholder","AddrRemarksess","rows","6",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","mat-dialog-close","",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Rb(3,"br"),h.Vb(4,"div",1),h.Vb(5,"div",2),h.Vb(6,"div",3),h.Vb(7,"mat-form-field",4),h.Vb(8,"mat-label"),h.yc(9,"Shift Date"),h.Ub(),h.Vb(10,"mat-select",5),h.dc("ngModelChange",(function(e){return t._shiftLineModel.ShiftDate=e})),h.xc(11,Bu,2,2,"mat-option",6),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(12,"div",2),h.Vb(13,"div",7),h.Vb(14,"mat-form-field",4),h.Vb(15,"mat-label"),h.yc(16,"Time In 1"),h.Ub(),h.Vb(17,"input",8),h.dc("ngModelChange",(function(e){return t._shiftLineModel.TimeIn1=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(18,"div",7),h.Vb(19,"mat-form-field",4),h.Vb(20,"mat-label"),h.yc(21,"Time Out 1"),h.Ub(),h.Vb(22,"input",8),h.dc("ngModelChange",(function(e){return t._shiftLineModel.TimeOut1=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(23,"div",7),h.Vb(24,"mat-form-field",4),h.Vb(25,"mat-label"),h.yc(26,"Time In 2"),h.Ub(),h.Vb(27,"input",8),h.dc("ngModelChange",(function(e){return t._shiftLineModel.TimeIn2=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(28,"div",7),h.Vb(29,"mat-form-field",4),h.Vb(30,"mat-label"),h.yc(31,"Time Out 2"),h.Ub(),h.Vb(32,"input",8),h.dc("ngModelChange",(function(e){return t._shiftLineModel.TimeOut2=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(33,"div",9),h.Vb(34,"div",7),h.Vb(35,"mat-form-field",4),h.Vb(36,"mat-label"),h.yc(37,"Total Number Of Hours"),h.Ub(),h.Vb(38,"input",10),h.dc("keypress",(function(e){return t.restrictNumeric(e)}))("change",(function(){return t.formatValueTotalNumberOfHours()}))("ngModelChange",(function(e){return t._shiftLineModel.TotalNumberOfHours=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(39,"div",7),h.Vb(40,"mat-form-field",4),h.Vb(41,"mat-label"),h.yc(42,"Night Differential Hours"),h.Ub(),h.Vb(43,"input",11),h.dc("keypress",(function(e){return t.restrictNumeric(e)}))("change",(function(){return t.formatValueFixibilityHoursLimit()}))("ngModelChange",(function(e){return t._shiftLineModel.NightDifferentialHours=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(44,"div",7),h.Vb(45,"mat-form-field",4),h.Vb(46,"mat-label"),h.yc(47,"Fixibility Hours Limit"),h.Ub(),h.Vb(48,"input",11),h.dc("keypress",(function(e){return t.restrictNumeric(e)}))("change",(function(){return t.formatValueFixibilityHoursLimit()}))("ngModelChange",(function(e){return t._shiftLineModel.FixibilityHoursLimit=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(49,"div",12),h.Vb(50,"div",13),h.Vb(51,"mat-checkbox",14),h.dc("ngModelChange",(function(e){return t._shiftLineModel.IsRestDay=e})),h.Vb(52,"span",15),h.yc(53," Rest Day"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(54,"div",16),h.Vb(55,"div",13),h.Vb(56,"mat-checkbox",14),h.dc("ngModelChange",(function(e){return t._shiftLineModel.IsFlexible=e})),h.Vb(57,"span",15),h.yc(58," Flexible"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(59,"div",9),h.Vb(60,"div",17),h.Vb(61,"div",18),h.Vb(62,"mat-form-field",4),h.Vb(63,"mat-label"),h.yc(64,"Remarks"),h.Ub(),h.Vb(65,"textarea",19),h.dc("ngModelChange",(function(e){return t._shiftLineModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(66,"mat-divider"),h.Vb(67,"div",20),h.Vb(68,"button",21),h.dc("click",(function(){return t.CloseOnSave()})),h.Vb(69,"mat-icon"),h.yc(70,"save"),h.Ub(),h.yc(71," Save "),h.Ub(),h.Vb(72,"button",22),h.dc("click",(function(){return t.Close()})),h.Vb(73,"mat-icon"),h.yc(74,"close"),h.Ub(),h.yc(75," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t._title,"\n"),h.Eb(3),h.kc("hidden",!t._isComponentsShown),h.Eb(6),h.kc("ngModel",t._shiftLineModel.ShiftDate),h.Eb(1),h.kc("ngForOf",t._dayListDropdown),h.Eb(6),h.kc("ngModel",t._shiftLineModel.TimeIn1),h.Eb(5),h.kc("ngModel",t._shiftLineModel.TimeOut1),h.Eb(5),h.kc("ngModel",t._shiftLineModel.TimeIn2),h.Eb(5),h.kc("ngModel",t._shiftLineModel.TimeOut2),h.Eb(6),h.kc("ngModel",t._shiftLineModel.TotalNumberOfHours),h.Eb(5),h.kc("ngModel",t._shiftLineModel.NightDifferentialHours),h.Eb(5),h.kc("ngModel",t._shiftLineModel.FixibilityHoursLimit),h.Eb(3),h.kc("ngModel",t._shiftLineModel.IsRestDay),h.Eb(5),h.kc("ngModel",t._shiftLineModel.IsFlexible),h.Eb(9),h.kc("ngModel",t._shiftLineModel.Remarks))},directives:[ir,ft,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,vr.b,c.d,Ih,or,v.a,tr,w.a,G.l],styles:[""]}),e})();const Hu=["flexShiftLine"];function Fu(e,t){1&e&&h.Rb(0,"mat-progress-bar",36),2&e&&h.kc("color","primary")("mode","indeterminate")}function Nu(e,t){1&e&&h.Rb(0,"mat-progress-bar",37),2&e&&h.kc("color","primary")("mode","indeterminate")}function zu(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",40),h.dc("click",(function(){return h.rc(e),h.hc(2).EditShiftLine()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Gu(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",38),h.xc(1,zu,4,0,"ng-template",39),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}let Yu=(()=>{class e{constructor(e,t,i,n,o,a){this.shiftCodeDetailService=e,this.activatedRoute=t,this.snackBar=i,this.snackBarTemplate=n,this.shiftLineDetailDialog=o,this.deleteShiftLineDetailDialog=a,this.title="",this.event="Close",this.shiftModel={Id:0,ShiftCode:"",Shift:"",Particulars:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:new Date,UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:new Date,IsLocked:!1},this.isDataLoaded=!1,this.isProgressBarHidden=!1,this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isLocked=!1,this.isComponentsShown=!1,this._listShiftLineObservableArray=new na,this._listShiftLineCollectionView=new oa(this._listShiftLineObservableArray),this._listPageIndex=15,this._isShiftLineProgressBarHidden=!1,this._isDataLoaded=!1,this._btnAddShiftLineDisabled=!1,this.ShiftLineModel={Id:0,ShiftId:0,ShiftDate:"",TimeIn1:"",TimeOut1:"",TimeIn2:"",TimeOut2:"",IsRestDay:!1,TotalNumberOfHours:"0",NightDifferentialHours:"0",IsFlexible:!1,FixibilityHoursLimit:"0",Remarks:""}}ngOnInit(){this.GetShiftDetail()}GetShiftDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=0;this.activatedRoute.params.subscribe(t=>{e=t.id}),this.disableButtons(),this.isComponentsShown=!1,this.shiftDetailSubscription=(yield this.shiftCodeDetailService.ShiftDetail(e)).subscribe(e=>{let t=e;console.log(t),null!=t&&(this.shiftModel=t,this.ShiftLineModel.ShiftId=t.Id,this.shiftModel.IsLocked=t.IsLocked,console.log(t.IsLocked)),this.GetShiftLineListData(),this.loadComponent(t.IsLocked),this.isDataLoaded=!0,this.isComponentsShown=!0,null!==this.shiftDetailSubscription&&this.shiftDetailSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.shiftDetailSubscription&&this.shiftDetailSubscription.unsubscribe()})}))}SaveShiftDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.saveShiftDetailSubscription=yield(yield this.shiftCodeDetailService.SaveShift(this.shiftModel.Id,this.shiftModel)).subscribe(e=>{this.event="Save",this.isDataLoaded=!0,this.loadComponent(this.shiftModel.IsLocked),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully."),null!==this.saveShiftDetailSubscription&&this.saveShiftDetailSubscription.unsubscribe()},e=>{this.loadComponent(this.shiftModel.IsLocked),this.btnUnlockDisabled=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.saveShiftDetailSubscription&&this.saveShiftDetailSubscription.unsubscribe()}))}))}LockShiftDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.lockShiftDetailSubscription=yield(yield this.shiftCodeDetailService.LockShift(this.shiftModel.Id,this.shiftModel)).subscribe(e=>{this.event="Lock",this.loadComponent(!0),this.isDataLoaded=!0,this.snackBarTemplate.snackBarSuccess(this.snackBar,"Lock Successfully."),null!==this.lockShiftDetailSubscription&&this.lockShiftDetailSubscription.unsubscribe()},e=>{this.isDataLoaded=!0,this.loadComponent(!1),this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.lockShiftDetailSubscription&&this.lockShiftDetailSubscription.unsubscribe()}))}))}UnlockShiftDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.unlockShiftDetailSubscription=yield(yield this.shiftCodeDetailService.UnlockShift(this.shiftModel.Id)).subscribe(e=>{this.event="Unlock",this.loadComponent(!1),this.isDataLoaded=!0,this.snackBarTemplate.snackBarSuccess(this.snackBar,"Unlock Successfully."),null!==this.unlockShiftDetailSubscription&&this.unlockShiftDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.unlockShiftDetailSubscription&&this.unlockShiftDetailSubscription.unsubscribe()}))}))}ngOnDestroy(){}loadComponent(e){this._btnAddShiftLineDisabled=e,this.btnSaveDisabled=e,this.btnLockisabled=e,this.btnUnlockDisabled=!e,this.isLocked=e,this.isProgressBarHidden=!1}disableButtons(){this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isProgressBarHidden=!0}GetShiftLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listShiftLineObservableArray=new na,this._listShiftLineCollectionView=new oa(this._listShiftLineObservableArray),this._listShiftLineCollectionView.pageSize=15,this._listShiftLineCollectionView.trackChanges=!0,yield this._listShiftLineCollectionView.refresh(),yield this.flexShiftLine.refresh(),this._isShiftLineProgressBarHidden=!0,this._shiftLineListSubscription=(yield this.shiftCodeDetailService.ShiftLineList(this.shiftModel.Id)).subscribe(e=>{var t=e;console.log("Response:",t),t.length>0&&(this._listShiftLineObservableArray=t,this._listShiftLineCollectionView=new oa(this._listShiftLineObservableArray),this._listShiftLineCollectionView.pageSize=15,this._listShiftLineCollectionView.trackChanges=!0,this._listShiftLineCollectionView.refresh(),this.flexShiftLine.refresh()),this._isDataLoaded=!0,this._isShiftLineProgressBarHidden=!1,null!=this._shiftLineListSubscription&&this._shiftLineListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._shiftLineListSubscription&&this._shiftLineListSubscription.unsubscribe()})}))}AddShiftLine(e){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddShiftLineDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addShiftLineSubscription=(yield this.shiftCodeDetailService.AddShiftLine(e)).subscribe(e=>{this._btnAddShiftLineDisabled=!1,this._isDataLoaded=!0,this.GetShiftLineListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully")},e=>{this._btnAddShiftLineDisabled=!1,this._isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addShiftLineSubscription&&this._addShiftLineSubscription.unsubscribe()}))}))}UpdateShiftLine(e){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddShiftLineDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addShiftLineSubscription=(yield this.shiftCodeDetailService.UpdateTRLine(e.Id,e)).subscribe(e=>{this._btnAddShiftLineDisabled=!1,this._isDataLoaded=!0,this.GetShiftLineListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Updated Successfully")},e=>{this._btnAddShiftLineDisabled=!1,this._isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this._addShiftLineSubscription&&this._addShiftLineSubscription.unsubscribe()}))}))}AddShiftLineDialog(){this.DetailShiftLine(this.ShiftLineModel,"Add ShiftLine Detail")}EditShiftLine(){this.DetailShiftLine(this._listShiftLineCollectionView.currentItem,"Edit ShiftLine Detail")}DeleteShiftLine(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listShiftLineCollectionView.currentItem;this._isShiftLineProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._deleteShiftLineSubscription=(yield this.shiftCodeDetailService.DeleteShiftLine(e.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetShiftLineListData(),this._isShiftLineProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._isShiftLineProgressBarHidden=!1,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this._deleteShiftLineSubscription&&this._deleteShiftLineSubscription.unsubscribe()}))}))}ComfirmDeleteShiftLine(){this.deleteShiftLineDetailDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete ShiftLine",objComfirmationMessage:` Delete this ${this._listShiftLineCollectionView.currentItem.ShiftLine}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteShiftLine()})}DetailShiftLine(e,t){this.shiftLineDetailDialog.open(ju,{width:"900px",data:{objDialogTitle:t,objShiftLine:e},disableClose:!0}).afterClosed().subscribe(e=>{"Add"===e.event&&(console.log(e),this.AddShiftLine(e.data)),"Update"===e.event&&(console.log(e),this.UpdateShiftLine(e.data))})}activeTab(){}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Au),h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-shift-code-detail"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Hu,!0),2&e&&h.pc(i=h.ec())&&(t.flexShiftLine=i.first)},decls:113,vars:66,consts:[["src","../../../../assets/menu-icons/shift code.png","height","35"],[1,"spacer"],["mat-raised-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software/shift-code-list","color","warn",2,"margin","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Full Name","readonly","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Full Name",3,"ngModel","readonly","ngModelChange"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Full Name","rows","5",2,"min-height","102px",3,"ngModel","readonly","ngModelChange"],[2,"max-height","100%",3,"selectedTabChange"],["tabGroup",""],["label","Shift Line"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexShiftLine",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["fxFlex","20",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[2,"width","100%",3,"color","mode"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditShiftLine",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Shift Code Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SaveShiftDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockShiftDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockShiftDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.Vb(18,"mat-icon"),h.yc(19,"close"),h.Ub(),h.yc(20," Close "),h.Ub(),h.Ub(),h.xc(21,Fu,1,2,"mat-progress-bar",4),h.Vb(22,"div",5),h.Vb(23,"div",6),h.Vb(24,"div",7),h.Vb(25,"div",8),h.Vb(26,"mat-form-field",9),h.Vb(27,"mat-label"),h.yc(28,"ShiftCode"),h.Ub(),h.Vb(29,"input",10),h.dc("ngModelChange",(function(e){return t.shiftModel.ShiftCode=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(30,"div",8),h.Vb(31,"mat-form-field",9),h.Vb(32,"mat-label"),h.yc(33,"Shift"),h.Ub(),h.Vb(34,"input",11),h.dc("ngModelChange",(function(e){return t.shiftModel.Shift=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(35,"div",7),h.Vb(36,"div",12),h.Vb(37,"mat-form-field",9),h.Vb(38,"mat-label"),h.yc(39,"Particulars"),h.Ub(),h.Vb(40,"textarea",13),h.dc("ngModelChange",(function(e){return t.shiftModel.Particulars=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(41,"mat-tab-group",14,15),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(43,"mat-tab",16),h.xc(44,Nu,1,2,"mat-progress-bar",17),h.Vb(45,"wj-flex-grid",18,19),h.Rb(47,"wj-flex-grid-filter"),h.xc(48,Gu,2,3,"wj-flex-grid-column",20),h.Rb(49,"wj-flex-grid-column",21),h.Rb(50,"wj-flex-grid-column",21),h.Rb(51,"wj-flex-grid-column",21),h.Rb(52,"wj-flex-grid-column",21),h.Rb(53,"wj-flex-grid-column",21),h.Rb(54,"wj-flex-grid-column",21),h.Rb(55,"wj-flex-grid-column",21),h.Rb(56,"wj-flex-grid-column",21),h.Rb(57,"wj-flex-grid-column",21),h.Rb(58,"wj-flex-grid-column",21),h.Rb(59,"wj-flex-grid-column",21),h.Ub(),h.Ub(),h.Ub(),h.Vb(60,"div",22),h.Vb(61,"div",23),h.Vb(62,"div",7),h.Vb(63,"mat-button-toggle-group",24),h.Vb(64,"mat-button-toggle",25),h.dc("click",(function(){return t._listShiftLineCollectionView.moveToFirstPage()})),h.Vb(65,"mat-icon",26),h.yc(66,"navigate_before"),h.Ub(),h.Vb(67,"mat-icon"),h.yc(68,"navigate_before"),h.Ub(),h.Ub(),h.Vb(69,"mat-button-toggle",25),h.dc("click",(function(){return t._listShiftLineCollectionView.moveToPreviousPage()})),h.Vb(70,"mat-icon"),h.yc(71,"navigate_before"),h.Ub(),h.Ub(),h.Vb(72,"mat-button-toggle",27),h.yc(73),h.Ub(),h.Vb(74,"mat-button-toggle",25),h.dc("click",(function(){return t._listShiftLineCollectionView.moveToNextPage()})),h.Vb(75,"mat-icon"),h.yc(76,"navigate_next"),h.Ub(),h.Ub(),h.Vb(77,"mat-button-toggle",25),h.dc("click",(function(){return t._listShiftLineCollectionView.moveToLastPage()})),h.Vb(78,"mat-icon",26),h.yc(79,"navigate_next"),h.Ub(),h.Vb(80,"mat-icon"),h.yc(81,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(82,"div",28),h.Ub(),h.Rb(83,"mat-divider",29),h.Vb(84,"div",30),h.Vb(85,"div",8),h.Vb(86,"div",7),h.Vb(87,"div",31),h.Vb(88,"mat-label",32),h.yc(89,"Created By:"),h.Ub(),h.Ub(),h.Vb(90,"div",33),h.Vb(91,"mat-label",32),h.yc(92),h.Ub(),h.Ub(),h.Vb(93,"div",34),h.Vb(94,"mat-label",32),h.yc(95,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(96,"div",35),h.Vb(97,"mat-label",32),h.yc(98),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(99,"div",8),h.Vb(100,"div",7),h.Vb(101,"div",31),h.Vb(102,"mat-label",32),h.yc(103,"Updated By:"),h.Ub(),h.Ub(),h.Vb(104,"div",33),h.Vb(105,"mat-label",32),h.yc(106),h.Ub(),h.Ub(),h.Vb(107,"div",34),h.Vb(108,"mat-label",32),h.yc(109,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(110,"div",35),h.Vb(111,"mat-label",32),h.yc(112),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t.btnSaveDisabled),h.Eb(4),h.kc("disabled",t.btnLockisabled),h.Eb(4),h.kc("disabled",t.btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t.isProgressBarHidden),h.Eb(2),h.kc("hidden",!t.isComponentsShown),h.Eb(6),h.kc("ngModel",t.shiftModel.ShiftCode),h.Eb(5),h.kc("ngModel",t.shiftModel.Shift)("readonly",t.isLocked),h.Eb(6),h.kc("ngModel",t.shiftModel.Particulars)("readonly",t.isLocked),h.Eb(4),h.kc("ngIf",t._isShiftLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listShiftLineCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("ngIf",!t.isLocked),h.Eb(1),h.kc("header","Day")("binding","ShiftDate")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","IN1")("binding","TimeIn1")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","OUT1")("binding","TimeOut1")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","IN2")("binding","TimeIn2")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","OUT2")("binding","TimeOut2")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","RD")("binding","IsRestDay")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","Hrs")("binding","TotalNumberOfHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","ND")("binding","NightDifferentialHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","FLEX")("binding","IsFlexible")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","FMIN")("binding","FixibilityHoursLimit")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","2*"),h.Eb(14),h.Bc("",t._listShiftLineCollectionView.pageIndex+1," / ",t._listShiftLineCollectionView.pageCount,""),h.Eb(19),h.zc(t.shiftModel.CreatedByUser),h.Eb(6),h.zc(t.shiftModel.CreatedDateTime),h.Eb(8),h.zc(t.shiftModel.UpdatedByUser),h.Eb(6),h.zc(t.shiftModel.UpdatedDateTime))},directives:[_.a,v.a,w.a,d.c,l.l,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,fh,ah,cl,Vl,hl,Al,Hl,ft,fr,ul],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.text_box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}"]}),e})(),Qu=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}ShiftCodeList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/shift/list",this.appSettings.defaultOptions)}))}AddShiftCode(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/shift/create","",this.appSettings.defaultOptions)}))}DeleteShiftCode(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/shift/delete/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Wu=["flexShiftCode"];function qu(e,t){1&e&&h.Rb(0,"mat-progress-bar",22),2&e&&h.kc("color","primary")("mode","indeterminate")}function Ku(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",23),h.dc("click",(function(){return h.rc(e),h.hc().EditShiftCode()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function $u(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",24),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteShiftCode()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Ju(e,t){if(1&e&&(h.Vb(0,"mat-option",25),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let Zu=(()=>{class e{constructor(e,t,i,n,o){this.shiftCodeListService=e,this.router=t,this.snackBar=i,this.snackBarTemplate=n,this._matDialog=o,this.listShiftCodeObservableArray=new na,this.listShiftCodeCollectionView=new oa(this.listShiftCodeObservableArray),this.listPageIndex=15,this.isProgressBarHidden=!1,this.isDataLoaded=!1,this.buttonDisabled=!1,this._createCboShowNumberOfRows=new na}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetShiftCodeListData(),yield this.CreateCboShowNumberOfRows()}))}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this.listShiftCodeCollectionView.pageSize=this.listPageIndex,this.listShiftCodeCollectionView.refresh(),this.listShiftCodeCollectionView.refresh()}GetShiftCodeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.listShiftCodeObservableArray=new na,this.listShiftCodeCollectionView=new oa(this.listShiftCodeObservableArray),this.listShiftCodeCollectionView.pageSize=15,this.listShiftCodeCollectionView.trackChanges=!0,yield this.listShiftCodeCollectionView.refresh(),yield this.flexShiftCode.refresh(),this.isProgressBarHidden=!0,this.shiftCodeListSubscription=yield(yield this.shiftCodeListService.ShiftCodeList()).subscribe(e=>{var t=e;console.log("Response:",t),t.length>0&&(this.listShiftCodeCollectionView=t,this.listShiftCodeCollectionView=new oa(this.listShiftCodeCollectionView),this.listShiftCodeCollectionView.pageSize=15,this.listShiftCodeCollectionView.trackChanges=!0,this.listShiftCodeCollectionView.refresh(),this.flexShiftCode.refresh()),this.isDataLoaded=!0,this.isProgressBarHidden=!1,null!=this.shiftCodeListSubscription&&this.shiftCodeListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+"  Status Code: "+e.status),null!=this.shiftCodeListSubscription&&this.shiftCodeListSubscription.unsubscribe())})}))}AddShiftCode(){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this.isDataLoaded&&(this.isDataLoaded=!1,this.AddShiftCodeSubscription=yield(yield this.shiftCodeListService.AddShiftCode()).subscribe(e=>{this.buttonDisabled=!1,this.isDataLoaded=!0,this.GetShiftCodeListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully"),this.router.navigate(["/software/shift-code-detail/"+e])},e=>{this.buttonDisabled=!1,this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this.AddShiftCodeSubscription&&this.AddShiftCodeSubscription.unsubscribe()}))}))}EditShiftCode(){this.router.navigate(["/software/shift-code-detail/"+this.listShiftCodeCollectionView.currentItem.Id])}DeleteShiftCode(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this.isDataLoaded){this.isDataLoaded=!1;let e=this.listShiftCodeCollectionView.currentItem;this.isProgressBarHidden=!0,this.DeleteShiftCodeSubscription=yield(yield this.shiftCodeListService.DeleteShiftCode(e.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetShiftCodeListData(),this.isProgressBarHidden=!1,this.isDataLoaded=!0},e=>{this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this.DeleteShiftCodeSubscription&&this.DeleteShiftCodeSubscription.unsubscribe()})}}))}ComfirmDeleteShiftCode(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Shift",objComfirmationMessage:`Delete this ${this.listShiftCodeCollectionView.currentItem.Shift}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteShiftCode()})}DetailShiftCode(e,t){this._matDialog.open(Yu,{width:"1200px",data:{objDialogTitle:t,objShiftCodeId:e},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetShiftCodeListData()})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Qu),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-shift-code-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Wu,!0),2&e&&h.pc(i=h.ec())&&(t.flexShiftCode=i.first)},decls:56,vars:34,consts:[["src","../../../../assets/menu-icons/shift code.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexShiftCode",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditEmployee",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Shift Code List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddShiftCode()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.xc(16,qu,1,2,"mat-progress-bar",7),h.Vb(17,"wj-flex-grid",8,9),h.Rb(19,"wj-flex-grid-filter"),h.Vb(20,"wj-flex-grid-column",10),h.xc(21,Ku,4,0,"ng-template",11),h.Ub(),h.Vb(22,"wj-flex-grid-column",10),h.xc(23,$u,4,0,"ng-template",11),h.Ub(),h.Rb(24,"wj-flex-grid-column",12),h.Rb(25,"wj-flex-grid-column",12),h.Rb(26,"wj-flex-grid-column",12),h.Rb(27,"wj-flex-grid-column",12),h.Ub(),h.Ub(),h.Ub(),h.Vb(28,"div",5),h.Vb(29,"div",13),h.Vb(30,"div",5),h.Vb(31,"mat-button-toggle-group",14),h.Vb(32,"mat-button-toggle",15),h.dc("click",(function(){return t.listShiftCodeCollectionView.moveToFirstPage()})),h.Vb(33,"mat-icon",16),h.yc(34,"navigate_before"),h.Ub(),h.Vb(35,"mat-icon"),h.yc(36,"navigate_before"),h.Ub(),h.Ub(),h.Vb(37,"mat-button-toggle",15),h.dc("click",(function(){return t.listShiftCodeCollectionView.moveToPreviousPage()})),h.Vb(38,"mat-icon"),h.yc(39,"navigate_before"),h.Ub(),h.Ub(),h.Vb(40,"mat-button-toggle",17),h.yc(41),h.Ub(),h.Vb(42,"mat-button-toggle",15),h.dc("click",(function(){return t.listShiftCodeCollectionView.moveToNextPage()})),h.Vb(43,"mat-icon"),h.yc(44,"navigate_next"),h.Ub(),h.Ub(),h.Vb(45,"mat-button-toggle",15),h.dc("click",(function(){return t.listShiftCodeCollectionView.moveToLastPage()})),h.Vb(46,"mat-icon",16),h.yc(47,"navigate_next"),h.Ub(),h.Vb(48,"mat-icon"),h.yc(49,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(50,"div",18),h.Vb(51,"mat-form-field",19),h.Vb(52,"mat-label"),h.yc(53,"Row"),h.Ub(),h.Vb(54,"mat-select",20),h.dc("ngModelChange",(function(e){return t.listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(55,Ju,2,2,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t.buttonDisabled),h.Eb(11),h.kc("ngIf",t.isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t.listShiftCodeCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Code")("binding","ShiftCode")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Shift")("binding","Shift")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Particulars")("binding","Particulars")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",".20*"),h.Eb(14),h.Bc(" ",t.listShiftCodeCollectionView.pageIndex+1," / ",t.listShiftCodeCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t.listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,l.l,cl,Vl,hl,ul,Al,Hl,_r.c,_r.g,rc,c.o,c.r,l.k,fr,G.l],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})(),Xu=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Kb({type:e,selectors:[["app-day-type-list"]],decls:7,vars:0,consts:[["src","../../../../assets/menu-icons/day type.png","height","35"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Day Type List"),h.Ub(),h.Ub(),h.Vb(4,"div",1),h.Vb(5,"div",2),h.Rb(6,"div",3),h.Ub(),h.Ub())},directives:[_.a,li.b,li.a],styles:[""]}),e})(),ep=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Kb({type:e,selectors:[["app-day-type-detail"]],decls:7,vars:0,consts:[["src","../../../../assets/menu-icons/day type.png","height","35"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Day Type Detail"),h.Ub(),h.Ub(),h.Vb(4,"div",1),h.Vb(5,"div",2),h.Rb(6,"div",3),h.Ub(),h.Ub())},directives:[_.a,li.b,li.a],styles:[""]}),e})(),tp=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}OtherIncomeList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/other/income/list",this.appSettings.defaultOptions)}))}OtherIncomeDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/other/income/detail/"+e,this.appSettings.defaultOptions)}))}AddOtherIncome(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/other/income/create","",this.appSettings.defaultOptions)}))}SaveOtherIncome(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/other/income/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockOtherIncome(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/other/income/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockOtherIncome(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/other/income/unlock/"+e,"",this.appSettings.defaultOptions)}))}DeleteOtherIncome(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/other/income/delete/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ip(e,t){1&e&&h.Rb(0,"mat-progress-bar",7),2&e&&h.kc("color","primary")("mode","indeterminate")}function np(e,t){if(1&e){const e=h.Wb();h.Vb(0,"div"),h.Vb(1,"div",8),h.Vb(2,"div",9),h.Vb(3,"mat-form-field",10),h.Vb(4,"mat-label"),h.yc(5,"OtherIncomeCode"),h.Ub(),h.Vb(6,"input",11),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._otherIncomeModel.OtherIncomeCode=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(7,"div",12),h.Vb(8,"mat-form-field",10),h.Vb(9,"mat-label"),h.yc(10,"OtherIncome"),h.Ub(),h.Vb(11,"input",13),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._otherIncomeModel.OtherIncome=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(12,"div",14),h.Vb(13,"div",15),h.Vb(14,"mat-checkbox",16),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._otherIncomeModel.IsTaxable=t})),h.Vb(15,"span",17),h.yc(16," Taxable"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(17,"mat-divider"),h.Vb(18,"div",18),h.Vb(19,"div",12),h.Vb(20,"div",8),h.Vb(21,"div",19),h.Vb(22,"mat-label",20),h.yc(23,"Created By:"),h.Ub(),h.Ub(),h.Vb(24,"div",21),h.Vb(25,"mat-label",20),h.yc(26),h.Ub(),h.Ub(),h.Vb(27,"div",22),h.Vb(28,"mat-label",20),h.yc(29,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(30,"div",23),h.Vb(31,"mat-label",20),h.yc(32),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(33,"div",12),h.Vb(34,"div",8),h.Vb(35,"div",19),h.Vb(36,"mat-label",20),h.yc(37,"Updated By:"),h.Ub(),h.Ub(),h.Vb(38,"div",21),h.Vb(39,"mat-label",20),h.yc(40),h.Ub(),h.Ub(),h.Vb(41,"div",22),h.Vb(42,"mat-label",20),h.yc(43,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(44,"div",23),h.Vb(45,"mat-label",20),h.yc(46),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()}if(2&e){const e=h.hc();h.Eb(6),h.kc("ngModel",e._otherIncomeModel.OtherIncomeCode),h.Eb(5),h.kc("ngModel",e._otherIncomeModel.OtherIncome)("readonly",e.isLocked),h.Eb(3),h.kc("disabled",e.isLocked)("ngModel",e._otherIncomeModel.IsTaxable),h.Eb(12),h.zc(e._otherIncomeModel.CreatedByUser),h.Eb(6),h.zc(e._otherIncomeModel.CreatedDateTime),h.Eb(8),h.zc(e._otherIncomeModel.UpdatedByUser),h.Eb(6),h.zc(e._otherIncomeModel.UpdatedDateTime)}}let op=(()=>{class e{constructor(e,t,i,n,o){this.snackBar=e,this.snackBarTemplate=t,this._otherIncomeService=i,this._otherIncomeDetailDialogRef=n,this.caseData=o,this.title="",this.event="Close",this._otherIncomeModel={Id:0,OtherIncomeCode:"",OtherIncome:"",IsTaxable:!1,CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:"",UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:"",IsLocked:!1},this.isOtherIncomeDataLoaded=!1,this.isLocked=!1,this.isDataLoaded=!0,this.isProgressBarHidden=!0,this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isComponentsShown=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.GetOtherIncomeDetail(this.caseData.objOtherIncomeId)}GetOtherIncomeDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){this.isComponentsShown=!1,this.disableButtons(),this._otherIncomeDetailSubscription=yield(yield this._otherIncomeService.OtherIncomeDetail(e)).subscribe(e=>{let t=e;null!=t&&(this._otherIncomeModel.Id=t.Id,this._otherIncomeModel.OtherIncomeCode=t.OtherIncomeCode,this._otherIncomeModel.OtherIncome=t.OtherIncome,this._otherIncomeModel.IsTaxable=t.IsTaxable,this._otherIncomeModel.CreatedByUserId=t.CreatedByUserId,this._otherIncomeModel.CreatedByUser=t.CreatedByUser,this._otherIncomeModel.CreatedDateTime=t.CreatedDateTime,this._otherIncomeModel.UpdatedByUserId=t.UpdatedByUserId,this._otherIncomeModel.UpdatedByUser=t.UpdatedByUser,this._otherIncomeModel.UpdatedDateTime=t.UpdatedDateTime,this._otherIncomeModel.IsLocked=t.IsLocked),this.loadComponent(t.IsLocked),this.isComponentsShown=!0,null!==this._otherIncomeDetailSubscription&&this._otherIncomeDetailSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._otherIncomeDetailSubscription&&this._otherIncomeDetailSubscription.unsubscribe()})}))}SaveOtherIncomeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.saveOtherIncomeDetailSubscription=yield(yield this._otherIncomeService.SaveOtherIncome(this._otherIncomeModel.Id,this._otherIncomeModel)).subscribe(e=>{this.loadComponent(this._otherIncomeModel.IsLocked),this.isDataLoaded=!0,this.event="Save",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully."),null!==this.saveOtherIncomeDetailSubscription&&this.saveOtherIncomeDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._otherIncomeModel.IsLocked),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.saveOtherIncomeDetailSubscription&&this.saveOtherIncomeDetailSubscription.unsubscribe()}))}))}LockOtherIncomeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._lockOtherIncomeDetailSubscription=yield(yield this._otherIncomeService.LockOtherIncome(this._otherIncomeModel.Id,this._otherIncomeModel)).subscribe(e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.event="Lock",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Lock Successfully."),null!==this._lockOtherIncomeDetailSubscription&&this._lockOtherIncomeDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._lockOtherIncomeDetailSubscription&&this._lockOtherIncomeDetailSubscription.unsubscribe()}))}))}UnlockOtherIncomeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._unlockOtherIncomeDetailSubscription=yield(yield this._otherIncomeService.UnlockOtherIncome(this._otherIncomeModel.Id)).subscribe(e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.event="Unlock",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Unlock Successfully."),null!==this._unlockOtherIncomeDetailSubscription&&this._unlockOtherIncomeDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._unlockOtherIncomeDetailSubscription&&this._unlockOtherIncomeDetailSubscription.unsubscribe()}))}))}loadComponent(e){this.btnSaveDisabled=e,this.btnLockisabled=e,this.btnUnlockDisabled=!e,this.isLocked=e,this.isProgressBarHidden=!1}disableButtons(){this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isProgressBarHidden=!0}Close(){this._otherIncomeDetailDialogRef.close({event:this.event})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(lr.a),h.Qb(cr),h.Qb(tp),h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-other-incode-detail-dialog"]],decls:25,vars:6,consts:[["src","../../../../assets/menu-icons/other income.png","height","35"],[1,"spacer"],["mat-raised-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","color","warn",2,"margin","5px",3,"click"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software"],[4,"ngIf"],[2,"width","100%",3,"color","mode"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Other Income Code","readonly","",3,"ngModel","ngModelChange"],["fxFlex","50",2,"padding","5px"],["matInput","","placeholder","Other Income",3,"ngModel","readonly","ngModelChange"],["fxFlex","25",2,"padding","23px","text-align","start","display","inline"],[2,"width","100%","border","gray 1px !important"],["color","primary",3,"disabled","ngModel","ngModelChange"],[2,"color","gray"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.yc(2,"\xa0\xa0 "),h.Vb(3,"span"),h.yc(4),h.Ub(),h.Rb(5,"span",1),h.Vb(6,"button",2),h.dc("click",(function(){return t.SaveOtherIncomeDetail()})),h.Vb(7,"mat-icon"),h.yc(8,"save"),h.Ub(),h.yc(9," Save "),h.Ub(),h.Vb(10,"button",2),h.dc("click",(function(){return t.LockOtherIncomeDetail()})),h.Vb(11,"mat-icon"),h.yc(12,"lock"),h.Ub(),h.yc(13," Lock "),h.Ub(),h.Vb(14,"button",2),h.dc("click",(function(){return t.UnlockOtherIncomeDetail()})),h.Vb(15,"mat-icon"),h.yc(16,"lock_open"),h.Ub(),h.yc(17," Unlock "),h.Ub(),h.Vb(18,"button",3),h.dc("click",(function(){return t.Close()})),h.Vb(19,"mat-icon"),h.yc(20,"close"),h.Ub(),h.yc(21,"Close "),h.Ub(),h.Ub(),h.xc(22,ip,1,2,"mat-progress-bar",4),h.Vb(23,"div",5),h.xc(24,np,47,9,"div",6),h.Ub()),2&e&&(h.Eb(4),h.zc(t.title),h.Eb(2),h.kc("disabled",t.btnSaveDisabled),h.Eb(4),h.kc("disabled",t.btnLockisabled),h.Eb(4),h.kc("disabled",t.btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t.isProgressBarHidden),h.Eb(2),h.kc("ngIf",t.isComponentsShown))},directives:[_.a,v.a,w.a,l.l,fr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,Ih,ft],styles:[""]}),e})();const ap=["flexOtherIncome"];function rp(e,t){1&e&&h.Rb(0,"mat-progress-bar",22),2&e&&h.kc("color","primary")("mode","indeterminate")}function sp(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",23),h.dc("click",(function(){return h.rc(e),h.hc().EditOtherIncome()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function lp(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",24),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteOtherIncome()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function cp(e,t){if(1&e&&(h.Vb(0,"mat-option",25),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let dp=(()=>{class e{constructor(e,t,i,n){this._otherIncomeService=e,this._snackBar=t,this._snackBarTemplate=i,this._matDialogRef=n,this._listOtherIncomeObservableArray=new na,this._listOtherIncomeCollectionView=new oa(this._listOtherIncomeObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._btnAddDisabled=!1,this.cboShowNumberOfRows=new na,this.listPageIndex=15}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetOtherIncomeListData(),yield this.createCboShowNumberOfRows()}))}createCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this.cboShowNumberOfRows.push({rowNumber:t,rowString:i})}}cboShowNumberOfRowsOnSelectedIndexChanged(){this._listOtherIncomeCollectionView.pageSize=this.listPageIndex,this._listOtherIncomeCollectionView.refresh(),this._listOtherIncomeCollectionView.refresh()}GetOtherIncomeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listOtherIncomeObservableArray=new na,this._listOtherIncomeCollectionView=new oa(this._listOtherIncomeObservableArray),this._listOtherIncomeCollectionView.pageSize=15,this._listOtherIncomeCollectionView.trackChanges=!0,yield this._listOtherIncomeCollectionView.refresh(),yield this._flexOtherIncome.refresh(),this._isProgressBarHidden=!0,this._otherIncomeListSubscription=(yield this._otherIncomeService.OtherIncomeList()).subscribe(e=>{var t=e;console.log("Response:",t),t.length>0&&(this._listOtherIncomeObservableArray=t,this._listOtherIncomeCollectionView=new oa(this._listOtherIncomeObservableArray),this._listOtherIncomeCollectionView.pageSize=15,this._listOtherIncomeCollectionView.trackChanges=!0,this._listOtherIncomeCollectionView.refresh(),this._flexOtherIncome.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._otherIncomeListSubscription&&this._otherIncomeListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._otherIncomeListSubscription&&this._otherIncomeListSubscription.unsubscribe())})}))}AddOtherIncome(){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addOtherIncomeSubscription=(yield this._otherIncomeService.AddOtherIncome()).subscribe(e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this.GetOtherIncomeListData(),this.DetailOtherIncome(e,"OtherIncome Detail"),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully")},e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addOtherIncomeSubscription&&this._addOtherIncomeSubscription.unsubscribe()}))}))}EditOtherIncome(){this.DetailOtherIncome(this._listOtherIncomeCollectionView.currentItem.Id,"Edit Other Income Detail")}DeleteOtherIncome(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listOtherIncomeCollectionView.currentItem;this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._deleteOtherIncomeSubscription=(yield this._otherIncomeService.DeleteOtherIncome(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetOtherIncomeListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!=this._deleteOtherIncomeSubscription&&this._deleteOtherIncomeSubscription.unsubscribe()}))}))}ComfirmDeleteOtherIncome(){this._matDialogRef.open(sr,{width:"500px",data:{objDialogTitle:"Delete OtherIncome",objComfirmationMessage:` Delete this ${this._listOtherIncomeCollectionView.currentItem.OtherIncome}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteOtherIncome()})}DetailOtherIncome(e,t){this._matDialogRef.open(op,{width:"1200px",data:{objDialogTitle:t,objOtherIncomeId:e},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetOtherIncomeListData()})}ngOnDestroy(){null!==this._otherIncomeListSubscription&&this._otherIncomeListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(tp),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-other-income"]],viewQuery:function(e,t){var i;1&e&&h.Ec(ap,!0),2&e&&h.pc(i=h.ec())&&(t._flexOtherIncome=i.first)},decls:56,vars:32,consts:[["src","../../../assets/menu-icons/other income.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexOtherIncome",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditEmployee",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Other Income"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddOtherIncome()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.xc(16,rp,1,2,"mat-progress-bar",7),h.Vb(17,"wj-flex-grid",8,9),h.Rb(19,"wj-flex-grid-filter"),h.Vb(20,"wj-flex-grid-column",10),h.xc(21,sp,4,0,"ng-template",11),h.Ub(),h.Vb(22,"wj-flex-grid-column",10),h.xc(23,lp,4,0,"ng-template",11),h.Ub(),h.Rb(24,"wj-flex-grid-column",12),h.Rb(25,"wj-flex-grid-column",12),h.Rb(26,"wj-flex-grid-column",12),h.Rb(27,"wj-flex-grid-column",12),h.Ub(),h.Ub(),h.Ub(),h.Vb(28,"div",5),h.Vb(29,"div",13),h.Vb(30,"div",5),h.Vb(31,"mat-button-toggle-group",14),h.Vb(32,"mat-button-toggle",15),h.dc("click",(function(){return t._listOtherIncomeCollectionView.moveToFirstPage()})),h.Vb(33,"mat-icon",16),h.yc(34,"navigate_before"),h.Ub(),h.Vb(35,"mat-icon"),h.yc(36,"navigate_before"),h.Ub(),h.Ub(),h.Vb(37,"mat-button-toggle",15),h.dc("click",(function(){return t._listOtherIncomeCollectionView.moveToPreviousPage()})),h.Vb(38,"mat-icon"),h.yc(39,"navigate_before"),h.Ub(),h.Ub(),h.Vb(40,"mat-button-toggle",17),h.yc(41),h.Ub(),h.Vb(42,"mat-button-toggle",15),h.dc("click",(function(){return t._listOtherIncomeCollectionView.moveToNextPage()})),h.Vb(43,"mat-icon"),h.yc(44,"navigate_next"),h.Ub(),h.Ub(),h.Vb(45,"mat-button-toggle",15),h.dc("click",(function(){return t._listOtherIncomeCollectionView.moveToLastPage()})),h.Vb(46,"mat-icon",16),h.yc(47,"navigate_next"),h.Ub(),h.Vb(48,"mat-icon"),h.yc(49,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(50,"div",18),h.Vb(51,"mat-form-field",19),h.Vb(52,"mat-label"),h.yc(53,"Row"),h.Ub(),h.Vb(54,"mat-select",20),h.dc("ngModelChange",(function(e){return t.listPageIndex=e}))("selectionChange",(function(){return t.cboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(55,cp,2,2,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._btnAddDisabled),h.Eb(11),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listOtherIncomeCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Code")("binding","OtherIncomeCode")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Other Income")("binding","OtherIncome")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Taxable")("binding","IsTaxable")("isReadOnly",!0)("width",50),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",50),h.Eb(14),h.Bc(" ",t._listOtherIncomeCollectionView.pageIndex+1," / ",t._listOtherIncomeCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t.listPageIndex),h.Eb(1),h.kc("ngForOf",t.cboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,l.l,cl,Vl,hl,ul,Al,Hl,_r.c,_r.g,rc,c.o,c.r,l.k,fr,G.l],styles:[""]}),e})(),hp=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}OtherDeductionList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/other/deduction/list",this.appSettings.defaultOptions)}))}OtherDeductionDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/other/deduction/detail/"+e,this.appSettings.defaultOptions)}))}AddOtherDeduction(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/other/deduction/create","",this.appSettings.defaultOptions)}))}SaveOtherDeduction(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/other/deduction/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockOtherDeduction(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/other/deduction/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockOtherDeduction(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/other/deduction/unlock/"+e,"",this.appSettings.defaultOptions)}))}DeleteOtherDeduction(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/other/deduction/delete/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function up(e,t){1&e&&h.Rb(0,"mat-progress-bar",7),2&e&&h.kc("color","primary")("mode","indeterminate")}function pp(e,t){if(1&e){const e=h.Wb();h.Vb(0,"div"),h.Vb(1,"div",8),h.Vb(2,"div",9),h.Vb(3,"mat-form-field",10),h.Vb(4,"mat-label"),h.yc(5,"OtherDeductionCode"),h.Ub(),h.Vb(6,"input",11),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._otherDeductionModel.OtherDeductionCode=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(7,"div",12),h.Vb(8,"mat-form-field",10),h.Vb(9,"mat-label"),h.yc(10,"OtherDeduction"),h.Ub(),h.Vb(11,"input",13),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._otherDeductionModel.OtherDeduction=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(12,"div",9),h.Vb(13,"mat-form-field",10),h.Vb(14,"mat-label"),h.yc(15,"Amount"),h.Ub(),h.Vb(16,"input",14),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._otherDeductionModel.DefaultAmount=t}))("keypress",(function(t){return h.rc(e),h.hc().restrictNumeric(t)}))("change",(function(){return h.rc(e),h.hc().formatValueDefaultAmount()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(17,"div",15),h.Vb(18,"div",16),h.Vb(19,"mat-checkbox",17),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._otherDeductionModel.IsLoan=t})),h.Vb(20,"span",18),h.yc(21," IsLoan"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(22,"mat-divider"),h.Vb(23,"div",19),h.Vb(24,"div",12),h.Vb(25,"div",8),h.Vb(26,"div",20),h.Vb(27,"mat-label",21),h.yc(28,"Created By:"),h.Ub(),h.Ub(),h.Vb(29,"div",22),h.Vb(30,"mat-label",21),h.yc(31),h.Ub(),h.Ub(),h.Vb(32,"div",23),h.Vb(33,"mat-label",21),h.yc(34,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(35,"div",24),h.Vb(36,"mat-label",21),h.yc(37),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(38,"div",12),h.Vb(39,"div",8),h.Vb(40,"div",20),h.Vb(41,"mat-label",21),h.yc(42,"Updated By:"),h.Ub(),h.Ub(),h.Vb(43,"div",22),h.Vb(44,"mat-label",21),h.yc(45),h.Ub(),h.Ub(),h.Vb(46,"div",23),h.Vb(47,"mat-label",21),h.yc(48,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(49,"div",24),h.Vb(50,"mat-label",21),h.yc(51),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()}if(2&e){const e=h.hc();h.Eb(6),h.kc("ngModel",e._otherDeductionModel.OtherDeductionCode),h.Eb(5),h.kc("ngModel",e._otherDeductionModel.OtherDeduction)("readonly",e.isLocked),h.Eb(5),h.kc("ngModel",e._otherDeductionModel.DefaultAmount)("readonly",e.isLocked),h.Eb(3),h.kc("disabled",e.isLocked)("ngModel",e._otherDeductionModel.IsLoan),h.Eb(12),h.zc(e._otherDeductionModel.CreatedByUser),h.Eb(6),h.zc(e._otherDeductionModel.CreatedDateTime),h.Eb(8),h.zc(e._otherDeductionModel.UpdatedByUser),h.Eb(6),h.zc(e._otherDeductionModel.UpdatedDateTime)}}let bp=(()=>{class e{constructor(e,t,i,n,o,a){this.snackBar=e,this.snackBarTemplate=t,this._otherDeductionsService=i,this._OtherDeductionDetailDialogRef=n,this.caseData=o,this.decimalPipe=a,this.title="",this.event="Close",this._otherDeductionModel={Id:0,OtherDeductionCode:"",OtherDeduction:"",IsLoan:!1,DefaultAmount:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:"",UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:"",IsLocked:!1},this.isOtherDeductionDataLoaded=!1,this.isLocked=!1,this.isDataLoaded=!0,this.isProgressBarHidden=!0,this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isComponentsShown=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.GetOtherDeductionDetail(this.caseData.objOtherDeductionId)}GetOtherDeductionDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){this.isComponentsShown=!1,this.disableButtons(),this._OtherDeductionDetailSubscription=yield(yield this._otherDeductionsService.OtherDeductionDetail(e)).subscribe(e=>{let t=e;null!=t&&(this._otherDeductionModel.Id=t.Id,this._otherDeductionModel.OtherDeductionCode=t.OtherDeductionCode,this._otherDeductionModel.OtherDeduction=t.OtherDeduction,this._otherDeductionModel.IsLoan=t.IsLoan,this._otherDeductionModel.DefaultAmount=this.decimalPipe.transform(t.DefaultAmount,"1.2-2"),this._otherDeductionModel.CreatedByUserId=t.CreatedByUserId,this._otherDeductionModel.CreatedByUser=t.CreatedByUser,this._otherDeductionModel.CreatedDateTime=t.CreatedDateTime,this._otherDeductionModel.UpdatedByUserId=t.UpdatedByUserId,this._otherDeductionModel.UpdatedByUser=t.UpdatedByUser,this._otherDeductionModel.UpdatedDateTime=t.UpdatedDateTime,this._otherDeductionModel.IsLocked=t.IsLocked),this.loadComponent(t.IsLocked),this.isComponentsShown=!0,null!==this._OtherDeductionDetailSubscription&&this._OtherDeductionDetailSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._OtherDeductionDetailSubscription&&this._OtherDeductionDetailSubscription.unsubscribe()})}))}SaveOtherDeductionDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.saveOtherDeductionDetailSubscription=yield(yield this._otherDeductionsService.SaveOtherDeduction(this._otherDeductionModel.Id,this._otherDeductionModel)).subscribe(e=>{this.loadComponent(this._otherDeductionModel.IsLocked),this.isDataLoaded=!0,this.event="Save",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully."),null!==this.saveOtherDeductionDetailSubscription&&this.saveOtherDeductionDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._otherDeductionModel.IsLocked),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.saveOtherDeductionDetailSubscription&&this.saveOtherDeductionDetailSubscription.unsubscribe()}))}))}LockOtherDeductionDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._lockOtherDeductionDetailSubscription=yield(yield this._otherDeductionsService.LockOtherDeduction(this._otherDeductionModel.Id,this._otherDeductionModel)).subscribe(e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.event="Lock",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Lock Successfully."),null!==this._lockOtherDeductionDetailSubscription&&this._lockOtherDeductionDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._lockOtherDeductionDetailSubscription&&this._lockOtherDeductionDetailSubscription.unsubscribe()}))}))}UnlockOtherDeductionDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._unlockOtherDeductionDetailSubscription=yield(yield this._otherDeductionsService.UnlockOtherDeduction(this._otherDeductionModel.Id)).subscribe(e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.event="Unlock",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Unlock Successfully."),null!==this._unlockOtherDeductionDetailSubscription&&this._unlockOtherDeductionDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._unlockOtherDeductionDetailSubscription&&this._unlockOtherDeductionDetailSubscription.unsubscribe()}))}))}loadComponent(e){this.btnSaveDisabled=e,this.btnLockisabled=e,this.btnUnlockDisabled=!e,this.isLocked=e,this.isProgressBarHidden=!1}disableButtons(){this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isProgressBarHidden=!0}Close(){this._OtherDeductionDetailDialogRef.close({event:this.event})}restrictNumeric(e){let t;return""==e.key?0:!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||e.which<33||e.which<33||(t=String.fromCharCode(e.which),!!/^[0-9.,]+$/.test(t)))}formatValueDefaultAmount(){this._otherDeductionModel.DefaultAmount=this.decimalPipe.transform(""==this._otherDeductionModel.DefaultAmount?0:this._otherDeductionModel.DefaultAmount,"1.2-2")}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(lr.a),h.Qb(cr),h.Qb(hp),h.Qb(Wa),h.Qb(Ka),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-other-deduction-detail-dialog"]],decls:25,vars:6,consts:[["src","../../../../assets/menu-icons/other income.png","height","35"],[1,"spacer"],["mat-raised-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","color","warn",2,"margin","5px",3,"click"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software"],[4,"ngIf"],[2,"width","100%",3,"color","mode"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Other Income Code","readonly","",3,"ngModel","ngModelChange"],["fxFlex","50",2,"padding","5px"],["matInput","","placeholder","Other Income",3,"ngModel","readonly","ngModelChange"],["matInput","","placeholder","0.00",2,"text-align","right",3,"ngModel","readonly","ngModelChange","keypress","change"],["fxFlex","25",2,"padding","23px","text-align","start","display","inline"],[2,"width","100%","border","gray 1px !important"],["color","primary",3,"disabled","ngModel","ngModelChange"],[2,"color","gray"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.yc(2,"\xa0\xa0 "),h.Vb(3,"span"),h.yc(4),h.Ub(),h.Rb(5,"span",1),h.Vb(6,"button",2),h.dc("click",(function(){return t.SaveOtherDeductionDetail()})),h.Vb(7,"mat-icon"),h.yc(8,"save"),h.Ub(),h.yc(9," Save "),h.Ub(),h.Vb(10,"button",2),h.dc("click",(function(){return t.LockOtherDeductionDetail()})),h.Vb(11,"mat-icon"),h.yc(12,"lock"),h.Ub(),h.yc(13," Lock "),h.Ub(),h.Vb(14,"button",2),h.dc("click",(function(){return t.UnlockOtherDeductionDetail()})),h.Vb(15,"mat-icon"),h.yc(16,"lock_open"),h.Ub(),h.yc(17," Unlock "),h.Ub(),h.Vb(18,"button",3),h.dc("click",(function(){return t.Close()})),h.Vb(19,"mat-icon"),h.yc(20,"close"),h.Ub(),h.yc(21,"Close "),h.Ub(),h.Ub(),h.xc(22,up,1,2,"mat-progress-bar",4),h.Vb(23,"div",5),h.xc(24,pp,52,11,"div",6),h.Ub()),2&e&&(h.Eb(4),h.zc(t.title),h.Eb(2),h.kc("disabled",t.btnSaveDisabled),h.Eb(4),h.kc("disabled",t.btnLockisabled),h.Eb(4),h.kc("disabled",t.btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t.isProgressBarHidden),h.Eb(2),h.kc("ngIf",t.isComponentsShown))},directives:[_.a,v.a,w.a,l.l,fr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,Ih,ft],styles:[""]}),e})();const mp=["flexOtherDeduction"];function fp(e,t){1&e&&h.Rb(0,"mat-progress-bar",22),2&e&&h.kc("color","primary")("mode","indeterminate")}function gp(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",23),h.dc("click",(function(){return h.rc(e),h.hc().EditOtherDeduction()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function yp(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",24),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteOtherDeduction()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function _p(e,t){if(1&e&&(h.Vb(0,"mat-option",25),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let vp=(()=>{class e{constructor(e,t,i,n){this._otherDeductionsService=e,this._snackBar=t,this._snackBarTemplate=i,this._matDialogRef=n,this._listOtherDeductionObservableArray=new na,this._listOtherDeductionCollectionView=new oa(this._listOtherDeductionObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._btnAddDisabled=!1,this.cboShowNumberOfRows=new na,this.listPageIndex=15}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetOtherDeductionListData(),yield this.createCboShowNumberOfRows()}))}createCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this.cboShowNumberOfRows.push({rowNumber:t,rowString:i})}}cboShowNumberOfRowsOnSelectedIndexChanged(){this._listOtherDeductionCollectionView.pageSize=this.listPageIndex,this._listOtherDeductionCollectionView.refresh(),this._listOtherDeductionCollectionView.refresh()}GetOtherDeductionListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listOtherDeductionObservableArray=new na,this._listOtherDeductionCollectionView=new oa(this._listOtherDeductionObservableArray),this._listOtherDeductionCollectionView.pageSize=15,this._listOtherDeductionCollectionView.trackChanges=!0,yield this._listOtherDeductionCollectionView.refresh(),yield this._flexOtherDeduction.refresh(),this._isProgressBarHidden=!0,this._otherDeductionListSubscription=(yield this._otherDeductionsService.OtherDeductionList()).subscribe(e=>{var t=e;console.log("Response:",t),t.length>0&&(this._listOtherDeductionObservableArray=t,this._listOtherDeductionCollectionView=new oa(this._listOtherDeductionObservableArray),this._listOtherDeductionCollectionView.pageSize=15,this._listOtherDeductionCollectionView.trackChanges=!0,this._listOtherDeductionCollectionView.refresh(),this._flexOtherDeduction.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._otherDeductionListSubscription&&this._otherDeductionListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._otherDeductionListSubscription&&this._otherDeductionListSubscription.unsubscribe())})}))}AddOtherDeduction(){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addOtherDeductionSubscription=(yield this._otherDeductionsService.AddOtherDeduction()).subscribe(e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this.GetOtherDeductionListData(),this.DetailOtherDeduction(e,"Other Deduction Detail"),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully")},e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addOtherDeductionSubscription&&this._addOtherDeductionSubscription.unsubscribe()}))}))}EditOtherDeduction(){this.DetailOtherDeduction(this._listOtherDeductionCollectionView.currentItem.Id,"Edit Other Deduction Detail")}DeleteOtherDeduction(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listOtherDeductionCollectionView.currentItem;this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._deleteOtherDeductionSubscription=(yield this._otherDeductionsService.DeleteOtherDeduction(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetOtherDeductionListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!=this._deleteOtherDeductionSubscription&&this._deleteOtherDeductionSubscription.unsubscribe()}))}))}ComfirmDeleteOtherDeduction(){this._matDialogRef.open(sr,{width:"500px",data:{objDialogTitle:"Delete OtherDeduction",objComfirmationMessage:` Delete this ${this._listOtherDeductionCollectionView.currentItem.OtherDeduction}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteOtherDeduction()})}DetailOtherDeduction(e,t){this._matDialogRef.open(bp,{width:"1200px",data:{objDialogTitle:t,objOtherDeductionId:e},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetOtherDeductionListData()})}ngOnDestroy(){null!==this._otherDeductionListSubscription&&this._otherDeductionListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(hp),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-other-deductions"]],viewQuery:function(e,t){var i;1&e&&h.Ec(mp,!0),2&e&&h.pc(i=h.ec())&&(t._flexOtherDeduction=i.first)},decls:57,vars:36,consts:[["src","../../../../assets/menu-icons/other deductions.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexOtherDeduction",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditOtherDeduction",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Other Deductions"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddOtherDeduction()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.xc(16,fp,1,2,"mat-progress-bar",7),h.Vb(17,"wj-flex-grid",8,9),h.Rb(19,"wj-flex-grid-filter"),h.Vb(20,"wj-flex-grid-column",10),h.xc(21,gp,4,0,"ng-template",11),h.Ub(),h.Vb(22,"wj-flex-grid-column",10),h.xc(23,yp,4,0,"ng-template",11),h.Ub(),h.Rb(24,"wj-flex-grid-column",12),h.Rb(25,"wj-flex-grid-column",12),h.Rb(26,"wj-flex-grid-column",12),h.Rb(27,"wj-flex-grid-column",12),h.Rb(28,"wj-flex-grid-column",12),h.Ub(),h.Ub(),h.Ub(),h.Vb(29,"div",5),h.Vb(30,"div",13),h.Vb(31,"div",5),h.Vb(32,"mat-button-toggle-group",14),h.Vb(33,"mat-button-toggle",15),h.dc("click",(function(){return t._listOtherDeductionCollectionView.moveToFirstPage()})),h.Vb(34,"mat-icon",16),h.yc(35,"navigate_before"),h.Ub(),h.Vb(36,"mat-icon"),h.yc(37,"navigate_before"),h.Ub(),h.Ub(),h.Vb(38,"mat-button-toggle",15),h.dc("click",(function(){return t._listOtherDeductionCollectionView.moveToPreviousPage()})),h.Vb(39,"mat-icon"),h.yc(40,"navigate_before"),h.Ub(),h.Ub(),h.Vb(41,"mat-button-toggle",17),h.yc(42),h.Ub(),h.Vb(43,"mat-button-toggle",15),h.dc("click",(function(){return t._listOtherDeductionCollectionView.moveToNextPage()})),h.Vb(44,"mat-icon"),h.yc(45,"navigate_next"),h.Ub(),h.Ub(),h.Vb(46,"mat-button-toggle",15),h.dc("click",(function(){return t._listOtherDeductionCollectionView.moveToLastPage()})),h.Vb(47,"mat-icon",16),h.yc(48,"navigate_next"),h.Ub(),h.Vb(49,"mat-icon"),h.yc(50,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(51,"div",18),h.Vb(52,"mat-form-field",19),h.Vb(53,"mat-label"),h.yc(54,"Row"),h.Ub(),h.Vb(55,"mat-select",20),h.dc("ngModelChange",(function(e){return t.listPageIndex=e}))("selectionChange",(function(){return t.cboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(56,_p,2,2,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._btnAddDisabled),h.Eb(11),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listOtherDeductionCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Code")("binding","OtherDeductionCode")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Other Deduction")("binding","OtherDeduction")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Amount")("binding","DefaultAmount")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","IsLoan")("binding","IsLoan")("isReadOnly",!0)("width",50),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",50),h.Eb(14),h.Bc(" ",t._listOtherDeductionCollectionView.pageIndex+1," / ",t._listOtherDeductionCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t.listPageIndex),h.Eb(1),h.kc("ngForOf",t.cboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,l.l,cl,Vl,hl,ul,Al,Hl,_r.c,_r.g,rc,c.o,c.r,l.k,fr,G.l],styles:[""]}),e})();function wp(e,t){1&e&&(h.Vb(0,"small"),h.yc(1," Full name is "),h.Vb(2,"strong"),h.yc(3,"required"),h.Ub(),h.yc(4,". "),h.Ub())}function Cp(e,t){1&e&&(h.Vb(0,"small"),h.yc(1,"Provide avalid full name."),h.Ub())}function Dp(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.xc(1,wp,5,0,"small",7),h.xc(2,Cp,2,0,"small",7),h.Ub()),2&e){const e=h.hc();h.Eb(1),h.kc("ngIf",null==e.registrationForm.get("FullName").errors?null:e.registrationForm.get("FullName").errors.required),h.Eb(1),h.kc("ngIf",null==e.registrationForm.get("FullName").errors?null:e.registrationForm.get("FullName").errors.minlength)}}function Sp(e,t){1&e&&(h.Vb(0,"small"),h.yc(1," Username is "),h.Vb(2,"strong"),h.yc(3,"required"),h.Ub(),h.yc(4,". "),h.Ub())}function xp(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.xc(1,Sp,5,0,"small",7),h.Ub()),2&e){const e=h.hc();h.Eb(1),h.kc("ngIf",null==e.registrationForm.get("UserName").errors?null:e.registrationForm.get("UserName").errors.required)}}function kp(e,t){1&e&&(h.Vb(0,"small"),h.yc(1,"Password is required."),h.Ub())}function Lp(e,t){1&e&&(h.Vb(0,"small"),h.yc(1,"Password must be at least 5 characters."),h.Ub())}function Vp(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.xc(1,kp,2,0,"small",7),h.xc(2,Lp,2,0,"small",7),h.Ub()),2&e){const e=h.hc();h.Eb(1),h.kc("ngIf",null==e.registrationForm.get("Password").errors?null:e.registrationForm.get("Password").errors.required),h.Eb(1),h.kc("ngIf",null==e.registrationForm.get("Password").errors?null:e.registrationForm.get("Password").errors.minlength)}}function Op(e,t){1&e&&(h.Vb(0,"mat-error"),h.Vb(1,"small"),h.yc(2,"Confirm password not match."),h.Ub(),h.Ub())}let Up=(()=>{class e{constructor(e,t,i,n,o){this.userListService=e,this.userRegistrationDialogRef=t,this.snackBar=i,this.snackBarTemplate=n,this.fb=o,this.dialogTitle="Register User",this.buttonDisabled=!1,this.buttonCloseDisable=!1,this.userModel={Id:0,FullName:"",UserName:"",Password:"",ConfirmPassword:""},this.registrationForm=this.fb.group({FullName:["",[c.u.required,c.u.minLength(5)]],UserName:["",c.u.required],Password:["",[c.u.required,c.u.minLength(5)]],ConfirmPassword:[""]})}ngOnInit(){}RegisterUser(){return Object(b.a)(this,void 0,void 0,(function*(){console.log(this.userModel),this.buttonDisabled=!1,this.buttonCloseDisable=!0,this.newUserSubscription=yield(yield this.userListService.RegisterUser(this.userModel)).subscribe(e=>{this.buttonDisabled=!0,this.snackBarTemplate.snackBarSuccess(this.snackBar,"Registered Successfully"),this.userRegistrationDialogRef.close({status:200})},e=>{this.snackBarTemplate.snackBarError(this.snackBar,"400"==e.status?"Confirm password do not match! Status Code: "+e.status:e.error.Message+"  Status Code: "+e.status),this.buttonDisabled=!0,this.buttonCloseDisable=!1})}))}CloseDialog(){this.userRegistrationDialogRef.close()}ValidateForm(){this.buttonDisabled=this.userModel.Password==this.userModel.ConfirmPassword&&!!this.registrationForm.valid}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(g),h.Qb(Wa),h.Qb(lr.a),h.Qb(cr),h.Qb(c.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-user-registration-dialog"]],decls:39,vars:28,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],["fxLayout","","fxLayout.xs","column"],["fxFlex","100%"],[2,"width","100%",3,"hideRequiredMarker","floatLabel"],["matInput","","placeholder","Full Name","required","","formControlName","FullName",3,"ngModel","ngModelChange","keyup"],[4,"ngIf"],["matInput","","placeholder","Username","required","","formControlName","UserName",3,"ngModel","ngModelChange","keyup"],["type","password","matInput","","placeholder","Password","required","","formControlName","Password",3,"ngModel","ngModelChange","keyup"],["type","password","matInput","","placeholder","Confirm Password","formControlName","ConfirmPassword","required","",3,"ngModel","ngModelChange","keyup"],["mat-dialog-actions",""],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","color","warn",3,"disabled","click"]],template:function(e,t){1&e&&(h.Vb(0,"h1",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Rb(4,"br"),h.Vb(5,"form",2),h.dc("ngSubmit",(function(){return t.RegisterUser()})),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"input",6),h.dc("ngModelChange",(function(e){return t.userModel.FullName=e}))("keyup",(function(){return t.ValidateForm()})),h.Ub(),h.xc(10,Dp,3,2,"mat-error",7),h.Ub(),h.Ub(),h.Ub(),h.Rb(11,"br"),h.Vb(12,"div",3),h.Vb(13,"div",4),h.Vb(14,"mat-form-field",5),h.Vb(15,"input",8),h.dc("ngModelChange",(function(e){return t.userModel.UserName=e}))("keyup",(function(){return t.ValidateForm()})),h.Ub(),h.xc(16,xp,2,1,"mat-error",7),h.Ub(),h.Ub(),h.Ub(),h.Rb(17,"br"),h.Vb(18,"div",3),h.Vb(19,"div",4),h.Vb(20,"mat-form-field",5),h.Vb(21,"input",9),h.dc("ngModelChange",(function(e){return t.userModel.Password=e}))("keyup",(function(){return t.ValidateForm()})),h.Ub(),h.xc(22,Vp,3,2,"mat-error",7),h.Ub(),h.Ub(),h.Ub(),h.Rb(23,"br"),h.Vb(24,"div",3),h.Vb(25,"div",4),h.Vb(26,"mat-form-field",5),h.Vb(27,"input",10),h.dc("ngModelChange",(function(e){return t.userModel.ConfirmPassword=e}))("keyup",(function(){return t.ValidateForm()})),h.Ub(),h.xc(28,Op,3,0,"mat-error",7),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(29,"mat-divider"),h.Vb(30,"div",11),h.Vb(31,"button",12),h.dc("click",(function(){return t.RegisterUser()})),h.Vb(32,"mat-icon"),h.yc(33,"save"),h.Ub(),h.yc(34," Save "),h.Ub(),h.Vb(35,"button",13),h.dc("click",(function(){return t.CloseDialog()})),h.Vb(36,"mat-icon"),h.yc(37,"close"),h.Ub(),h.yc(38," Close "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.dialogTitle,"\n"),h.Eb(4),h.kc("formGroup",t.registrationForm),h.Eb(3),h.kc("hideRequiredMarker",!1)("floatLabel","always"),h.Eb(1),h.Hb("is-invalid",t.registrationForm.get("FullName").invalid&&t.registrationForm.get("FullName").touched),h.kc("ngModel",t.userModel.FullName),h.Eb(1),h.kc("ngIf",t.registrationForm.get("FullName").invalid&&t.registrationForm.get("FullName").touched),h.Eb(4),h.kc("hideRequiredMarker",!1)("floatLabel","always"),h.Eb(1),h.Hb("is-invalid",t.registrationForm.get("UserName").invalid&&t.registrationForm.get("UserName").touched),h.kc("ngModel",t.userModel.UserName),h.Eb(1),h.kc("ngIf",t.registrationForm.get("UserName").invalid&&t.registrationForm.get("UserName").touched),h.Eb(4),h.kc("hideRequiredMarker",!1)("floatLabel","always"),h.Eb(1),h.Hb("is-invalid",t.registrationForm.get("Password").invalid&&t.registrationForm.get("Password").touched),h.kc("ngModel",t.userModel.Password),h.Eb(1),h.kc("ngIf",t.registrationForm.get("Password").invalid&&t.registrationForm.get("Password").touched),h.Eb(4),h.kc("hideRequiredMarker",!1)("floatLabel","always"),h.Eb(1),h.Hb("is-invalid",null==t.registrationForm.errors?null:t.registrationForm.errors.misMatch),h.kc("ngModel",t.userModel.ConfirmPassword),h.Eb(1),h.kc("ngIf",null==t.registrationForm.errors?null:t.registrationForm.errors.misMatch),h.Eb(3),h.kc("disabled",!t.buttonDisabled),h.Eb(4),h.kc("disabled",t.buttonCloseDisable))},directives:[ir,ft,nr,c.v,c.p,c.i,li.b,li.a,_r.c,vr.b,c.d,c.t,c.o,c.g,l.l,or,v.a,w.a,_r.b],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})();const Ep=["flexUsers"];function Mp(e,t){1&e&&h.Rb(0,"mat-progress-bar",22),2&e&&h.kc("color","primary")("mode","indeterminate")}function Pp(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",23),h.dc("click",(function(){return h.rc(e),h.hc().EditUser()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Rp(e,t){if(1&e&&(h.Vb(0,"mat-option",24),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let Ip=(()=>{class e{constructor(e,t,i,n,o){this.userListService=e,this.userRegistrationlDialog=t,this.router=i,this.snackBar=n,this.snackBarTemplate=o,this.listUserObservableArray=new na,this.listUserCollectionView=new oa(this.listUserObservableArray),this.listPageIndex=15,this.isProgressBarHidden=!1,this.isDataLoaded=!1,this._createCboShowNumberOfRows=new na}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.getUserListData(),yield this.CreateCboShowNumberOfRows()}))}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this.listUserCollectionView.pageSize=this.listPageIndex,this.listUserCollectionView.refresh(),this.listUserCollectionView.refresh()}getUserListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.listUserObservableArray=new na,this.listUserCollectionView=new oa(this.listUserObservableArray),this.listUserCollectionView.pageSize=15,this.listUserCollectionView.trackChanges=!0,yield this.listUserCollectionView.refresh(),yield this.flexUsers.refresh(),this.isProgressBarHidden=!0,this.userListSubscription=yield(yield this.userListService.UserList()).subscribe(e=>{e.length>0&&(this.listUserObservableArray=e,this.listUserCollectionView=new oa(this.listUserObservableArray),this.listUserCollectionView.pageSize=15,this.listUserCollectionView.trackChanges=!0,this.listUserCollectionView.refresh(),this.flexUsers.refresh()),this.isDataLoaded=!0,this.isProgressBarHidden=!1,null!=this.userListSubscription&&this.userListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+"  Status Code: "+e.status),null!=this.userListSubscription&&this.userListSubscription.unsubscribe())})}))}btnAddUsers(){this.userRegistrationlDialog.open(Up,{width:"500px",data:{objDialogTitle:"Add User"},disableClose:!0}).afterClosed().subscribe(e=>{200==e.status&&this.getUserListData()})}EditUser(){this.router.navigate(["/software/user-detail/"+this.listUserCollectionView.currentItem.Id])}ngOnDestroy(){null!==this.userListSubscription&&this.userListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(g),h.Qb(Xa),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-user-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Ep,!0),2&e&&h.pc(i=h.ec())&&(t.flexUsers=i.first)},decls:57,vars:41,consts:[["src","../../../../assets/menu-icons/user.png","height","35"],[1,"spacer"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px","width","100%"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexUsers",""],[3,"header","isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"color","mode"],["mat-raised-button","","color","primary",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 User List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.btnAddUsers()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.xc(16,Mp,1,2,"mat-progress-bar",7),h.Vb(17,"wj-flex-grid",8,9),h.Rb(19,"wj-flex-grid-filter"),h.Vb(20,"wj-flex-grid-column",10),h.xc(21,Pp,4,0,"ng-template",11),h.Ub(),h.Rb(22,"wj-flex-grid-column",12),h.Rb(23,"wj-flex-grid-column",12),h.Rb(24,"wj-flex-grid-column",12),h.Rb(25,"wj-flex-grid-column",12),h.Rb(26,"wj-flex-grid-column",12),h.Rb(27,"wj-flex-grid-column",12),h.Rb(28,"wj-flex-grid-column",12),h.Ub(),h.Ub(),h.Ub(),h.Vb(29,"div",5),h.Vb(30,"div",13),h.Vb(31,"div",5),h.Vb(32,"mat-button-toggle-group",14),h.Vb(33,"mat-button-toggle",15),h.dc("click",(function(){return t.listUserCollectionView.moveToFirstPage()})),h.Vb(34,"mat-icon",16),h.yc(35,"navigate_before"),h.Ub(),h.Vb(36,"mat-icon"),h.yc(37,"navigate_before"),h.Ub(),h.Ub(),h.Vb(38,"mat-button-toggle",15),h.dc("click",(function(){return t.listUserCollectionView.moveToPreviousPage()})),h.Vb(39,"mat-icon"),h.yc(40,"navigate_before"),h.Ub(),h.Ub(),h.Vb(41,"mat-button-toggle",17),h.yc(42),h.Ub(),h.Vb(43,"mat-button-toggle",15),h.dc("click",(function(){return t.listUserCollectionView.moveToNextPage()})),h.Vb(44,"mat-icon"),h.yc(45,"navigate_next"),h.Ub(),h.Ub(),h.Vb(46,"mat-button-toggle",15),h.dc("click",(function(){return t.listUserCollectionView.moveToLastPage()})),h.Vb(47,"mat-icon",16),h.yc(48,"navigate_next"),h.Ub(),h.Vb(49,"mat-icon"),h.yc(50,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(51,"div",18),h.Vb(52,"mat-form-field",19),h.Vb(53,"mat-label"),h.yc(54,"Row"),h.Ub(),h.Vb(55,"mat-select",20),h.dc("ngModelChange",(function(e){return t.listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(56,Rp,2,2,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(16),h.kc("ngIf",t.isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t.listUserCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("header","Edit")("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","FullName")("binding","FullName")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Username")("binding","Username")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Created By")("binding","CreatedByUser")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Created Date")("binding","CreatedDateTime")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Updated By")("binding","UpdatedByUser")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Updated Date")("binding","UpdatedDateTime")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",".40*"),h.Eb(14),h.Bc(" ",t.listUserCollectionView.pageIndex+1," / ",t.listUserCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t.listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,l.l,cl,Vl,hl,ul,Al,Hl,_r.c,_r.g,rc,c.o,c.r,l.k,fr,G.l],styles:[".wj-flex-grid[_ngcontent-%COMP%]{font-size:x-large}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})(),Tp=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}UserDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/user/detail/"+e,this.appSettings.defaultOptions)}))}SaveUser(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/user/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockUser(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/user/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockUser(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/user/unlock/"+e,"",this.appSettings.defaultOptions)}))}ChangePassword(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/user/change/password/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UserModuleList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/user/module/list/"+e,this.appSettings.defaultOptions)}))}SysModuleList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/user/module/sys/module/list",this.appSettings.defaultOptions)}))}UserModuleDetial(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/user/module/detail/"+e,this.appSettings.defaultOptions)}))}CreateUserModule(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/user/module/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}UpdateUserModule(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/user/module/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DeleteUserModule(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/user/module/delete/"+e+"/"+t,this.appSettings.defaultOptions)}))}UserPayrollGroupList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/user/payroll/group/list/"+e,this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/user/payroll/group/payroll/group/list",this.appSettings.defaultOptions)}))}CreateUserPayrollGroup(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/user/payroll/group/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}UpdateUserPayrollGroup(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/user/payroll/group/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DeleteUserPayrollGroup(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/user/payroll/group/delete/"+e+"/"+t,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ap(e,t){if(1&e&&(h.Vb(0,"mat-option",15),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Module," ")}}let Bp=(()=>{class e{constructor(e,t,i,n,o){this.userDetailService=e,this.snackBar=t,this.snackBarTemplate=i,this.userModuleDialogRef=n,this.caseData=o,this.userModuleModel={Id:0,UserId:0,ModuleId:0,Module:"",CanOpen:!0,CanAdd:!0,CanEdit:!0,CanLock:!0,CanUnlock:!0,CanDelete:!0,CanPrint:!0},this.buttonSaveDisabled=!1,this.buttonCloseDisabled=!1,this.title="User Module",this.confirmationMessage="Delete this item?",this.sysModuleListDropdown=[]}ngOnInit(){console.log(this.caseData),this.userModuleModel.Id=this.caseData.objUserModuleData.Id,this.userModuleModel.UserId=this.caseData.objUserId,this.userModuleModel.ModuleId=this.caseData.objUserModuleData.ModuleId,this.userModuleModel.CanOpen=this.caseData.objUserModuleData.CanOpen,this.userModuleModel.CanAdd=this.caseData.objUserModuleData.CanAdd,this.userModuleModel.CanEdit=this.caseData.objUserModuleData.CanEdit,this.userModuleModel.CanLock=this.caseData.objUserModuleData.CanLock,this.userModuleModel.CanUnlock=this.caseData.objUserModuleData.CanUnlock,this.userModuleModel.CanDelete=this.caseData.objUserModuleData.CanDelete,this.userModuleModel.CanPrint=this.caseData.objUserModuleData.CanPrint,this.title=this.caseData.objDialogTitle,this.GetUserModuleDropdownListData()}GetUserModuleDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.userModuleDropdownSubscription=yield(yield this.userDetailService.SysModuleList()).subscribe(e=>{this.sysModuleListDropdown=e,null!==this.userModuleDropdownSubscription&&this.userModuleDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.userModuleDropdownSubscription&&this.userModuleDropdownSubscription.unsubscribe()})}))}SaveUserModule(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButton(),"Add User Module"===this.title?this.addUserModuleSubscription=yield(yield this.userDetailService.CreateUserModule(this.userModuleModel)).subscribe(e=>{this.enableButton(),this.CloseOnSaveUserModule(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully."),null!==this.addUserModuleSubscription&&this.addUserModuleSubscription.unsubscribe()},e=>{this.enableButton(),this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.addUserModuleSubscription&&this.addUserModuleSubscription.unsubscribe()}):this.updateUserModuleSubscription=yield(yield this.userDetailService.UpdateUserModule(this.userModuleModel.Id,this.userModuleModel)).subscribe(e=>{this.enableButton(),this.CloseOnSaveUserModule(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Updated Successfully."),null!==this.updateUserModuleSubscription&&this.updateUserModuleSubscription.unsubscribe()},e=>{this.enableButton(),this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.updateUserModuleSubscription&&this.updateUserModuleSubscription.unsubscribe()})}))}Close(){this.userModuleDialogRef.close({event:"Close"})}CloseOnSaveUserModule(){this.userModuleDialogRef.close({event:"Save"})}disableButton(){this.buttonSaveDisabled=!0,this.buttonCloseDisabled=!0}enableButton(){this.buttonSaveDisabled=!1,this.buttonCloseDisabled=!1}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Tp),h.Qb(lr.a),h.Qb(cr),h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-user-detail-user-module-dialog"]],decls:61,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],["appearance","outline","readonly","",2,"width","100%"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","33",2,"margin","5px"],["color","primary",3,"ngModel","ngModelChange"],[2,"color","gray"],["fxFlex","34",2,"margin","5px"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right","id","btnYes",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","warn",2,"margin","5px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Module"),h.Ub(),h.Vb(10,"mat-select",6),h.dc("ngModelChange",(function(e){return t.userModuleModel.ModuleId=e})),h.xc(11,Ap,2,2,"mat-option",7),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(12,"div",3),h.Vb(13,"div",8),h.Vb(14,"div",3),h.Vb(15,"div",4),h.Vb(16,"mat-checkbox",9),h.dc("ngModelChange",(function(e){return t.userModuleModel.CanOpen=e})),h.Vb(17,"span",10),h.yc(18," Can Open"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(19,"div",3),h.Vb(20,"div",4),h.Vb(21,"mat-checkbox",9),h.dc("ngModelChange",(function(e){return t.userModuleModel.CanAdd=e})),h.Vb(22,"span",10),h.yc(23," CanAdd"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(24,"div",3),h.Vb(25,"div",4),h.Vb(26,"mat-checkbox",9),h.dc("ngModelChange",(function(e){return t.userModuleModel.CanEdit=e})),h.Vb(27,"span",10),h.yc(28," CanEdit"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(29,"div",8),h.Vb(30,"div",3),h.Vb(31,"div",4),h.Vb(32,"mat-checkbox",9),h.dc("ngModelChange",(function(e){return t.userModuleModel.CanLock=e})),h.Vb(33,"span",10),h.yc(34," CanLock"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(35,"div",3),h.Vb(36,"div",4),h.Vb(37,"mat-checkbox",9),h.dc("ngModelChange",(function(e){return t.userModuleModel.CanUnlock=e})),h.Vb(38,"span",10),h.yc(39," CanUnlock"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(40,"div",3),h.Vb(41,"div",4),h.Vb(42,"mat-checkbox",9),h.dc("ngModelChange",(function(e){return t.userModuleModel.CanDelete=e})),h.Vb(43,"span",10),h.yc(44," CanDelete"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(45,"div",11),h.Vb(46,"div",3),h.Vb(47,"div",4),h.Vb(48,"mat-checkbox",9),h.dc("ngModelChange",(function(e){return t.userModuleModel.CanPrint=e})),h.Vb(49,"span",10),h.yc(50," CanPrint"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(51,"mat-divider"),h.Vb(52,"div",12),h.Vb(53,"button",13),h.dc("click",(function(){return t.SaveUserModule()})),h.Vb(54,"mat-icon"),h.yc(55,"save"),h.Ub(),h.yc(56," Save "),h.Ub(),h.Vb(57,"button",14),h.dc("click",(function(){return t.Close()})),h.Vb(58,"mat-icon"),h.yc(59,"cancel"),h.Ub(),h.yc(60," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.kc("ngModel",t.userModuleModel.ModuleId),h.Eb(1),h.kc("ngForOf",t.sysModuleListDropdown),h.Eb(5),h.kc("ngModel",t.userModuleModel.CanOpen),h.Eb(5),h.kc("ngModel",t.userModuleModel.CanAdd),h.Eb(5),h.kc("ngModel",t.userModuleModel.CanEdit),h.Eb(6),h.kc("ngModel",t.userModuleModel.CanLock),h.Eb(5),h.kc("ngModel",t.userModuleModel.CanUnlock),h.Eb(5),h.kc("ngModel",t.userModuleModel.CanDelete),h.Eb(6),h.kc("ngModel",t.userModuleModel.CanPrint))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,Ih,or,v.a,w.a,G.l],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})();function jp(e,t){if(1&e&&(h.Vb(0,"mat-option",11),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}let Hp=(()=>{class e{constructor(e,t,i,n,o){this.userDetailService=e,this.snackBar=t,this.snackBarTemplate=i,this.PayrollGroupDialogRef=n,this.caseData=o,this.UserPayrollGroupModel={Id:0,UserId:0,PayrollGroup:""},this.buttonSaveDisabled=!1,this.buttonCloseDisabled=!1,this.title="User Module",this.confirmationMessage="Delete this item?",this.payrollGroupListDropdown=[]}ngOnInit(){console.log(this.caseData.objUserPayrollGroupData),this.UserPayrollGroupModel.Id=this.caseData.objUserPayrollGroupData.Id,this.UserPayrollGroupModel.UserId=this.caseData.objUserId,this.UserPayrollGroupModel.PayrollGroup=this.caseData.objUserPayrollGroupData.PayrollGroup,this.title=this.caseData.objDialogTitle,this.GetPayrollGroupDropdownListData()}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.payrollGroupDropdownSubscription=(yield this.userDetailService.PayrollGroupList()).subscribe(e=>{this.payrollGroupListDropdown=e,null!==this.payrollGroupDropdownSubscription&&this.payrollGroupDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.payrollGroupDropdownSubscription&&this.payrollGroupDropdownSubscription.unsubscribe()})}))}SavePayrollGroup(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButton(),"Add Payroll Group"===this.title?this.addUserPayrollGroupSubscription=(yield this.userDetailService.CreateUserPayrollGroup(this.UserPayrollGroupModel)).subscribe(e=>{this.enableButton(),this.CloseOnSavePayrollGroup(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully."),null!==this.addUserPayrollGroupSubscription&&this.addUserPayrollGroupSubscription.unsubscribe()},e=>{this.enableButton(),this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.addUserPayrollGroupSubscription&&this.addUserPayrollGroupSubscription.unsubscribe()}):this.updateUserPayrollGroupSubscription=(yield this.userDetailService.UpdateUserPayrollGroup(this.UserPayrollGroupModel.Id,this.UserPayrollGroupModel)).subscribe(e=>{this.enableButton(),this.CloseOnSavePayrollGroup(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Updated Successfully."),null!==this.updateUserPayrollGroupSubscription&&this.updateUserPayrollGroupSubscription.unsubscribe()},e=>{this.enableButton(),this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.updateUserPayrollGroupSubscription&&this.updateUserPayrollGroupSubscription.unsubscribe()})}))}Close(){this.PayrollGroupDialogRef.close({event:"Close"})}CloseOnSavePayrollGroup(){this.PayrollGroupDialogRef.close({event:"Save"})}disableButton(){this.buttonSaveDisabled=!0,this.buttonCloseDisabled=!0}enableButton(){this.buttonSaveDisabled=!1,this.buttonCloseDisabled=!1}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Tp),h.Qb(lr.a),h.Qb(cr),h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-user-detail-user-payroll-group-dialog"]],decls:22,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right","id","btnYes",2,"margin-right","5px",3,"click"],["mat-raised-button","","color","warn",2,"margin","5px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Payroll Group"),h.Ub(),h.Vb(10,"mat-select",6),h.dc("ngModelChange",(function(e){return t.UserPayrollGroupModel.PayrollGroup=e})),h.xc(11,jp,2,2,"mat-option",7),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(12,"mat-divider"),h.Vb(13,"div",8),h.Vb(14,"button",9),h.dc("click",(function(){return t.SavePayrollGroup()})),h.Vb(15,"mat-icon"),h.yc(16,"save"),h.Ub(),h.yc(17," Save "),h.Ub(),h.Vb(18,"button",10),h.dc("click",(function(){return t.Close()})),h.Vb(19,"mat-icon"),h.yc(20,"cancel"),h.Ub(),h.yc(21," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.kc("ngModel",t.UserPayrollGroupModel.PayrollGroup),h.Eb(1),h.kc("ngForOf",t.payrollGroupListDropdown))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,or,v.a,w.a,G.l],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})(),Fp=(()=>{class e{constructor(e,t,i,n,o){this.userDetailService=e,this.snackBar=t,this.snackBarTemplate=i,this.matDialogRef=n,this.caseData=o,this.userChangePassword={OldPassword:"",NewPassword:"",ConfirmPassword:""},this.title="",this.isDataLoaded=!0,this.buttonChangePasswordDisabled=!1,this.buttonCloseDisabled=!1}ngOnInit(){this.title=this.caseData.objDialogTitle}ChangePassword(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButton(),this.userChangePassword.NewPassword==this.userChangePassword.ConfirmPassword?1==this.isDataLoaded&&(this.isDataLoaded=!1,this.changePasswordSubscription=yield(yield this.userDetailService.ChangePassword(this.caseData.objUserId,this.userChangePassword)).subscribe(e=>{this.isDataLoaded=!0,this.enableButton(),this.CloseOnChangePassword(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Change password Successfully."),null!==this.changePasswordSubscription&&this.changePasswordSubscription.unsubscribe()},e=>{this.isDataLoaded=!0,this.enableButton(),this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.changePasswordSubscription&&this.changePasswordSubscription.unsubscribe()})):(this.snackBarTemplate.snackBarError(this.snackBar,"Password do not match!"),this.enableButton())}))}Close(){this.matDialogRef.close({event:"Close"})}CloseOnChangePassword(){this.matDialogRef.close({event:"Save"})}disableButton(){this.buttonChangePasswordDisabled=!0,this.buttonCloseDisabled=!0}enableButton(){this.buttonChangePasswordDisabled=!1,this.buttonCloseDisabled=!1}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Tp),h.Qb(lr.a),h.Qb(cr),h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-user-detial-change-password"]],decls:33,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],["appearance","outline",2,"width","100%"],["type","password","matInput","","placeholder","Password",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right","id","btnYes",2,"margin-right","5px",3,"disabled","click"],["mat-raised-button","","color","warn",2,"margin","5px",3,"disabled","click"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Current Password"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t.userChangePassword.OldPassword=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",3),h.Vb(12,"div",4),h.Vb(13,"mat-form-field",5),h.Vb(14,"mat-label"),h.yc(15,"New Password"),h.Ub(),h.Vb(16,"input",6),h.dc("ngModelChange",(function(e){return t.userChangePassword.NewPassword=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(17,"div",3),h.Vb(18,"div",4),h.Vb(19,"mat-form-field",5),h.Vb(20,"mat-label"),h.yc(21,"Confirm Password"),h.Ub(),h.Vb(22,"input",6),h.dc("ngModelChange",(function(e){return t.userChangePassword.ConfirmPassword=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(23,"mat-divider"),h.Vb(24,"div",7),h.Vb(25,"button",8),h.dc("click",(function(){return t.ChangePassword()})),h.Vb(26,"mat-icon"),h.yc(27,"save"),h.Ub(),h.yc(28," Save "),h.Ub(),h.Vb(29,"button",9),h.dc("click",(function(){return t.Close()})),h.Vb(30,"mat-icon"),h.yc(31,"cancel"),h.Ub(),h.yc(32," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.kc("ngModel",t.userChangePassword.OldPassword),h.Eb(6),h.kc("ngModel",t.userChangePassword.NewPassword),h.Eb(6),h.kc("ngModel",t.userChangePassword.ConfirmPassword),h.Eb(3),h.kc("disabled",t.buttonChangePasswordDisabled),h.Eb(4),h.kc("disabled",t.buttonCloseDisabled))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,or,v.a,w.a],styles:[""]}),e})();const Np=["tabGroup"],zp=["flexUserModule"],Gp=["flexUserPayrollGroup"];function Yp(e,t){1&e&&h.Rb(0,"mat-progress-bar",42),2&e&&h.kc("color","primary")("mode","indeterminate")}function Qp(e,t){1&e&&h.Rb(0,"mat-progress-bar",43),2&e&&h.kc("color","primary")("mode","indeterminate")}function Wp(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",46),h.dc("click",(function(){return h.rc(e),h.hc(2).EditUserModule()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3,"Edit "),h.Ub()}}function qp(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",44),h.xc(1,Wp,4,0,"ng-template",45),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"))}function Kp(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",47),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeleteUserModule()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3,"Delete "),h.Ub()}}function $p(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",44),h.xc(1,Kp,4,0,"ng-template",45),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"))}function Jp(e,t){1&e&&h.Rb(0,"mat-progress-bar",43),2&e&&h.kc("color","primary")("mode","indeterminate")}function Zp(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",46),h.dc("click",(function(){return h.rc(e),h.hc(2).EditUserPayrollGroup()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Xp(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",44),h.xc(1,Zp,4,0,"ng-template",45),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"))}function eb(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",47),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeleteUserPayrollGroup()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function tb(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",44),h.xc(1,eb,4,0,"ng-template",45),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"))}function ib(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",48),h.dc("click",(function(){return h.rc(e),h.hc().AddUserTable()})),h.Vb(1,"mat-icon"),h.yc(2,"add"),h.Ub(),h.yc(3," ADD "),h.Ub(),h.Rb(4,"br")}if(2&e){const e=h.hc();h.kc("disabled",e.isLocked)}}let nb=(()=>{class e{constructor(e,t,i,n,o){this.activatedRoute=e,this.snackBar=t,this.snackBarTemplate=i,this.userDetailService=n,this.matDialog=o,this.userModel={Id:0,UserName:"",Password:"",ConfirmPassword:"",FullName:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:new Date,UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:new Date,IsLocked:!1},this.userModuleModel={Id:0,UserId:0,ModuleId:0,Module:"",CanOpen:!0,CanAdd:!0,CanEdit:!0,CanLock:!0,CanUnlock:!0,CanDelete:!0,CanPrint:!0},this.userPayrollGroupModel={Id:0,UserId:0,PayrollGroup:""},this.isDataLoaded=!1,this.isProgressBarHidden=!1,this.isUserDetailLoaded=!1,this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isLocked=!1,this.isComponentsShown=!1,this.passwordField=new c.h({password:new c.f("")}),this.hide=!0,this.listUserModuleObservableArray=new na,this.listUserModuleCollectionView=new oa(this.listUserModuleObservableArray),this.listUserModulePageIndex=15,this.isUserModuleProgressBarHidden=!1,this.isDataLoadedUserModule=!1,this.listUserPayrollGroupObservableArray=new na,this.listUserPayrollGroupCollectionView=new oa(this.listUserPayrollGroupObservableArray),this.listUserPayrollGroupPageIndex=15,this.isUserPayrollGroupProgressBarHidden=!1,this.isUserPayrollGroupDataLoaded=!1,this.buttonDisabled=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetUserDetail()}))}GetUserDetail(){return Object(b.a)(this,void 0,void 0,(function*(){0==this.isUserDetailLoaded&&(this.isComponentsShown=!1,this.disableButtons());let e=0;this.activatedRoute.params.subscribe(t=>{e=t.id}),this.userDetailSubscription=yield(yield this.userDetailService.UserDetail(e)).subscribe(e=>{let t=e;console.log(t),null!=t&&(this.userModel.Id=t.Id,this.userModel.UserName=t.Username,this.userModel.FullName=t.FullName,this.userModel.Password=t.Password,this.userModel.CreatedByUser=t.CreatedByUser,this.userModel.CreatedDateTime=t.CreatedDateTime,this.userModel.UpdatedByUser=t.UpdatedByUser,this.userModel.UpdatedDateTime=t.UpdatedDateTime,this.userModel.IsLocked=t.IsLocked),0==this.isUserDetailLoaded&&(this.isComponentsShown=!0,this.GetUserModuleListData(),this.isUserDetailLoaded=!0,this.loadComponent(t.IsLocked)),this.isDataLoaded=!0,null!==this.userDetailSubscription&&this.userDetailSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.userDetailSubscription&&this.userDetailSubscription.unsubscribe()})}))}SaveUserDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.saveUserDetailSubscription=yield(yield this.userDetailService.SaveUser(this.userModel.Id,this.userModel)).subscribe(e=>{this.isDataLoaded=!0,this.GetUserDetail(),this.loadComponent(this.userModel.IsLocked),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully."),null!==this.saveUserDetailSubscription&&this.saveUserDetailSubscription.unsubscribe()},e=>{this.loadComponent(this.userModel.IsLocked),this.btnUnlockDisabled=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.saveUserDetailSubscription&&this.saveUserDetailSubscription.unsubscribe()}))}))}LockUserDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.lockUserDetailSubscription=yield(yield this.userDetailService.LockUser(this.userModel.Id,this.userModel)).subscribe(e=>{this.loadComponent(!0),this.GetUserDetail(),this.isDataLoaded=!0,this.snackBarTemplate.snackBarSuccess(this.snackBar,"Lock Successfully."),null!==this.lockUserDetailSubscription&&this.lockUserDetailSubscription.unsubscribe()},e=>{this.isDataLoaded=!0,this.loadComponent(!1),this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.lockUserDetailSubscription&&this.lockUserDetailSubscription.unsubscribe()}))}))}UnlockUserDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this.unlockUserDetailSubscription=yield(yield this.userDetailService.UnlockUser(this.userModel.Id)).subscribe(e=>{this.loadComponent(!1),this.GetUserDetail(),this.isDataLoaded=!0,this.snackBarTemplate.snackBarSuccess(this.snackBar,"Unlock Successfully."),null!==this.unlockUserDetailSubscription&&this.unlockUserDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!==this.unlockUserDetailSubscription&&this.unlockUserDetailSubscription.unsubscribe()}))}))}ngOnDestroy(){}get passwordInput(){return this.passwordField.get("password")}loadComponent(e){this.btnSaveDisabled=e,this.btnLockisabled=e,this.btnUnlockDisabled=!e,this.isLocked=e,this.isProgressBarHidden=!1}disableButtons(){this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isProgressBarHidden=!0}activeTab(){return Object(b.a)(this,void 0,void 0,(function*(){}))}GetUserModuleListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.listUserModuleObservableArray=new na,this.listUserModuleCollectionView=new oa(this.listUserModuleObservableArray),this.listUserModuleCollectionView.pageSize=15,this.listUserModuleCollectionView.trackChanges=!0,yield this.listUserModuleCollectionView.refresh(),yield this.flexUserModule.refresh(),this.isUserModuleProgressBarHidden=!0,this.userModuleListSubscription=yield(yield this.userDetailService.UserModuleList(this.userModel.Id)).subscribe(e=>{e.length>0&&(this.listUserModuleCollectionView=e,this.listUserModuleCollectionView=new oa(this.listUserModuleCollectionView),this.listUserModuleCollectionView.pageSize=15,this.listUserModuleCollectionView.trackChanges=!0,this.listUserModuleCollectionView.refresh(),this.flexUserModule.refresh()),this.isDataLoaded=!0,this.isUserModuleProgressBarHidden=!1,this.GetUserPayrollGroupListData(),null!=this.userModuleListSubscription&&this.userModuleListSubscription.unsubscribe()},e=>{this.isUserModuleProgressBarHidden=!1,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.userModuleListSubscription&&this.userModuleListSubscription.unsubscribe()})}))}DeleteUserModule(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this.isDataLoaded){this.isDataLoaded=!1;let e=this.listUserModuleCollectionView.currentItem;this.isUserModuleProgressBarHidden=!0,this.deleteUserModuleubscription=yield(yield this.userDetailService.DeleteUserModule(e.Id,this.userModel.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetUserModuleListData(),this.GetUserDetail(),this.isUserModuleProgressBarHidden=!1,this.isDataLoaded=!0},e=>{this.isDataLoaded=!0,this.isUserModuleProgressBarHidden=!1,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this.deleteUserModuleubscription&&this.deleteUserModuleubscription.unsubscribe()})}}))}EditUserModule(){return Object(b.a)(this,void 0,void 0,(function*(){this.UserModuleDetailDailog(this.listUserModuleCollectionView.currentItem,"Edit User Module")}))}UserModuleDetailDailog(e,t){this.matDialog.open(Bp,{width:"500px",height:"350px",data:{objDialogTitle:t,objUserModuleData:e,objUserId:this.userModel.Id},disableClose:!0}).afterClosed().subscribe(e=>{"Save"==e.event&&(this.GetUserModuleListData(),this.GetUserDetail())})}ComfirmDeleteUserModule(){this.matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete User Right",objComfirmationMessage:`Delete this ${this.listUserModuleCollectionView.currentItem.Module}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteUserModule()})}ChangePassword(){this.matDialog.open(Fp,{width:"500px",data:{objDialogTitle:"Change Password",objUserId:this.userModel.Id},disableClose:!0}).afterClosed()}GetUserPayrollGroupListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.listUserPayrollGroupObservableArray=new na,this.listUserPayrollGroupCollectionView=new oa(this.listUserPayrollGroupObservableArray),this.listUserPayrollGroupCollectionView.pageSize=15,this.listUserPayrollGroupCollectionView.trackChanges=!0,yield this.listUserPayrollGroupCollectionView.refresh(),yield this.flexUserPayrollGroup.refresh(),this.isUserPayrollGroupProgressBarHidden=!0,this.UserPayrollGroupListSubscription=yield(yield this.userDetailService.UserPayrollGroupList(this.userModel.Id)).subscribe(e=>{e.length>0&&(this.listUserPayrollGroupCollectionView=e,this.listUserPayrollGroupCollectionView=new oa(this.listUserPayrollGroupCollectionView),this.listUserPayrollGroupCollectionView.pageSize=15,this.listUserPayrollGroupCollectionView.trackChanges=!0,this.listUserPayrollGroupCollectionView.refresh(),this.flexUserPayrollGroup.refresh()),this.isDataLoaded=!0,this.isUserPayrollGroupProgressBarHidden=!1,null!=this.UserPayrollGroupListSubscription&&this.UserPayrollGroupListSubscription.unsubscribe()},e=>{this.isUserPayrollGroupProgressBarHidden=!1,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.UserPayrollGroupListSubscription&&this.UserPayrollGroupListSubscription.unsubscribe()})}))}DeleteUserPayrollGroup(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this.isDataLoaded){this.isDataLoaded=!1;let e=this.listUserPayrollGroupCollectionView.currentItem;this.isUserPayrollGroupProgressBarHidden=!0,this.deleteUserPayrollGroupubscription=yield(yield this.userDetailService.DeleteUserPayrollGroup(e.Id,this.userModel.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetUserPayrollGroupListData(),this.GetUserDetail(),this.isUserPayrollGroupProgressBarHidden=!1,this.isDataLoaded=!0},e=>{this.isDataLoaded=!0,this.isUserPayrollGroupProgressBarHidden=!1,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this.deleteUserPayrollGroupubscription&&this.deleteUserPayrollGroupubscription.unsubscribe()})}}))}EditUserPayrollGroup(){return Object(b.a)(this,void 0,void 0,(function*(){this.UserPayrollGroupDetailDailog(this.listUserPayrollGroupCollectionView.currentItem,"Payroll Group")}))}UserPayrollGroupDetailDailog(e,t){this.matDialog.open(Hp,{width:"500px",height:"250px",data:{objDialogTitle:t,objUserPayrollGroupData:e,objUserId:this.userModel.Id},disableClose:!0}).afterClosed().subscribe(e=>{"Save"==e.event&&this.GetUserPayrollGroupListData()})}ComfirmDeleteUserPayrollGroup(){this.matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Payroll Group",objComfirmationMessage:`Delete this ${this.listUserPayrollGroupCollectionView.currentItem.PayrollGroup}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&(this.DeleteUserPayrollGroup(),this.GetUserDetail())})}UserPayrollGroupDailog(e,t){this.matDialog.open(Hp,{width:"500px",data:{objDialogTitle:t,objUserPayrollGroupData:e,objUserId:this.userModel.Id},disableClose:!0}).afterClosed().subscribe(e=>{"Save"==e.event&&(this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully"),this.GetUserPayrollGroupListData())})}AddUserTable(){return Object(b.a)(this,void 0,void 0,(function*(){0==this.tabGroup.selectedIndex?this.UserModuleDetailDailog(this.userModuleModel,"Add User Module"):this.UserPayrollGroupDetailDailog(this.userPayrollGroupModel,"Add Payroll Group")}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Tp),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-user-detail"]],viewQuery:function(e,t){var i;1&e&&(h.Ec(Np,!0),h.Ec(zp,!0),h.Ec(Gp,!0)),2&e&&(h.pc(i=h.ec())&&(t.tabGroup=i.first),h.pc(i=h.ec())&&(t.flexUserModule=i.first),h.pc(i=h.ec())&&(t.flexUserPayrollGroup=i.first))},decls:149,vars:76,consts:[["src","../../../../assets/menu-icons/user.png","height","35"],[1,"spacer"],["mat-raised-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software/user-list","color","warn",2,"margin","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","35",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Full Name",3,"ngModel","readonly","ngModelChange"],["fxFlex","65",2,"padding","5px"],["fxFlex","50",2,"padding","5px"],["matInput","","placeholder","Full Name","readonly","",3,"ngModel","ngModelChange"],[3,"formGroup"],["type","password","matInput","","placeholder","Password","readonly","","formControlName","password",3,"ngModel","ngModelChange"],["mat-raised-button","",2,"margin","5px","width","100%","height","60%","background-color","white","color","#742774",3,"disabled","click"],["fxFlex","100",2,"margin","5px"],[1,"detail-tab",2,"max-height","100%","width","100%",3,"selectedTabChange"],["tabGroup",""],["label","User Rights"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexUserModule",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],[2,"margin-top","10px","margin-bottom","10px"],[3,"click"],[2,"margin-right","-15px"],[2,"width","100px"],["label","Payroll Group"],["flexUserPayrollGroup",""],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[2,"width","100%",3,"color","mode"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditUserModule",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 User Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SaveUserDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockUserDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockUserDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.Vb(18,"mat-icon"),h.yc(19,"close"),h.Ub(),h.yc(20," Close "),h.Ub(),h.Ub(),h.xc(21,Yp,1,2,"mat-progress-bar",4),h.Vb(22,"div",5),h.Vb(23,"div",6),h.Vb(24,"div",7),h.Vb(25,"div",8),h.Vb(26,"div",7),h.Vb(27,"div",9),h.Vb(28,"mat-form-field",10),h.Vb(29,"mat-label"),h.yc(30,"Full Name"),h.Ub(),h.Vb(31,"input",11),h.dc("ngModelChange",(function(e){return t.userModel.FullName=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(32,"div",12),h.Vb(33,"div",7),h.Vb(34,"div",13),h.Vb(35,"mat-form-field",10),h.Vb(36,"mat-label"),h.yc(37,"UserName"),h.Ub(),h.Vb(38,"input",14),h.dc("ngModelChange",(function(e){return t.userModel.UserName=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(39,"div",13),h.Vb(40,"form",15),h.Vb(41,"mat-form-field",10),h.Vb(42,"mat-label"),h.yc(43,"Password"),h.Ub(),h.Vb(44,"input",16),h.dc("ngModelChange",(function(e){return t.userModel.Password=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(45,"div",13),h.Vb(46,"button",17),h.dc("click",(function(){return t.ChangePassword()})),h.Vb(47,"mat-icon"),h.yc(48,"vpn_key"),h.Ub(),h.yc(49," Change Password "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(50,"div",7),h.Vb(51,"div",18),h.Vb(52,"mat-tab-group",19,20),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(54,"mat-tab",21),h.Rb(55,"br"),h.xc(56,Qp,1,2,"mat-progress-bar",22),h.Vb(57,"wj-flex-grid",23,24),h.Rb(59,"wj-flex-grid-filter"),h.xc(60,qp,2,3,"wj-flex-grid-column",25),h.xc(61,$p,2,3,"wj-flex-grid-column",25),h.Rb(62,"wj-flex-grid-column",26),h.Rb(63,"wj-flex-grid-column",26),h.Rb(64,"wj-flex-grid-column",26),h.Rb(65,"wj-flex-grid-column",26),h.Rb(66,"wj-flex-grid-column",26),h.Rb(67,"wj-flex-grid-column",26),h.Rb(68,"wj-flex-grid-column",26),h.Rb(69,"wj-flex-grid-column",26),h.Ub(),h.Vb(70,"mat-button-toggle-group",27),h.Vb(71,"mat-button-toggle",28),h.dc("click",(function(){return t.listUserModuleCollectionView.moveToFirstPage()})),h.Vb(72,"mat-icon",29),h.yc(73,"navigate_before"),h.Ub(),h.Vb(74,"mat-icon"),h.yc(75,"navigate_before"),h.Ub(),h.Ub(),h.Vb(76,"mat-button-toggle",28),h.dc("click",(function(){return t.listUserModuleCollectionView.moveToPreviousPage()})),h.Vb(77,"mat-icon"),h.yc(78,"navigate_before"),h.Ub(),h.Ub(),h.Vb(79,"mat-button-toggle",30),h.yc(80),h.Ub(),h.Vb(81,"mat-button-toggle",28),h.dc("click",(function(){return t.listUserModuleCollectionView.moveToNextPage()})),h.Vb(82,"mat-icon"),h.yc(83,"navigate_next"),h.Ub(),h.Ub(),h.Vb(84,"mat-button-toggle",28),h.dc("click",(function(){return t.listUserModuleCollectionView.moveToLastPage()})),h.Vb(85,"mat-icon",29),h.yc(86,"navigate_next"),h.Ub(),h.Vb(87,"mat-icon"),h.yc(88,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(89,"mat-tab",31),h.Rb(90,"br"),h.xc(91,Jp,1,2,"mat-progress-bar",22),h.Vb(92,"wj-flex-grid",23,32),h.Rb(94,"wj-flex-grid-filter"),h.xc(95,Xp,2,3,"wj-flex-grid-column",25),h.xc(96,tb,2,3,"wj-flex-grid-column",25),h.Rb(97,"wj-flex-grid-column",26),h.Ub(),h.Vb(98,"mat-button-toggle-group",27),h.Vb(99,"mat-button-toggle",28),h.dc("click",(function(){return t.listUserPayrollGroupCollectionView.moveToFirstPage()})),h.Vb(100,"mat-icon",29),h.yc(101,"navigate_before"),h.Ub(),h.Vb(102,"mat-icon"),h.yc(103,"navigate_before"),h.Ub(),h.Ub(),h.Vb(104,"mat-button-toggle",28),h.dc("click",(function(){return t.listUserPayrollGroupCollectionView.moveToPreviousPage()})),h.Vb(105,"mat-icon"),h.yc(106,"navigate_before"),h.Ub(),h.Ub(),h.Vb(107,"mat-button-toggle",30),h.yc(108),h.Ub(),h.Vb(109,"mat-button-toggle",28),h.dc("click",(function(){return t.listUserPayrollGroupCollectionView.moveToNextPage()})),h.Vb(110,"mat-icon"),h.yc(111,"navigate_next"),h.Ub(),h.Ub(),h.Vb(112,"mat-button-toggle",28),h.dc("click",(function(){return t.listUserPayrollGroupCollectionView.moveToLastPage()})),h.Vb(113,"mat-icon",29),h.yc(114,"navigate_next"),h.Ub(),h.Vb(115,"mat-icon"),h.yc(116,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(117,"mat-tab",33),h.xc(118,ib,5,1,"ng-template",34),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(119,"mat-divider",35),h.Vb(120,"div",36),h.Vb(121,"div",13),h.Vb(122,"div",7),h.Vb(123,"div",37),h.Vb(124,"mat-label",38),h.yc(125,"Created By:"),h.Ub(),h.Ub(),h.Vb(126,"div",39),h.Vb(127,"mat-label",38),h.yc(128),h.Ub(),h.Ub(),h.Vb(129,"div",40),h.Vb(130,"mat-label",38),h.yc(131,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(132,"div",41),h.Vb(133,"mat-label",38),h.yc(134),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(135,"div",13),h.Vb(136,"div",7),h.Vb(137,"div",37),h.Vb(138,"mat-label",38),h.yc(139,"Updated By:"),h.Ub(),h.Ub(),h.Vb(140,"div",39),h.Vb(141,"mat-label",38),h.yc(142),h.Ub(),h.Ub(),h.Vb(143,"div",40),h.Vb(144,"mat-label",38),h.yc(145,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(146,"div",41),h.Vb(147,"mat-label",38),h.yc(148),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t.btnSaveDisabled),h.Eb(4),h.kc("disabled",t.btnLockisabled),h.Eb(4),h.kc("disabled",t.btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t.isProgressBarHidden),h.Eb(2),h.kc("hidden",!t.isComponentsShown),h.Eb(8),h.kc("ngModel",t.userModel.FullName)("readonly",t.isLocked),h.Eb(7),h.kc("ngModel",t.userModel.UserName),h.Eb(2),h.kc("formGroup",t.passwordField),h.Eb(4),h.kc("ngModel",t.userModel.Password),h.Eb(2),h.kc("disabled",t.isLocked),h.Eb(10),h.kc("ngIf",t.isUserModuleProgressBarHidden),h.Eb(1),h.kc("itemsSource",t.listUserModuleCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("ngIf",!t.isLocked),h.Eb(1),h.kc("ngIf",!t.isLocked),h.Eb(1),h.kc("header","Module")("binding","Module")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Can Open")("binding","CanOpen")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Can Add")("binding","CanAdd")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Can Edit")("binding","CanEdit")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Can Lock")("binding","CanLock")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Can Unlock")("binding","CanUnlock")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Can Delete")("binding","CanDelete")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Can Print")("binding","CanPrint")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t.listUserModuleCollectionView.pageIndex+1," / ",t.listUserModuleCollectionView.pageCount,""),h.Eb(11),h.kc("ngIf",t.isUserPayrollGroupProgressBarHidden),h.Eb(1),h.kc("itemsSource",t.listUserPayrollGroupCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("ngIf",!t.isLocked),h.Eb(1),h.kc("ngIf",!t.isLocked),h.Eb(1),h.kc("header","Payroll Group")("binding","PayrollGroup")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t.listUserPayrollGroupCollectionView.pageIndex+1," / ",t.listUserPayrollGroupCollectionView.pageCount,""),h.Eb(20),h.zc(t.userModel.CreatedByUser),h.Eb(6),h.zc(t.userModel.CreatedDateTime),h.Eb(8),h.zc(t.userModel.UpdatedByUser),h.Eb(6),h.zc(t.userModel.UpdatedDateTime))},directives:[_.a,v.a,w.a,d.c,l.l,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,c.v,c.p,c.i,c.g,fh,ah,cl,Vl,hl,Al,Hl,eh,ft,fr,ul],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})(),ob=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Kb({type:e,selectors:[["app-leave-credits-list"]],decls:7,vars:0,consts:[["src","../../../../assets/menu-icons/leave credits.png","height","35"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Leave Credits List"),h.Ub(),h.Ub(),h.Vb(4,"div",1),h.Vb(5,"div",2),h.Rb(6,"div",3),h.Ub(),h.Ub())},directives:[_.a,li.b,li.a],styles:[""]}),e})(),ab=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Kb({type:e,selectors:[["app-leave-credits-detail"]],decls:7,vars:0,consts:[["src","../../../../assets/menu-icons/leave credits.png","height","35"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Leave Credits Detail"),h.Ub(),h.Ub(),h.Vb(4,"div",1),h.Vb(5,"div",2),h.Rb(6,"div",3),h.Ub(),h.Ub())},directives:[_.a,li.b,li.a],styles:[""]}),e})(),rb=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}ChangeShiftCodeList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/list/"+e,this.appSettings.defaultOptions)}))}AddChangeShiftCode(e){return Object(b.a)(this,void 0,void 0,(function*(){return console.log(e),this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/change/shift/create/"+e,"",this.appSettings.defaultOptions)}))}DeleteChangeShiftCode(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/change/shift/delete/"+e,this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/payroll/group/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const sb=["flexShiftCode"];function lb(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function cb(e,t){1&e&&h.Rb(0,"mat-progress-bar",24),2&e&&h.kc("color","primary")("mode","indeterminate")}function db(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",25),h.dc("click",(function(){return h.rc(e),h.hc().EditChangeShiftCode()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function hb(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",26),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteChangeShiftCode()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function ub(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let pb=(()=>{class e{constructor(e,t,i,n,o){this._changeShiftCodeListService=e,this.router=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this._payrollGroupListDropdown=[],this._filterPayrollGroup="",this._listChangeShiftCodeObservableArray=new na,this._listChangeShiftCodeCollectionView=new oa(this._listChangeShiftCodeObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._buttonDisabled=!1,this._createCboShowNumberOfRows=new na}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetPayrollGroupDropdownListData(),yield this.CreateCboShowNumberOfRows()}))}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this._listChangeShiftCodeCollectionView.pageSize=this._listPageIndex,this._listChangeShiftCodeCollectionView.refresh(),this._listChangeShiftCodeCollectionView.refresh()}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=yield(yield this._changeShiftCodeListService.PayrollGroupList()).subscribe(e=>{var t=e;if(t.length>0)for(var i=0;i<t.length;i++)this._payrollGroupListDropdown.push(t[i]);this._filterPayrollGroup=this._payrollGroupListDropdown[0].Value,this.GetChangeShiftCodeListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status)})}))}PayrollGroupSelectionChange(){this.GetChangeShiftCodeListData()}GetChangeShiftCodeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listChangeShiftCodeObservableArray=new na,this._listChangeShiftCodeCollectionView=new oa(this._listChangeShiftCodeObservableArray),this._listChangeShiftCodeCollectionView.pageSize=15,this._listChangeShiftCodeCollectionView.trackChanges=!0,yield this._listChangeShiftCodeCollectionView.refresh(),yield this.flexShiftCode.refresh(),this._isProgressBarHidden=!0,this._changeShiftCodeListSubscription=yield(yield this._changeShiftCodeListService.ChangeShiftCodeList(this._filterPayrollGroup)).subscribe(e=>{var t=e;console.log("Response:",t),t.length>0&&(this._listChangeShiftCodeCollectionView=t,this._listChangeShiftCodeCollectionView=new oa(this._listChangeShiftCodeCollectionView),this._listChangeShiftCodeCollectionView.pageSize=15,this._listChangeShiftCodeCollectionView.trackChanges=!0,this._listChangeShiftCodeCollectionView.refresh(),this.flexShiftCode.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._changeShiftCodeListSubscription&&this._changeShiftCodeListSubscription.unsubscribe()},e=>{this._isProgressBarHidden=!1,"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._changeShiftCodeListSubscription&&this._changeShiftCodeListSubscription.unsubscribe())})}))}AddChangeShiftCode(){return Object(b.a)(this,void 0,void 0,(function*(){this._buttonDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addChangeShiftCodeSubscription=yield(yield this._changeShiftCodeListService.AddChangeShiftCode(this._filterPayrollGroup)).subscribe(e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this.GetChangeShiftCodeListData(),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully"),this.router.navigate(["/software/change-shift-code-detail/"+e])},e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addChangeShiftCodeSubscription&&this._addChangeShiftCodeSubscription.unsubscribe()}))}))}EditChangeShiftCode(){this.router.navigate(["/software/change-shift-code-detail/"+this._listChangeShiftCodeCollectionView.currentItem.Id])}DeleteChangeShiftCode(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this._isDataLoaded){this._isDataLoaded=!1;let e=this._listChangeShiftCodeCollectionView.currentItem;this._isProgressBarHidden=!0,this._deleteChangeShiftCodeSubscription=yield(yield this._changeShiftCodeListService.DeleteChangeShiftCode(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetChangeShiftCodeListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteChangeShiftCodeSubscription&&this._deleteChangeShiftCodeSubscription.unsubscribe()})}}))}ComfirmDeleteChangeShiftCode(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Change Shift",objComfirmationMessage:`Delete ${this._listChangeShiftCodeCollectionView.currentItem.CSNumber}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteChangeShiftCode()})}ngOnDestroy(){null!=this._changeShiftCodeListSubscription&&this._changeShiftCodeListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(rb),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-change-shift-code-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(sb,!0),2&e&&h.pc(i=h.ec())&&(t.flexShiftCode=i.first)},decls:65,vars:47,consts:[["src","../../../../assets/menu-icons/change shift code.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexShiftCode",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"value"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditEmployee",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Change Shift List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddChangeShiftCode()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.Vb(16,"mat-form-field",7),h.Vb(17,"mat-label"),h.yc(18,"Payroll Group"),h.Ub(),h.Vb(19,"mat-select",8),h.dc("ngModelChange",(function(e){return t._filterPayrollGroup=e}))("selectionChange",(function(){return t.PayrollGroupSelectionChange()})),h.xc(20,lb,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",5),h.Vb(22,"div",10),h.xc(23,cb,1,2,"mat-progress-bar",11),h.Vb(24,"wj-flex-grid",12,13),h.Rb(26,"wj-flex-grid-filter"),h.Vb(27,"wj-flex-grid-column",14),h.xc(28,db,4,0,"ng-template",15),h.Ub(),h.Vb(29,"wj-flex-grid-column",14),h.xc(30,hb,4,0,"ng-template",15),h.Ub(),h.Rb(31,"wj-flex-grid-column",16),h.Rb(32,"wj-flex-grid-column",16),h.Rb(33,"wj-flex-grid-column",16),h.Rb(34,"wj-flex-grid-column",16),h.Rb(35,"wj-flex-grid-column",16),h.Rb(36,"wj-flex-grid-column",16),h.Ub(),h.Ub(),h.Ub(),h.Vb(37,"div",5),h.Vb(38,"div",17),h.Vb(39,"div",5),h.Vb(40,"mat-button-toggle-group",18),h.Vb(41,"mat-button-toggle",19),h.dc("click",(function(){return t._listChangeShiftCodeCollectionView.moveToFirstPage()})),h.Vb(42,"mat-icon",20),h.yc(43,"navigate_before"),h.Ub(),h.Vb(44,"mat-icon"),h.yc(45,"navigate_before"),h.Ub(),h.Ub(),h.Vb(46,"mat-button-toggle",19),h.dc("click",(function(){return t._listChangeShiftCodeCollectionView.moveToPreviousPage()})),h.Vb(47,"mat-icon"),h.yc(48,"navigate_before"),h.Ub(),h.Ub(),h.Vb(49,"mat-button-toggle",21),h.yc(50),h.Ub(),h.Vb(51,"mat-button-toggle",19),h.dc("click",(function(){return t._listChangeShiftCodeCollectionView.moveToNextPage()})),h.Vb(52,"mat-icon"),h.yc(53,"navigate_next"),h.Ub(),h.Ub(),h.Vb(54,"mat-button-toggle",19),h.dc("click",(function(){return t._listChangeShiftCodeCollectionView.moveToLastPage()})),h.Vb(55,"mat-icon",20),h.yc(56,"navigate_next"),h.Ub(),h.Vb(57,"mat-icon"),h.yc(58,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(59,"div",22),h.Vb(60,"mat-form-field",7),h.Vb(61,"mat-label"),h.yc(62,"Row"),h.Ub(),h.Vb(63,"mat-select",8),h.dc("ngModelChange",(function(e){return t._listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(64,ub,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._buttonDisabled),h.Eb(14),h.kc("ngModel",t._filterPayrollGroup),h.Eb(1),h.kc("ngForOf",t._payrollGroupListDropdown),h.Eb(3),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listChangeShiftCodeCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","CS No.")("binding","CSNumber")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","CSDate")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("isReadOnly",!0)("width",40),h.Eb(14),h.Bc(" ",t._listChangeShiftCodeCollectionView.pageIndex+1," / ",t._listChangeShiftCodeCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t._listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,l.l,cl,Vl,hl,ul,Al,Hl,G.l,fr],styles:[""]}),e})(),bb=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}EmployeeList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/employee/dropdown/list/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const mb=["flexEmployee"];function fb(e,t){1&e&&h.Rb(0,"mat-progress-bar",20),2&e&&h.kc("color","primary")("mode","indeterminate")}function gb(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",21),h.dc("click",(function(){return h.rc(e),h.hc().Pick()})),h.Vb(1,"mat-icon"),h.yc(2,"arrow_left_alt"),h.Ub(),h.yc(3," Pick "),h.Ub()}}function yb(e,t){if(1&e&&(h.Vb(0,"mat-option",22),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let _b=(()=>{class e{constructor(e,t,i,n,o){this.dialogRef=e,this._sharedService=t,this._snackBar=i,this._snackBarTemplate=n,this.caseData=o,this.title="Employee List",this._employeeObservableArray=new na,this._listEmployeeCollectionView=new oa(this._employeeObservableArray),this._listPageIndex=30,this._isEmployeeProgressBarHidden=!1,this._createCboShowNumberOfRows=new na}ngOnInit(){this.GetEmployeeListData(this.caseData.objPayrollGroup),this.CreateCboShowNumberOfRows()}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this._listEmployeeCollectionView.pageSize=this._listPageIndex,this._listEmployeeCollectionView.refresh(),this._listEmployeeCollectionView.refresh()}GetEmployeeListData(e){return Object(b.a)(this,void 0,void 0,(function*(){this._employeeObservableArray=new na,this._listEmployeeCollectionView=new oa(this._employeeObservableArray),this._listEmployeeCollectionView.pageSize=10,this._listEmployeeCollectionView.trackChanges=!0,yield this._listEmployeeCollectionView.refresh(),yield this.flexEmployee.refresh(),this._isEmployeeProgressBarHidden=!0,this._employeeListDropdownSubscription=yield(yield this._sharedService.EmployeeList(e)).subscribe(e=>{e.length>0&&(this._employeeObservableArray=e,this._listEmployeeCollectionView=new oa(this._employeeObservableArray),this._listEmployeeCollectionView.pageSize=10,this._listEmployeeCollectionView.trackChanges=!0,this._listEmployeeCollectionView.refresh(),this.flexEmployee.refresh()),this._isEmployeeProgressBarHidden=!1,null!==this._employeeListDropdownSubscription&&this._employeeListDropdownSubscription.unsubscribe()},e=>{this._isEmployeeProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._employeeListDropdownSubscription&&this._employeeListDropdownSubscription.unsubscribe()})}))}Pick(){this.dialogRef.close({event:"Pick",employee:this._listEmployeeCollectionView.currentItem})}Close(){this.dialogRef.close({event:"Close"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(bb),h.Qb(lr.a),h.Qb(cr),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-employee-list-pick-dialog"]],viewQuery:function(e,t){var i;1&e&&h.Ec(mb,!0),2&e&&h.pc(i=h.ec())&&(t.flexEmployee=i.first)},decls:45,vars:17,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"max-height","400"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexEmployee",""],[3,"header","binding","isReadOnly","width"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","35",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","right"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px"],[3,"color","mode"],["mat-flat-button","","mat-dialog-close","","color","primary","id","btnEditDTRLine",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.xc(4,fb,1,2,"mat-progress-bar",2),h.Vb(5,"wj-flex-grid",3,4),h.Rb(7,"wj-flex-grid-filter"),h.Rb(8,"wj-flex-grid-column",5),h.Vb(9,"wj-flex-grid-column",6),h.xc(10,gb,4,0,"ng-template",7),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",8),h.Vb(12,"div",9),h.Vb(13,"div",8),h.Vb(14,"mat-button-toggle-group",10),h.Vb(15,"mat-button-toggle",11),h.dc("click",(function(){return t._listEmployeeCollectionView.moveToFirstPage()})),h.Vb(16,"mat-icon",12),h.yc(17,"navigate_before"),h.Ub(),h.Vb(18,"mat-icon"),h.yc(19,"navigate_before"),h.Ub(),h.Ub(),h.Vb(20,"mat-button-toggle",11),h.dc("click",(function(){return t._listEmployeeCollectionView.moveToPreviousPage()})),h.Vb(21,"mat-icon"),h.yc(22,"navigate_before"),h.Ub(),h.Ub(),h.Vb(23,"mat-button-toggle",13),h.yc(24),h.Ub(),h.Vb(25,"mat-button-toggle",11),h.dc("click",(function(){return t._listEmployeeCollectionView.moveToNextPage()})),h.Vb(26,"mat-icon"),h.yc(27,"navigate_next"),h.Ub(),h.Ub(),h.Vb(28,"mat-button-toggle",11),h.dc("click",(function(){return t._listEmployeeCollectionView.moveToLastPage()})),h.Vb(29,"mat-icon",12),h.yc(30,"navigate_next"),h.Ub(),h.Vb(31,"mat-icon"),h.yc(32,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(33,"div",14),h.Vb(34,"mat-form-field",15),h.Vb(35,"mat-label"),h.yc(36,"Row"),h.Ub(),h.Vb(37,"mat-select",16),h.dc("ngModelChange",(function(e){return t._listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(38,yb,2,2,"mat-option",17),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(39,"mat-divider"),h.Vb(40,"div",18),h.Vb(41,"button",19),h.Vb(42,"mat-icon"),h.yc(43,"close"),h.Ub(),h.yc(44," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("ngIf",t._isEmployeeProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listEmployeeCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("header","Employee")("binding","Value")("isReadOnly",!0)("width","3*"),h.Eb(1),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(14),h.Bc(" ",t._listEmployeeCollectionView.pageIndex+1," / ",t._listEmployeeCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t._listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[ir,ft,nr,l.l,cl,Vl,hl,ul,li.b,li.a,Al,Hl,w.a,_r.c,_r.g,rc,c.o,c.r,l.k,or,v.a,tr,fr,G.l],styles:[""]}),e})(),vb=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/payroll/group/list",this.appSettings.defaultOptions)}))}YearList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/year/list",this.appSettings.defaultOptions)}))}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/user/list",this.appSettings.defaultOptions)}))}ChangeShiftCodeDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/detail/"+e,this.appSettings.defaultOptions)}))}SaveChangeShiftCode(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/change/shift/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockChangeShiftCode(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/change/shift/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockChangeShiftCode(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/change/shift/unlock/"+e,"",this.appSettings.defaultOptions)}))}ChangeShiftCodeLineList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/line/list/"+e,this.appSettings.defaultOptions)}))}AddChangeShiftCodeLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/change/shift/line/create/",JSON.stringify(e),this.appSettings.defaultOptions)}))}UpdateTRLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/change/shift/line/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DeleteChangeShiftCodeLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/change/shift/line/delete/"+e,this.appSettings.defaultOptions)}))}EmployeeList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/line/employee/list",this.appSettings.defaultOptions)}))}ShiftsList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/line/shift/list",this.appSettings.defaultOptions)}))}BranchList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/line/branch/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function wb(e,t){if(1&e&&(h.Vb(0,"mat-option",21),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Cb(e,t){if(1&e&&(h.Vb(0,"mat-option",21),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}let Db=(()=>{class e{constructor(e,t,i,n,o,a,r){this.dialogRef=e,this._changeShiftCodeDetailService=t,this.caseData=i,this._snackBar=n,this._snackBarTemplate=o,this._matDialog=a,this.datePipe=r,this._changeShiftLine={Id:0,CSId:0,EmployeeId:0,Employee:"",ShiftDate:this.datePipe.transform(new Date,"yyyy-MM-dd"),ShiftId:0,Branch:"",Remarks:""},this.UIShiftDate=new Date,this.title="",this.Employee="",this.isComponentHidden=!0,this._branchListDropdown=[],this._shiftListDropdown=[]}ngOnInit(){this.title=this.caseData.objDialogTitle,this.ShiftsListData()}ShiftsListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._shiftListDropdownSubscription=(yield this._changeShiftCodeDetailService.ShiftsList()).subscribe(e=>{this._shiftListDropdown=e,this._changeShiftLine.ShiftId=this._shiftListDropdown[0].Id,this.BranchListData(),null!==this._shiftListDropdownSubscription&&this._shiftListDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._shiftListDropdownSubscription&&this._shiftListDropdownSubscription.unsubscribe()})}))}BranchListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._branchListDropdownSubscription=(yield this._changeShiftCodeDetailService.BranchList()).subscribe(e=>{this._branchListDropdown=e,this._changeShiftLine.Branch=this._branchListDropdown[0].Value,this.loadShiftLineDetail(),null!==this._branchListDropdownSubscription&&this._branchListDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._branchListDropdownSubscription&&this._branchListDropdownSubscription.unsubscribe()})}))}loadShiftLineDetail(){this._changeShiftLine.Id=this.caseData.objChangeShiftLine.Id,this._changeShiftLine.CSId=this.caseData.objChangeShiftLine.CSId,this._changeShiftLine.EmployeeId=this.caseData.objChangeShiftLine.EmployeeId,this._changeShiftLine.Employee=this.caseData.objChangeShiftLine.Employee,this._changeShiftLine.Remarks=this.caseData.objChangeShiftLine.Remarks,this._changeShiftLine.ShiftDate=this.caseData.objChangeShiftLine.ShiftDate,0!=this._changeShiftLine.Id&&(this.UIShiftDate=new Date(this.caseData.objChangeShiftLine.ShiftDate),this._changeShiftLine.Branch=this.caseData.objChangeShiftLine.Branch),console.log(this._changeShiftLine),setTimeout(()=>{this.isComponentHidden=!1},100)}Close(){this.dialogRef.close({event:"Close"})}GetUIDATEShiftDate(){this._changeShiftLine.ShiftDate=this.datePipe.transform(this.UIShiftDate,"yyyy-MM-dd"),console.log(this._changeShiftLine.ShiftDate)}Save(){return Object(b.a)(this,void 0,void 0,(function*(){0!=this._changeShiftLine.EmployeeId?yield this.dialogRef.close({event:this.title,data:this._changeShiftLine}):this._snackBarTemplate.snackBarError(this._snackBar,"Choose employee!")}))}EmployeeListDialog(){this._matDialog.open(_b,{width:"900px",height:"500",data:{objDialogTitle:"Employee List",objPayrollGroup:this.caseData.objPayrollGroup},disableClose:!0}).afterClosed().subscribe(e=>{console.log(e),"Close"!=e.event&&(this._changeShiftLine.EmployeeId=e.employee.Id,this._changeShiftLine.Employee=e.employee.Value)})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(vb),h.Qb(Ka),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-change-shift-code-line-detail"]],decls:50,vars:11,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body",3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["type","text","matInput","","readonly","",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],["fxFlex","25",2,"padding","5px"],["matInput","",3,"matDatepicker","ngModel","ngModelChange","dateInput"],["matSuffix","",3,"for"],["color","primary"],["datePickerShiftDate",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","34",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Remarks","rows","5",2,"min-height","102px",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Rb(5,"br"),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"mat-label"),h.yc(10,"Employee"),h.Ub(),h.Vb(11,"input",6),h.dc("ngModelChange",(function(e){return t._changeShiftLine.Employee=e})),h.Ub(),h.Vb(12,"mat-icon",7),h.dc("click",(function(){return t.EmployeeListDialog()})),h.yc(13,"keyboard_arrow_down"),h.Ub(),h.Ub(),h.Ub(),h.Vb(14,"div",8),h.Vb(15,"mat-form-field",5),h.Vb(16,"mat-label"),h.yc(17,"Date"),h.Ub(),h.Vb(18,"input",9),h.dc("ngModelChange",(function(e){return t.UIShiftDate=e}))("dateInput",(function(){return t.GetUIDATEShiftDate()})),h.Ub(),h.Rb(19,"mat-datepicker-toggle",10),h.Rb(20,"mat-datepicker",11,12),h.Ub(),h.Ub(),h.Vb(22,"div",4),h.Vb(23,"mat-form-field",5),h.Vb(24,"mat-label"),h.yc(25,"Shift"),h.Ub(),h.Vb(26,"mat-select",13),h.dc("ngModelChange",(function(e){return t._changeShiftLine.ShiftId=e})),h.xc(27,wb,2,2,"mat-option",14),h.Ub(),h.Ub(),h.Ub(),h.Vb(28,"div",15),h.Vb(29,"mat-form-field",5),h.Vb(30,"mat-label"),h.yc(31,"Branch"),h.Ub(),h.Vb(32,"mat-select",13),h.dc("ngModelChange",(function(e){return t._changeShiftLine.Branch=e})),h.xc(33,Cb,2,2,"mat-option",14),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(34,"div",3),h.Vb(35,"div",16),h.Vb(36,"mat-form-field",5),h.Vb(37,"mat-label"),h.yc(38,"Remarks"),h.Ub(),h.Vb(39,"textarea",17),h.dc("ngModelChange",(function(e){return t._changeShiftLine.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(40,"mat-divider"),h.Vb(41,"div",18),h.Vb(42,"button",19),h.dc("click",(function(){return t.Save()})),h.Vb(43,"mat-icon"),h.yc(44,"save"),h.Ub(),h.yc(45," Save "),h.Ub(),h.Vb(46,"button",20),h.dc("click",(function(){return t.Close()})),h.Vb(47,"mat-icon"),h.yc(48,"close"),h.Ub(),h.yc(49," Cancel "),h.Ub(),h.Ub()),2&e){const e=h.qc(21);h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("hidden",t.isComponentHidden),h.Eb(7),h.kc("ngModel",t._changeShiftLine.Employee),h.Eb(7),h.kc("matDatepicker",e)("ngModel",t.UIShiftDate),h.Eb(1),h.kc("for",e),h.Eb(7),h.kc("ngModel",t._changeShiftLine.ShiftId),h.Eb(1),h.kc("ngForOf",t._shiftListDropdown),h.Eb(5),h.kc("ngModel",t._changeShiftLine.Branch),h.Eb(1),h.kc("ngForOf",t._branchListDropdown),h.Eb(6),h.kc("ngModel",t._changeShiftLine.Remarks)}},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,w.a,_r.h,xd,Ld,_d,rc,l.k,or,v.a,tr,G.l],styles:[""]}),e})();const Sb=["flexChangeShiftLine"];function xb(e,t){1&e&&h.Rb(0,"mat-progress-bar",50),2&e&&h.kc("color","primary")("mode","indeterminate")}function kb(e,t){if(1&e&&(h.Vb(0,"mat-option",51),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Lb(e,t){if(1&e&&(h.Vb(0,"mat-option",52),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Vb(e,t){if(1&e&&(h.Vb(0,"mat-option",52),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Ob(e,t){1&e&&h.Rb(0,"mat-progress-bar",53),2&e&&h.kc("color","primary")("mode","indeterminate")}function Ub(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",56),h.dc("click",(function(){return h.rc(e),h.hc(2).EditChangeShiftLine()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Eb(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",54),h.xc(1,Ub,4,0,"ng-template",55),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function Mb(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",57),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeleteChangeShiftLine()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Pb(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",54),h.xc(1,Mb,4,0,"ng-template",55),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function Rb(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",58),h.dc("click",(function(){return h.rc(e),h.hc().AddChangeShiftLine()})),h.Vb(1,"mat-icon"),h.yc(2,"add"),h.Ub(),h.yc(3," ADD "),h.Ub(),h.Rb(4,"br")}if(2&e){const e=h.hc();h.kc("disabled",e._btnAddChangeShiftLineDisabled)}}let Ib=(()=>{class e{constructor(e,t,i,n,o,a){this._changeShiftCodeDetailService=e,this._activatedRoute=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this.datePipe=a,this._isProgressBarHidden=!1,this._isComponentsShown=!0,this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isDataLoaded=!1,this._isLocked=!1,this._payrollGroupListDropdown=[],this._yearListDropdown=[],this._userListDropdown=[],this._changeShiftModel={Id:0,CSNumber:"",CSDate:"",PayrollGroup:"",YearId:0,Year:"",Remarks:"",PreparedByUserId:0,PreparedByUser:"",CheckedByUserId:0,CheckedByUser:"",ApprovedByUserId:0,ApprovedByUser:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:new Date,UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:new Date,IsLocked:!1},this.UICSDate=new Date,this._changeShiftLineModel={Id:0,CSId:0,EmployeeId:0,Employee:"",ShiftDate:this.datePipe.transform(new Date,"yyyy-MM-dd"),ShiftId:0,Branch:"",Remarks:""},this._listChangeShiftLineObservableArray=new na,this._listChangeShiftLineCollectionView=new oa(this._listChangeShiftLineObservableArray),this._listPageIndex=15,this._isChangeShiftLineProgressBarHidden=!1,this._isChangeShiftLineDataLoaded=!1,this._btnAddChangeShiftLineDisabled=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.PayrollGroupListData()}))}PayrollGroupListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=(yield this._changeShiftCodeDetailService.PayrollGroupList()).subscribe(e=>{this._payrollGroupListDropdown=e,this.YearCodeListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()})}))}YearCodeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearDropdownSubscription=(yield this._changeShiftCodeDetailService.YearList()).subscribe(e=>{this._yearListDropdown=e,this.UserListData(),null!==this._yearDropdownSubscription&&this._yearDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearDropdownSubscription&&this._yearDropdownSubscription.unsubscribe()})}))}UserListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._userDropdownSubscription=yield(yield this._changeShiftCodeDetailService.UserList()).subscribe(e=>{this._userListDropdown=e,this.GetChangeShiftCodeDetail(),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()})}))}GetChangeShiftCodeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=0;this._activatedRoute.params.subscribe(t=>{e=t.id}),this._isComponentsShown=!0,this._isProgressBarHidden=!0,this.DisableButtons(),this._changeShiftCodeDetailSubscription=yield(yield this._changeShiftCodeDetailService.ChangeShiftCodeDetail(e)).subscribe(e=>{let t=e;console.log(t),null!=t&&(this._changeShiftModel=t,this.UICSDate=new Date(t.CSDate),this._changeShiftLineModel.CSId=t.Id),this.loadComponent(t.IsLocked),this.GetChangeShiftLineListData(),this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._isComponentsShown=!1,null!==this._changeShiftCodeDetailSubscription&&this._changeShiftCodeDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._changeShiftCodeDetailSubscription&&this._changeShiftCodeDetailSubscription.unsubscribe()})}))}GetUIDATECSDate(){this._changeShiftModel.CSDate=this.datePipe.transform(this.UICSDate,"yyyy-MM-dd"),console.log(this._changeShiftModel.CSDate)}SaveChangeShiftCodeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._saveChangeShiftCodeDetailSubscription=(yield this._changeShiftCodeDetailService.SaveChangeShiftCode(this._changeShiftModel.Id,this._changeShiftModel)).subscribe(e=>{this.loadComponent(this._changeShiftModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._saveChangeShiftCodeDetailSubscription&&this._saveChangeShiftCodeDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._changeShiftModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._saveChangeShiftCodeDetailSubscription&&this._saveChangeShiftCodeDetailSubscription.unsubscribe()}))}))}LockchangeShiftCodeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._lockchangeShiftCodeDetailSubscription=yield(yield this._changeShiftCodeDetailService.LockChangeShiftCode(this._changeShiftModel.Id,this._changeShiftModel)).subscribe(e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Lock Successfully."),null!==this._lockchangeShiftCodeDetailSubscription&&this._lockchangeShiftCodeDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._lockchangeShiftCodeDetailSubscription&&this._lockchangeShiftCodeDetailSubscription.unsubscribe()}))}))}UnlockchangeShiftCodeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._unlockchangeShiftCodeDetailSubscription=yield(yield this._changeShiftCodeDetailService.UnlockChangeShiftCode(this._changeShiftModel.Id)).subscribe(e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Unlock Successfully."),null!==this._unlockchangeShiftCodeDetailSubscription&&this._unlockchangeShiftCodeDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._unlockchangeShiftCodeDetailSubscription&&this._unlockchangeShiftCodeDetailSubscription.unsubscribe()}))}))}loadComponent(e){this._btnAddChangeShiftLineDisabled=e,this._btnSaveDisabled=e,this._btnLockisabled=e,this._btnUnlockDisabled=!e,this._isLocked=e,this._isProgressBarHidden=!1}DisableButtons(){this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isProgressBarHidden=!0}activeTab(){}GetChangeShiftLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listChangeShiftLineObservableArray=new na,this._listChangeShiftLineCollectionView=new oa(this._listChangeShiftLineObservableArray),this._listChangeShiftLineCollectionView.pageSize=15,this._listChangeShiftLineCollectionView.trackChanges=!0,yield this._listChangeShiftLineCollectionView.refresh(),yield this.flexChangeShiftLine.refresh(),this._isChangeShiftLineProgressBarHidden=!0,this._changeShiftLineListSubscription=yield(yield this._changeShiftCodeDetailService.ChangeShiftCodeLineList(this._changeShiftModel.Id)).subscribe(e=>{e.length>0&&(this._listChangeShiftLineObservableArray=e,this._listChangeShiftLineCollectionView=new oa(this._listChangeShiftLineObservableArray),this._listChangeShiftLineCollectionView.pageSize=15,this._listChangeShiftLineCollectionView.trackChanges=!0,this._listChangeShiftLineCollectionView.refresh(),this.flexChangeShiftLine.refresh()),this._isChangeShiftLineDataLoaded=!0,this._isChangeShiftLineProgressBarHidden=!1,null!==this._changeShiftLineListSubscription&&this._changeShiftLineListSubscription.unsubscribe()},e=>{this._isChangeShiftLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._changeShiftLineListSubscription&&this._changeShiftLineListSubscription.unsubscribe()})}))}AddChangeShiftLine(){this.DetailChangeShiftLine(this._changeShiftLineModel,"Add Shift Line")}EditChangeShiftLine(){this.DetailChangeShiftLine(this._listChangeShiftLineCollectionView.currentItem,"Edit Shift Line Detail")}DeleteChangeShiftLine(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listChangeShiftLineCollectionView.currentItem;this._isChangeShiftLineProgressBarHidden=!0,1==this._isChangeShiftLineDataLoaded&&(this._isChangeShiftLineDataLoaded=!1,this._deleteChangeShiftLineSubscription=yield(yield this._changeShiftCodeDetailService.DeleteChangeShiftCodeLine(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetChangeShiftLineListData(),this._isChangeShiftLineProgressBarHidden=!1,this._isChangeShiftLineDataLoaded=!0},e=>{this._isChangeShiftLineDataLoaded=!0,this._isChangeShiftLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteChangeShiftLineSubscription&&this._deleteChangeShiftLineSubscription.unsubscribe()}))}))}ComfirmDeleteChangeShiftLine(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"",objComfirmationMessage:` Delete ${this._listChangeShiftLineCollectionView.currentItem.Employee}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteChangeShiftLine()})}DetailChangeShiftLine(e,t){this._matDialog.open(Db,{width:"1300px",data:{objDialogTitle:t,objPayrollGroup:this._changeShiftModel.PayrollGroup,objChangeShiftLine:e},disableClose:!0}).afterClosed().subscribe(e=>{"Add Shift Line"===e.event&&(this._isChangeShiftLineDataLoaded=!0,this.AddSaveChangeShiftLine(e.data)),"Edit Shift Line Detail"===e.event&&(this._isChangeShiftLineDataLoaded=!0,this.UpdateChangeShiftLine(e.data.Id,e.data))})}ngOnDestroy(){}AddSaveChangeShiftLine(e){return Object(b.a)(this,void 0,void 0,(function*(){this._isChangeShiftLineProgressBarHidden=!0,1==this._isChangeShiftLineDataLoaded&&(this._isChangeShiftLineDataLoaded=!1,this._saveChangeShiftLineSubscription=yield(yield this._changeShiftCodeDetailService.AddChangeShiftCodeLine(e)).subscribe(e=>{this._isChangeShiftLineDataLoaded=!0,this._isChangeShiftLineProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully"),this.GetChangeShiftLineListData(),null!=this._saveChangeShiftLineSubscription&&this._saveChangeShiftLineSubscription.unsubscribe()},e=>{this._isChangeShiftLineDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._saveChangeShiftLineSubscription&&this._saveChangeShiftLineSubscription.unsubscribe()}))}))}UpdateChangeShiftLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){this._isChangeShiftLineProgressBarHidden=!0,1==this._isChangeShiftLineDataLoaded&&(this._isChangeShiftLineDataLoaded=!1,this._updateChangeShiftLineSubscription=yield(yield this._changeShiftCodeDetailService.UpdateTRLine(e,t)).subscribe(e=>{this._isChangeShiftLineDataLoaded=!0,this._isChangeShiftLineProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Update Successfully"),this.GetChangeShiftLineListData(),null!=this._updateChangeShiftLineSubscription&&this._updateChangeShiftLineSubscription.unsubscribe()},e=>{this._isChangeShiftLineDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._updateChangeShiftLineSubscription&&this._updateChangeShiftLineSubscription.unsubscribe()}))}))}selectedPreparedByUser(e){this._changeShiftModel.PreparedByUserId=e.source.value,this._changeShiftModel.PreparedByUser=e.source.selected.viewValue}selectedCheckedByUser(e){this._changeShiftModel.CheckedByUserId=e.source.value,this._changeShiftModel.CheckedByUser=e.source.selected.viewValue}selectedApprovedByUser(e){this._changeShiftModel.ApprovedByUserId=e.source.value,this._changeShiftModel.ApprovedByUser=e.source.selected.viewValue}btnCSVClick(){var e=this.generateCSV(),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.setAttribute("download","change-shift.csv"),i.click()}generateCSV(){var e,t="";if(e=this._listChangeShiftLineCollectionView,""!=(t="Change Shift\r\n\n")){var i='"Shift ID","CSNumber","CSDate","PayrollGroup","Year","Remarks","PreparedByUser","CheckedByUser","ApprovedByUser",';for(var n in e.items[0])i+=n+",";t+=(i=i.slice(0,-1))+"\r\n",e.moveToFirstPage();for(var o=0;o<e.pageCount;o++){for(var a=0;a<e.items.length;a++){var r='"'+this._changeShiftModel.Id+'","'+this._changeShiftModel.CSNumber+'","'+this._changeShiftModel.CSDate+'","'+this._changeShiftModel.PayrollGroup+'","'+this._changeShiftModel.Year+'","'+this._changeShiftModel.Remarks+'","'+this._changeShiftModel.PreparedByUser+'","'+this._changeShiftModel.CheckedByUser+'","'+this._changeShiftModel.ApprovedByUser+'",';for(var n in e.items[a])r+='"'+e.items[a][n]+'",';r.slice(0,r.length-1),t+=r+"\r\n"}e.moveToNextPage()}}return new Blob([t],{type:"text/csv;charset=utf-8;"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(vb),h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-change-shift-code-detail"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Sb,!0),2&e&&h.pc(i=h.ec())&&(t.flexChangeShiftLine=i.first)},decls:146,vars:55,consts:[["src","../../../../assets/menu-icons/change shift code.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","color","accent","id","btnAddEmployee",2,"margin","5px",3,"disabled","click"],["mat-flat-button","","routerLink","/software/change-shift-code-list","color","warn",2,"margin-right","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["fxFlex","33",2,"padding","5px","margin-top","3px"],[1,"text_box"],["fxFlex","34",2,"padding","5px","margin-top","3px"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","disabled","ngModelChange","dateInput"],["matSuffix","",3,"for","disabled"],["color","primary"],["datePickerCSDate",""],["disabled","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","selectionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","50s",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","AddrRemarksess","rows","5",2,"min-height","102px",3,"ngModel","readonly","ngModelChange"],[1,"detail-tab",2,"max-height","100%"],["tabGroup",""],["label","Shift Code Line"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexChangeShiftLine",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],[2,"margin-top","7px"],[3,"click"],[2,"margin-right","-15px"],[2,"width","100px"],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["fxFlex","20",2,"padding","2px"],["fxFlex","15",2,"padding","5px"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[2,"width","100%",3,"color","mode"],[3,"value"],[3,"disabled","value"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditDTRLine",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Change Shift Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SaveChangeShiftCodeDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockchangeShiftCodeDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockchangeShiftCodeDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.dc("click",(function(){return t.btnCSVClick()})),h.Vb(18,"mat-icon"),h.yc(19,"get_app"),h.Ub(),h.yc(20," CSV "),h.Ub(),h.Vb(21,"button",4),h.Vb(22,"mat-icon"),h.yc(23,"close"),h.Ub(),h.yc(24," Close "),h.Ub(),h.Ub(),h.xc(25,xb,1,2,"mat-progress-bar",5),h.Vb(26,"div",6),h.Vb(27,"div",7),h.Vb(28,"div",8),h.Vb(29,"div",9),h.Vb(30,"div",8),h.Vb(31,"div",10),h.Vb(32,"h2",11),h.Vb(33,"b"),h.yc(34),h.Ub(),h.Ub(),h.Ub(),h.Vb(35,"div",10),h.Vb(36,"h2",11),h.Vb(37,"b"),h.yc(38),h.Ub(),h.Ub(),h.Ub(),h.Vb(39,"div",12),h.Vb(40,"h2",11),h.Vb(41,"b"),h.yc(42),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(43,"div",8),h.Vb(44,"div",13),h.Vb(45,"mat-form-field",14),h.Vb(46,"mat-label"),h.yc(47,"Date"),h.Ub(),h.Vb(48,"input",15),h.dc("ngModelChange",(function(e){return t.UICSDate=e}))("dateInput",(function(){return t.GetUIDATECSDate()})),h.Ub(),h.Rb(49,"mat-datepicker-toggle",16),h.Rb(50,"mat-datepicker",17,18),h.Ub(),h.Ub(),h.Vb(52,"div",13),h.Vb(53,"mat-form-field",14),h.Vb(54,"mat-label"),h.yc(55,"Prepared By"),h.Ub(),h.Vb(56,"mat-select",19),h.dc("ngModelChange",(function(e){return t._changeShiftModel.PreparedByUserId=e})),h.xc(57,kb,2,2,"mat-option",20),h.Ub(),h.Ub(),h.Ub(),h.Vb(58,"div",13),h.Vb(59,"mat-form-field",14),h.Vb(60,"mat-label"),h.yc(61,"Checked By"),h.Ub(),h.Vb(62,"mat-select",21),h.dc("ngModelChange",(function(e){return t._changeShiftModel.CheckedByUserId=e}))("selectionChange",(function(e){return t.selectedCheckedByUser(e)})),h.xc(63,Lb,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Vb(64,"div",13),h.Vb(65,"mat-form-field",14),h.Vb(66,"mat-label"),h.yc(67,"Approved By"),h.Ub(),h.Vb(68,"mat-select",21),h.dc("ngModelChange",(function(e){return t._changeShiftModel.ApprovedByUserId=e}))("selectionChange",(function(e){return t.selectedApprovedByUser(e)})),h.xc(69,Vb,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(70,"div",23),h.Vb(71,"div",8),h.Vb(72,"div",24),h.Vb(73,"mat-form-field",14),h.Vb(74,"mat-label"),h.yc(75,"Remarks"),h.Ub(),h.Vb(76,"textarea",25),h.dc("ngModelChange",(function(e){return t._changeShiftModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(77,"mat-tab-group",26,27),h.Vb(79,"mat-tab",28),h.xc(80,Ob,1,2,"mat-progress-bar",29),h.Vb(81,"wj-flex-grid",30,31),h.Rb(83,"wj-flex-grid-filter"),h.xc(84,Eb,2,3,"wj-flex-grid-column",32),h.xc(85,Pb,2,3,"wj-flex-grid-column",32),h.Rb(86,"wj-flex-grid-column",33),h.Rb(87,"wj-flex-grid-column",33),h.Rb(88,"wj-flex-grid-column",33),h.Rb(89,"wj-flex-grid-column",33),h.Rb(90,"wj-flex-grid-column",33),h.Ub(),h.Vb(91,"mat-button-toggle-group",34),h.Vb(92,"mat-button-toggle",35),h.dc("click",(function(){return t._listChangeShiftLineCollectionView.moveToFirstPage()})),h.Vb(93,"mat-icon",36),h.yc(94,"navigate_before"),h.Ub(),h.Vb(95,"mat-icon"),h.yc(96,"navigate_before"),h.Ub(),h.Ub(),h.Vb(97,"mat-button-toggle",35),h.dc("click",(function(){return t._listChangeShiftLineCollectionView.moveToPreviousPage()})),h.Vb(98,"mat-icon"),h.yc(99,"navigate_before"),h.Ub(),h.Ub(),h.Vb(100,"mat-button-toggle",37),h.yc(101),h.Ub(),h.Vb(102,"mat-button-toggle",35),h.dc("click",(function(){return t._listChangeShiftLineCollectionView.moveToNextPage()})),h.Vb(103,"mat-icon"),h.yc(104,"navigate_next"),h.Ub(),h.Ub(),h.Vb(105,"mat-button-toggle",35),h.dc("click",(function(){return t._listChangeShiftLineCollectionView.moveToLastPage()})),h.Vb(106,"mat-icon",36),h.yc(107,"navigate_next"),h.Ub(),h.Vb(108,"mat-icon"),h.yc(109,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(110,"mat-tab",38),h.xc(111,Rb,5,1,"ng-template",39),h.Ub(),h.Ub(),h.Vb(112,"div",40),h.Vb(113,"div",41),h.Rb(114,"div",8),h.Ub(),h.Rb(115,"div",42),h.Ub(),h.Rb(116,"mat-divider",43),h.Vb(117,"div",44),h.Vb(118,"div",9),h.Vb(119,"div",8),h.Vb(120,"div",45),h.Vb(121,"mat-label",46),h.yc(122,"Created By:"),h.Ub(),h.Ub(),h.Vb(123,"div",47),h.Vb(124,"mat-label",46),h.yc(125),h.Ub(),h.Ub(),h.Vb(126,"div",48),h.Vb(127,"mat-label",46),h.yc(128,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(129,"div",49),h.Vb(130,"mat-label",46),h.yc(131),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(132,"div",9),h.Vb(133,"div",8),h.Vb(134,"div",45),h.Vb(135,"mat-label",46),h.yc(136,"Updated By:"),h.Ub(),h.Ub(),h.Vb(137,"div",47),h.Vb(138,"mat-label",46),h.yc(139),h.Ub(),h.Ub(),h.Vb(140,"div",48),h.Vb(141,"mat-label",46),h.yc(142,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(143,"div",49),h.Vb(144,"mat-label",46),h.yc(145),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e){const e=h.qc(51);h.Eb(5),h.kc("disabled",t._btnSaveDisabled),h.Eb(4),h.kc("disabled",t._btnLockisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t._isProgressBarHidden),h.Eb(2),h.kc("hidden",t._isComponentsShown),h.Eb(7),h.zc(t._changeShiftModel.CSNumber),h.Eb(4),h.zc(t._changeShiftModel.PayrollGroup),h.Eb(4),h.zc(t._changeShiftModel.Year),h.Eb(6),h.kc("matDatepicker",e)("ngModel",t.UICSDate)("disabled",t._isLocked),h.Eb(1),h.kc("for",e)("disabled",t._isLocked),h.Eb(7),h.kc("ngModel",t._changeShiftModel.PreparedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._changeShiftModel.CheckedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._changeShiftModel.ApprovedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(7),h.kc("ngModel",t._changeShiftModel.Remarks)("readonly",t._isLocked),h.Eb(4),h.kc("ngIf",t._isChangeShiftLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listChangeShiftLineCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Date")("binding","ShiftDate")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Shift")("binding","Shift")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Branch")("binding","Branch")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t._listChangeShiftLineCollectionView.pageIndex+1," / ",t._listChangeShiftLineCollectionView.pageCount,""),h.Eb(24),h.zc(t._changeShiftModel.CreatedByUser),h.Eb(6),h.zc(t._changeShiftModel.CreatedDateTime),h.Eb(8),h.zc(t._changeShiftModel.UpdatedByUser),h.Eb(6),h.zc(t._changeShiftModel.UpdatedDateTime)}},directives:[_.a,v.a,w.a,d.c,l.l,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,rc,l.k,fh,ah,cl,Vl,hl,Al,Hl,eh,ft,fr,G.l,ul],styles:[".text_box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}"]}),e})(),Tb=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}LeaveApplicationList(e){return Object(b.a)(this,void 0,void 0,(function*(){return console.log(e),this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/list/"+e,this.appSettings.defaultOptions)}))}AddLeaveApplication(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/leave/application/create/"+e,"",this.appSettings.defaultOptions)}))}DeleteLeaveApplication(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/leave/application/delete/"+e,this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/payroll/group/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ab=["flexLeaveApplication"];function Bb(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function jb(e,t){1&e&&h.Rb(0,"mat-progress-bar",24),2&e&&h.kc("color","primary")("mode","indeterminate")}function Hb(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",25),h.dc("click",(function(){return h.rc(e),h.hc().EditLeaveApplication()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Fb(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",26),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteLeaveApplication()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Nb(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let zb=(()=>{class e{constructor(e,t,i,n,o){this.leaveApplicationListService=e,this.router=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this._payrollGroupListDropdown=[],this._filterPayrollGroup="",this._listLeaveApplicationObservableArray=new na,this._listLeaveApplicationCollectionView=new oa(this._listLeaveApplicationObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._buttonDisabled=!1,this._createCboShowNumberOfRows=new na}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetPayrollGroupDropdownListData(),yield this.CreateCboShowNumberOfRows()}))}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this._listLeaveApplicationCollectionView.pageSize=this._listPageIndex,this._listLeaveApplicationCollectionView.refresh(),this._listLeaveApplicationCollectionView.refresh()}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=yield(yield this.leaveApplicationListService.PayrollGroupList()).subscribe(e=>{var t=e;if(t.length>0)for(var i=0;i<t.length;i++)this._payrollGroupListDropdown.push(t[i]);this._filterPayrollGroup=this._payrollGroupListDropdown[0].Value,this.GetLeaveApplicationListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status)})}))}PayrollGroupSelectionChange(){this.GetLeaveApplicationListData()}GetLeaveApplicationListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listLeaveApplicationObservableArray=new na,this._listLeaveApplicationCollectionView=new oa(this._listLeaveApplicationObservableArray),this._listLeaveApplicationCollectionView.pageSize=15,this._listLeaveApplicationCollectionView.trackChanges=!0,yield this._listLeaveApplicationCollectionView.refresh(),yield this.flexLeaveApplication.refresh(),this._isProgressBarHidden=!0,this._leaveApplicationListSubscription=yield(yield this.leaveApplicationListService.LeaveApplicationList(this._filterPayrollGroup)).subscribe(e=>{var t=e;console.log("Response:",t),t.length>0&&(this._listLeaveApplicationCollectionView=t,this._listLeaveApplicationCollectionView=new oa(this._listLeaveApplicationCollectionView),this._listLeaveApplicationCollectionView.pageSize=15,this._listLeaveApplicationCollectionView.trackChanges=!0,this._listLeaveApplicationCollectionView.refresh(),this.flexLeaveApplication.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._leaveApplicationListSubscription&&this._leaveApplicationListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._leaveApplicationListSubscription&&this._leaveApplicationListSubscription.unsubscribe())})}))}AddLeaveApplication(){return Object(b.a)(this,void 0,void 0,(function*(){this._buttonDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addLeaveApplicationSubscription=yield(yield this.leaveApplicationListService.AddLeaveApplication(this._filterPayrollGroup)).subscribe(e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this.GetLeaveApplicationListData(),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully"),this.router.navigate(["/software/leave-application-detail/"+e])},e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addLeaveApplicationSubscription&&this._addLeaveApplicationSubscription.unsubscribe()}))}))}EditLeaveApplication(){this.router.navigate(["/software/leave-application-detail/"+this._listLeaveApplicationCollectionView.currentItem.Id])}DeleteLeaveApplication(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this._isDataLoaded){this._isDataLoaded=!1;let e=this._listLeaveApplicationCollectionView.currentItem;this._isProgressBarHidden=!0,this._deleteLeaveApplicationSubscription=yield(yield this.leaveApplicationListService.DeleteLeaveApplication(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetLeaveApplicationListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteLeaveApplicationSubscription&&this._deleteLeaveApplicationSubscription.unsubscribe()})}}))}ComfirmDeleteLeaveApplication(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Change Shift",objComfirmationMessage:`Delete ${this._listLeaveApplicationCollectionView.currentItem.LANumber}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteLeaveApplication()})}ngOnDestroy(){null!=this._leaveApplicationListSubscription&&this._leaveApplicationListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Tb),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-leave-application-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Ab,!0),2&e&&h.pc(i=h.ec())&&(t.flexLeaveApplication=i.first)},decls:65,vars:47,consts:[["src","../../../../assets/menu-icons/leave application.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexLeaveApplication",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"value"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditEmployee",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Leave Application List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddLeaveApplication()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.Vb(16,"mat-form-field",7),h.Vb(17,"mat-label"),h.yc(18,"Payroll Group"),h.Ub(),h.Vb(19,"mat-select",8),h.dc("ngModelChange",(function(e){return t._filterPayrollGroup=e}))("selectionChange",(function(){return t.PayrollGroupSelectionChange()})),h.xc(20,Bb,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",5),h.Vb(22,"div",10),h.xc(23,jb,1,2,"mat-progress-bar",11),h.Vb(24,"wj-flex-grid",12,13),h.Rb(26,"wj-flex-grid-filter"),h.Vb(27,"wj-flex-grid-column",14),h.xc(28,Hb,4,0,"ng-template",15),h.Ub(),h.Vb(29,"wj-flex-grid-column",14),h.xc(30,Fb,4,0,"ng-template",15),h.Ub(),h.Rb(31,"wj-flex-grid-column",16),h.Rb(32,"wj-flex-grid-column",16),h.Rb(33,"wj-flex-grid-column",16),h.Rb(34,"wj-flex-grid-column",16),h.Rb(35,"wj-flex-grid-column",16),h.Rb(36,"wj-flex-grid-column",16),h.Ub(),h.Ub(),h.Ub(),h.Vb(37,"div",5),h.Vb(38,"div",17),h.Vb(39,"div",5),h.Vb(40,"mat-button-toggle-group",18),h.Vb(41,"mat-button-toggle",19),h.dc("click",(function(){return t._listLeaveApplicationCollectionView.moveToFirstPage()})),h.Vb(42,"mat-icon",20),h.yc(43,"navigate_before"),h.Ub(),h.Vb(44,"mat-icon"),h.yc(45,"navigate_before"),h.Ub(),h.Ub(),h.Vb(46,"mat-button-toggle",19),h.dc("click",(function(){return t._listLeaveApplicationCollectionView.moveToPreviousPage()})),h.Vb(47,"mat-icon"),h.yc(48,"navigate_before"),h.Ub(),h.Ub(),h.Vb(49,"mat-button-toggle",21),h.yc(50),h.Ub(),h.Vb(51,"mat-button-toggle",19),h.dc("click",(function(){return t._listLeaveApplicationCollectionView.moveToNextPage()})),h.Vb(52,"mat-icon"),h.yc(53,"navigate_next"),h.Ub(),h.Ub(),h.Vb(54,"mat-button-toggle",19),h.dc("click",(function(){return t._listLeaveApplicationCollectionView.moveToLastPage()})),h.Vb(55,"mat-icon",20),h.yc(56,"navigate_next"),h.Ub(),h.Vb(57,"mat-icon"),h.yc(58,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(59,"div",22),h.Vb(60,"mat-form-field",7),h.Vb(61,"mat-label"),h.yc(62,"Row"),h.Ub(),h.Vb(63,"mat-select",8),h.dc("ngModelChange",(function(e){return t._listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(64,Nb,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._buttonDisabled),h.Eb(14),h.kc("ngModel",t._filterPayrollGroup),h.Eb(1),h.kc("ngForOf",t._payrollGroupListDropdown),h.Eb(3),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listLeaveApplicationCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","LA No.")("binding","LANumber")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","LADate")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("isReadOnly",!0)("width",40),h.Eb(14),h.Bc(" ",t._listLeaveApplicationCollectionView.pageIndex+1," / ",t._listLeaveApplicationCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t._listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,l.l,cl,Vl,hl,ul,Al,Hl,G.l,fr],styles:[".text_box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}"]}),e})(),Gb=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/payroll/group/list",this.appSettings.defaultOptions)}))}YearList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/year/list",this.appSettings.defaultOptions)}))}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/user/list",this.appSettings.defaultOptions)}))}LeaveApplicationDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/detail/"+e,this.appSettings.defaultOptions)}))}SaveLeaveApplication(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/leave/application/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockLeaveApplication(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/leave/application/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockLeaveApplication(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/leave/application/unlock/"+e,"",this.appSettings.defaultOptions)}))}LeaveApplicationLineList(e){return Object(b.a)(this,void 0,void 0,(function*(){return console.log(e),yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/line/list/"+e,this.appSettings.defaultOptions)}))}AddLeaveApplicationLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/leave/application/line/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}UpdateTRLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/leave/application/line/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DeleteLeaveApplicationLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/leave/application/line/delete/"+e,this.appSettings.defaultOptions)}))}EmployeeList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/line/employee/list",this.appSettings.defaultOptions)}))}ShiftsList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/line/shift/list",this.appSettings.defaultOptions)}))}BranchList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/leave/application/line/branch/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Yb=(()=>{class e{constructor(e,t,i,n,o,a,r){this.dialogRef=e,this._leaveApplicationDetailService=t,this.caseData=i,this._snackBar=n,this._snackBarTemplate=o,this._matDialog=a,this.datePipe=r,this._leaveApplicationLine={Id:0,LAId:0,EmployeeId:0,Employee:"",LADate:this.datePipe.transform(new Date,"yyyy-MM-dd"),IsHalfDay:!1,IsWithPay:!1,Remarks:""},this.UILADate=new Date,this.title="",this.isComponentHidden=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.loadLeaveApplicationLineDetail()}loadLeaveApplicationLineDetail(){this._leaveApplicationLine=this.caseData.objLeaveApplicationLine,this.UILADate=new Date(this.caseData.objLeaveApplicationLine.LADate),console.log(this._leaveApplicationLine),setTimeout(()=>{this.isComponentHidden=!1},100)}Close(){this.dialogRef.close({event:"Close"})}GetUIDATELADate(){this._leaveApplicationLine.LADate=this.datePipe.transform(this.UILADate,"yyyy-MM-dd"),console.log(this._leaveApplicationLine.LADate)}Save(){return Object(b.a)(this,void 0,void 0,(function*(){0!=this._leaveApplicationLine.EmployeeId?yield this.dialogRef.close({event:this.title,data:this._leaveApplicationLine}):this._snackBarTemplate.snackBarError(this._snackBar,"Choose employee!")}))}EmployeeListDialog(){this._matDialog.open(_b,{width:"900px",height:"500",data:{objDialogTitle:"Employee List",objPayrollGroup:this.caseData.objPayrollGroup},disableClose:!0}).afterClosed().subscribe(e=>{console.log(e),"Close"!=e.event&&(this._leaveApplicationLine.EmployeeId=e.employee.Id,this._leaveApplicationLine.Employee=e.employee.Value)})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Gb),h.Qb(Ka),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-leave-application-line-detail"]],decls:48,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body",3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["type","text","matInput","","readonly","",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],["fxFlex","30",2,"padding","5px"],["matInput","",3,"matDatepicker","ngModel","ngModelChange","dateInput"],["matSuffix","",3,"for"],["color","primary"],["datePickerLADate",""],["fxFlex","20",2,"padding","23px","text-align","start","display","inline"],[2,"width","100%","border","gray 1px !important"],["color","primary",3,"ngModel","ngModelChange"],[2,"color","gray"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Remarks","rows","5",2,"min-height","102px",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){if(1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Rb(5,"br"),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"mat-label"),h.yc(10,"Employee"),h.Ub(),h.Vb(11,"input",6),h.dc("ngModelChange",(function(e){return t._leaveApplicationLine.Employee=e})),h.Ub(),h.Vb(12,"mat-icon",7),h.dc("click",(function(){return t.EmployeeListDialog()})),h.yc(13,"keyboard_arrow_down"),h.Ub(),h.Ub(),h.Ub(),h.Vb(14,"div",8),h.Vb(15,"mat-form-field",5),h.Vb(16,"mat-label"),h.yc(17,"Date"),h.Ub(),h.Vb(18,"input",9),h.dc("ngModelChange",(function(e){return t.UILADate=e}))("dateInput",(function(){return t.GetUIDATELADate()})),h.Ub(),h.Rb(19,"mat-datepicker-toggle",10),h.Rb(20,"mat-datepicker",11,12),h.Ub(),h.Ub(),h.Vb(22,"div",13),h.Vb(23,"div",14),h.Vb(24,"mat-checkbox",15),h.dc("ngModelChange",(function(e){return t._leaveApplicationLine.IsHalfDay=e})),h.Vb(25,"span",16),h.yc(26," Half Day"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(27,"div",13),h.Vb(28,"div",14),h.Vb(29,"mat-checkbox",15),h.dc("ngModelChange",(function(e){return t._leaveApplicationLine.IsWithPay=e})),h.Vb(30,"span",16),h.yc(31," With Pay"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(32,"div",3),h.Vb(33,"div",17),h.Vb(34,"mat-form-field",5),h.Vb(35,"mat-label"),h.yc(36,"Remarks"),h.Ub(),h.Vb(37,"textarea",18),h.dc("ngModelChange",(function(e){return t._leaveApplicationLine.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(38,"mat-divider"),h.Vb(39,"div",19),h.Vb(40,"button",20),h.dc("click",(function(){return t.Save()})),h.Vb(41,"mat-icon"),h.yc(42,"save"),h.Ub(),h.yc(43," Save "),h.Ub(),h.Vb(44,"button",21),h.dc("click",(function(){return t.Close()})),h.Vb(45,"mat-icon"),h.yc(46,"close"),h.Ub(),h.yc(47," Cancel "),h.Ub(),h.Ub()),2&e){const e=h.qc(21);h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("hidden",t.isComponentHidden),h.Eb(7),h.kc("ngModel",t._leaveApplicationLine.Employee),h.Eb(7),h.kc("matDatepicker",e)("ngModel",t.UILADate),h.Eb(1),h.kc("for",e),h.Eb(5),h.kc("ngModel",t._leaveApplicationLine.IsHalfDay),h.Eb(5),h.kc("ngModel",t._leaveApplicationLine.IsWithPay),h.Eb(8),h.kc("ngModel",t._leaveApplicationLine.Remarks)}},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,w.a,_r.h,xd,Ld,_d,Ih,or,v.a,tr],styles:[""]}),e})();const Qb=["flexLeaveApplicationLine"];function Wb(e,t){if(1&e&&(h.Vb(0,"mat-option",49),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function qb(e,t){if(1&e&&(h.Vb(0,"mat-option",50),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Kb(e,t){if(1&e&&(h.Vb(0,"mat-option",50),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function $b(e,t){1&e&&h.Rb(0,"mat-progress-bar",51),2&e&&h.kc("color","primary")("mode","indeterminate")}function Jb(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",54),h.dc("click",(function(){return h.rc(e),h.hc(2).EditLeaveApplicationLine()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Zb(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",52),h.xc(1,Jb,4,0,"ng-template",53),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function Xb(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",55),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeleteLeaveApplicationLine()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function em(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",52),h.xc(1,Xb,4,0,"ng-template",53),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function tm(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",56),h.dc("click",(function(){return h.rc(e),h.hc().AddLeaveApplicationLine()})),h.Vb(1,"mat-icon"),h.yc(2,"add"),h.Ub(),h.yc(3," ADD "),h.Ub(),h.Rb(4,"br")}if(2&e){const e=h.hc();h.kc("disabled",e._btnAddLeaveApplicationLineDisabled)}}let im=(()=>{class e{constructor(e,t,i,n,o,a){this._leaveApplicationDetailService=e,this._activatedRoute=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this.datePipe=a,this._isProgressBarHidden=!1,this._isComponentsHidden=!0,this._btnSaveDisabled=!0,this._btnLockDisabled=!0,this._btnUnlockDisabled=!0,this._isDataLoaded=!1,this._isLocked=!1,this._payrollGroupListDropdown=[],this._yearListDropdown=[],this._userListDropdown=[],this._leaveApplicationModel={Id:0,LANumber:"",LADate:"",PayrollGroup:"",YearId:0,Year:"",Remarks:"",PreparedByUserId:0,PreparedByUser:"",CheckedByUserId:0,CheckedByUser:"",ApprovedByUserId:0,ApprovedByUser:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:new Date,UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:new Date,IsLocked:!1},this.UILADate=new Date,this._leaveApplicationLineModel={Id:0,LAId:0,EmployeeId:0,Employee:"",LADate:this.datePipe.transform(new Date,"yyyy-MM-dd"),IsHalfDay:!1,IsWithPay:!1,Remarks:""},this._listLeaveApplicationLineObservableArray=new na,this._listLeaveApplicationLineCollectionView=new oa(this._listLeaveApplicationLineObservableArray),this._listPageIndex=15,this._isLeaveApplicationLineProgressBarHidden=!1,this._isLeaveApplicationLineDataLoaded=!1,this._btnAddLeaveApplicationLineDisabled=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.PayrollGroupListData()}))}PayrollGroupListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=(yield this._leaveApplicationDetailService.PayrollGroupList()).subscribe(e=>{this._payrollGroupListDropdown=e,this.YearCodeListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()})}))}YearCodeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearDropdownSubscription=(yield this._leaveApplicationDetailService.YearList()).subscribe(e=>{this._yearListDropdown=e,this.UserListData(),null!==this._yearDropdownSubscription&&this._yearDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearDropdownSubscription&&this._yearDropdownSubscription.unsubscribe()})}))}UserListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._userDropdownSubscription=yield(yield this._leaveApplicationDetailService.UserList()).subscribe(e=>{this._userListDropdown=e,this.GetLeaveApplicationDetail(),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()})}))}GetLeaveApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=0;this._activatedRoute.params.subscribe(t=>{e=t.id}),this._isComponentsHidden=!0,this.DisableButtons(),this._leaveApplicationDetailSubscription=yield(yield this._leaveApplicationDetailService.LeaveApplicationDetail(e)).subscribe(e=>{let t=e;console.log(t),null!=t&&(this._leaveApplicationModel=t,this.UILADate=new Date(t.LADate),this._leaveApplicationLineModel.LAId=t.Id),this.loadComponent(t.IsLocked),this.GetLeaveApplicationLineListData(),this._isDataLoaded=!0,this._isComponentsHidden=!1,null!==this._leaveApplicationDetailSubscription&&this._leaveApplicationDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._leaveApplicationDetailSubscription&&this._leaveApplicationDetailSubscription.unsubscribe()})}))}GetUIDATELADate(){this._leaveApplicationModel.LADate=this.datePipe.transform(this.UILADate,"yyyy-MM-dd"),console.log(this._leaveApplicationModel.LADate)}SaveLeaveApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._saveLeaveApplicationDetailSubscription=(yield this._leaveApplicationDetailService.SaveLeaveApplication(this._leaveApplicationModel.Id,this._leaveApplicationModel)).subscribe(e=>{this.loadComponent(this._leaveApplicationModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._saveLeaveApplicationDetailSubscription&&this._saveLeaveApplicationDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._leaveApplicationModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._saveLeaveApplicationDetailSubscription&&this._saveLeaveApplicationDetailSubscription.unsubscribe()}))}))}LockLeaveApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._lockcLeaveApplicationDetailSubscription=yield(yield this._leaveApplicationDetailService.LockLeaveApplication(this._leaveApplicationModel.Id,this._leaveApplicationModel)).subscribe(e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Lock Successfully."),null!==this._lockcLeaveApplicationDetailSubscription&&this._lockcLeaveApplicationDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._lockcLeaveApplicationDetailSubscription&&this._lockcLeaveApplicationDetailSubscription.unsubscribe()}))}))}UnlockLeaveApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._unlockLeaveApplicationDetailSubscription=yield(yield this._leaveApplicationDetailService.UnlockLeaveApplication(this._leaveApplicationModel.Id)).subscribe(e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Unlock Successfully."),null!==this._unlockLeaveApplicationDetailSubscription&&this._unlockLeaveApplicationDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._unlockLeaveApplicationDetailSubscription&&this._unlockLeaveApplicationDetailSubscription.unsubscribe()}))}))}loadComponent(e){this._btnAddLeaveApplicationLineDisabled=e,this._btnSaveDisabled=e,this._btnLockDisabled=e,this._btnUnlockDisabled=!e,this._isLocked=e,this._isProgressBarHidden=!1}DisableButtons(){this._btnSaveDisabled=!0,this._btnLockDisabled=!0,this._btnUnlockDisabled=!0,this._isProgressBarHidden=!0}activeTab(){}GetLeaveApplicationLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listLeaveApplicationLineObservableArray=new na,this._listLeaveApplicationLineCollectionView=new oa(this._listLeaveApplicationLineObservableArray),this._listLeaveApplicationLineCollectionView.pageSize=15,this._listLeaveApplicationLineCollectionView.trackChanges=!0,yield this._listLeaveApplicationLineCollectionView.refresh(),yield this.flexLeaveApplicationLine.refresh(),this._isLeaveApplicationLineProgressBarHidden=!0,this._leaveApplicationLineSubscription=yield(yield this._leaveApplicationDetailService.LeaveApplicationLineList(this._leaveApplicationModel.Id)).subscribe(e=>{e.length>0&&(this._listLeaveApplicationLineObservableArray=e,this._listLeaveApplicationLineCollectionView=new oa(this._listLeaveApplicationLineObservableArray),this._listLeaveApplicationLineCollectionView.pageSize=15,this._listLeaveApplicationLineCollectionView.trackChanges=!0,this._listLeaveApplicationLineCollectionView.refresh(),this.flexLeaveApplicationLine.refresh()),this._isLeaveApplicationLineDataLoaded=!0,this._isLeaveApplicationLineProgressBarHidden=!1,null!==this._leaveApplicationLineSubscription&&this._leaveApplicationLineSubscription.unsubscribe()},e=>{this._isLeaveApplicationLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._leaveApplicationLineSubscription&&this._leaveApplicationLineSubscription.unsubscribe()})}))}AddLeaveApplicationLine(){this.DetailLeaveApplicationLine(this._leaveApplicationLineModel,"Add Leave Application Line")}EditLeaveApplicationLine(){this.DetailLeaveApplicationLine(this._listLeaveApplicationLineCollectionView.currentItem,"Edit Leave Application Line Detail")}DeleteLeaveApplicationLine(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listLeaveApplicationLineCollectionView.currentItem;this._isLeaveApplicationLineProgressBarHidden=!0,1==this._isLeaveApplicationLineDataLoaded&&(this._isLeaveApplicationLineDataLoaded=!1,this._deleteLeaveApplicationLineSubscription=yield(yield this._leaveApplicationDetailService.DeleteLeaveApplicationLine(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetLeaveApplicationLineListData(),this._isLeaveApplicationLineProgressBarHidden=!1,this._isLeaveApplicationLineDataLoaded=!0},e=>{this._isLeaveApplicationLineDataLoaded=!0,this._isLeaveApplicationLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteLeaveApplicationLineSubscription&&this._deleteLeaveApplicationLineSubscription.unsubscribe()}))}))}ComfirmDeleteLeaveApplicationLine(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete LeaveApplicationLine",objComfirmationMessage:` Delete ${this._listLeaveApplicationLineCollectionView.currentItem.Employee}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteLeaveApplicationLine()})}DetailLeaveApplicationLine(e,t){this._matDialog.open(Yb,{width:"1300px",data:{objDialogTitle:t,objPayrollGroup:this._leaveApplicationModel.PayrollGroup,objLeaveApplicationLine:e},disableClose:!0}).afterClosed().subscribe(e=>{"Add Leave Application Line"===e.event&&this.AddSaveLeaveApplicationLine(e.data),"Edit Leave Application Line Detail"===e.event&&this.UpdateLeaveApplicationLine(e.data.Id,e.data)})}AddSaveLeaveApplicationLine(e){return Object(b.a)(this,void 0,void 0,(function*(){1==this._isLeaveApplicationLineDataLoaded&&(this._isLeaveApplicationLineDataLoaded=!1,this._saveLeaveApplicationLineSubscription=yield(yield this._leaveApplicationDetailService.AddLeaveApplicationLine(e)).subscribe(e=>{this._isLeaveApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully"),this.GetLeaveApplicationLineListData(),null!=this._saveLeaveApplicationLineSubscription&&this._saveLeaveApplicationLineSubscription.unsubscribe()},e=>{this._isLeaveApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._saveLeaveApplicationLineSubscription&&this._saveLeaveApplicationLineSubscription.unsubscribe()}))}))}UpdateLeaveApplicationLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){1==this._isLeaveApplicationLineDataLoaded&&(this._isLeaveApplicationLineDataLoaded=!1,this._updateLeaveApplicationLineSubscription=yield(yield this._leaveApplicationDetailService.UpdateTRLine(e,t)).subscribe(e=>{this._isLeaveApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Update Successfully"),this.GetLeaveApplicationLineListData(),null!=this._updateLeaveApplicationLineSubscription&&this._updateLeaveApplicationLineSubscription.unsubscribe()},e=>{this._isLeaveApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._updateLeaveApplicationLineSubscription&&this._updateLeaveApplicationLineSubscription.unsubscribe()}))}))}ngOnDestroy(){}selectedCheckedByUser(e){this._leaveApplicationModel.CheckedByUserId=e.source.value,this._leaveApplicationModel.CheckedByUser=e.source.selected.viewValue}selectedApprovedByUser(e){this._leaveApplicationModel.ApprovedByUserId=e.source.value,this._leaveApplicationModel.ApprovedByUser=e.source.selected.viewValue}btnCSVClick(){var e=this.generateCSV(),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.setAttribute("download","leave-application.csv"),i.click()}generateCSV(){var e,t="";if(e=this._listLeaveApplicationLineCollectionView,""!=(t="Leave Applicaiton\r\n\n")){var i='"Leave Applicaiont ID","LANumber","LADate","PayrollGroup","Year","Remarks","PreparedByUser","CheckedByUser","ApprovedByUser",';for(var n in e.items[0])i+=n+",";t+=(i=i.slice(0,-1))+"\r\n",e.moveToFirstPage();for(var o=0;o<e.pageCount;o++){for(var a=0;a<e.items.length;a++){var r='"'+this._leaveApplicationModel.Id+'","'+this._leaveApplicationModel.LANumber+'","'+this._leaveApplicationModel.LADate+'","'+this._leaveApplicationModel.PayrollGroup+'","'+this._leaveApplicationModel.Year+'","'+this._leaveApplicationModel.Remarks+'","'+this._leaveApplicationModel.PreparedByUser+'","'+this._leaveApplicationModel.CheckedByUser+'","'+this._leaveApplicationModel.ApprovedByUser+'",';for(var n in e.items[a])r+='"'+e.items[a][n]+'",';r.slice(0,r.length-1),t+=r+"\r\n"}e.moveToNextPage()}}return new Blob([t],{type:"text/csv;charset=utf-8;"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Gb),h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-leave-application-detail"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Qb,!0),2&e&&h.pc(i=h.ec())&&(t.flexLeaveApplicationLine=i.first)},decls:145,vars:54,consts:[["src","../../../../assets/menu-icons/leave application.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","color","accent","id","btnAddEmployee",2,"margin","5px",3,"disabled","click"],["mat-flat-button","","routerLink","/software/leave-application-list","color","warn",2,"margin-right","5px"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["fxFlex","33",2,"padding","5px","margin-top","3px"],[1,"text_box"],["fxFlex","34",2,"padding","5px","margin-top","3px"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","readonly","ngModelChange","dateInput"],["matSuffix","",3,"for","disabled"],["color","primary"],["datePickerLADate",""],["disabled","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","50s",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","AddrRemarksess","rows","5",2,"min-height","102px",3,"ngModel","readonly","ngModelChange"],[1,"detail-tab",2,"max-height","100%"],["tabGroup",""],["label","Leave Application Line"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexLeaveApplicationLine",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[3,"value"],[3,"disabled","value"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditDTRLine",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Leave Application Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SaveLeaveApplicationDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockLeaveApplicationDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockLeaveApplicationDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.dc("click",(function(){return t.btnCSVClick()})),h.Vb(18,"mat-icon"),h.yc(19,"get_app"),h.Ub(),h.yc(20," CSV "),h.Ub(),h.Vb(21,"button",4),h.Vb(22,"mat-icon"),h.yc(23,"close"),h.Ub(),h.yc(24," Close "),h.Ub(),h.Ub(),h.Vb(25,"div",5),h.Vb(26,"div",6),h.Vb(27,"div",7),h.Vb(28,"div",8),h.Vb(29,"div",7),h.Vb(30,"div",9),h.Vb(31,"h2",10),h.Vb(32,"b"),h.yc(33),h.Ub(),h.Ub(),h.Ub(),h.Vb(34,"div",9),h.Vb(35,"h2",10),h.Vb(36,"b"),h.yc(37),h.Ub(),h.Ub(),h.Ub(),h.Vb(38,"div",11),h.Vb(39,"h2",10),h.Vb(40,"b"),h.yc(41),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(42,"div",7),h.Vb(43,"div",12),h.Vb(44,"mat-form-field",13),h.Vb(45,"mat-label"),h.yc(46,"Date"),h.Ub(),h.Vb(47,"input",14),h.dc("ngModelChange",(function(e){return t.UILADate=e}))("dateInput",(function(){return t.GetUIDATELADate()})),h.Ub(),h.Rb(48,"mat-datepicker-toggle",15),h.Rb(49,"mat-datepicker",16,17),h.Ub(),h.Ub(),h.Vb(51,"div",12),h.Vb(52,"mat-form-field",13),h.Vb(53,"mat-label"),h.yc(54,"Prepared By"),h.Ub(),h.Vb(55,"mat-select",18),h.dc("ngModelChange",(function(e){return t._leaveApplicationModel.PreparedByUserId=e})),h.xc(56,Wb,2,2,"mat-option",19),h.Ub(),h.Ub(),h.Ub(),h.Vb(57,"div",12),h.Vb(58,"mat-form-field",13),h.Vb(59,"mat-label"),h.yc(60,"Checked By"),h.Ub(),h.Vb(61,"mat-select",20),h.dc("ngModelChange",(function(e){return t._leaveApplicationModel.CheckedByUserId=e})),h.xc(62,qb,2,3,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Vb(63,"div",12),h.Vb(64,"mat-form-field",13),h.Vb(65,"mat-label"),h.yc(66,"Approved By"),h.Ub(),h.Vb(67,"mat-select",20),h.dc("ngModelChange",(function(e){return t._leaveApplicationModel.ApprovedByUserId=e})),h.xc(68,Kb,2,3,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(69,"div",22),h.Vb(70,"div",7),h.Vb(71,"div",23),h.Vb(72,"mat-form-field",13),h.Vb(73,"mat-label"),h.yc(74,"Remarks"),h.Ub(),h.Vb(75,"textarea",24),h.dc("ngModelChange",(function(e){return t._leaveApplicationModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(76,"mat-tab-group",25,26),h.Vb(78,"mat-tab",27),h.xc(79,$b,1,2,"mat-progress-bar",28),h.Vb(80,"wj-flex-grid",29,30),h.Rb(82,"wj-flex-grid-filter"),h.xc(83,Zb,2,3,"wj-flex-grid-column",31),h.xc(84,em,2,3,"wj-flex-grid-column",31),h.Rb(85,"wj-flex-grid-column",32),h.Rb(86,"wj-flex-grid-column",32),h.Rb(87,"wj-flex-grid-column",32),h.Rb(88,"wj-flex-grid-column",32),h.Rb(89,"wj-flex-grid-column",32),h.Ub(),h.Ub(),h.Vb(90,"mat-tab",33),h.xc(91,tm,5,1,"ng-template",34),h.Ub(),h.Ub(),h.Vb(92,"div",35),h.Vb(93,"div",36),h.Vb(94,"div",7),h.Vb(95,"mat-button-toggle-group",37),h.Vb(96,"mat-button-toggle",38),h.dc("click",(function(){return t._listLeaveApplicationLineCollectionView.moveToFirstPage()})),h.Vb(97,"mat-icon",39),h.yc(98,"navigate_before"),h.Ub(),h.Vb(99,"mat-icon"),h.yc(100,"navigate_before"),h.Ub(),h.Ub(),h.Vb(101,"mat-button-toggle",38),h.dc("click",(function(){return t._listLeaveApplicationLineCollectionView.moveToPreviousPage()})),h.Vb(102,"mat-icon"),h.yc(103,"navigate_before"),h.Ub(),h.Ub(),h.Vb(104,"mat-button-toggle",40),h.yc(105),h.Ub(),h.Vb(106,"mat-button-toggle",38),h.dc("click",(function(){return t._listLeaveApplicationLineCollectionView.moveToNextPage()})),h.Vb(107,"mat-icon"),h.yc(108,"navigate_next"),h.Ub(),h.Ub(),h.Vb(109,"mat-button-toggle",38),h.dc("click",(function(){return t._listLeaveApplicationLineCollectionView.moveToLastPage()})),h.Vb(110,"mat-icon",39),h.yc(111,"navigate_next"),h.Ub(),h.Vb(112,"mat-icon"),h.yc(113,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(114,"div",41),h.Ub(),h.Rb(115,"mat-divider",42),h.Vb(116,"div",43),h.Vb(117,"div",8),h.Vb(118,"div",7),h.Vb(119,"div",44),h.Vb(120,"mat-label",45),h.yc(121,"Created By:"),h.Ub(),h.Ub(),h.Vb(122,"div",46),h.Vb(123,"mat-label",45),h.yc(124),h.Ub(),h.Ub(),h.Vb(125,"div",47),h.Vb(126,"mat-label",45),h.yc(127,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(128,"div",48),h.Vb(129,"mat-label",45),h.yc(130),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(131,"div",8),h.Vb(132,"div",7),h.Vb(133,"div",44),h.Vb(134,"mat-label",45),h.yc(135,"Updated By:"),h.Ub(),h.Ub(),h.Vb(136,"div",46),h.Vb(137,"mat-label",45),h.yc(138),h.Ub(),h.Ub(),h.Vb(139,"div",47),h.Vb(140,"mat-label",45),h.yc(141,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(142,"div",48),h.Vb(143,"mat-label",45),h.yc(144),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e){const e=h.qc(50);h.Eb(5),h.kc("disabled",t._btnSaveDisabled),h.Eb(4),h.kc("disabled",t._btnLockDisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(9),h.kc("hidden",t._isComponentsHidden),h.Eb(7),h.zc(t._leaveApplicationModel.LANumber),h.Eb(4),h.zc(t._leaveApplicationModel.PayrollGroup),h.Eb(4),h.zc(t._leaveApplicationModel.Year),h.Eb(6),h.kc("matDatepicker",e)("ngModel",t.UILADate)("readonly",t._isLocked),h.Eb(1),h.kc("for",e)("disabled",t._isLocked),h.Eb(7),h.kc("ngModel",t._leaveApplicationModel.PreparedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._leaveApplicationModel.CheckedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._leaveApplicationModel.ApprovedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(7),h.kc("ngModel",t._leaveApplicationModel.Remarks)("readonly",t._isLocked),h.Eb(4),h.kc("ngIf",t._isLeaveApplicationLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listLeaveApplicationLineCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Date")("binding","LADate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Half Day")("binding","IsHalfDay")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","With Pay")("binding","IsWithPay")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","3*"),h.Eb(16),h.Bc(" ",t._listLeaveApplicationLineCollectionView.pageIndex+1," / ",t._listLeaveApplicationLineCollectionView.pageCount,""),h.Eb(19),h.zc(t._leaveApplicationModel.CreatedByUser),h.Eb(6),h.zc(t._leaveApplicationModel.CreatedDateTime),h.Eb(8),h.zc(t._leaveApplicationModel.UpdatedByUser),h.Eb(6),h.zc(t._leaveApplicationModel.UpdatedDateTime)}},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,rc,l.k,fh,ah,l.l,cl,Vl,hl,eh,Al,Hl,ft,G.l,fr,ul],styles:[".text_box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}"]}),e})(),nm=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}OvertimeApplicationList(e){return Object(b.a)(this,void 0,void 0,(function*(){return console.log(e),this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/overtime//application/list/"+e,this.appSettings.defaultOptions)}))}AddOvertimeApplication(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/overtime//application/create/"+e,"",this.appSettings.defaultOptions)}))}DeleteOvertimeApplication(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/overtime//application/delete/"+e,this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/overtime//application/payroll/group/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const om=["flexOvertimeApplication"];function am(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function rm(e,t){1&e&&h.Rb(0,"mat-progress-bar",24),2&e&&h.kc("color","primary")("mode","indeterminate")}function sm(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",25),h.dc("click",(function(){return h.rc(e),h.hc().EditOvertimeApplication()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function lm(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",26),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteOvertimeApplication()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function cm(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let dm=(()=>{class e{constructor(e,t,i,n,o){this._overtimeApplicationListService=e,this.router=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this._payrollGroupListDropdown=[],this._filterPayrollGroup="",this._listOvertimeApplicationObservableArray=new na,this._listOvertimeApplicationCollectionView=new oa(this._listOvertimeApplicationObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._buttonDisabled=!1,this._createCboShowNumberOfRows=new na}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetPayrollGroupDropdownListData(),yield this.CreateCboShowNumberOfRows()}))}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this._listOvertimeApplicationCollectionView.pageSize=this._listPageIndex,this._listOvertimeApplicationCollectionView.refresh(),this._listOvertimeApplicationCollectionView.refresh()}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=yield(yield this._overtimeApplicationListService.PayrollGroupList()).subscribe(e=>{var t=e;if(t.length>0)for(var i=0;i<t.length;i++)this._payrollGroupListDropdown.push(t[i]);this._filterPayrollGroup=this._payrollGroupListDropdown[0].Value,this.GetOvertimeApplicationListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status)})}))}PayrollGroupSelectionChange(){this.GetOvertimeApplicationListData()}GetOvertimeApplicationListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listOvertimeApplicationObservableArray=new na,this._listOvertimeApplicationCollectionView=new oa(this._listOvertimeApplicationObservableArray),this._listOvertimeApplicationCollectionView.pageSize=15,this._listOvertimeApplicationCollectionView.trackChanges=!0,yield this._listOvertimeApplicationCollectionView.refresh(),yield this.flexOvertimeApplication.refresh(),this._isProgressBarHidden=!0,this._overtimeListSubscription=yield(yield this._overtimeApplicationListService.OvertimeApplicationList(this._filterPayrollGroup)).subscribe(e=>{var t=e;console.log("Response:",t),t.length>0&&(this._listOvertimeApplicationCollectionView=t,this._listOvertimeApplicationCollectionView=new oa(this._listOvertimeApplicationCollectionView),this._listOvertimeApplicationCollectionView.pageSize=15,this._listOvertimeApplicationCollectionView.trackChanges=!0,this._listOvertimeApplicationCollectionView.refresh(),this.flexOvertimeApplication.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._overtimeListSubscription&&this._overtimeListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._overtimeListSubscription&&this._overtimeListSubscription.unsubscribe())})}))}AddOvertimeApplication(){return Object(b.a)(this,void 0,void 0,(function*(){this._buttonDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addOvertimeApplicationSubscription=yield(yield this._overtimeApplicationListService.AddOvertimeApplication(this._filterPayrollGroup)).subscribe(e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this.GetOvertimeApplicationListData(),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully"),this.router.navigate(["/software/overtime-application-detail/"+e])},e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addOvertimeApplicationSubscription&&this._addOvertimeApplicationSubscription.unsubscribe()}))}))}EditOvertimeApplication(){this.router.navigate(["/software/overtime-application-detail/"+this._listOvertimeApplicationCollectionView.currentItem.Id])}DeleteOvertimeApplication(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this._isDataLoaded){this._isDataLoaded=!1;let e=this._listOvertimeApplicationCollectionView.currentItem;this._isProgressBarHidden=!0,this._deleteOvertimeApplicationSubscription=yield(yield this._overtimeApplicationListService.DeleteOvertimeApplication(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetOvertimeApplicationListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteOvertimeApplicationSubscription&&this._deleteOvertimeApplicationSubscription.unsubscribe()})}}))}ComfirmDeleteOvertimeApplication(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Change Shift",objComfirmationMessage:`Delete ${this._listOvertimeApplicationCollectionView.currentItem.OTNumber}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteOvertimeApplication()})}ngOnDestroy(){null!=this._overtimeListSubscription&&this._overtimeListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(nm),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-overtime-application-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(om,!0),2&e&&h.pc(i=h.ec())&&(t.flexOvertimeApplication=i.first)},decls:65,vars:47,consts:[["src","../../../../assets/menu-icons/overtime application.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexOvertimeApplication",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"value"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditEmployee",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Overtime Application List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddOvertimeApplication()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.Vb(16,"mat-form-field",7),h.Vb(17,"mat-label"),h.yc(18,"Payroll Group"),h.Ub(),h.Vb(19,"mat-select",8),h.dc("ngModelChange",(function(e){return t._filterPayrollGroup=e}))("selectionChange",(function(){return t.PayrollGroupSelectionChange()})),h.xc(20,am,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",5),h.Vb(22,"div",10),h.xc(23,rm,1,2,"mat-progress-bar",11),h.Vb(24,"wj-flex-grid",12,13),h.Rb(26,"wj-flex-grid-filter"),h.Vb(27,"wj-flex-grid-column",14),h.xc(28,sm,4,0,"ng-template",15),h.Ub(),h.Vb(29,"wj-flex-grid-column",14),h.xc(30,lm,4,0,"ng-template",15),h.Ub(),h.Rb(31,"wj-flex-grid-column",16),h.Rb(32,"wj-flex-grid-column",16),h.Rb(33,"wj-flex-grid-column",16),h.Rb(34,"wj-flex-grid-column",16),h.Rb(35,"wj-flex-grid-column",16),h.Rb(36,"wj-flex-grid-column",16),h.Ub(),h.Ub(),h.Ub(),h.Vb(37,"div",5),h.Vb(38,"div",17),h.Vb(39,"div",5),h.Vb(40,"mat-button-toggle-group",18),h.Vb(41,"mat-button-toggle",19),h.dc("click",(function(){return t._listOvertimeApplicationCollectionView.moveToFirstPage()})),h.Vb(42,"mat-icon",20),h.yc(43,"navigate_before"),h.Ub(),h.Vb(44,"mat-icon"),h.yc(45,"navigate_before"),h.Ub(),h.Ub(),h.Vb(46,"mat-button-toggle",19),h.dc("click",(function(){return t._listOvertimeApplicationCollectionView.moveToPreviousPage()})),h.Vb(47,"mat-icon"),h.yc(48,"navigate_before"),h.Ub(),h.Ub(),h.Vb(49,"mat-button-toggle",21),h.yc(50),h.Ub(),h.Vb(51,"mat-button-toggle",19),h.dc("click",(function(){return t._listOvertimeApplicationCollectionView.moveToNextPage()})),h.Vb(52,"mat-icon"),h.yc(53,"navigate_next"),h.Ub(),h.Ub(),h.Vb(54,"mat-button-toggle",19),h.dc("click",(function(){return t._listOvertimeApplicationCollectionView.moveToLastPage()})),h.Vb(55,"mat-icon",20),h.yc(56,"navigate_next"),h.Ub(),h.Vb(57,"mat-icon"),h.yc(58,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(59,"div",22),h.Vb(60,"mat-form-field",7),h.Vb(61,"mat-label"),h.yc(62,"Row"),h.Ub(),h.Vb(63,"mat-select",8),h.dc("ngModelChange",(function(e){return t._listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(64,cm,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._buttonDisabled),h.Eb(14),h.kc("ngModel",t._filterPayrollGroup),h.Eb(1),h.kc("ngForOf",t._payrollGroupListDropdown),h.Eb(3),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listOvertimeApplicationCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","OT No.s")("binding","OTNumber")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","OTDate")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("isReadOnly",!0)("width",40),h.Eb(14),h.Bc(" ",t._listOvertimeApplicationCollectionView.pageIndex+1," / ",t._listOvertimeApplicationCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t._listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,l.l,cl,Vl,hl,ul,Al,Hl,G.l,fr],styles:[""]}),e})(),hm=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/overtime/application/payroll/group/list",this.appSettings.defaultOptions)}))}YearList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/overtime/application/year/list",this.appSettings.defaultOptions)}))}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/overtime/application/user/list",this.appSettings.defaultOptions)}))}OvertimeApplicationDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/overtime/application/detail/"+e,this.appSettings.defaultOptions)}))}SaveOvertimeApplication(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/overtime/application/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockOvertimeApplication(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return console.log(e),yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/overtime/application/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockOvertimeApplication(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/overtime/application/unlock/"+e,"",this.appSettings.defaultOptions)}))}OvertimeApplicationLineList(e){return Object(b.a)(this,void 0,void 0,(function*(){return console.log(e),yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/overtime/application/line/list/"+e,this.appSettings.defaultOptions)}))}AddOvertimeApplicationLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/overtime/application/line/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}UpdateTRLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/overtime/application/line/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DeleteOvertimeApplicationLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/overtime/application/line/delete/"+e,this.appSettings.defaultOptions)}))}EmployeeList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/overtime/application/line/employee/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),um=(()=>{class e{constructor(e,t,i,n,o,a,r,s){this.dialogRef=e,this._overtimeApplicationDetailService=t,this.caseData=i,this._snackBar=n,this._snackBarTemplate=o,this._matDialog=a,this.decimalPipe=r,this.datePipe=s,this._overtimeApplicationLineModel={Id:0,OTId:0,EmployeeId:0,Employee:"",OTDate:this.datePipe.transform(new Date,"yyyy-MM-dd"),OTHours:"",Remarks:""},this.title="",this.Employee="",this.inputTypeOTHours="text",this.UIOTDate=new Date,this.isComponentHidden=!0}ngOnInit(){this.title=this.caseData.objDialogTitle,this.loadOvertimeApplicationLineDetail()}loadOvertimeApplicationLineDetail(){this._overtimeApplicationLineModel.Id=this.caseData.objOvertimeApplicationLine.Id,this._overtimeApplicationLineModel.OTId=this.caseData.objOvertimeApplicationLine.OTId,this._overtimeApplicationLineModel.EmployeeId=this.caseData.objOvertimeApplicationLine.EmployeeId,this._overtimeApplicationLineModel.Employee=this.caseData.objOvertimeApplicationLine.Employee,this._overtimeApplicationLineModel.Remarks=this.caseData.objOvertimeApplicationLine.Remarks,this._overtimeApplicationLineModel.OTHours=this.decimalPipe.transform(this.caseData.objOvertimeApplicationLine.OTHours,"1.2-2"),this._overtimeApplicationLineModel.OTDate=this.caseData.objOvertimeApplicationLine.OTDate,0!=this._overtimeApplicationLineModel.Id&&(this.UIOTDate=new Date(this.caseData.objOvertimeApplicationLine.OTDate)),console.log(this._overtimeApplicationLineModel),setTimeout(()=>{this.isComponentHidden=!1},100)}Close(){this.dialogRef.close({event:"Close"})}GetUIDATEOTDate(){this._overtimeApplicationLineModel.OTDate=this.datePipe.transform(this.UIOTDate,"yyyy-MM-dd"),console.log(this._overtimeApplicationLineModel.OTDate)}Save(){return Object(b.a)(this,void 0,void 0,(function*(){0!=this._overtimeApplicationLineModel.EmployeeId?yield this.dialogRef.close({event:this.title,data:this._overtimeApplicationLineModel}):this._snackBarTemplate.snackBarError(this._snackBar,"Choose employee!")}))}EmployeeListDialog(){this._matDialog.open(_b,{width:"900px",height:"500",data:{objDialogTitle:"Employee List",objPayrollGroup:this.caseData.objPayrollGroup},disableClose:!0}).afterClosed().subscribe(e=>{console.log(e),"Close"!=e.event&&(this._overtimeApplicationLineModel.EmployeeId=e.employee.Id,this._overtimeApplicationLineModel.Employee=e.employee.Value)})}formatValueOTHours(){this.inputTypeOTHours="text",this._overtimeApplicationLineModel.OTHours=this.decimalPipe.transform(""==this._overtimeApplicationLineModel.OTHours?0:this._overtimeApplicationLineModel.OTHours,"1.2-2")}OTHoursToNumberType(){this.inputTypeOTHours="number"}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(hm),h.Qb(Ka),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.e),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-overtime-application-line-dialog"]],decls:43,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body",3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["type","text","matInput","","readonly","",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],["matInput","",3,"matDatepicker","ngModel","ngModelChange","dateInput"],["matSuffix","",3,"for"],["color","primary"],["datePickerOTDate",""],["fxFlex","34",2,"padding","5px"],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focus","focusout"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Remarks","rows","5",2,"min-height","102px",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){if(1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Rb(5,"br"),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"mat-label"),h.yc(10,"Employee"),h.Ub(),h.Vb(11,"input",6),h.dc("ngModelChange",(function(e){return t._overtimeApplicationLineModel.Employee=e})),h.Ub(),h.Vb(12,"mat-icon",7),h.dc("click",(function(){return t.EmployeeListDialog()})),h.yc(13,"keyboard_arrow_down"),h.Ub(),h.Ub(),h.Ub(),h.Vb(14,"div",4),h.Vb(15,"mat-form-field",5),h.Vb(16,"mat-label"),h.yc(17,"Date"),h.Ub(),h.Vb(18,"input",8),h.dc("ngModelChange",(function(e){return t.UIOTDate=e}))("dateInput",(function(){return t.GetUIDATEOTDate()})),h.Ub(),h.Rb(19,"mat-datepicker-toggle",9),h.Rb(20,"mat-datepicker",10,11),h.Ub(),h.Ub(),h.Vb(22,"div",12),h.Vb(23,"mat-form-field",5),h.Vb(24,"mat-label"),h.yc(25,"OT Hours"),h.Ub(),h.Vb(26,"input",13),h.dc("ngModelChange",(function(e){return t._overtimeApplicationLineModel.OTHours=e}))("focus",(function(){return t.OTHoursToNumberType()}))("focusout",(function(){return t.formatValueOTHours()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(27,"div",3),h.Vb(28,"div",14),h.Vb(29,"mat-form-field",5),h.Vb(30,"mat-label"),h.yc(31,"Remarks"),h.Ub(),h.Vb(32,"textarea",15),h.dc("ngModelChange",(function(e){return t._overtimeApplicationLineModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(33,"mat-divider"),h.Vb(34,"div",16),h.Vb(35,"button",17),h.dc("click",(function(){return t.Save()})),h.Vb(36,"mat-icon"),h.yc(37,"save"),h.Ub(),h.yc(38," Save "),h.Ub(),h.Vb(39,"button",18),h.dc("click",(function(){return t.Close()})),h.Vb(40,"mat-icon"),h.yc(41,"close"),h.Ub(),h.yc(42," Cancel "),h.Ub(),h.Ub()),2&e){const e=h.qc(21);h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("hidden",t.isComponentHidden),h.Eb(7),h.kc("ngModel",t._overtimeApplicationLineModel.Employee),h.Eb(7),h.kc("matDatepicker",e)("ngModel",t.UIOTDate),h.Eb(1),h.kc("for",e),h.Eb(7),h.lc("type",t.inputTypeOTHours),h.kc("ngModel",t._overtimeApplicationLineModel.OTHours),h.Eb(6),h.kc("ngModel",t._overtimeApplicationLineModel.Remarks)}},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,w.a,_r.h,xd,Ld,_d,or,v.a,tr],styles:[""]}),e})();const pm=["flexOvertimeApplicationLine"];function bm(e,t){if(1&e&&(h.Vb(0,"mat-option",49),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function mm(e,t){if(1&e&&(h.Vb(0,"mat-option",50),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function fm(e,t){if(1&e&&(h.Vb(0,"mat-option",50),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function gm(e,t){1&e&&h.Rb(0,"mat-progress-bar",51),2&e&&h.kc("color","primary")("mode","indeterminate")}function ym(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",54),h.dc("click",(function(){return h.rc(e),h.hc(2).EditOvertimeApplicationLine()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function _m(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",52),h.xc(1,ym,4,0,"ng-template",53),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function vm(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",55),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeleteOvertimeApplicationLine()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function wm(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",52),h.xc(1,vm,4,0,"ng-template",53),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function Cm(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",56),h.dc("click",(function(){return h.rc(e),h.hc().AddOvertimeApplicationLine()})),h.Vb(1,"mat-icon"),h.yc(2,"add"),h.Ub(),h.yc(3," ADD "),h.Ub(),h.Rb(4,"br")}if(2&e){const e=h.hc();h.kc("disabled",e._btnAddOvertimeApplicationLineDisabled)}}let Dm=(()=>{class e{constructor(e,t,i,n,o,a){this._overtimeApplicationDetailService=e,this._activatedRoute=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this.datePipe=a,this._isProgressBarHidden=!1,this._isComponentsHidden=!0,this._btnSaveDisabled=!0,this._btnLockDisabled=!0,this._btnUnlockDisabled=!0,this._isDataLoaded=!1,this._isLocked=!1,this._payrollGroupListDropdown=[],this._yearListDropdown=[],this._userListDropdown=[],this._overtimeApplicationModel={Id:0,OTNumber:"",OTDate:"",PayrollGroup:"",YearId:0,Year:"",Remarks:"",PreparedByUserId:0,PreparedByUser:"",CheckedByUserId:0,CheckedByUser:"",ApprovedByUserId:0,ApprovedByUser:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:new Date,UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:new Date,IsLocked:!1},this.UIOTDate=new Date,this._overtimeApplicationLineModel={Id:0,OTId:0,EmployeeId:0,Employee:"",OTDate:this.datePipe.transform(new Date,"yyyy-MM-dd"),OTHours:"0",Remarks:""},this._listOvertimeApplicationLineObservableArray=new na,this._listOvertimeApplicationLineCollectionView=new oa(this._listOvertimeApplicationLineObservableArray),this._listPageIndex=15,this._isOvertimeApplicationLineProgressBarHidden=!1,this._isOvertimeApplicationLineDataLoaded=!1,this._btnAddOvertimeApplicationLineDisabled=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.PayrollGroupListData()}))}PayrollGroupListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=(yield this._overtimeApplicationDetailService.PayrollGroupList()).subscribe(e=>{this._payrollGroupListDropdown=e,this.YearCodeListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()})}))}YearCodeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearDropdownSubscription=(yield this._overtimeApplicationDetailService.YearList()).subscribe(e=>{this._yearListDropdown=e,this.UserListData(),null!==this._yearDropdownSubscription&&this._yearDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearDropdownSubscription&&this._yearDropdownSubscription.unsubscribe()})}))}UserListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._userDropdownSubscription=yield(yield this._overtimeApplicationDetailService.UserList()).subscribe(e=>{this._userListDropdown=e,this.GetOvertimeApplicationDetail(),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()})}))}GetOvertimeApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=0;this._activatedRoute.params.subscribe(t=>{e=t.id}),this._isComponentsHidden=!0,this.DisableButtons(),this._overtimeApplicationDetailSubscription=yield(yield this._overtimeApplicationDetailService.OvertimeApplicationDetail(e)).subscribe(e=>{let t=e;console.log(t),null!=t&&(this._overtimeApplicationModel=t,this.UIOTDate=new Date(t.OTDate),this._overtimeApplicationLineModel.OTId=t.Id),this.loadComponent(t.IsLocked),this.GetOvertimeApplicationLineListData(),this._isDataLoaded=!0,this._isComponentsHidden=!1,null!==this._overtimeApplicationDetailSubscription&&this._overtimeApplicationDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._overtimeApplicationDetailSubscription&&this._overtimeApplicationDetailSubscription.unsubscribe()})}))}GetUIDATEOTDate(){this._overtimeApplicationModel.OTDate=this.datePipe.transform(this.UIOTDate,"yyyy-MM-dd"),console.log(this._overtimeApplicationModel.OTDate)}SaveOvertimeApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,console.log(this._overtimeApplicationModel),this._saveOvertimeApplicationDetailSubscription=(yield this._overtimeApplicationDetailService.SaveOvertimeApplication(this._overtimeApplicationModel.Id,this._overtimeApplicationModel)).subscribe(e=>{this.loadComponent(this._overtimeApplicationModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._saveOvertimeApplicationDetailSubscription&&this._saveOvertimeApplicationDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._overtimeApplicationModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._saveOvertimeApplicationDetailSubscription&&this._saveOvertimeApplicationDetailSubscription.unsubscribe()}))}))}LockOvertimeApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._lockOvertimeApplicationDetailSubscription=yield(yield this._overtimeApplicationDetailService.LockOvertimeApplication(this._overtimeApplicationModel.Id,this._overtimeApplicationModel)).subscribe(e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Lock Successfully."),null!==this._lockOvertimeApplicationDetailSubscription&&this._lockOvertimeApplicationDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._lockOvertimeApplicationDetailSubscription&&this._lockOvertimeApplicationDetailSubscription.unsubscribe()}))}))}UnlockOvertimeApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._unlockOvertimeApplicationDetailSubscription=yield(yield this._overtimeApplicationDetailService.UnlockOvertimeApplication(this._overtimeApplicationModel.Id)).subscribe(e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Unlock Successfully."),null!==this._unlockOvertimeApplicationDetailSubscription&&this._unlockOvertimeApplicationDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._unlockOvertimeApplicationDetailSubscription&&this._unlockOvertimeApplicationDetailSubscription.unsubscribe()}))}))}loadComponent(e){this._btnAddOvertimeApplicationLineDisabled=e,this._btnSaveDisabled=e,this._btnLockDisabled=e,this._btnUnlockDisabled=!e,this._isLocked=e,this._isProgressBarHidden=!1}DisableButtons(){this._btnSaveDisabled=!0,this._btnLockDisabled=!0,this._btnUnlockDisabled=!0,this._isProgressBarHidden=!0}activeTab(){}GetOvertimeApplicationLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listOvertimeApplicationLineObservableArray=new na,this._listOvertimeApplicationLineCollectionView=new oa(this._listOvertimeApplicationLineObservableArray),this._listOvertimeApplicationLineCollectionView.pageSize=15,this._listOvertimeApplicationLineCollectionView.trackChanges=!0,yield this._listOvertimeApplicationLineCollectionView.refresh(),yield this.flexOvertimeApplicationLine.refresh(),this._isOvertimeApplicationLineProgressBarHidden=!0,this._overtimeApplicationLineSubscription=yield(yield this._overtimeApplicationDetailService.OvertimeApplicationLineList(this._overtimeApplicationModel.Id)).subscribe(e=>{e.length>0&&(this._listOvertimeApplicationLineObservableArray=e,this._listOvertimeApplicationLineCollectionView=new oa(this._listOvertimeApplicationLineObservableArray),this._listOvertimeApplicationLineCollectionView.pageSize=15,this._listOvertimeApplicationLineCollectionView.trackChanges=!0,this._listOvertimeApplicationLineCollectionView.refresh(),this.flexOvertimeApplicationLine.refresh()),this._isOvertimeApplicationLineDataLoaded=!0,this._isOvertimeApplicationLineProgressBarHidden=!1,null!==this._overtimeApplicationLineSubscription&&this._overtimeApplicationLineSubscription.unsubscribe()},e=>{this._isOvertimeApplicationLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._overtimeApplicationLineSubscription&&this._overtimeApplicationLineSubscription.unsubscribe()})}))}AddOvertimeApplicationLine(){this.DetailOvertimeApplicationLine(this._overtimeApplicationLineModel,"Add Overtime Application Line")}EditOvertimeApplicationLine(){this.DetailOvertimeApplicationLine(this._listOvertimeApplicationLineCollectionView.currentItem,"Edit Overtime Application Line Detail")}DeleteOvertimeApplicationLine(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listOvertimeApplicationLineCollectionView.currentItem;this._isOvertimeApplicationLineProgressBarHidden=!0,1==this._isOvertimeApplicationLineDataLoaded&&(this._isOvertimeApplicationLineDataLoaded=!1,this._deleteOvertimeApplicationLineSubscription=yield(yield this._overtimeApplicationDetailService.DeleteOvertimeApplicationLine(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetOvertimeApplicationLineListData(),this._isOvertimeApplicationLineProgressBarHidden=!1,this._isOvertimeApplicationLineDataLoaded=!0},e=>{this._isOvertimeApplicationLineDataLoaded=!0,this._isOvertimeApplicationLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteOvertimeApplicationLineSubscription&&this._deleteOvertimeApplicationLineSubscription.unsubscribe()}))}))}ComfirmDeleteOvertimeApplicationLine(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete OvertimeApplicationLine",objComfirmationMessage:` Delete ${this._listOvertimeApplicationLineCollectionView.currentItem.Employee}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteOvertimeApplicationLine()})}DetailOvertimeApplicationLine(e,t){this._matDialog.open(um,{width:"1300px",data:{objDialogTitle:t,objPayrollGroup:this._overtimeApplicationModel.PayrollGroup,objOvertimeApplicationLine:e},disableClose:!0}).afterClosed().subscribe(e=>{"Add Overtime Application Line"===e.event&&this.AddSaveOvertimeApplicationLine(e.data),"Edit Overtime Application Line Detail"===e.event&&this.UpdateOvertimeApplicationLine(e.data.Id,e.data)})}AddSaveOvertimeApplicationLine(e){return Object(b.a)(this,void 0,void 0,(function*(){1==this._isOvertimeApplicationLineDataLoaded&&(this._isOvertimeApplicationLineDataLoaded=!1,this._saveOvertimeApplicationLineSubscription=yield(yield this._overtimeApplicationDetailService.AddOvertimeApplicationLine(e)).subscribe(e=>{this._isOvertimeApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully"),this.GetOvertimeApplicationLineListData(),null!=this._saveOvertimeApplicationLineSubscription&&this._saveOvertimeApplicationLineSubscription.unsubscribe()},e=>{this._isOvertimeApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._saveOvertimeApplicationLineSubscription&&this._saveOvertimeApplicationLineSubscription.unsubscribe()}))}))}UpdateOvertimeApplicationLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){1==this._isOvertimeApplicationLineDataLoaded&&(this._isOvertimeApplicationLineDataLoaded=!1,this._updateOvertimeApplicationLineSubscription=yield(yield this._overtimeApplicationDetailService.UpdateTRLine(e,t)).subscribe(e=>{this._isOvertimeApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Update Successfully"),this.GetOvertimeApplicationLineListData(),null!=this._updateOvertimeApplicationLineSubscription&&this._updateOvertimeApplicationLineSubscription.unsubscribe()},e=>{this._isOvertimeApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._updateOvertimeApplicationLineSubscription&&this._updateOvertimeApplicationLineSubscription.unsubscribe()}))}))}ngOnDestroy(){}selectedCheckedByUser(e){this._overtimeApplicationModel.CheckedByUserId=e.source.value,this._overtimeApplicationModel.CheckedByUser=e.source.selected.viewValue}selectedApprovedByUser(e){this._overtimeApplicationModel.ApprovedByUserId=e.source.value,this._overtimeApplicationModel.ApprovedByUser=e.source.selected.viewValue}btnCSVClick(){var e=this.generateCSV(),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.setAttribute("download","overtime-application.csv"),i.click()}generateCSV(){var e,t="";if(e=this._listOvertimeApplicationLineCollectionView,""!=(t="Overtime Applicaiton\r\n\n")){var i='"Overtime Applicaiont ID","OTNumber","OTDate","PayrollGroup","Year","Remarks","PreparedByUser","CheckedByUser","ApprovedByUser",';for(var n in e.items[0])i+=n+",";t+=(i=i.slice(0,-1))+"\r\n",e.moveToFirstPage();for(var o=0;o<e.pageCount;o++){for(var a=0;a<e.items.length;a++){var r='"'+this._overtimeApplicationModel.Id+'","'+this._overtimeApplicationModel.OTNumber+'","'+this._overtimeApplicationModel.OTDate+'","'+this._overtimeApplicationModel.PayrollGroup+'","'+this._overtimeApplicationModel.Year+'","'+this._overtimeApplicationModel.Remarks+'","'+this._overtimeApplicationModel.PreparedByUser+'","'+this._overtimeApplicationModel.CheckedByUser+'","'+this._overtimeApplicationModel.ApprovedByUser+'",';for(var n in e.items[a])r+='"'+e.items[a][n]+'",';r.slice(0,r.length-1),t+=r+"\r\n"}e.moveToNextPage()}}return new Blob([t],{type:"text/csv;charset=utf-8;"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(hm),h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-overtime-application-detail"]],viewQuery:function(e,t){var i;1&e&&h.Ec(pm,!0),2&e&&h.pc(i=h.ec())&&(t.flexOvertimeApplicationLine=i.first)},decls:144,vars:50,consts:[["src","../../../../assets/menu-icons/overtime application.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","color","accent","id","btnAddEmployee",2,"margin","5px",3,"disabled","click"],["mat-flat-button","","routerLink","/software/overtime-application-list","color","warn",2,"margin-right","5px"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["fxFlex","33",2,"padding","5px","margin-top","3px"],[1,"text_box"],["fxFlex","34",2,"padding","5px","margin-top","3px"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","readonly","ngModelChange","dateInput"],["matSuffix","",3,"for","disabled"],["color","primary"],["datePickerOTDate",""],["disabled","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","selectionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","50s",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","AddrRemarksess","rows","5",2,"min-height","102px",3,"ngModel","readonly","ngModelChange"],[1,"detail-tab",2,"max-height","100%"],["tabGroup",""],["label","Overtime Line"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexOvertimeApplicationLine",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[3,"value"],[3,"disabled","value"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditDTRLine",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Overtime Application Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SaveOvertimeApplicationDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockOvertimeApplicationDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockOvertimeApplicationDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.dc("click",(function(){return t.btnCSVClick()})),h.Vb(18,"mat-icon"),h.yc(19,"get_app"),h.Ub(),h.yc(20," CSV "),h.Ub(),h.Vb(21,"button",4),h.Vb(22,"mat-icon"),h.yc(23,"close"),h.Ub(),h.yc(24," Close "),h.Ub(),h.Ub(),h.Vb(25,"div",5),h.Vb(26,"div",6),h.Vb(27,"div",7),h.Vb(28,"div",8),h.Vb(29,"div",7),h.Vb(30,"div",9),h.Vb(31,"h2",10),h.Vb(32,"b"),h.yc(33),h.Ub(),h.Ub(),h.Ub(),h.Vb(34,"div",9),h.Vb(35,"h2",10),h.Vb(36,"b"),h.yc(37),h.Ub(),h.Ub(),h.Ub(),h.Vb(38,"div",11),h.Vb(39,"h2",10),h.Vb(40,"b"),h.yc(41),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(42,"div",7),h.Vb(43,"div",12),h.Vb(44,"mat-form-field",13),h.Vb(45,"mat-label"),h.yc(46,"Date"),h.Ub(),h.Vb(47,"input",14),h.dc("ngModelChange",(function(e){return t.UIOTDate=e}))("dateInput",(function(){return t.GetUIDATEOTDate()})),h.Ub(),h.Rb(48,"mat-datepicker-toggle",15),h.Rb(49,"mat-datepicker",16,17),h.Ub(),h.Ub(),h.Vb(51,"div",12),h.Vb(52,"mat-form-field",13),h.Vb(53,"mat-label"),h.yc(54,"Prepared By"),h.Ub(),h.Vb(55,"mat-select",18),h.dc("ngModelChange",(function(e){return t._overtimeApplicationModel.PreparedByUserId=e})),h.xc(56,bm,2,2,"mat-option",19),h.Ub(),h.Ub(),h.Ub(),h.Vb(57,"div",12),h.Vb(58,"mat-form-field",13),h.Vb(59,"mat-label"),h.yc(60,"Checked By"),h.Ub(),h.Vb(61,"mat-select",20),h.dc("ngModelChange",(function(e){return t._overtimeApplicationModel.CheckedByUserId=e}))("selectionChange",(function(e){return t.selectedCheckedByUser(e)})),h.xc(62,mm,2,3,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Vb(63,"div",12),h.Vb(64,"mat-form-field",13),h.Vb(65,"mat-label"),h.yc(66,"Approved By"),h.Ub(),h.Vb(67,"mat-select",20),h.dc("ngModelChange",(function(e){return t._overtimeApplicationModel.ApprovedByUserId=e}))("selectionChange",(function(e){return t.selectedApprovedByUser(e)})),h.xc(68,fm,2,3,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(69,"div",22),h.Vb(70,"div",7),h.Vb(71,"div",23),h.Vb(72,"mat-form-field",13),h.Vb(73,"mat-label"),h.yc(74,"Remarks"),h.Ub(),h.Vb(75,"textarea",24),h.dc("ngModelChange",(function(e){return t._overtimeApplicationModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(76,"mat-tab-group",25,26),h.Vb(78,"mat-tab",27),h.xc(79,gm,1,2,"mat-progress-bar",28),h.Vb(80,"wj-flex-grid",29,30),h.Rb(82,"wj-flex-grid-filter"),h.xc(83,_m,2,3,"wj-flex-grid-column",31),h.xc(84,wm,2,3,"wj-flex-grid-column",31),h.Rb(85,"wj-flex-grid-column",32),h.Rb(86,"wj-flex-grid-column",32),h.Rb(87,"wj-flex-grid-column",32),h.Rb(88,"wj-flex-grid-column",32),h.Ub(),h.Ub(),h.Vb(89,"mat-tab",33),h.xc(90,Cm,5,1,"ng-template",34),h.Ub(),h.Ub(),h.Vb(91,"div",35),h.Vb(92,"div",36),h.Vb(93,"div",7),h.Vb(94,"mat-button-toggle-group",37),h.Vb(95,"mat-button-toggle",38),h.dc("click",(function(){return t._listOvertimeApplicationLineCollectionView.moveToFirstPage()})),h.Vb(96,"mat-icon",39),h.yc(97,"navigate_before"),h.Ub(),h.Vb(98,"mat-icon"),h.yc(99,"navigate_before"),h.Ub(),h.Ub(),h.Vb(100,"mat-button-toggle",38),h.dc("click",(function(){return t._listOvertimeApplicationLineCollectionView.moveToPreviousPage()})),h.Vb(101,"mat-icon"),h.yc(102,"navigate_before"),h.Ub(),h.Ub(),h.Vb(103,"mat-button-toggle",40),h.yc(104),h.Ub(),h.Vb(105,"mat-button-toggle",38),h.dc("click",(function(){return t._listOvertimeApplicationLineCollectionView.moveToNextPage()})),h.Vb(106,"mat-icon"),h.yc(107,"navigate_next"),h.Ub(),h.Ub(),h.Vb(108,"mat-button-toggle",38),h.dc("click",(function(){return t._listOvertimeApplicationLineCollectionView.moveToLastPage()})),h.Vb(109,"mat-icon",39),h.yc(110,"navigate_next"),h.Ub(),h.Vb(111,"mat-icon"),h.yc(112,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(113,"div",41),h.Ub(),h.Rb(114,"mat-divider",42),h.Vb(115,"div",43),h.Vb(116,"div",8),h.Vb(117,"div",7),h.Vb(118,"div",44),h.Vb(119,"mat-label",45),h.yc(120,"Created By:"),h.Ub(),h.Ub(),h.Vb(121,"div",46),h.Vb(122,"mat-label",45),h.yc(123),h.Ub(),h.Ub(),h.Vb(124,"div",47),h.Vb(125,"mat-label",45),h.yc(126,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(127,"div",48),h.Vb(128,"mat-label",45),h.yc(129),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(130,"div",8),h.Vb(131,"div",7),h.Vb(132,"div",44),h.Vb(133,"mat-label",45),h.yc(134,"Updated By:"),h.Ub(),h.Ub(),h.Vb(135,"div",46),h.Vb(136,"mat-label",45),h.yc(137),h.Ub(),h.Ub(),h.Vb(138,"div",47),h.Vb(139,"mat-label",45),h.yc(140,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(141,"div",48),h.Vb(142,"mat-label",45),h.yc(143),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e){const e=h.qc(50);h.Eb(5),h.kc("disabled",t._btnSaveDisabled),h.Eb(4),h.kc("disabled",t._btnLockDisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(9),h.kc("hidden",t._isComponentsHidden),h.Eb(7),h.zc(t._overtimeApplicationModel.OTNumber),h.Eb(4),h.zc(t._overtimeApplicationModel.PayrollGroup),h.Eb(4),h.zc(t._overtimeApplicationModel.Year),h.Eb(6),h.kc("matDatepicker",e)("ngModel",t.UIOTDate)("readonly",t._isLocked),h.Eb(1),h.kc("for",e)("disabled",t._isLocked),h.Eb(7),h.kc("ngModel",t._overtimeApplicationModel.PreparedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._overtimeApplicationModel.CheckedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._overtimeApplicationModel.ApprovedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(7),h.kc("ngModel",t._overtimeApplicationModel.Remarks)("readonly",t._isLocked),h.Eb(4),h.kc("ngIf",t._isOvertimeApplicationLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listOvertimeApplicationLineCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Date")("binding","OTDate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","OT Hours")("binding","OTHours")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","3*"),h.Eb(16),h.Bc(" ",t._listOvertimeApplicationLineCollectionView.pageIndex+1," / ",t._listOvertimeApplicationLineCollectionView.pageCount,""),h.Eb(19),h.zc(t._overtimeApplicationModel.CreatedByUser),h.Eb(6),h.zc(t._overtimeApplicationModel.CreatedDateTime),h.Eb(8),h.zc(t._overtimeApplicationModel.UpdatedByUser),h.Eb(6),h.zc(t._overtimeApplicationModel.UpdatedDateTime)}},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,rc,l.k,fh,ah,l.l,cl,Vl,hl,eh,Al,Hl,ft,G.l,fr,ul],styles:[".text_box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}"]}),e})(),Sm=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}DTRList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/list/"+e,this.appSettings.defaultOptions)}))}AddDTR(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/dtr/create/"+e,"",this.appSettings.defaultOptions)}))}DeleteDTR(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/dtr/delete/"+e,this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/payroll/group/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const xm=["flexDTR"];function km(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Lm(e,t){1&e&&h.Rb(0,"mat-progress-bar",24),2&e&&h.kc("color","primary")("mode","indeterminate")}function Vm(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",25),h.dc("click",(function(){return h.rc(e),h.hc().EditDTR()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Om(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",26),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteDTR()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Um(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let Em=(()=>{class e{constructor(e,t,i,n,o,a){this._dTRListService=e,this._DTRRegistrationlDialog=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialogRef=o,this._router=a,this._listDTRObservableArray=new na,this._listDTRCollectionView=new oa(this._listDTRObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._btnAddDisabled=!1,this._payrollGroupListDropdown=[],this._filterPayrollGroup="",this._createCboShowNumberOfRows=new na}ngOnInit(){this._isProgressBarHidden=!0,this.GetPayrollGroupDropdownListData(),this.CreateCboShowNumberOfRows()}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this._listDTRCollectionView.pageSize=this._listPageIndex,this._listDTRCollectionView.refresh(),this._listDTRCollectionView.refresh()}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=yield(yield this._dTRListService.PayrollGroupList()).subscribe(e=>{var t=e;if(t.length>0)for(var i=0;i<t.length;i++)this._payrollGroupListDropdown.push(t[i]);this._filterPayrollGroup=this._payrollGroupListDropdown[0].Value,this.GetDTRListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status)})}))}PayrollGroupSelectionChange(){this.GetDTRListData()}GetDTRListData(){return Object(b.a)(this,void 0,void 0,(function*(){try{this._listDTRObservableArray=yield new na,this._listDTRCollectionView=yield new oa(this._listDTRObservableArray),this._listDTRCollectionView.pageSize=yield 15,this._listDTRCollectionView.trackChanges=!0,yield this._listDTRCollectionView.refresh(),yield this.flexDTR.refresh(),this._dTRListSubscription=(yield this._dTRListService.DTRList(this._filterPayrollGroup)).subscribe(e=>{e.length>0&&(this._listDTRObservableArray=e,this._listDTRCollectionView=new oa(this._listDTRObservableArray),this._listDTRCollectionView.pageSize=15,this._listDTRCollectionView.trackChanges=!0,this._listDTRCollectionView.refresh(),this.flexDTR.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._dTRListSubscription&&this._dTRListSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._dTRListSubscription&&this._dTRListSubscription.unsubscribe()})}catch(Ei){console.log(Ei)}}))}AddDTR(){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addDTRSubscription=(yield this._dTRListService.AddDTR(this._filterPayrollGroup)).subscribe(e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this._router.navigate(["/software/DTR-detail/"+e]),this.GetDTRListData(),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully")},e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addDTRSubscription&&this._addDTRSubscription.unsubscribe()}))}))}EditDTR(){this._router.navigate(["/software/DTR-detail/"+this._listDTRCollectionView.currentItem.Id])}DeleteDTR(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listDTRCollectionView.currentItem;this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._deleteDTRSubscription=(yield this._dTRListService.DeleteDTR(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetDTRListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteDTRSubscription&&this._deleteDTRSubscription.unsubscribe()}))}))}ComfirmDeleteDTR(){this._matDialogRef.open(sr,{width:"500px",data:{objDialogTitle:"Delete DTR",objComfirmationMessage:` Delete ${this._listDTRCollectionView.currentItem.DTRNumber}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteDTR()})}ngOnDestroy(){null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Sm),h.Qb(Xa),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(d.b))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-dtr-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(xm,!0),2&e&&h.pc(i=h.ec())&&(t.flexDTR=i.first)},decls:67,vars:50,consts:[["src","../../../../assets/menu-icons/DTR.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexDTR",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"value"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditDTR",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 DTR List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddDTR()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.Vb(16,"mat-form-field",7),h.Vb(17,"mat-label"),h.yc(18,"Payroll Group"),h.Ub(),h.Vb(19,"mat-select",8),h.dc("ngModelChange",(function(e){return t._filterPayrollGroup=e}))("selectionChange",(function(){return t.PayrollGroupSelectionChange()})),h.xc(20,km,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",5),h.Vb(22,"div",10),h.xc(23,Lm,1,2,"mat-progress-bar",11),h.Vb(24,"wj-flex-grid",12,13),h.Rb(26,"wj-flex-grid-filter"),h.Vb(27,"wj-flex-grid-column",14),h.xc(28,Vm,4,0,"ng-template",15),h.Ub(),h.Vb(29,"wj-flex-grid-column",14),h.xc(30,Om,4,0,"ng-template",15),h.Ub(),h.Rb(31,"wj-flex-grid-column",16),h.Rb(32,"wj-flex-grid-column",16),h.Rb(33,"wj-flex-grid-column",16),h.Rb(34,"wj-flex-grid-column",16),h.Rb(35,"wj-flex-grid-column",16),h.Rb(36,"wj-flex-grid-column",16),h.Rb(37,"wj-flex-grid-column",16),h.Rb(38,"wj-flex-grid-column",16),h.Ub(),h.Vb(39,"div",5),h.Vb(40,"div",17),h.Vb(41,"div",5),h.Vb(42,"mat-button-toggle-group",18),h.Vb(43,"mat-button-toggle",19),h.dc("click",(function(){return t._listDTRCollectionView.moveToFirstPage()})),h.Vb(44,"mat-icon",20),h.yc(45,"navigate_before"),h.Ub(),h.Vb(46,"mat-icon"),h.yc(47,"navigate_before"),h.Ub(),h.Ub(),h.Vb(48,"mat-button-toggle",19),h.dc("click",(function(){return t._listDTRCollectionView.moveToPreviousPage()})),h.Vb(49,"mat-icon"),h.yc(50,"navigate_before"),h.Ub(),h.Ub(),h.Vb(51,"mat-button-toggle",21),h.yc(52),h.Ub(),h.Vb(53,"mat-button-toggle",19),h.dc("click",(function(){return t._listDTRCollectionView.moveToNextPage()})),h.Vb(54,"mat-icon"),h.yc(55,"navigate_next"),h.Ub(),h.Ub(),h.Vb(56,"mat-button-toggle",19),h.dc("click",(function(){return t._listDTRCollectionView.moveToLastPage()})),h.Vb(57,"mat-icon",20),h.yc(58,"navigate_next"),h.Ub(),h.Vb(59,"mat-icon"),h.yc(60,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(61,"div",22),h.Vb(62,"mat-form-field",7),h.Vb(63,"mat-label"),h.yc(64,"Row"),h.Ub(),h.Vb(65,"mat-select",8),h.dc("ngModelChange",(function(e){return t._listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(66,Um,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._btnAddDisabled),h.Eb(14),h.kc("ngModel",t._filterPayrollGroup),h.Eb(1),h.kc("ngForOf",t._payrollGroupListDropdown),h.Eb(3),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listDTRCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","DTR No.")("binding","DTRNumber")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","DTRDate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date Start")("binding","DateStart")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date End")("binding","DateEnd")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",40),h.Eb(14),h.Bc(" ",t._listDTRCollectionView.pageIndex+1," / ",t._listDTRCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t._listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,l.l,cl,Vl,hl,ul,Al,Hl,G.l,fr],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})(),Mm=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/payroll/group/list",this.appSettings.defaultOptions)}))}YearList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/year/list",this.appSettings.defaultOptions)}))}OTList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/over/time/list",this.appSettings.defaultOptions)}))}LAList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/leave/application/list",this.appSettings.defaultOptions)}))}CSList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/change/shift/list",this.appSettings.defaultOptions)}))}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/user/list",this.appSettings.defaultOptions)}))}DTRDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/detail/"+e,this.appSettings.defaultOptions)}))}SaveDTR(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/DTR/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockDTR(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/DTR/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockDTR(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/DTR/unlock/"+e,"",this.appSettings.defaultOptions)}))}DTRLineList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/line/list/"+e,this.appSettings.defaultOptions)}))}ADDTRLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/dtr/line/create/lines/",JSON.stringify(e),this.appSettings.defaultOptions)}))}UpdateTRLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/dtr/line/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}ComputeDTRLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/line/compute/"+e,this.appSettings.defaultOptions)}))}DeleteDTRLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/dtr/line/delete/"+e,this.appSettings.defaultOptions)}))}EmployeeList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/line/employee/filteredBy/"+e,this.appSettings.defaultOptions)}))}DateTypeList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/line/date/type/list",this.appSettings.defaultOptions)}))}BranchList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/line/branch/list",this.appSettings.defaultOptions)}))}ShiftsList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/dtr/line/shift/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Pm(e,t){1&e&&h.Rb(0,"mat-progress-bar",38),2&e&&h.kc("color","primary")("mode","indeterminate")}function Rm(e,t){if(1&e&&(h.Vb(0,"mat-option",39),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Im(e,t){if(1&e&&(h.Vb(0,"mat-option",39),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Tm(e,t){if(1&e&&(h.Vb(0,"mat-option",39),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}let Am=(()=>{class e{constructor(e,t,i,n,o,a){this._dtrDetialService=e,this._snackBar=t,this._snackBarTemplate=i,this._matDialogRef=n,this._caseData=o,this._decimalPipe=a,this._title="",this._event="Close",this._isComponentsHidden=!0,this._isDataLoaded=!0,this._dTRLineModel={Id:0,DTRId:0,EmployeeId:0,Employee:"",DTRDate:"",DateType:"",IsRestDay:!1,ShiftId:0,Shift:"",Branch:"",TimeIn1:"",TimeOut1:"",TimeIn2:"",TimeOut2:"",IsOnLeave:!1,IsOnLeaveHalfDay:!1,IsOnOfficialBusiness:!1,IsOnOfficialBusinessHalfDay:!1,IsAbsent:!1,IsAbsentHalfDay:!1,NumberOfHoursWorked:"",OvertimeHours:"",NightDifferentialHours:"",LateHours:"",UndertimeHours:"",DailyPay:"",PremiumPay:"",HolidayPay:"",OvertimePay:"",NightDifferentialPay:"",COLA:"",AdditionalAllowance:"",LateDeduction:"",UndertimeDeduction:"",AbsentDeduction:"",DailyNetPay:"",Remarks:""},this._isProgressBarHidden=!1,this._yesOrNoChoices=[{Value:!1,Display:"NO"},{Value:!0,Display:"YES"}],this._isDTRLineDataLoaded=!0,this._employeeListDropdown=[],this._dateTypeListDropdown=[],this._branchListDropdown=[],this._shiftsListDropdown=[]}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this._title=yield this._caseData.objDialogTitle,console.log(this._caseData.objDTRLine),this.DateTypeListData()}))}DateTypeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._dateTypeDropdownSubscription=yield(yield this._dtrDetialService.DateTypeList()).subscribe(e=>{this._dateTypeListDropdown=e,this._dTRLineModel.DateType=e[0].Value,this.BranchListData(),null!==this._dateTypeDropdownSubscription&&this._dateTypeDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._dateTypeDropdownSubscription&&this._dateTypeDropdownSubscription.unsubscribe()})}))}BranchListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._branchDropdownSubscription=yield(yield this._dtrDetialService.BranchList()).subscribe(e=>{this._branchListDropdown=e,this._dTRLineModel.Branch=e[0].Value,this.ShiftListData(),null!==this._branchDropdownSubscription&&this._branchDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._branchDropdownSubscription&&this._branchDropdownSubscription.unsubscribe()})}))}ShiftListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._shiftsDropdownSubscription=yield(yield this._dtrDetialService.ShiftsList()).subscribe(e=>{this._shiftsListDropdown=e,console.log(this._shiftsListDropdown),this.loadDTRLineDetail(),null!==this._shiftsDropdownSubscription&&this._shiftsDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._shiftsDropdownSubscription&&this._shiftsDropdownSubscription.unsubscribe()})}))}fillLeadingZeroes(e,t){let i=e,n=t-i.length;for(;n>0;)i="0"+i,n--;return i}convertTime(e){if(""==e)return"";const[t,i]=e.split(" ");let[n,o]=t.split(":");return"12"===n&&(n="00"),"PM"===i&&(n=parseInt(n,10)+12),`${this.fillLeadingZeroes(n,2)}:${this.fillLeadingZeroes(o,2)}`}loadDTRLineDetail(){return Object(b.a)(this,void 0,void 0,(function*(){console.log("Case Data",this._caseData.objDTRLine),this._dTRLineModel=yield this._caseData.objDTRLine,this._dTRLineModel.DTRId=yield this._caseData.objDTRLine.DTRId,this._dTRLineModel.ShiftId=yield this._caseData.objDTRLine.ShiftId,this._dTRLineModel.TimeIn1=yield this.convertTime(this._caseData.objDTRLine.TimeIn1),this._dTRLineModel.TimeOut1=yield this.convertTime(this._caseData.objDTRLine.TimeOut1),this._dTRLineModel.TimeIn2=yield this.convertTime(this._caseData.objDTRLine.TimeIn2),this._dTRLineModel.TimeOut2=yield this.convertTime(this._caseData.objDTRLine.TimeOut2),this._dTRLineModel.DTRDate=this._caseData.objDTRLine.DTRDate,this._dTRLineModel.NumberOfHoursWorked=this._decimalPipe.transform(this._caseData.objDTRLine.NumberOfHoursWorked,"1.2-2"),this._dTRLineModel.OvertimeHours=this._decimalPipe.transform(this._caseData.objDTRLine.OvertimeHours,"1.2-2"),this._dTRLineModel.NightDifferentialHours=this._decimalPipe.transform(this._caseData.objDTRLine.NightDifferentialHours,"1.2-2"),this._dTRLineModel.LateHours=this._decimalPipe.transform(this._caseData.objDTRLine.LateHours,"1.2-2"),this._dTRLineModel.UndertimeHours=this._decimalPipe.transform(this._caseData.objDTRLine.UndertimeHours,"1.2-2"),this._dTRLineModel.DailyPay=this._decimalPipe.transform(this._caseData.objDTRLine.DailyPay,"1.2-2"),this._dTRLineModel.PremiumPay=this._decimalPipe.transform(this._caseData.objDTRLine.PremiumPay,"1.2-2"),this._dTRLineModel.HolidayPay=this._decimalPipe.transform(this._caseData.objDTRLine.HolidayPay,"1.2-2"),this._dTRLineModel.OvertimePay=this._decimalPipe.transform(this._dTRLineModel.OvertimePay,"1.2-2"),this._dTRLineModel.NightDifferentialPay=this._decimalPipe.transform(this._caseData.objDTRLine.NightDifferentialPay,"1.2-2"),this._dTRLineModel.COLA=this._decimalPipe.transform(this._caseData.objDTRLine.COLA,"1.2-2"),this._dTRLineModel.AdditionalAllowance=this._decimalPipe.transform(this._caseData.objDTRLine.AdditionalAllowance,"1.2-2"),this._dTRLineModel.LateDeduction=this._decimalPipe.transform(this._caseData.objDTRLine.LateDeduction,"1.2-2"),this._dTRLineModel.UndertimeDeduction=this._decimalPipe.transform(this._caseData.objDTRLine.UndertimeDeduction,"1.2-2"),this._dTRLineModel.AbsentDeduction=this._decimalPipe.transform(this._caseData.objDTRLine.AbsentDeduction,"1.2-2"),this._dTRLineModel.DailyNetPay=this._decimalPipe.transform(this._caseData.objDTRLine.DailyNetPay,"1.2-2"),this._isComponentsHidden=!1}))}ComputeDTRLine(){return Object(b.a)(this,void 0,void 0,(function*(){this._event="Compute",this._isProgressBarHidden=!0,this._computeDTRLineSubscription=(yield this._dtrDetialService.ComputeDTRLine(this._dTRLineModel.Id)).subscribe(e=>{let t=e;null!=t&&(console.log("Compute Data",t),this._dTRLineModel=t,this._dTRLineModel.DTRId=t.DTRId,this._dTRLineModel.ShiftId=t.ShiftId,this._dTRLineModel.TimeIn1=this.convertTime(t.TimeIn1),this._dTRLineModel.TimeOut1=this.convertTime(t.TimeOut1),this._dTRLineModel.TimeIn2=this.convertTime(t.TimeIn2),this._dTRLineModel.TimeOut2=this.convertTime(t.TimeOut2),this._dTRLineModel.DTRDate=t.DTRDate,this._dTRLineModel.NumberOfHoursWorked=this._decimalPipe.transform(t.NumberOfHoursWorked,"1.2-2"),this._dTRLineModel.OvertimeHours=this._decimalPipe.transform(t.OvertimeHours,"1.2-2"),this._dTRLineModel.NightDifferentialHours=this._decimalPipe.transform(t.NightDifferentialHours,"1.2-2"),this._dTRLineModel.LateHours=this._decimalPipe.transform(t.LateHours,"1.2-2"),this._dTRLineModel.UndertimeHours=this._decimalPipe.transform(t.UndertimeHours,"1.2-2"),this._dTRLineModel.DailyPay=this._decimalPipe.transform(t.DailyPay,"1.2-2"),this._dTRLineModel.PremiumPay=this._decimalPipe.transform(t.PremiumPay,"1.2-2"),this._dTRLineModel.HolidayPay=this._decimalPipe.transform(t.HolidayPay,"1.2-2"),this._dTRLineModel.OvertimePay=this._decimalPipe.transform(t.OvertimePay,"1.2-2"),this._dTRLineModel.NightDifferentialPay=this._decimalPipe.transform(t.NightDifferentialPay,"1.2-2"),this._dTRLineModel.COLA=this._decimalPipe.transform(t.COLA,"1.2-2"),this._dTRLineModel.AdditionalAllowance=this._decimalPipe.transform(t.AdditionalAllowance,"1.2-2"),this._dTRLineModel.LateDeduction=this._decimalPipe.transform(t.LateDeduction,"1.2-2"),this._dTRLineModel.UndertimeDeduction=this._decimalPipe.transform(t.UndertimeDeduction,"1.2-2"),this._dTRLineModel.AbsentDeduction=this._decimalPipe.transform(t.AbsentDeduction,"1.2-2"),this._dTRLineModel.DailyNetPay=this._decimalPipe.transform(t.DailyNetPay,"1.2-2")),this._isComponentsHidden=!1,this._isProgressBarHidden=!1,null!==this._computeDTRLineSubscription&&this._computeDTRLineSubscription.unsubscribe()},e=>{this._isComponentsHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._computeDTRLineSubscription&&this._computeDTRLineSubscription.unsubscribe()})}))}DefaultValues(){this._dTRLineModel.DTRId=0,this._dTRLineModel.ShiftId=0,this._dTRLineModel.TimeIn1="",this._dTRLineModel.TimeOut1="",this._dTRLineModel.TimeIn2="",this._dTRLineModel.TimeOut2="",this._dTRLineModel.DTRDate="",this._dTRLineModel.NumberOfHoursWorked="",this._dTRLineModel.OvertimeHours="",this._dTRLineModel.NightDifferentialHours="",this._dTRLineModel.LateHours="",this._dTRLineModel.UndertimeHours="",this._dTRLineModel.DailyPay="",this._dTRLineModel.PremiumPay="",this._dTRLineModel.HolidayPay="",this._dTRLineModel.OvertimePay="",this._dTRLineModel.NightDifferentialPay="",this._dTRLineModel.COLA="",this._dTRLineModel.AdditionalAllowance="",this._dTRLineModel.LateDeduction="",this._dTRLineModel.UndertimeDeduction="",this._dTRLineModel.AbsentDeduction="",this._dTRLineModel.DailyNetPay=""}Close(){this._matDialogRef.close({event:this._event})}ngOnDestroy(){}UpdateDTRLine(){return Object(b.a)(this,void 0,void 0,(function*(){this._event="Update",this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._saveDTRLineSubscription=yield(yield this._dtrDetialService.UpdateTRLine(this._dTRLineModel.Id,this._dTRLineModel)).subscribe(e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Update Successfully"),null!=this._saveDTRLineSubscription&&this._saveDTRLineSubscription.unsubscribe()},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._saveDTRLineSubscription&&this._saveDTRLineSubscription.unsubscribe()}))}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Mm),h.Qb(lr.a),h.Qb(cr),h.Qb(Wa),h.Qb(Ka),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-dtr-detial-dtr-line-detail-dialog"]],decls:223,vars:40,consts:[["mat-dialog-title",""],[3,"color","mode",4,"ngIf"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"margin-left","10px","color","#e56d0a"],[1,"text_box"],["fxLayout","row","fxLayout.xs","column",2,"margin-top","-20px"],["fxFlex","15",2,"margin-left","10px"],["fxFlex","70"],["fxFlex","15",2,"text-align","right","margin-right","10px"],["fxLayout","row","fxLayout.xs","column",2,"margin-top","-5px"],["fxFlex","36",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","16",2,"padding","5px"],["type","time","matInput","",2,"text-align","right",3,"ngModel","ngModelChange"],["fxFlex","16",2,"padding","23px","text-align","start","display","inline"],[2,"width","100%"],["color","primary","disabled","",3,"ngModel","ngModelChange"],[2,"color","gray"],["color","primary",3,"ngModel","ngModelChange"],[2,"max-height","100%"],["tabGroup",""],["label","Detail"],["fxLayout","row","fxLayout.xs","column",2,"height","12.45em"],["fxFlex","25",2,"padding","5px"],["fxFlex","30",1,"regular-detail"],["fxFlex","15"],["fxFlex","55"],["fxFlex","30",1,"deduction"],["fxFlex","25",1,"regular-detail",2,"padding","5px"],["label","Remarks"],["fxFlex","75",2,"padding","5px"],["matInput","","placeholder","AddrRemarksess","rows","6",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],[3,"color","mode"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.xc(2,Pm,1,2,"mat-progress-bar",1),h.Rb(3,"mat-divider"),h.Rb(4,"br"),h.Vb(5,"div",2),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"h2",5),h.Vb(9,"b"),h.yc(10),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",6),h.Vb(12,"div",7),h.Vb(13,"h2",5),h.Vb(14,"b"),h.yc(15),h.Ub(),h.Ub(),h.Ub(),h.Rb(16,"div",8),h.Vb(17,"div",9),h.Vb(18,"h2",5),h.Vb(19,"b"),h.yc(20),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",10),h.Vb(22,"div",11),h.Vb(23,"mat-form-field",12),h.Vb(24,"mat-label"),h.yc(25,"Shift Code"),h.Ub(),h.Vb(26,"mat-select",13),h.dc("ngModelChange",(function(e){return t._dTRLineModel.ShiftId=e})),h.xc(27,Rm,2,2,"mat-option",14),h.Ub(),h.Ub(),h.Ub(),h.Vb(28,"div",15),h.Vb(29,"mat-form-field",12),h.Vb(30,"mat-label"),h.yc(31,"Time In 1"),h.Ub(),h.Vb(32,"input",16),h.dc("ngModelChange",(function(e){return t._dTRLineModel.TimeIn1=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(33,"div",15),h.Vb(34,"mat-form-field",12),h.Vb(35,"mat-label"),h.yc(36,"Time Out 1"),h.Ub(),h.Vb(37,"input",16),h.dc("ngModelChange",(function(e){return t._dTRLineModel.TimeOut1=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(38,"div",15),h.Vb(39,"mat-form-field",12),h.Vb(40,"mat-label"),h.yc(41,"Time In 2"),h.Ub(),h.Vb(42,"input",16),h.dc("ngModelChange",(function(e){return t._dTRLineModel.TimeIn2=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(43,"div",15),h.Vb(44,"mat-form-field",12),h.Vb(45,"mat-label"),h.yc(46,"Time Out 2"),h.Ub(),h.Vb(47,"input",16),h.dc("ngModelChange",(function(e){return t._dTRLineModel.TimeOut2=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(48,"div",3),h.Vb(49,"div",11),h.Vb(50,"mat-form-field",12),h.Vb(51,"mat-label"),h.yc(52,"Date Type"),h.Ub(),h.Vb(53,"mat-select",13),h.dc("ngModelChange",(function(e){return t._dTRLineModel.DateType=e})),h.xc(54,Im,2,2,"mat-option",14),h.Ub(),h.Ub(),h.Ub(),h.Vb(55,"div",17),h.Vb(56,"div",18),h.Vb(57,"mat-checkbox",19),h.dc("ngModelChange",(function(e){return t._dTRLineModel.IsRestDay=e})),h.Vb(58,"span",20),h.yc(59," Rest Day"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(60,"div",17),h.Vb(61,"div",18),h.Vb(62,"mat-checkbox",19),h.dc("ngModelChange",(function(e){return t._dTRLineModel.IsOnLeave=e})),h.Vb(63,"span",20),h.yc(64," On Leave"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(65,"div",17),h.Vb(66,"div",18),h.Vb(67,"mat-checkbox",21),h.dc("ngModelChange",(function(e){return t._dTRLineModel.IsOnOfficialBusiness=e})),h.Vb(68,"span",20),h.yc(69," Official Business"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(70,"div",17),h.Vb(71,"div",18),h.Vb(72,"mat-checkbox",19),h.dc("ngModelChange",(function(e){return t._dTRLineModel.IsAbsent=e})),h.Vb(73,"span",20),h.yc(74," Absent"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(75,"div",3),h.Vb(76,"div",11),h.Vb(77,"mat-form-field",12),h.Vb(78,"mat-label"),h.yc(79,"Branch"),h.Ub(),h.Vb(80,"mat-select",13),h.dc("ngModelChange",(function(e){return t._dTRLineModel.Branch=e})),h.xc(81,Tm,2,2,"mat-option",14),h.Ub(),h.Ub(),h.Ub(),h.Rb(82,"div",15),h.Vb(83,"div",17),h.Vb(84,"div",18),h.Vb(85,"mat-checkbox",19),h.dc("ngModelChange",(function(e){return t._dTRLineModel.IsOnLeaveHalfDay=e})),h.Vb(86,"span",20),h.yc(87," On Leave Half Day"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(88,"div",17),h.Vb(89,"div",18),h.Vb(90,"mat-checkbox",21),h.dc("ngModelChange",(function(e){return t._dTRLineModel.IsOnOfficialBusinessHalfDay=e})),h.Vb(91,"span",20),h.yc(92," Official Business Half Day"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(93,"div",17),h.Vb(94,"div",18),h.Vb(95,"mat-checkbox",19),h.dc("ngModelChange",(function(e){return t._dTRLineModel.IsAbsentHalfDay=e})),h.Vb(96,"span",20),h.yc(97," Absent Half Day"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(98,"mat-tab-group",22,23),h.Vb(100,"mat-tab",24),h.Rb(101,"br"),h.Vb(102,"div",25),h.Vb(103,"div",26),h.Vb(104,"div",8),h.Vb(105,"p"),h.yc(106,"No. Of Hours Worked:"),h.Ub(),h.Vb(107,"p"),h.yc(108,"Overtime Hours:"),h.Ub(),h.Vb(109,"p"),h.yc(110,"Night Differential Hours:"),h.Ub(),h.Vb(111,"p"),h.yc(112,"Late Hours:"),h.Ub(),h.Vb(113,"p"),h.yc(114,"Undertime Hours:"),h.Ub(),h.Ub(),h.Vb(115,"div",27),h.Vb(116,"p"),h.Vb(117,"span"),h.yc(118),h.Ub(),h.Ub(),h.Vb(119,"p"),h.Vb(120,"span"),h.yc(121),h.Ub(),h.Ub(),h.Vb(122,"p"),h.Vb(123,"span"),h.yc(124),h.Ub(),h.Ub(),h.Vb(125,"p"),h.Vb(126,"span"),h.yc(127),h.Ub(),h.Ub(),h.Vb(128,"p"),h.Vb(129,"span"),h.yc(130),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(131,"div",26),h.Vb(132,"div",8),h.Vb(133,"p"),h.yc(134,"Daily Pay:"),h.Ub(),h.Vb(135,"p"),h.yc(136,"Premium Pay:"),h.Ub(),h.Vb(137,"p"),h.yc(138,"Holiday Pay:"),h.Ub(),h.Vb(139,"p"),h.yc(140,"Overtime Pay:"),h.Ub(),h.Vb(141,"p"),h.yc(142,"Night Differential Pay:"),h.Ub(),h.Ub(),h.Vb(143,"div",27),h.Vb(144,"p"),h.Vb(145,"span"),h.yc(146),h.Ub(),h.Ub(),h.Vb(147,"p"),h.Vb(148,"span"),h.yc(149),h.Ub(),h.Ub(),h.Vb(150,"p"),h.Vb(151,"span"),h.yc(152),h.Ub(),h.Ub(),h.Vb(153,"p"),h.Vb(154,"span"),h.yc(155),h.Ub(),h.Ub(),h.Vb(156,"p"),h.Vb(157,"span"),h.yc(158),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(159,"div",26),h.Vb(160,"div",3),h.Vb(161,"div",8),h.Vb(162,"p"),h.yc(163,"COLA:"),h.Ub(),h.Vb(164,"p"),h.yc(165,"Additional Allowance:"),h.Ub(),h.Ub(),h.Vb(166,"div",27),h.Vb(167,"p"),h.Vb(168,"span"),h.yc(169),h.Ub(),h.Ub(),h.Vb(170,"p"),h.Vb(171,"span"),h.yc(172),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(173,"div",3),h.Vb(174,"div",28),h.Vb(175,"p"),h.yc(176,"Less:"),h.Ub(),h.Ub(),h.Vb(177,"div",29),h.Vb(178,"p"),h.yc(179,"Late Deduction:"),h.Ub(),h.Vb(180,"p"),h.yc(181,"Undertime Deduction: "),h.Ub(),h.Vb(182,"p"),h.yc(183,"Absent Deduction:"),h.Ub(),h.Ub(),h.Vb(184,"div",30),h.Vb(185,"p"),h.Vb(186,"span"),h.yc(187),h.Ub(),h.Ub(),h.Vb(188,"p"),h.Vb(189,"span"),h.yc(190),h.Ub(),h.Ub(),h.Vb(191,"p"),h.Vb(192,"span"),h.yc(193),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(194,"div",31),h.Vb(195,"h2"),h.Vb(196,"b"),h.yc(197,"Daily Net Pay:"),h.Ub(),h.yc(198,"\xa0\xa0 P\xa0"),h.Vb(199,"b"),h.yc(200),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(201,"mat-tab",32),h.Rb(202,"br"),h.Vb(203,"div",25),h.Vb(204,"div",33),h.Vb(205,"mat-form-field",12),h.Vb(206,"mat-label"),h.yc(207,"Remarks"),h.Ub(),h.Vb(208,"textarea",34),h.dc("ngModelChange",(function(e){return t._dTRLineModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(209,"mat-divider"),h.Vb(210,"div",35),h.Vb(211,"button",36),h.dc("click",(function(){return t.UpdateDTRLine()})),h.Vb(212,"mat-icon"),h.yc(213,"save"),h.Ub(),h.yc(214," Save "),h.Ub(),h.Vb(215,"button",36),h.dc("click",(function(){return t.ComputeDTRLine()})),h.Vb(216,"mat-icon"),h.yc(217,"calculate"),h.Ub(),h.yc(218," Compute "),h.Ub(),h.Vb(219,"button",37),h.dc("click",(function(){return t.Close()})),h.Vb(220,"mat-icon"),h.yc(221,"close"),h.Ub(),h.yc(222," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t._title,"\n"),h.Eb(1),h.kc("ngIf",t._isProgressBarHidden),h.Eb(3),h.kc("hidden",t._isComponentsHidden),h.Eb(5),h.zc(t._dTRLineModel.Employee),h.Eb(5),h.zc(t._dTRLineModel.DTRDate),h.Eb(5),h.Ac("P ",t._dTRLineModel.DailyNetPay,""),h.Eb(6),h.kc("ngModel",t._dTRLineModel.ShiftId),h.Eb(1),h.kc("ngForOf",t._shiftsListDropdown),h.Eb(5),h.kc("ngModel",t._dTRLineModel.TimeIn1),h.Eb(5),h.kc("ngModel",t._dTRLineModel.TimeOut1),h.Eb(5),h.kc("ngModel",t._dTRLineModel.TimeIn2),h.Eb(5),h.kc("ngModel",t._dTRLineModel.TimeOut2),h.Eb(6),h.kc("ngModel",t._dTRLineModel.DateType),h.Eb(1),h.kc("ngForOf",t._dateTypeListDropdown),h.Eb(3),h.kc("ngModel",t._dTRLineModel.IsRestDay),h.Eb(5),h.kc("ngModel",t._dTRLineModel.IsOnLeave),h.Eb(5),h.kc("ngModel",t._dTRLineModel.IsOnOfficialBusiness),h.Eb(5),h.kc("ngModel",t._dTRLineModel.IsAbsent),h.Eb(8),h.kc("ngModel",t._dTRLineModel.Branch),h.Eb(1),h.kc("ngForOf",t._branchListDropdown),h.Eb(4),h.kc("ngModel",t._dTRLineModel.IsOnLeaveHalfDay),h.Eb(5),h.kc("ngModel",t._dTRLineModel.IsOnOfficialBusinessHalfDay),h.Eb(5),h.kc("ngModel",t._dTRLineModel.IsAbsentHalfDay),h.Eb(23),h.zc(t._dTRLineModel.NumberOfHoursWorked),h.Eb(3),h.zc(t._dTRLineModel.OvertimeHours),h.Eb(3),h.zc(t._dTRLineModel.NightDifferentialHours),h.Eb(3),h.zc(t._dTRLineModel.LateHours),h.Eb(3),h.zc(t._dTRLineModel.UndertimeHours),h.Eb(16),h.zc(t._dTRLineModel.DailyPay),h.Eb(3),h.zc(t._dTRLineModel.PremiumPay),h.Eb(3),h.zc(t._dTRLineModel.HolidayPay),h.Eb(3),h.zc(t._dTRLineModel.OvertimePay),h.Eb(3),h.zc(t._dTRLineModel.NightDifferentialPay),h.Eb(11),h.zc(t._dTRLineModel.COLA),h.Eb(3),h.zc(t._dTRLineModel.AdditionalAllowance),h.Eb(15),h.zc(t._dTRLineModel.LateDeduction),h.Eb(3),h.zc(t._dTRLineModel.UndertimeDeduction),h.Eb(3),h.zc(t._dTRLineModel.AbsentDeduction),h.Eb(7),h.zc(t._dTRLineModel.DailyNetPay),h.Eb(8),h.kc("ngModel",t._dTRLineModel.Remarks))},directives:[ir,l.l,ft,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,vr.b,c.d,Ih,fh,ah,or,v.a,w.a,tr,fr,G.l],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}.deduction[_ngcontent-%COMP%]{color:red;font-weight:600}.regular-detail[_ngcontent-%COMP%]{color:purple;font-weight:600}"]}),e})();class Bm{}const jm=["flexEmployees"];function Hm(e,t){if(1&e){const e=h.Wb();h.Tb(0),h.Vb(1,"div",27),h.Vb(2,"mat-form-field",5),h.Vb(3,"mat-label"),h.yc(4,"Time In 1"),h.Ub(),h.Vb(5,"input",28),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._dTRLines.TimeIn1=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(6,"div",27),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Time Out 1"),h.Ub(),h.Vb(10,"input",28),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._dTRLines.TimeOut1=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",27),h.Vb(12,"mat-form-field",5),h.Vb(13,"mat-label"),h.yc(14,"Time In 2"),h.Ub(),h.Vb(15,"input",28),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._dTRLines.TimeIn2=t})),h.Ub(),h.Ub(),h.Ub(),h.Vb(16,"div",27),h.Vb(17,"mat-form-field",5),h.Vb(18,"mat-label"),h.yc(19,"Time Out 2"),h.Ub(),h.Vb(20,"input",28),h.dc("ngModelChange",(function(t){return h.rc(e),h.hc()._dTRLines.TimeOut2=t})),h.Ub(),h.Ub(),h.Ub(),h.Sb()}if(2&e){const e=h.hc();h.Eb(5),h.kc("ngModel",e._dTRLines.TimeIn1)("disabled",e.disableComponentOnInsert),h.Eb(5),h.kc("ngModel",e._dTRLines.TimeOut1)("disabled",e.disableComponentOnInsert),h.Eb(5),h.kc("ngModel",e._dTRLines.TimeIn2)("disabled",e.disableComponentOnInsert),h.Eb(5),h.kc("ngModel",e._dTRLines.TimeOut2)("disabled",e.disableComponentOnInsert)}}function Fm(e,t){1&e&&h.Rb(0,"mat-progress-bar",29),2&e&&h.kc("color","primary")("mode","indeterminate")}function Nm(e,t){if(1&e){const e=h.Wb();h.Vb(0,"input",30),h.dc("ngModelChange",(function(i){return h.rc(e),t.row.isSelected=i}))("change",(function(t){return h.rc(e),h.hc().rowHeaderClicked(t)}))("click",(function(){return h.rc(e),h.hc().headerClick()})),h.Ub()}if(2&e){const e=t.row,i=h.hc();h.kc("ngModel",e.isSelected)("disabled",i.disableComponentOnInsert)}}function zm(e,t){if(1&e){const e=h.Wb();h.Vb(0,"input",31),h.dc("click",(function(t){return h.rc(e),h.hc().topLeftClicked(t)})),h.Ub()}if(2&e){const e=h.hc();h.kc("disabled",e.disableComponentOnInsert)}}let Gm=(()=>{class e{constructor(e,t,i,n,o,a){this._dtrDetialService=e,this._snackBar=t,this._snackBarTemplate=i,this._matDialogRef=n,this._caseData=o,this.datePipe=a,this._dTRLines={DailyTimeRecordModel:new Bm,EmployeeList:[],UseEmployeeDefaultShift:!1,StartDate:"",EndDate:"",TimeIn1:"",TimeOut1:"",TimeIn2:"",TimeOut2:""},this._dTRModel={Id:0,DTRNumber:"",DTRDate:"",PayrollGroup:"",YearId:0,Year:"",DateStart:"",DateEnd:"",OTId:0,OT:"",LAId:0,LA:"",CSId:0,CS:"",Remarks:"",PreparedByUserId:0,PreparedByUser:"",CheckedByUserId:0,CheckedByUser:"",ApprovedByUserId:0,ApprovedByUser:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:this.datePipe.transform(new Date,"yyyy-MM-dd"),UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:this.datePipe.transform(new Date,"yyyy-MM-dd"),IsLocked:!1},this._dTRLineModel={Id:0,DTRId:0,EmployeeId:0,Employee:"",DTRDate:this.datePipe.transform(new Date,"yyyy-MM-dd"),DateType:"",IsRestDay:!1,ShiftId:0,Shift:"",Branch:"",TimeIn1:"",TimeOut1:"",TimeIn2:"",TimeOut2:"",IsOnLeave:!1,IsOnLeaveHalfDay:!1,IsOnOfficialBusiness:!1,IsOnOfficialBusinessHalfDay:!1,IsAbsent:!1,IsAbsentHalfDay:!1,NumberOfHoursWorked:"",OvertimeHours:"",NightDifferentialHours:"",LateHours:"",UndertimeHours:"",DailyPay:"",PremiumPay:"",HolidayPay:"",OvertimePay:"",NightDifferentialPay:"",COLA:"",AdditionalAllowance:"",LateDeduction:"",UndertimeDeduction:"",AbsentDeduction:"",DailyNetPay:"",Remarks:""},this._title="",this._isComponentsShown=!0,this.disableComponentOnInsert=!1,this._isDTRLineDataLoaded=!0,this._useDefaultShift=[{Value:!1,Display:"NO"},{Value:!0,Display:"YES"}],this._isEployeeDefaultShift=!1,this.UIDateStart=new Date,this.UIDateEnd=new Date,this._cboShowNumberOfRows=new na,this._listPageIndex=15,this._listEmployeeObservableArray=new na,this._listEmployeeCollectionView=new oa(this._listEmployeeObservableArray),this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._isEmployeeListAuthorized=!1,this._listEmployeeCollectionViewSize=0}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this._title=yield this._caseData.objDialogTitle,this._dTRModel=this._caseData.objData,this._dTRLines.StartDate=this.datePipe.transform(this._caseData.objData.DateStart,"yyyy-MM-dd"),this._dTRLines.EndDate=this.datePipe.transform(this._caseData.objData.DateEnd,"yyyy-MM-dd"),this.UIDateStart=yield this._caseData.objDateStart,this.UIDateEnd=yield this._caseData.objDateEnd,this.Create_cboShowNumberOfRows(),this.GetEmployeeData()}))}Create_cboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._cboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this._listEmployeeCollectionView.pageSize=this._listPageIndex,this._listEmployeeCollectionView.refresh(),this._listEmployeeCollectionView.refresh()}GetEmployeeData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listEmployeeObservableArray=new na,this._listEmployeeCollectionView=new oa(this._listEmployeeObservableArray),this._listEmployeeCollectionView.pageSize=8,this._listEmployeeCollectionView.trackChanges=!0,yield this._listEmployeeCollectionView.refresh(),yield this.flexEmployees.refresh(),this._isProgressBarHidden=!0,this._isComponentsShown=!0,this._employeeListSubscription=yield(yield this._dtrDetialService.EmployeeList(this._dTRModel.PayrollGroup)).subscribe(e=>{var t=e;t.length>0&&(this._employees=t,this._listEmployeeObservableArray=t,this._listEmployeeCollectionView=new oa(this._listEmployeeObservableArray),this._listEmployeeCollectionView.trackChanges=!0,this._listEmployeeCollectionView.refresh(),this.flexEmployees.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._isComponentsShown=!1,null!=this._employeeListSubscription&&this._employeeListSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!=this._employeeListSubscription&&this._employeeListSubscription.unsubscribe()})}))}headerClick(){}topLeftClicked(e){let t=e.target.checked;this.flexEmployees.beginUpdate();for(let i=0;i<this.flexEmployees.rows.length;i++)this.flexEmployees.rows[i].isSelected=t;this.flexEmployees.endUpdate()}rowHeaderClicked(e){let t=this._getTotalSelectedRows(this.flexEmployees),i=t>0,n=t>0&&this.flexEmployees.rows.length>t,o=this.flexEmployees.topLeftCells.getCellElement(0,0).querySelector("input");o.checked=i,o.indeterminate=n}_getTotalSelectedRows(e){let t=0;for(let i=0;i<e.rows.length;i++)e.rows[i].isSelected&&t++;return t}selectRow(){let e=this._getTotalSelectedRows(this.flexEmployees),t=e>0,i=e>0&&this.flexEmployees.rows.length>e,n=this.flexEmployees.topLeftCells.getCellElement(0,0).querySelector("input");n.checked=t,n.indeterminate=i}selectRows(){var e;e=this._listEmployeeCollectionView;for(var t=0;t<e.pageCount;t++)for(var i=0;i<e.items.length;i++)e.items[i].isSelected=!0}Close(){this._matDialogRef.close({event:"Close"})}CloseOnSave(e){this._matDialogRef.close({event:e})}Save(){this._dTRLines.EmployeeList=this.flexEmployees.selectedItems,this._dTRLines.DailyTimeRecordModel=this._dTRModel,console.log(this.flexEmployees.selectedItems),this.SaveDTRLine()}SaveDTRLine(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableComponentOnInsert=!0,1==this._isDTRLineDataLoaded&&(this._isDTRLineDataLoaded=!1,this._isProgressBarHidden=!0,this._addDTRLineSubscription=yield(yield this._dtrDetialService.ADDTRLine(this._dTRLines)).subscribe(e=>{this._isDTRLineDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully"),this.disableComponentOnInsert=!1,this._isProgressBarHidden=!1,this._isDTRLineDataLoaded=!0,this.CloseOnSave("Add"),null!=this._addDTRLineSubscription&&this._addDTRLineSubscription.unsubscribe()},e=>{this._isDTRLineDataLoaded=!0,this.disableComponentOnInsert=!1,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addDTRLineSubscription&&this._addDTRLineSubscription.unsubscribe()}))}))}UseEmployeeDefaultShift(e){this._isComponentsShown=e}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Mm),h.Qb(lr.a),h.Qb(cr),h.Qb(Wa),h.Qb(Ka),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-dtr-detail-dtr-line-add-dialog"]],viewQuery:function(e,t){var i;1&e&&h.Ec(jm,!0),2&e&&h.pc(i=h.ec())&&(t.flexEmployees=i.first)},decls:53,vars:44,consts:[["mat-dialog-title",""],[3,"hidden"],["mat-dialog-content","",2,"max-height","40x"],["fxLayout","row","fxLayout.xs","column",2,"margin-top","15px"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","readonly","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","","disabled","",3,"for"],["color","primary"],["datePickerDateStart",""],["datePickerDateEnd",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","-10px"],["fxFlex","40",2,"padding","23px","text-align","start","display","inline"],[2,"width","100%","border","gray 1px !important","height","50px"],["color","primary",3,"ngModel","ngModelChange"],[2,"color","gray"],[4,"ngIf"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100"],[3,"color","mode",4,"ngIf"],[2,"max-height","250px",3,"itemsSource","selectionMode","frozenColumns"],["flexEmployees",""],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"disabled","click"],["fxFlex","15",2,"padding","5px"],["type","time","matInput","",2,"text-align","right",3,"ngModel","disabled","ngModelChange"],[3,"color","mode"],["type","checkbox",3,"ngModel","disabled","ngModelChange","change","click"],["type","checkbox",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Rb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"DateStart"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t.UIDateStart=e})),h.Ub(),h.Rb(11,"mat-datepicker-toggle",7),h.Rb(12,"mat-datepicker",8,9),h.Ub(),h.Ub(),h.Vb(14,"div",4),h.Vb(15,"mat-form-field",5),h.Vb(16,"mat-label"),h.yc(17,"Date End"),h.Ub(),h.Vb(18,"input",6),h.dc("ngModelChange",(function(e){return t.UIDateEnd=e})),h.Ub(),h.Rb(19,"mat-datepicker-toggle",7),h.Rb(20,"mat-datepicker",8,10),h.Ub(),h.Ub(),h.Ub(),h.Vb(22,"div",11),h.Vb(23,"div",12),h.Vb(24,"div",13),h.Vb(25,"mat-checkbox",14),h.dc("ngModelChange",(function(e){return t._dTRLines.UseEmployeeDefaultShift=e}))("ngModelChange",(function(){return t.UseEmployeeDefaultShift(t._dTRLines.UseEmployeeDefaultShift)})),h.Vb(26,"span",15),h.yc(27," Use Employee's Default Shift "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.xc(28,Hm,21,8,"ng-container",16),h.Ub(),h.Vb(29,"div",17),h.Vb(30,"div",18),h.xc(31,Fm,1,2,"mat-progress-bar",19),h.Vb(32,"wj-flex-grid",20,21),h.Rb(34,"wj-flex-grid-filter"),h.xc(35,Nm,1,2,"ng-template",22),h.xc(36,zm,1,1,"ng-template",22),h.Rb(37,"wj-flex-grid-column",23),h.Rb(38,"wj-flex-grid-column",23),h.Rb(39,"wj-flex-grid-column",23),h.Rb(40,"wj-flex-grid-column",23),h.Rb(41,"wj-flex-grid-column",23),h.Rb(42,"wj-flex-grid-column",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(43,"mat-divider"),h.Vb(44,"div",24),h.Vb(45,"button",25),h.dc("click",(function(){return t.Save()})),h.Vb(46,"mat-icon"),h.yc(47,"save"),h.Ub(),h.yc(48," Add "),h.Ub(),h.Vb(49,"button",26),h.dc("click",(function(){return t.Close()})),h.Vb(50,"mat-icon"),h.yc(51,"close"),h.Ub(),h.yc(52," Cancel "),h.Ub(),h.Ub()),2&e){const e=h.qc(13),i=h.qc(21);h.Eb(1),h.Ac(" ",t._title,"\n"),h.Eb(2),h.kc("hidden",t._isComponentsShown),h.Eb(7),h.kc("matDatepicker",e)("ngModel",t.UIDateStart),h.Eb(1),h.kc("for",e),h.Eb(7),h.kc("matDatepicker",i)("ngModel",t.UIDateEnd),h.Eb(1),h.kc("for",i),h.Eb(6),h.kc("ngModel",t._dTRLines.UseEmployeeDefaultShift),h.Eb(3),h.kc("ngIf",!t._isComponentsShown),h.Eb(3),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listEmployeeCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("cellType","RowHeader"),h.Eb(1),h.kc("cellType","TopLeft"),h.Eb(1),h.kc("header","ID")("binding","IdNumber")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Biometric ID")("binding","BiometricIdNumber")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Full Name")("binding","FullName")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Position")("binding","Position")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Branch")("binding","Branch")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Department")("binding","Department")("isReadOnly",!0)("width","2*"),h.Eb(3),h.kc("disabled",t.disableComponentOnInsert),h.Eb(4),h.kc("disabled",t.disableComponentOnInsert)}},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,Ih,l.l,cl,Vl,ul,hl,or,v.a,w.a,tr,fr,c.a],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})();const Ym=["flexDTRLine"];function Qm(e,t){1&e&&h.Rb(0,"mat-progress-bar",53),2&e&&h.kc("color","primary")("mode","indeterminate")}function Wm(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function qm(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Km(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function $m(e,t){if(1&e&&(h.Vb(0,"mat-option",55),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Jm(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Zm(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Xm(e,t){1&e&&h.Rb(0,"mat-progress-bar",56),2&e&&h.kc("color","primary")("mode","indeterminate")}function ef(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",59),h.dc("click",(function(){return h.rc(e),h.hc(2).EditDTRLine()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function tf(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",57),h.xc(1,ef,4,0,"ng-template",58),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function nf(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",60),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeleteDTRLine()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function of(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",57),h.xc(1,nf,4,0,"ng-template",58),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function af(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",61),h.dc("click",(function(){return h.rc(e),h.hc().AddDTRLineDialog()})),h.Vb(1,"mat-icon"),h.yc(2,"add"),h.Ub(),h.yc(3," ADD "),h.Ub(),h.Rb(4,"br")}if(2&e){const e=h.hc();h.kc("disabled",e._btnAddDTRLineDisabled)}}let rf=(()=>{class e{constructor(e,t,i,n,o,a,r,s){this._dtrDetialService=e,this._activatedRoute=t,this._snackBar=i,this._snackBarTemplate=n,this._addDTRLinesatDialogRef=o,this._updateDTRLineDialogRef=a,this._deleteDTRLineDialogRef=r,this.datePipe=s,this._isProgressBarHidden=!1,this._isComponentsShown=!0,this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isDataLoaded=!1,this._isLocked=!1,this._payrollGroupListDropdown=[],this._yearListDropdown=[],this._oTListDropdown=[],this._lAListDropdown=[],this._prepareByListDropdown=[],this._checkedByListDropdown=[],this._approvedByListDropdown=[],this._cSListDropdown=[],this._userListDropdown=[],this._dTRModel={Id:0,DTRNumber:"",DTRDate:"",PayrollGroup:"",YearId:0,Year:"",DateStart:"",DateEnd:"",OTId:0,OT:"",LAId:0,LA:"",CSId:0,CS:"",Remarks:"",PreparedByUserId:0,PreparedByUser:"",CheckedByUserId:0,CheckedByUser:"",ApprovedByUserId:0,ApprovedByUser:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:"",UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:"",IsLocked:!1},this.UIDTRDate=new Date,this.UIDateStart=new Date,this.UIDateEnd=new Date,this._dTRLineModel={Id:0,DTRId:0,EmployeeId:0,Employee:"",DTRDate:"",DateType:"",IsRestDay:!1,ShiftId:0,Shift:"",Branch:"",TimeIn1:"0:00",TimeOut1:"0:00",TimeIn2:"0:00",TimeOut2:"0:00",IsOnLeave:!1,IsOnLeaveHalfDay:!1,IsOnOfficialBusiness:!1,IsOnOfficialBusinessHalfDay:!1,IsAbsent:!1,IsAbsentHalfDay:!1,NumberOfHoursWorked:"0.00",OvertimeHours:"0.00",NightDifferentialHours:"0.00",LateHours:"0.00",UndertimeHours:"0.00",DailyPay:"0.00",PremiumPay:"0.00",HolidayPay:"0.00",OvertimePay:"0.00",NightDifferentialPay:"0.00",COLA:"0.00",AdditionalAllowance:"0.00",LateDeduction:"0.00",UndertimeDeduction:"0.00",AbsentDeduction:"0.00",DailyNetPay:"0.00",Remarks:""},this._listDTRLineObservableArray=new na,this._listDTRLineCollectionView=new oa(this._listDTRLineObservableArray),this._listPageIndex=15,this._isDTRLineProgressBarHidden=!1,this._isDTRLineDataLoaded=!1,this._btnAddDTRLineDisabled=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.PayrollGroupListData()}))}PayrollGroupListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=(yield this._dtrDetialService.PayrollGroupList()).subscribe(e=>{this._payrollGroupListDropdown=e,this.YearCodeListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()})}))}YearCodeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearDropdownSubscription=(yield this._dtrDetialService.YearList()).subscribe(e=>{this._yearListDropdown=e,this.OTListData(),null!==this._yearDropdownSubscription&&this._yearDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearDropdownSubscription&&this._yearDropdownSubscription.unsubscribe()})}))}OTListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._oTDropdownSubscription=yield(yield this._dtrDetialService.OTList()).subscribe(e=>{this._oTListDropdown=e,this.LSListData(),null!==this._oTDropdownSubscription&&this._oTDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._oTDropdownSubscription&&this._oTDropdownSubscription.unsubscribe()})}))}LSListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._lADropdownSubscription=yield(yield this._dtrDetialService.LAList()).subscribe(e=>{this._lAListDropdown=e,this.CSListData(),null!==this._lADropdownSubscription&&this._lADropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._lADropdownSubscription&&this._lADropdownSubscription.unsubscribe()})}))}CSListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._cSDropdownSubscription=yield(yield this._dtrDetialService.CSList()).subscribe(e=>{this._cSListDropdown=e,this.UserListData(),null!==this._cSDropdownSubscription&&this._cSDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._cSDropdownSubscription&&this._cSDropdownSubscription.unsubscribe()})}))}UserListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._userDropdownSubscription=yield(yield this._dtrDetialService.UserList()).subscribe(e=>{this._userListDropdown=e,this.GetDTRDetail(),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()})}))}GetDTRDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=0;this._activatedRoute.params.subscribe(t=>{e=t.id}),this._isComponentsShown=!0,this._isProgressBarHidden=!0,this.DisableButtons(),this._dTRDetailSubscription=yield(yield this._dtrDetialService.DTRDetail(e)).subscribe(e=>{let t=e;console.log(e),null!=t&&(this._dTRModel=t,this.UIDTRDate=new Date(t.DTRDate),this.UIDateStart=new Date(t.DateStart),this.UIDateEnd=new Date(t.DateEnd),this._dTRLineModel.DTRId=t.Id),this.loadComponent(t.IsLocked),this.GetDTRLineListData(),this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._isComponentsShown=!1,null!==this._dTRDetailSubscription&&this._dTRDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._dTRDetailSubscription&&this._dTRDetailSubscription.unsubscribe()})}))}GetUIDATEDTRDate(){this._dTRModel.DTRDate=this.datePipe.transform(this.UIDTRDate,"yyyy-MM-dd"),console.log(this._dTRModel.DTRDate)}GetUIDATEDateStart(){this._dTRModel.DateStart=this.datePipe.transform(this.UIDateStart,"yyyy-MM-dd"),console.log(this._dTRModel.DateStart)}GetUIDATEDateEnd(){this._dTRModel.DateEnd=this.datePipe.transform(this.UIDateEnd,"yyyy-MM-dd"),console.log(this._dTRModel.DateEnd)}SaveDTRDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._saveDTRDetailSubscription=(yield this._dtrDetialService.SaveDTR(this._dTRModel.Id,this._dTRModel)).subscribe(e=>{this.loadComponent(this._dTRModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._saveDTRDetailSubscription&&this._saveDTRDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._dTRModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._saveDTRDetailSubscription&&this._saveDTRDetailSubscription.unsubscribe()}))}))}LockDTRDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._lockDTRDetailSubscription=yield(yield this._dtrDetialService.LockDTR(this._dTRModel.Id,this._dTRModel)).subscribe(e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Lock Successfully."),null!==this._lockDTRDetailSubscription&&this._lockDTRDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._lockDTRDetailSubscription&&this._lockDTRDetailSubscription.unsubscribe()}))}))}UnlockDTRDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._unlockDTRDetailSubscription=yield(yield this._dtrDetialService.UnlockDTR(this._dTRModel.Id)).subscribe(e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Unlock Successfully."),null!==this._unlockDTRDetailSubscription&&this._unlockDTRDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._unlockDTRDetailSubscription&&this._unlockDTRDetailSubscription.unsubscribe()}))}))}loadComponent(e){this._btnAddDTRLineDisabled=e,this._btnSaveDisabled=e,this._btnLockisabled=e,this._btnUnlockDisabled=!e,this._isLocked=e,this._isProgressBarHidden=!1}DisableButtons(){this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isProgressBarHidden=!0}activeTab(){}GetDTRLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listDTRLineObservableArray=new na,this._listDTRLineCollectionView=new oa(this._listDTRLineObservableArray),this._listDTRLineCollectionView.pageSize=15,this._listDTRLineCollectionView.trackChanges=!0,yield this._listDTRLineCollectionView.refresh(),yield this.flexDTRLine.refresh(),this._isDTRLineProgressBarHidden=!0,this._dTRLineListSubscription=yield(yield this._dtrDetialService.DTRLineList(this._dTRModel.Id)).subscribe(e=>{e.length>0&&(this._listDTRLineObservableArray=e,this._listDTRLineCollectionView=new oa(this._listDTRLineObservableArray),this._listDTRLineCollectionView.pageSize=15,this._listDTRLineCollectionView.trackChanges=!0,this._listDTRLineCollectionView.refresh(),this.flexDTRLine.refresh()),this._isDTRLineDataLoaded=!0,this._isDTRLineProgressBarHidden=!1,null!==this._dTRLineListSubscription&&this._dTRLineListSubscription.unsubscribe()},e=>{this._isDTRLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._dTRLineListSubscription&&this._dTRLineListSubscription.unsubscribe()})}))}AddDTRLine(){this.DetailDTRLine(this._dTRLineModel,"Add DTR Line")}EditDTRLine(){let e=this._listDTRLineCollectionView.currentItem,t={Id:e.Id,DTRId:e.DTRId,EmployeeId:e.EmployeeId,Employee:e.Employee,DTRDate:e.DTRDate,DateType:e.DateType,IsRestDay:e.IsRestDay,ShiftId:e.ShiftId,Shift:e.Shift,Branch:e.Branch,TimeIn1:e.TimeIn1,TimeOut1:e.TimeOut1,TimeIn2:e.TimeIn2,TimeOut2:e.TimeOut2,IsOnLeave:e.IsOnLeave,IsOnLeaveHalfDay:e.IsOnLeaveHalfDay,IsOnOfficialBusiness:e.IsOnOfficialBusiness,IsOnOfficialBusinessHalfDay:e.IsOnOfficialBusinessHalfDay,IsAbsent:e.IsAbsent,IsAbsentHalfDay:e.IsAbsentHalfDay,NumberOfHoursWorked:this.RemoveComma(e.NumberOfHoursWorked),OvertimeHours:this.RemoveComma(e.OvertimeHours),NightDifferentialHours:this.RemoveComma(e.NightDifferentialHours),LateHours:this.RemoveComma(e.LateHours),UndertimeHours:this.RemoveComma(e.UndertimeHours),DailyPay:this.RemoveComma(e.DailyPay),PremiumPay:this.RemoveComma(e.PremiumPay),HolidayPay:this.RemoveComma(e.HolidayPay),OvertimePay:this.RemoveComma(e.OvertimePay),NightDifferentialPay:this.RemoveComma(e.NightDifferentialPay),COLA:this.RemoveComma(e.COLA),AdditionalAllowance:this.RemoveComma(e.AdditionalAllowance),LateDeduction:this.RemoveComma(e.LateDeduction),UndertimeDeduction:this.RemoveComma(e.UndertimeDeduction),AbsentDeduction:this.RemoveComma(e.AbsentDeduction),DailyNetPay:this.RemoveComma(e.DailyNetPay),Remarks:e.Remarks};this.DetailDTRLine(t,"Edit DTR Line Detail")}RemoveComma(e){return e.toString().replace(",","")}DeleteDTRLine(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listDTRLineCollectionView.currentItem;this._isProgressBarHidden=!0,1==this._isDTRLineDataLoaded&&(this._isDTRLineDataLoaded=!1,this._deleteDTRLineSubscription=yield(yield this._dtrDetialService.DeleteDTRLine(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetDTRLineListData(),this._isProgressBarHidden=!1,this._isDTRLineDataLoaded=!0},e=>{this._isDTRLineDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteDTRLineSubscription&&this._deleteDTRLineSubscription.unsubscribe()}))}))}ComfirmDeleteDTRLine(){this._deleteDTRLineDialogRef.open(sr,{width:"500px",data:{objDialogTitle:"Delete DTRLine",objComfirmationMessage:` Delete ${this._listDTRLineCollectionView.currentItem.Employee} DTR?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteDTRLine()})}AddDTRLineDialog(){return Object(b.a)(this,void 0,void 0,(function*(){this._addDTRLinesatDialogRef.open(Gm,{width:"1200px",data:{objDialogTitle:"Add DTR Lines",objData:this._dTRModel,objDateStart:this.UIDateStart,objDateEnd:this.UIDateEnd},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetDTRLineListData()})}))}DetailDTRLine(e,t){null!==this._dTRLineListSubscription&&this._dTRLineListSubscription.unsubscribe(),this._updateDTRLineDialogRef.open(Am,{width:"1300px",data:{objDialogTitle:t,objDTRLine:e},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetDTRLineListData()})}ngOnDestroy(){}UpdateDTRLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){1==this._isDataLoaded&&(this._isDataLoaded=!1,this._saveDTRLineSubscription=yield(yield this._dtrDetialService.UpdateTRLine(e,t)).subscribe(e=>{this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Update Successfully"),this.GetDTRLineListData(),null!=this._saveDTRLineSubscription&&this._saveDTRLineSubscription.unsubscribe()},e=>{this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._saveDTRLineSubscription&&this._saveDTRLineSubscription.unsubscribe()}))}))}selectedCheckedByUser(e){this._dTRModel.CheckedByUserId=e.source.value,this._dTRModel.CheckedByUser=e.source.selected.viewValue}selectedApprovedByUser(e){this._dTRModel.ApprovedByUserId=e.source.value,this._dTRModel.ApprovedByUser=e.source.selected.viewValue}btnCSVClick(){var e=this.generateCSV(),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.setAttribute("download","dtr.csv"),i.click()}generateCSV(){var e,t="";if(e=this._listDTRLineCollectionView,""!=(t="Daily Time Record\r\n\n")){var i='"DTR ID","LANumber","LADate","PayrollGroup","Year","DateStart","Year","DateEnd","OT","LA","CS","Remarks","PreparedByUser","CheckedByUser","ApprovedByUser",';for(var n in e.items[0])i+=n+",";t+=(i=i.slice(0,-1))+"\r\n",e.moveToFirstPage();for(var o=0;o<e.pageCount;o++){for(var a=0;a<e.items.length;a++){var r='"'+this._dTRModel.Id+'","'+this._dTRModel.DTRNumber+'","'+this._dTRModel.DTRDate+'","'+this._dTRModel.PayrollGroup+'","'+this._dTRModel.Year+'","'+this._dTRModel.DateStart+'","'+this._dTRModel.DateEnd+'","'+this._dTRModel.OT+'","'+this._dTRModel.LA+'","'+this._dTRModel.CS+'","'+this._dTRModel.Remarks+'","'+this._dTRModel.PreparedByUser+'","'+this._dTRModel.CheckedByUser+'","'+this._dTRModel.ApprovedByUser+'",';for(var n in e.items[a])r+='"'+e.items[a][n]+'",';r.slice(0,r.length-1),t+=r+"\r\n"}e.moveToNextPage()}}return new Blob([t],{type:"text/csv;charset=utf-8;"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Mm),h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(Xa),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-dtr-detail"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Ym,!0),2&e&&h.pc(i=h.ec())&&(t.flexDTRLine=i.first)},decls:210,vars:183,consts:[["src","../../../../assets/menu-icons/DTR.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","color","accent","id","btnAddEmployee",2,"margin","5px",3,"disabled","click"],["mat-flat-button","","routerLink","/software/DTR-list","color","warn",2,"margin-right","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","60",2,"padding","5px"],["fxFlex","33",2,"padding","5px","margin-top","3px"],[1,"text_box"],["fxFlex","34",2,"padding","5px","margin-top","3px"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","readonly","ngModelChange","dateInput"],["matSuffix","",3,"for","disabled"],["color","primary"],["datePickerDTRDate",""],["datePickerDateStart",""],["fxFlex","34",2,"padding","5px"],["datePickerDateEnd",""],[3,"ngModel","ngModelChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["disabled","",3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","selectionChange"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","AddrRemarksess","rows","5",2,"min-height","102px",3,"ngModel","readonly","ngModelChange"],[1,"detail-tab",2,"max-height","100%",3,"selectedTabChange"],["tabGroup",""],["label","DTR Line"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexDTRLine",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","50",2,"padding","5px"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[2,"width","100%",3,"color","mode"],[3,"disabled","value"],["disabled","",3,"value"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditDTRLine",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 DTR Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SaveDTRDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockDTRDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockDTRDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.dc("click",(function(){return t.btnCSVClick()})),h.Vb(18,"mat-icon"),h.yc(19,"get_app"),h.Ub(),h.yc(20," CSV "),h.Ub(),h.Vb(21,"button",4),h.Vb(22,"mat-icon"),h.yc(23,"close"),h.Ub(),h.yc(24," Close "),h.Ub(),h.Ub(),h.xc(25,Qm,1,2,"mat-progress-bar",5),h.Vb(26,"div",6),h.Vb(27,"div",7),h.Vb(28,"div",8),h.Vb(29,"div",9),h.Vb(30,"div",8),h.Vb(31,"div",10),h.Vb(32,"h2",11),h.Vb(33,"b"),h.yc(34),h.Ub(),h.Ub(),h.Ub(),h.Vb(35,"div",10),h.Vb(36,"h2",11),h.Vb(37,"b"),h.yc(38),h.Ub(),h.Ub(),h.Ub(),h.Vb(39,"div",12),h.Vb(40,"h2",11),h.Vb(41,"b"),h.yc(42),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(43,"div",8),h.Vb(44,"div",13),h.Vb(45,"mat-form-field",14),h.Vb(46,"mat-label"),h.yc(47,"Date"),h.Ub(),h.Vb(48,"input",15),h.dc("ngModelChange",(function(e){return t.UIDTRDate=e}))("dateInput",(function(){return t.GetUIDATEDTRDate()})),h.Ub(),h.Rb(49,"mat-datepicker-toggle",16),h.Rb(50,"mat-datepicker",17,18),h.Ub(),h.Ub(),h.Vb(52,"div",13),h.Vb(53,"mat-form-field",14),h.Vb(54,"mat-label"),h.yc(55,"DateStart"),h.Ub(),h.Vb(56,"input",15),h.dc("ngModelChange",(function(e){return t.UIDateStart=e}))("dateInput",(function(){return t.GetUIDATEDateStart()})),h.Ub(),h.Rb(57,"mat-datepicker-toggle",16),h.Rb(58,"mat-datepicker",17,19),h.Ub(),h.Ub(),h.Vb(60,"div",20),h.Vb(61,"mat-form-field",14),h.Vb(62,"mat-label"),h.yc(63,"Date End"),h.Ub(),h.Vb(64,"input",15),h.dc("ngModelChange",(function(e){return t.UIDateEnd=e}))("dateInput",(function(){return t.GetUIDATEDateEnd()})),h.Ub(),h.Rb(65,"mat-datepicker-toggle",16),h.Rb(66,"mat-datepicker",17,21),h.Ub(),h.Ub(),h.Ub(),h.Vb(68,"div",8),h.Vb(69,"div",13),h.Vb(70,"mat-form-field",14),h.Vb(71,"mat-label"),h.yc(72,"Over Time"),h.Ub(),h.Vb(73,"mat-select",22),h.dc("ngModelChange",(function(e){return t._dTRModel.YearId=e})),h.xc(74,Wm,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(75,"div",13),h.Vb(76,"mat-form-field",14),h.Vb(77,"mat-label"),h.yc(78,"Leave Application"),h.Ub(),h.Vb(79,"mat-select",22),h.dc("ngModelChange",(function(e){return t._dTRModel.LAId=e})),h.xc(80,qm,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(81,"div",20),h.Vb(82,"mat-form-field",14),h.Vb(83,"mat-label"),h.yc(84,"Change Shift"),h.Ub(),h.Vb(85,"mat-select",22),h.dc("ngModelChange",(function(e){return t._dTRModel.CSId=e})),h.xc(86,Km,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(87,"div",9),h.Vb(88,"div",8),h.Vb(89,"div",13),h.Vb(90,"mat-form-field",14),h.Vb(91,"mat-label"),h.yc(92,"Prepared By"),h.Ub(),h.Vb(93,"mat-select",22),h.dc("ngModelChange",(function(e){return t._dTRModel.PreparedByUserId=e})),h.xc(94,$m,2,2,"mat-option",24),h.Ub(),h.Ub(),h.Ub(),h.Vb(95,"div",13),h.Vb(96,"mat-form-field",14),h.Vb(97,"mat-label"),h.yc(98,"Checked By"),h.Ub(),h.Vb(99,"mat-select",25),h.dc("ngModelChange",(function(e){return t._dTRModel.CheckedByUserId=e}))("selectionChange",(function(e){return t.selectedCheckedByUser(e)})),h.xc(100,Jm,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Vb(101,"div",20),h.Vb(102,"mat-form-field",14),h.Vb(103,"mat-label"),h.yc(104,"Approved By"),h.Ub(),h.Vb(105,"mat-select",25),h.dc("ngModelChange",(function(e){return t._dTRModel.ApprovedByUserId=e}))("selectionChange",(function(e){return t.selectedApprovedByUser(e)})),h.xc(106,Zm,2,3,"mat-option",23),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(107,"div",8),h.Vb(108,"div",26),h.Vb(109,"mat-form-field",14),h.Vb(110,"mat-label"),h.yc(111,"Remarks"),h.Ub(),h.Vb(112,"textarea",27),h.dc("ngModelChange",(function(e){return t._dTRModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(113,"mat-tab-group",28,29),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(115,"mat-tab",30),h.xc(116,Xm,1,2,"mat-progress-bar",31),h.Vb(117,"wj-flex-grid",32,33),h.Rb(119,"wj-flex-grid-filter"),h.xc(120,tf,2,3,"wj-flex-grid-column",34),h.xc(121,of,2,3,"wj-flex-grid-column",34),h.Rb(122,"wj-flex-grid-column",35),h.Rb(123,"wj-flex-grid-column",35),h.Rb(124,"wj-flex-grid-column",35),h.Rb(125,"wj-flex-grid-column",35),h.Rb(126,"wj-flex-grid-column",35),h.Rb(127,"wj-flex-grid-column",35),h.Rb(128,"wj-flex-grid-column",35),h.Rb(129,"wj-flex-grid-column",35),h.Rb(130,"wj-flex-grid-column",35),h.Rb(131,"wj-flex-grid-column",35),h.Rb(132,"wj-flex-grid-column",35),h.Rb(133,"wj-flex-grid-column",35),h.Rb(134,"wj-flex-grid-column",35),h.Rb(135,"wj-flex-grid-column",35),h.Rb(136,"wj-flex-grid-column",35),h.Rb(137,"wj-flex-grid-column",35),h.Rb(138,"wj-flex-grid-column",35),h.Rb(139,"wj-flex-grid-column",35),h.Rb(140,"wj-flex-grid-column",35),h.Rb(141,"wj-flex-grid-column",35),h.Rb(142,"wj-flex-grid-column",35),h.Rb(143,"wj-flex-grid-column",35),h.Rb(144,"wj-flex-grid-column",35),h.Rb(145,"wj-flex-grid-column",35),h.Rb(146,"wj-flex-grid-column",35),h.Rb(147,"wj-flex-grid-column",35),h.Rb(148,"wj-flex-grid-column",35),h.Rb(149,"wj-flex-grid-column",35),h.Rb(150,"wj-flex-grid-column",35),h.Rb(151,"wj-flex-grid-column",35),h.Rb(152,"wj-flex-grid-column",35),h.Rb(153,"wj-flex-grid-column",35),h.Rb(154,"wj-flex-grid-column",35),h.Ub(),h.Ub(),h.Vb(155,"mat-tab",36),h.xc(156,af,5,1,"ng-template",37),h.Ub(),h.Ub(),h.Vb(157,"div",38),h.Vb(158,"div",39),h.Vb(159,"div",8),h.Vb(160,"mat-button-toggle-group",40),h.Vb(161,"mat-button-toggle",41),h.dc("click",(function(){return t._listDTRLineCollectionView.moveToFirstPage()})),h.Vb(162,"mat-icon",42),h.yc(163,"navigate_before"),h.Ub(),h.Vb(164,"mat-icon"),h.yc(165,"navigate_before"),h.Ub(),h.Ub(),h.Vb(166,"mat-button-toggle",41),h.dc("click",(function(){return t._listDTRLineCollectionView.moveToPreviousPage()})),h.Vb(167,"mat-icon"),h.yc(168,"navigate_before"),h.Ub(),h.Ub(),h.Vb(169,"mat-button-toggle",43),h.yc(170),h.Ub(),h.Vb(171,"mat-button-toggle",41),h.dc("click",(function(){return t._listDTRLineCollectionView.moveToNextPage()})),h.Vb(172,"mat-icon"),h.yc(173,"navigate_next"),h.Ub(),h.Ub(),h.Vb(174,"mat-button-toggle",41),h.dc("click",(function(){return t._listDTRLineCollectionView.moveToLastPage()})),h.Vb(175,"mat-icon",42),h.yc(176,"navigate_next"),h.Ub(),h.Vb(177,"mat-icon"),h.yc(178,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(179,"div",44),h.Ub(),h.Rb(180,"mat-divider",45),h.Vb(181,"div",46),h.Vb(182,"div",47),h.Vb(183,"div",8),h.Vb(184,"div",48),h.Vb(185,"mat-label",49),h.yc(186,"Created By:"),h.Ub(),h.Ub(),h.Vb(187,"div",50),h.Vb(188,"mat-label",49),h.yc(189),h.Ub(),h.Ub(),h.Vb(190,"div",51),h.Vb(191,"mat-label",49),h.yc(192,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(193,"div",52),h.Vb(194,"mat-label",49),h.yc(195),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(196,"div",47),h.Vb(197,"div",8),h.Vb(198,"div",48),h.Vb(199,"mat-label",49),h.yc(200,"Updated By:"),h.Ub(),h.Ub(),h.Vb(201,"div",50),h.Vb(202,"mat-label",49),h.yc(203),h.Ub(),h.Ub(),h.Vb(204,"div",51),h.Vb(205,"mat-label",49),h.yc(206,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(207,"div",52),h.Vb(208,"mat-label",49),h.yc(209),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e){const e=h.qc(51),i=h.qc(59),n=h.qc(67);h.Eb(5),h.kc("disabled",t._btnSaveDisabled),h.Eb(4),h.kc("disabled",t._btnLockisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t._isProgressBarHidden),h.Eb(2),h.kc("hidden",t._isComponentsShown),h.Eb(7),h.zc(t._dTRModel.DTRNumber),h.Eb(4),h.zc(t._dTRModel.PayrollGroup),h.Eb(4),h.zc(t._dTRModel.Year),h.Eb(6),h.kc("matDatepicker",e)("ngModel",t.UIDTRDate)("readonly",t._isLocked),h.Eb(1),h.kc("for",e)("disabled",t._isLocked),h.Eb(7),h.kc("matDatepicker",i)("ngModel",t.UIDateStart)("readonly",t._isLocked),h.Eb(1),h.kc("for",i)("disabled",t._isLocked),h.Eb(7),h.kc("matDatepicker",n)("ngModel",t.UIDateEnd)("readonly",t._isLocked),h.Eb(1),h.kc("for",n)("disabled",t._isLocked),h.Eb(8),h.kc("ngModel",t._dTRModel.YearId),h.Eb(1),h.kc("ngForOf",t._oTListDropdown),h.Eb(5),h.kc("ngModel",t._dTRModel.LAId),h.Eb(1),h.kc("ngForOf",t._lAListDropdown),h.Eb(5),h.kc("ngModel",t._dTRModel.CSId),h.Eb(1),h.kc("ngForOf",t._cSListDropdown),h.Eb(7),h.kc("ngModel",t._dTRModel.PreparedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._dTRModel.CheckedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._dTRModel.ApprovedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(6),h.kc("ngModel",t._dTRModel.Remarks)("readonly",t._isLocked),h.Eb(4),h.kc("ngIf",t._isDTRLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listDTRLineCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("header","Branch")("binding","Branch")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width",200),h.Eb(1),h.kc("header","Date")("binding","DTRDate")("isReadOnly",!0)("width",80),h.Eb(1),h.kc("header","Type")("binding","DateType")("isReadOnly",!0)("width",80),h.Eb(1),h.kc("header","RD")("binding","IsRestDay")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","Shift")("binding","Shift")("isReadOnly",!0)("width",80),h.Eb(1),h.kc("header","IN1")("binding","TimeIn1")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","OUT1")("binding","TimeOut1")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","IN2")("binding","TimeIn2")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","OUT2")("binding","TimeOut2")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","OL")("binding","IsOnLeave")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","HOL")("binding","IsOnLeaveHalfDay")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","OB")("binding","IsOnOfficialBusiness")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","HOB")("binding","IsOnOfficialBusinessHalfDay")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","A")("binding","IsAbsent")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","HA")("binding","IsAbsentHalfDay")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","HRS")("binding","NumberOfHoursWorked")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","OT")("binding","OvertimeHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","ND")("binding","NightDifferentialHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","LH")("binding","LateHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","UT")("binding","UndertimeHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","DP")("binding","DailyPay")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","PP")("binding","PremiumPay")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","HP")("binding","HolidayPay")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","OP")("binding","OvertimePay")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","COLA")("binding","COLA")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","AA")("binding","AdditionalAllowance")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","LD")("binding","LateDeduction")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","LD")("binding","LateDeduction")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","UD")("binding","UndertimeDeduction")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","AD")("binding","AbsentDeduction")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","NP")("binding","DailyNetPay")("isReadOnly",!0)("width",70),h.Eb(16),h.Bc("",t._listDTRLineCollectionView.pageIndex+1," / ",t._listDTRLineCollectionView.pageCount,""),h.Eb(19),h.zc(t._dTRModel.CreatedByUser),h.Eb(6),h.zc(t._dTRModel.CreatedDateTime),h.Eb(8),h.zc(t._dTRModel.UpdatedByUser),h.Eb(6),h.zc(t._dTRModel.UpdatedDateTime)}},directives:[_.a,v.a,w.a,d.c,l.l,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,rc,l.k,fh,ah,cl,Vl,hl,eh,Al,Hl,ft,fr,G.l,ul],styles:[".text_box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}"]}),e})(),sf=(()=>{class e{constructor(e,t){this.dialogRef=e,this.caseData=t,this.title="",this.tableCode=[]}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this.title=this.caseData.objDialogTitle,this.tableCode=yield this.caseData.objData,console.log(this.tableCode)}))}Close(){this.dialogRef.close({event:"Close"})}Save(){this.dialogRef.close("Add Table Code"==this.title?{event:"Add",objData:this.tableCode}:{event:"Edit",objData:this.tableCode})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-system-tables-code-tables-detail"]],decls:31,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["matInput","","placeholder","Value",3,"ngModel","ngModelChange"],["fxFlex","34",2,"padding","5px"],["matInput","","placeholder","Category",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","mat-dialog-close","","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Code"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t.tableCode.Code=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",4),h.Vb(12,"mat-form-field",5),h.Vb(13,"mat-label"),h.yc(14,"Value"),h.Ub(),h.Vb(15,"input",7),h.dc("ngModelChange",(function(e){return t.tableCode.Value=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(16,"div",8),h.Vb(17,"mat-form-field",5),h.Vb(18,"mat-label"),h.yc(19,"Category"),h.Ub(),h.Vb(20,"input",9),h.dc("ngModelChange",(function(e){return t.tableCode.Category=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(21,"mat-divider"),h.Vb(22,"div",10),h.Vb(23,"button",11),h.dc("click",(function(){return t.Save()})),h.Vb(24,"mat-icon"),h.yc(25,"save"),h.Ub(),h.yc(26," Save "),h.Ub(),h.Vb(27,"button",12),h.dc("click",(function(){return t.Close()})),h.Vb(28,"mat-icon"),h.yc(29,"close"),h.Ub(),h.yc(30," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.kc("ngModel",t.tableCode.Code),h.Eb(5),h.kc("ngModel",t.tableCode.Value),h.Eb(5),h.kc("ngModel",t.tableCode.Category))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,or,v.a,tr,w.a],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})(),lf=(()=>{class e{constructor(e,t,i){this.dialogRef=e,this.caseData=t,this.decimalPipe=i,this.title="",this.taxExemption=[]}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this.title=this.caseData.objDialogTitle,this.taxExemption=yield this.caseData.objData,console.log(this.taxExemption)}))}Close(){this.dialogRef.close({event:"Close"})}Save(){this.dialogRef.close("Add Tax Exemption"==this.title?{event:"Add",objData:this.taxExemption}:{event:"Edit",objData:this.taxExemption})}formatValueExemptionAmount(){this.taxExemption.ExemptionAmount=this.decimalPipe.transform(""==this.taxExemption.ExemptionAmount?0:this.taxExemption.ExemptionAmount,"1.2-2")}formatValueDependentAmount(){this.taxExemption.DependentAmount=this.decimalPipe.transform(""==this.taxExemption.DependentAmount?0:this.taxExemption.DependentAmount,"1.2-2")}restrictNumeric(e){let t;return""==e.key?0:!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||e.which<33||e.which<33||(t=String.fromCharCode(e.which),!!/^[0-9.,]+$/.test(t)))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-system-tables-tax-exemption-detail"]],decls:31,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["matInput","","placeholder","0.00",3,"ngModel","ngModelChange","change","keypress"],["fxFlex","34",2,"padding","5px"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","mat-dialog-close","","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Vb(5,"div",3),h.Vb(6,"div",4),h.Vb(7,"mat-form-field",5),h.Vb(8,"mat-label"),h.yc(9,"Code"),h.Ub(),h.Vb(10,"input",6),h.dc("ngModelChange",(function(e){return t.taxExemption.TaxExemptionCode=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(11,"div",4),h.Vb(12,"mat-form-field",5),h.Vb(13,"mat-label"),h.yc(14,"Amount"),h.Ub(),h.Vb(15,"input",7),h.dc("ngModelChange",(function(e){return t.taxExemption.ExemptionAmount=e}))("change",(function(){return t.formatValueExemptionAmount()}))("keypress",(function(e){return t.restrictNumeric(e)})),h.Ub(),h.Ub(),h.Ub(),h.Vb(16,"div",8),h.Vb(17,"mat-form-field",5),h.Vb(18,"mat-label"),h.yc(19,"Dependent Amount"),h.Ub(),h.Vb(20,"input",7),h.dc("ngModelChange",(function(e){return t.taxExemption.DependentAmount=e}))("change",(function(){return t.formatValueDependentAmount()}))("keypress",(function(e){return t.restrictNumeric(e)})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(21,"mat-divider"),h.Vb(22,"div",9),h.Vb(23,"button",10),h.dc("click",(function(){return t.Save()})),h.Vb(24,"mat-icon"),h.yc(25,"save"),h.Ub(),h.yc(26," Save "),h.Ub(),h.Vb(27,"button",11),h.dc("click",(function(){return t.Close()})),h.Vb(28,"mat-icon"),h.yc(29,"close"),h.Ub(),h.yc(30," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(9),h.kc("ngModel",t.taxExemption.TaxExemptionCode),h.Eb(5),h.kc("ngModel",t.taxExemption.ExemptionAmount),h.Eb(5),h.kc("ngModel",t.taxExemption.DependentAmount))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,or,v.a,tr,w.a],styles:[".mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end}"]}),e})(),cf=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}TaxExemptionList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/tax/exemption/list",this.appSettings.defaultOptions)}))}AddTaxExemption(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/tax/exemption/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}SaveTaxExemption(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/tax/exemption/update/"+e.Id,JSON.stringify(e),this.appSettings.defaultOptions)}))}DeleteTaxExemption(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/tax/exemption/delete/"+e,this.appSettings.defaultOptions)}))}CodeTableList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/code/table/list",this.appSettings.defaultOptions)}))}AddCodeTable(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/code/table/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}SaveCodeTable(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/code/table/update/"+e.Id,JSON.stringify(e),this.appSettings.defaultOptions)}))}DeleteCodeTable(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/code/table/delete/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const df=["flexCodeTables"],hf=["flexTaxExemption"],uf=["tabGroup"];function pf(e,t){1&e&&h.Rb(0,"mat-progress-bar",22),2&e&&h.kc("color","primary")("mode","indeterminate")}function bf(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",23),h.dc("click",(function(){return h.rc(e),h.hc().EditCodeTable()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function mf(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",24),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteCodeTable()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function ff(e,t){1&e&&h.Rb(0,"mat-progress-bar",22),2&e&&h.kc("color","primary")("mode","indeterminate")}function gf(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",25),h.dc("click",(function(){return h.rc(e),h.hc().EditTaxExemption()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3,"Edit "),h.Ub()}}function yf(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",26),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteTaxExemption()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3,"Delete "),h.Ub()}}let _f=(()=>{class e{constructor(e,t,i,n,o){this.systemTablesListService=e,this.router=t,this.snackBar=i,this.snackBarTemplate=n,this.matDialog=o,this.listCodeTablesObservableArray=new na,this.listCodeTablesCollectionView=new oa(this.listCodeTablesObservableArray),this.listTablesCodePageIndex=15,this.isTablesCodeProgressBarHidden=!1,this.isTablesCodeDataLoaded=!1,this.listTaxExemptionObservableArray=new na,this.listTaxExemptionCollectionView=new oa(this.listTaxExemptionObservableArray),this.listTaxExemptionPageIndex=15,this.isTaxExemptionProgressBarHidden=!1,this.isTaxExemptionDataLoaded=!1,this.buttonDisabled=!1}ngOnInit(){this.GetCodeTablesListData(),this.GetTaxExemptionListData()}GetCodeTablesListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.listCodeTablesObservableArray=new na,this.listCodeTablesCollectionView=new oa(this.listCodeTablesObservableArray),this.listCodeTablesCollectionView.pageSize=15,this.listCodeTablesCollectionView.trackChanges=!0,yield this.listCodeTablesCollectionView.refresh(),yield this.flexCodeTables.refresh(),this.isTablesCodeProgressBarHidden=!0,this.codeTableCodeTablesListSubscription=(yield this.systemTablesListService.CodeTableList()).subscribe(e=>{e.length>0&&(this.listCodeTablesCollectionView=e,this.listCodeTablesCollectionView=new oa(this.listCodeTablesCollectionView),this.listCodeTablesCollectionView.pageSize=15,this.listCodeTablesCollectionView.trackChanges=!0,this.listCodeTablesCollectionView.refresh(),this.flexCodeTables.refresh()),this.isTablesCodeDataLoaded=!0,this.isTablesCodeProgressBarHidden=!1,null!=this.codeTableCodeTablesListSubscription&&this.codeTableCodeTablesListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.codeTableCodeTablesListSubscription&&this.codeTableCodeTablesListSubscription.unsubscribe()})}))}AddCodeTable(){this.DetailCodeTable({Id:0,Code:"NA",Value:"NA",Category:"NA"},"Add Table Code")}EditCodeTable(){this.DetailCodeTable(this.listCodeTablesCollectionView.currentItem,"Edit Table Code")}AddCodeTables(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this.isTablesCodeDataLoaded&&(this.isTablesCodeDataLoaded=!1,this.addCodeTablesSubscription=(yield this.systemTablesListService.AddCodeTable(e)).subscribe(e=>{this.buttonDisabled=!1,this.isTablesCodeDataLoaded=!0,this.GetCodeTablesListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully"),null!=this.addCodeTablesSubscription&&this.addCodeTablesSubscription.unsubscribe()},e=>{this.buttonDisabled=!1,this.isTablesCodeDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this.addCodeTablesSubscription&&this.addCodeTablesSubscription.unsubscribe()}))}))}SaveCodeTable(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this.isTablesCodeDataLoaded&&(this.isTablesCodeDataLoaded=!1,this.addCodeTablesSubscription=(yield this.systemTablesListService.SaveCodeTable(e)).subscribe(e=>{this.buttonDisabled=!1,this.isTablesCodeDataLoaded=!0,this.GetCodeTablesListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully")},e=>{this.buttonDisabled=!1,this.isTablesCodeDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this.addCodeTablesSubscription&&this.addCodeTablesSubscription.unsubscribe()}))}))}DeleteCodeTables(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this.isTablesCodeDataLoaded){this.isTablesCodeDataLoaded=!1;let e=this.listCodeTablesCollectionView.currentItem;this.isTablesCodeProgressBarHidden=!0,this.deleteCodeTablesSubscription=(yield this.systemTablesListService.DeleteCodeTable(e.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetCodeTablesListData(),this.isTablesCodeProgressBarHidden=!1,this.isTablesCodeDataLoaded=!0},e=>{this.isTablesCodeDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this.deleteCodeTablesSubscription&&this.deleteCodeTablesSubscription.unsubscribe()})}}))}ComfirmDeleteCodeTable(){this.matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Tables Code",objComfirmationMessage:`Delete ${this.listCodeTablesCollectionView.currentItem.Code}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteCodeTables()})}activeTab(){}DetailCodeTable(e,t){this.matDialog.open(sf,{width:"800px",data:{objDialogTitle:t,objData:e},disableClose:!0}).afterClosed().subscribe(e=>{"Add"===e.event&&this.AddCodeTables(e.objData),"Edit"===e.event&&this.SaveCodeTable(e.objData)})}GetTaxExemptionListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.listTaxExemptionObservableArray=new na,this.listTaxExemptionCollectionView=new oa(this.listTaxExemptionObservableArray),this.listTaxExemptionCollectionView.pageSize=15,this.listTaxExemptionCollectionView.trackChanges=!0,yield this.listTaxExemptionCollectionView.refresh(),yield this.flexTaxExemption.refresh(),this.isTaxExemptionProgressBarHidden=!0,this.taxExemptionListSubscription=(yield this.systemTablesListService.TaxExemptionList()).subscribe(e=>{e.length>0&&(this.listTaxExemptionCollectionView=e,this.listTaxExemptionCollectionView=new oa(this.listTaxExemptionCollectionView),this.listTaxExemptionCollectionView.pageSize=15,this.listTaxExemptionCollectionView.trackChanges=!0,this.listTaxExemptionCollectionView.refresh(),this.flexTaxExemption.refresh()),this.isTaxExemptionDataLoaded=!0,this.isTaxExemptionProgressBarHidden=!1,null!=this.taxExemptionListSubscription&&this.taxExemptionListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.taxExemptionListSubscription&&this.taxExemptionListSubscription.unsubscribe()})}))}AddTaxExemption(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this.isTaxExemptionDataLoaded&&(this.isTaxExemptionDataLoaded=!1,this.addCodeTablesSubscription=(yield this.systemTablesListService.AddTaxExemption(e)).subscribe(e=>{this.buttonDisabled=!1,this.isTaxExemptionDataLoaded=!0,this.GetTaxExemptionListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully"),null!=this.addCodeTablesSubscription&&this.addCodeTablesSubscription.unsubscribe()},e=>{this.buttonDisabled=!1,this.isTaxExemptionDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this.addCodeTablesSubscription&&this.addCodeTablesSubscription.unsubscribe()}))}))}SaveTaxExemption(e){return Object(b.a)(this,void 0,void 0,(function*(){this.buttonDisabled=!0,1==this.isTaxExemptionDataLoaded&&(this.isTaxExemptionDataLoaded=!1,this.addCodeTablesSubscription=(yield this.systemTablesListService.SaveTaxExemption(e)).subscribe(e=>{this.buttonDisabled=!1,this.isTaxExemptionDataLoaded=!0,this.GetTaxExemptionListData(),this.snackBarTemplate.snackBarSuccess(this.snackBar,"Added Successfully")},e=>{this.buttonDisabled=!1,this.isTaxExemptionDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+"  Status Code: "+e.status),null!=this.addCodeTablesSubscription&&this.addCodeTablesSubscription.unsubscribe()}))}))}Add_TaxExemption(){this.DetailTaxExemption({Id:0,TaxExemptionCode:"NA",ExemptionAmount:"0.00",DependentAmount:"0.00"},"Add Tax Exemption")}EditTaxExemption(){this.DetailTaxExemption(this.listTaxExemptionCollectionView.currentItem,"Edit Tax Exemption")}DeleteTaxExemption(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this.isTaxExemptionDataLoaded){this.isTaxExemptionDataLoaded=!1;let e=this.listTaxExemptionCollectionView.currentItem;this.isTaxExemptionProgressBarHidden=!0,this.deleteTaxExemptionubscription=(yield this.systemTablesListService.DeleteTaxExemption(e.Id)).subscribe(e=>{this.snackBarTemplate.snackBarSuccess(this.snackBar,"Delete Successfully"),this.GetTaxExemptionListData(),this.isTaxExemptionProgressBarHidden=!1,this.isTaxExemptionDataLoaded=!0},e=>{this.isTaxExemptionDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error+" "+e.status),null!=this.deleteTaxExemptionubscription&&this.deleteTaxExemptionubscription.unsubscribe()})}}))}ComfirmDeleteTaxExemption(){this.matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Tax Exemption",objComfirmationMessage:`Delete ${this.listTaxExemptionCollectionView.currentItem.TaxExemptionCode}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteTaxExemption()})}DetailTaxExemption(e,t){this.matDialog.open(lf,{width:"800px",data:{objDialogTitle:t,objData:e},disableClose:!0}).afterClosed().subscribe(e=>{"Add"===e.event&&this.AddTaxExemption(e.objData),"Edit"===e.event&&this.SaveTaxExemption(e.objData)})}BtnAddCodeTables(){return Object(b.a)(this,void 0,void 0,(function*(){0==this.tabGroup.selectedIndex&&this.AddCodeTable(),1==this.tabGroup.selectedIndex&&this.Add_TaxExemption()}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(cf),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-system-tales-list"]],viewQuery:function(e,t){var i;1&e&&(h.Ec(df,!0),h.Ec(hf,!0),h.Ec(uf,!0)),2&e&&(h.pc(i=h.ec())&&(t.flexCodeTables=i.first),h.pc(i=h.ec())&&(t.flexTaxExemption=i.first),h.pc(i=h.ec())&&(t.tabGroup=i.first))},decls:80,vars:55,consts:[["src","../../../../assets/menu-icons/system tables.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],[2,"max-height","100%",3,"selectedTabChange"],["tabGroup",""],["label","Code Tables"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexCodeTables",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],[2,"margin-top","7px"],[3,"click"],[2,"margin-right","-15px"],[2,"width","100px"],["label","Tax Exemption"],["flexTaxExemption",""],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditCodeTable",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn","id","btnDeleteCodeTable",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary","id","btnEditTaxExempt",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 System Tables"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.BtnAddCodeTables()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.Vb(16,"mat-tab-group",7,8),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(18,"mat-tab",9),h.xc(19,pf,1,2,"mat-progress-bar",10),h.Vb(20,"wj-flex-grid",11,12),h.Rb(22,"wj-flex-grid-filter"),h.Vb(23,"wj-flex-grid-column",13),h.xc(24,bf,4,0,"ng-template",14),h.Ub(),h.Vb(25,"wj-flex-grid-column",13),h.xc(26,mf,4,0,"ng-template",14),h.Ub(),h.Rb(27,"wj-flex-grid-column",15),h.Rb(28,"wj-flex-grid-column",15),h.Rb(29,"wj-flex-grid-column",15),h.Ub(),h.Vb(30,"mat-button-toggle-group",16),h.Vb(31,"mat-button-toggle",17),h.dc("click",(function(){return t.listCodeTablesCollectionView.moveToFirstPage()})),h.Vb(32,"mat-icon",18),h.yc(33,"navigate_before"),h.Ub(),h.Vb(34,"mat-icon"),h.yc(35,"navigate_before"),h.Ub(),h.Ub(),h.Vb(36,"mat-button-toggle",17),h.dc("click",(function(){return t.listCodeTablesCollectionView.moveToPreviousPage()})),h.Vb(37,"mat-icon"),h.yc(38,"navigate_before"),h.Ub(),h.Ub(),h.Vb(39,"mat-button-toggle",19),h.yc(40),h.Ub(),h.Vb(41,"mat-button-toggle",17),h.dc("click",(function(){return t.listCodeTablesCollectionView.moveToNextPage()})),h.Vb(42,"mat-icon"),h.yc(43,"navigate_next"),h.Ub(),h.Ub(),h.Vb(44,"mat-button-toggle",17),h.dc("click",(function(){return t.listCodeTablesCollectionView.moveToLastPage()})),h.Vb(45,"mat-icon",18),h.yc(46,"navigate_next"),h.Ub(),h.Vb(47,"mat-icon"),h.yc(48,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(49,"mat-tab",20),h.xc(50,ff,1,2,"mat-progress-bar",10),h.Vb(51,"wj-flex-grid",11,21),h.Rb(53,"wj-flex-grid-filter"),h.Vb(54,"wj-flex-grid-column",13),h.xc(55,gf,4,0,"ng-template",14),h.Ub(),h.Vb(56,"wj-flex-grid-column",13),h.xc(57,yf,4,0,"ng-template",14),h.Ub(),h.Rb(58,"wj-flex-grid-column",15),h.Rb(59,"wj-flex-grid-column",15),h.Rb(60,"wj-flex-grid-column",15),h.Ub(),h.Vb(61,"mat-button-toggle-group",16),h.Vb(62,"mat-button-toggle",17),h.dc("click",(function(){return t.listTaxExemptionCollectionView.moveToFirstPage()})),h.Vb(63,"mat-icon",18),h.yc(64,"navigate_before"),h.Ub(),h.Vb(65,"mat-icon"),h.yc(66,"navigate_before"),h.Ub(),h.Ub(),h.Vb(67,"mat-button-toggle",17),h.dc("click",(function(){return t.listTaxExemptionCollectionView.moveToPreviousPage()})),h.Vb(68,"mat-icon"),h.yc(69,"navigate_before"),h.Ub(),h.Ub(),h.Vb(70,"mat-button-toggle",19),h.yc(71),h.Ub(),h.Vb(72,"mat-button-toggle",17),h.dc("click",(function(){return t.listTaxExemptionCollectionView.moveToNextPage()})),h.Vb(73,"mat-icon"),h.yc(74,"navigate_next"),h.Ub(),h.Ub(),h.Vb(75,"mat-button-toggle",17),h.dc("click",(function(){return t.listTaxExemptionCollectionView.moveToLastPage()})),h.Vb(76,"mat-icon",18),h.yc(77,"navigate_next"),h.Ub(),h.Vb(78,"mat-icon"),h.yc(79,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t.buttonDisabled),h.Eb(14),h.kc("ngIf",t.isTablesCodeProgressBarHidden),h.Eb(1),h.kc("itemsSource",t.listCodeTablesCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Code")("binding","Code")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Value")("binding","Value")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Category")("binding","Category")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t.listCodeTablesCollectionView.pageIndex+1," / ",t.listCodeTablesCollectionView.pageCount,""),h.Eb(10),h.kc("ngIf",t.isTaxExemptionProgressBarHidden),h.Eb(1),h.kc("itemsSource",t.listTaxExemptionCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Tax Exemption Code")("binding","TaxExemptionCode")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Exemption Amount")("binding","ExemptionAmount")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Dependent Amount")("binding","DependentAmount")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(11),h.Bc(" ",t.listTaxExemptionCollectionView.pageIndex+1," / ",t.listTaxExemptionCollectionView.pageCount,""))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,fh,ah,l.l,cl,Vl,hl,ul,Al,Hl,fr],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),e})(),vf=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}YearDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/year/detail/"+e,this.appSettings.defaultOptions)}))}SaveYear(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/year/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockYear(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/year/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockYear(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/year/unlock/"+e,"",this.appSettings.defaultOptions)}))}YearDateList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/year/date/list/"+e,this.appSettings.defaultOptions)}))}AddYearDate(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/year/date/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}Updatedate(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/year/date/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DeleteYearDate(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/year/date/delete/"+e,this.appSettings.defaultOptions)}))}DayTypeDropdown(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/year/date/date/type/dropdown",this.appSettings.defaultOptions)}))}BranchDropdown(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/year/date/branch/dropdown",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function wf(e,t){if(1&e&&(h.Vb(0,"mat-option",18),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Cf(e,t){if(1&e&&(h.Vb(0,"mat-option",18),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}let Df=(()=>{class e{constructor(e,t,i,n,o,a,r){this.dialogRef=e,this._yearDetialService=t,this.caseData=i,this._snackBar=n,this._snackBarTemplate=o,this._matDialog=a,this.datePipe=r,this._yearDateModel={Id:0,YearId:0,YearDate:this.datePipe.transform(new Date,"yyyy-MM-dd"),Branch:"",DateType:"",Remarks:""},this.UIYearDate=new Date,this.title="",this.isComponentHidden=!0,this._branchListDropdown=[],this._dateTypeListDropdown=[]}ngOnInit(){this.title=this.caseData.objDialogTitle,this.DateTypeListData()}DateTypeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._dateTypeListDropdownSubscription=(yield this._yearDetialService.DayTypeDropdown()).subscribe(e=>{this._dateTypeListDropdown=e,this._yearDateModel.DateType=this._dateTypeListDropdown[0].Value,this.BranchListData(),null!==this._dateTypeListDropdownSubscription&&this._dateTypeListDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._dateTypeListDropdownSubscription&&this._dateTypeListDropdownSubscription.unsubscribe()})}))}BranchListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._branchListDropdownSubscription=(yield this._yearDetialService.BranchDropdown()).subscribe(e=>{this._branchListDropdown=e,this._yearDateModel.Branch=this._branchListDropdown[0].Value,this.loadShiftLineDetail(),null!==this._branchListDropdownSubscription&&this._branchListDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._branchListDropdownSubscription&&this._branchListDropdownSubscription.unsubscribe()})}))}loadShiftLineDetail(){this._yearDateModel.Id=this.caseData.objYearDate.Id,this._yearDateModel.YearId=this.caseData.objYearDate.YearId,this._yearDateModel.YearDate=this.caseData.objYearDate.YearDate,this._yearDateModel.Remarks=this.caseData.objYearDate.Remarks,0!=this._yearDateModel.Id&&(this._yearDateModel.Branch=this.caseData.objYearDate.Branch,this._yearDateModel.DateType=this.caseData.objYearDate.DateType,this.UIYearDate=new Date(this.caseData.objYearDate.YearDate)),setTimeout(()=>{this.isComponentHidden=!1},100)}GetUIDATEYearDate(){this._yearDateModel.YearDate=this.datePipe.transform(this.UIYearDate,"yyyy-MM-dd"),console.log(this._yearDateModel.YearDate)}Close(){this.dialogRef.close({event:"Close"})}Save(){return Object(b.a)(this,void 0,void 0,(function*(){0==this._yearDateModel.Id?yield this.dialogRef.close({event:"Add",data:this._yearDateModel}):yield this.dialogRef.close({event:"Update",data:this._yearDateModel})}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(vf),h.Qb(Ka),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-year-date-dialog"]],decls:43,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body",3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","ngModelChange","dateInput"],["matSuffix","",3,"for"],["color","primary"],["datePickerYearDate",""],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","34",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Remarks","rows","5",2,"min-height","102px",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],[3,"value"]],template:function(e,t){if(1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Rb(5,"br"),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"mat-label"),h.yc(10,"Date"),h.Ub(),h.Vb(11,"input",6),h.dc("ngModelChange",(function(e){return t.UIYearDate=e}))("dateInput",(function(){return t.GetUIDATEYearDate()})),h.Ub(),h.Rb(12,"mat-datepicker-toggle",7),h.Rb(13,"mat-datepicker",8,9),h.Ub(),h.Ub(),h.Vb(15,"div",4),h.Vb(16,"mat-form-field",5),h.Vb(17,"mat-label"),h.yc(18,"Branch"),h.Ub(),h.Vb(19,"mat-select",10),h.dc("ngModelChange",(function(e){return t._yearDateModel.Branch=e})),h.xc(20,wf,2,2,"mat-option",11),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",12),h.Vb(22,"mat-form-field",5),h.Vb(23,"mat-label"),h.yc(24,"Date Type"),h.Ub(),h.Vb(25,"mat-select",10),h.dc("ngModelChange",(function(e){return t._yearDateModel.DateType=e})),h.xc(26,Cf,2,2,"mat-option",11),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(27,"div",3),h.Vb(28,"div",13),h.Vb(29,"mat-form-field",5),h.Vb(30,"mat-label"),h.yc(31,"Remarks"),h.Ub(),h.Vb(32,"textarea",14),h.dc("ngModelChange",(function(e){return t._yearDateModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(33,"mat-divider"),h.Vb(34,"div",15),h.Vb(35,"button",16),h.dc("click",(function(){return t.Save()})),h.Vb(36,"mat-icon"),h.yc(37,"save"),h.Ub(),h.yc(38," Save "),h.Ub(),h.Vb(39,"button",17),h.dc("click",(function(){return t.Close()})),h.Vb(40,"mat-icon"),h.yc(41,"close"),h.Ub(),h.yc(42," Cancel "),h.Ub(),h.Ub()),2&e){const e=h.qc(14);h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("hidden",t.isComponentHidden),h.Eb(7),h.kc("matDatepicker",e)("ngModel",t.UIYearDate),h.Eb(1),h.kc("for",e),h.Eb(7),h.kc("ngModel",t._yearDateModel.Branch),h.Eb(1),h.kc("ngForOf",t._branchListDropdown),h.Eb(5),h.kc("ngModel",t._yearDateModel.DateType),h.Eb(1),h.kc("ngForOf",t._dateTypeListDropdown),h.Eb(6),h.kc("ngModel",t._yearDateModel.Remarks)}},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,rc,l.k,or,v.a,w.a,tr,G.l],styles:[""]}),e})();const Sf=["flexYearDate"];function xf(e,t){1&e&&h.Rb(0,"mat-progress-bar",45),2&e&&h.kc("color","primary")("mode","indeterminate")}function kf(e,t){1&e&&h.Rb(0,"mat-progress-bar",46),2&e&&h.kc("color","primary")("mode","indeterminate")}function Lf(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",49),h.dc("click",(function(){return h.rc(e),h.hc(2).EditYearDate()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Vf(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",47),h.xc(1,Lf,4,0,"ng-template",48),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function Of(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",50),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeleteYearDate()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Uf(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",47),h.xc(1,Of,4,0,"ng-template",48),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function Ef(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",51),h.dc("click",(function(){return h.rc(e),h.hc().AddYearDateDialog()})),h.Vb(1,"mat-icon"),h.yc(2,"add"),h.Ub(),h.yc(3," ADD "),h.Ub(),h.Rb(4,"br")}if(2&e){const e=h.hc();h.kc("disabled",e._isLocked)("disabled",e._btnAddDTRLineDisabled)}}let Mf=(()=>{class e{constructor(e,t,i,n,o,a,r){this._yearDetialService=e,this._activatedRoute=t,this._snackBar=i,this._snackBarTemplate=n,this.YearDateDetailDialog=o,this.deleteYearDateDetailDialog=a,this.datePipe=r,this.title="",this.event="Close",this.isDataLoaded=!1,this.isProgressBarHidden=!1,this._btnSaveDisabled=!0,this._btnLockIsabled=!0,this._btnUnlockDisabled=!0,this._isLocked=!1,this._isComponentsShown=!1,this._listYearDateObservableArray=new na,this._listYearDateCollectionView=new oa(this._listYearDateObservableArray),this._listPageIndex=15,this._isYearDateProgressBarHidden=!1,this._isDataLoaded=!1,this._btnAddYearDateDisabled=!1,this._yearModel={Id:0,YearCode:"",Year:"",DateStart:"",DateEnd:"",IsClose:!1,CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:new Date,UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:new Date,IsLocked:!1},this.UIDateStart=new Date,this.UIDateEnd=new Date,this._yearDateModel={Id:0,YearId:0,YearDate:"",Branch:"",DateType:this.datePipe.transform(new Date,"yyyy-MM-dd"),Remarks:"NA"}}ngOnInit(){this.GetYearDetail()}GetYearDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=0;this._activatedRoute.params.subscribe(t=>{e=t.id}),this.disableButtons(),this._isComponentsShown=!1,this._yearDetailSubscription=(yield this._yearDetialService.YearDetail(e)).subscribe(e=>{let t=e;null!=t&&(this._yearModel=t,this._yearDateModel.YearId=t.Id,this._yearModel.IsLocked=t.IsLocked,this.UIDateStart=new Date(t.DateStart),this.UIDateEnd=new Date(t.DateEnd)),this.GetYearDateListData(),this.loadComponent(t.IsLocked),this.isDataLoaded=!0,this._isComponentsShown=!0,null!==this._yearDetailSubscription&&this._yearDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!==this._yearDetailSubscription&&this._yearDetailSubscription.unsubscribe()})}))}GetUIDATEDateStart(){this._yearModel.DateStart=this.datePipe.transform(this.UIDateStart,"yyyy-MM-dd"),console.log(this._yearModel.DateStart)}GetUIDATEDateEnd(){this._yearModel.DateEnd=this.datePipe.transform(this.UIDateEnd,"yyyy-MM-dd"),console.log(this._yearModel.DateEnd)}SaveYearDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._saveYearDetailSubscription=yield(yield this._yearDetialService.SaveYear(this._yearModel.Id,this._yearModel)).subscribe(e=>{this.event="Save",this.isDataLoaded=!0,this.loadComponent(this._yearModel.IsLocked),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._saveYearDetailSubscription&&this._saveYearDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._yearModel.IsLocked),this._btnUnlockDisabled=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!==this._saveYearDetailSubscription&&this._saveYearDetailSubscription.unsubscribe()}))}))}LockYearDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._lockYearDetailSubscription=yield(yield this._yearDetialService.LockYear(this._yearModel.Id,this._yearModel)).subscribe(e=>{this.event="Lock",this.loadComponent(!0),this.isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Lock Successfully."),null!==this._lockYearDetailSubscription&&this._lockYearDetailSubscription.unsubscribe()},e=>{this.isDataLoaded=!0,this.loadComponent(!1),this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!==this._lockYearDetailSubscription&&this._lockYearDetailSubscription.unsubscribe()}))}))}UnlockYearDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._unlockYearDetailSubscription=yield(yield this._yearDetialService.UnlockYear(this._yearModel.Id)).subscribe(e=>{this.event="Unlock",this.loadComponent(!1),this.isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Unlock Successfully."),null!==this._unlockYearDetailSubscription&&this._unlockYearDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this.isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!==this._unlockYearDetailSubscription&&this._unlockYearDetailSubscription.unsubscribe()}))}))}ngOnDestroy(){}loadComponent(e){this._btnAddYearDateDisabled=e,this._btnSaveDisabled=e,this._btnLockIsabled=e,this._btnUnlockDisabled=!e,this._isLocked=e,this.isProgressBarHidden=!1}disableButtons(){this._btnSaveDisabled=!0,this._btnLockIsabled=!0,this._btnUnlockDisabled=!0,this.isProgressBarHidden=!0}GetYearDateListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listYearDateObservableArray=new na,this._listYearDateCollectionView=new oa(this._listYearDateObservableArray),this._listYearDateCollectionView.pageSize=15,this._listYearDateCollectionView.trackChanges=!0,yield this._listYearDateCollectionView.refresh(),yield this.flexYearDate.refresh(),this._isYearDateProgressBarHidden=!0,this._yearDateListSubscription=(yield this._yearDetialService.YearDateList(this._yearModel.Id)).subscribe(e=>{e.length>0&&(this._listYearDateObservableArray=e,this._listYearDateCollectionView=new oa(this._listYearDateObservableArray),this._listYearDateCollectionView.pageSize=15,this._listYearDateCollectionView.trackChanges=!0,this._listYearDateCollectionView.refresh(),this.flexYearDate.refresh()),this._isDataLoaded=!0,this._isYearDateProgressBarHidden=!1,null!=this._yearDateListSubscription&&this._yearDateListSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearDateListSubscription&&this._yearDateListSubscription.unsubscribe()})}))}AddYearDate(e){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddYearDateDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addYearDateSubscription=(yield this._yearDetialService.AddYearDate(e)).subscribe(e=>{this._btnAddYearDateDisabled=!1,this._isDataLoaded=!0,this.GetYearDateListData(),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully")},e=>{this._btnAddYearDateDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addYearDateSubscription&&this._addYearDateSubscription.unsubscribe()}))}))}UpdateYearDate(e){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddYearDateDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addYearDateSubscription=(yield this._yearDetialService.Updatedate(e.Id,e)).subscribe(e=>{this._btnAddYearDateDisabled=!1,this._isDataLoaded=!0,this.GetYearDateListData(),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Updated Successfully")},e=>{this._btnAddYearDateDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addYearDateSubscription&&this._addYearDateSubscription.unsubscribe()}))}))}AddYearDateDialog(){this.DetailYearDate(this._yearDateModel,"Add YearDate Detail")}EditYearDate(){this.DetailYearDate(this._listYearDateCollectionView.currentItem,"Edit YearDate Detail")}DeleteYearDate(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listYearDateCollectionView.currentItem;this._isYearDateProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._deleteYearDateSubscription=(yield this._yearDetialService.DeleteYearDate(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetYearDateListData(),this._isYearDateProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._isYearDateProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" Status "+e.status),null!=this._deleteYearDateSubscription&&this._deleteYearDateSubscription.unsubscribe()}))}))}ComfirmDeleteYearDate(){this.deleteYearDateDetailDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Year Date",objComfirmationMessage:` Delete ${this._listYearDateCollectionView.currentItem.YearDate}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteYearDate()})}DetailYearDate(e,t){this.YearDateDetailDialog.open(Df,{width:"900px",data:{objDialogTitle:t,objYearDate:e},disableClose:!0}).afterClosed().subscribe(e=>{"Add"===e.event&&this.AddYearDate(e.data),"Update"===e.event&&this.UpdateYearDate(e.data)})}activeTab(){}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(vf),h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-year-detial"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Sf,!0),2&e&&h.pc(i=h.ec())&&(t.flexYearDate=i.first)},decls:123,vars:49,consts:[["src","../../../../assets/menu-icons/year.png","height","35"],[1,"spacer"],["mat-raised-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software/year-list","color","warn",2,"margin","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","","placeholder","Full Name","readonly","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Full Name",3,"ngModel","readonly","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","readonly","ngModelChange","dateInput"],["matSuffix","",3,"for","disabled"],["color","primary"],["datePickerDateStart",""],["datePickerDateEnd",""],["fxFlex","20",2,"padding","23px","text-align","start","display","inline"],[2,"width","100%","border","gray 1px !important"],["color","primary",3,"disabled","ngModel","ngModelChange"],[2,"color","gray"],[1,"detail-tab",2,"max-height","100%",3,"selectedTabChange"],["tabGroup",""],["label","Year Date"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexYearDate",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["fxFlex","20",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","50",2,"padding","5px"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[2,"width","100%",3,"color","mode"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditYearDate",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Year Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SaveYearDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockYearDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockYearDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.Vb(18,"mat-icon"),h.yc(19,"close"),h.Ub(),h.yc(20," Close "),h.Ub(),h.Ub(),h.xc(21,xf,1,2,"mat-progress-bar",4),h.Vb(22,"div",5),h.Vb(23,"div",6),h.Vb(24,"div",7),h.Vb(25,"div",8),h.Vb(26,"mat-form-field",9),h.Vb(27,"mat-label"),h.yc(28,"YearCode"),h.Ub(),h.Vb(29,"input",10),h.dc("ngModelChange",(function(e){return t._yearModel.YearCode=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(30,"div",8),h.Vb(31,"mat-form-field",9),h.Vb(32,"mat-label"),h.yc(33,"Year"),h.Ub(),h.Vb(34,"input",11),h.dc("ngModelChange",(function(e){return t._yearModel.Year=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(35,"div",8),h.Vb(36,"mat-form-field",9),h.Vb(37,"mat-label"),h.yc(38,"DateStart"),h.Ub(),h.Vb(39,"input",12),h.dc("ngModelChange",(function(e){return t.UIDateStart=e}))("dateInput",(function(){return t.GetUIDATEDateStart()})),h.Ub(),h.Rb(40,"mat-datepicker-toggle",13),h.Rb(41,"mat-datepicker",14,15),h.Ub(),h.Ub(),h.Vb(43,"div",8),h.Vb(44,"mat-form-field",9),h.Vb(45,"mat-label"),h.yc(46,"DateEnd"),h.Ub(),h.Vb(47,"input",12),h.dc("ngModelChange",(function(e){return t.UIDateEnd=e}))("dateInput",(function(){return t.GetUIDATEDateEnd()})),h.Ub(),h.Rb(48,"mat-datepicker-toggle",13),h.Rb(49,"mat-datepicker",14,16),h.Ub(),h.Ub(),h.Vb(51,"div",17),h.Vb(52,"div",18),h.Vb(53,"mat-checkbox",19),h.dc("ngModelChange",(function(e){return t._yearModel.IsClose=e})),h.Vb(54,"span",20),h.yc(55," Close"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(56,"mat-tab-group",21,22),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(58,"mat-tab",23),h.xc(59,kf,1,2,"mat-progress-bar",24),h.Vb(60,"wj-flex-grid",25,26),h.Rb(62,"wj-flex-grid-filter"),h.xc(63,Vf,2,3,"wj-flex-grid-column",27),h.xc(64,Uf,2,3,"wj-flex-grid-column",27),h.Rb(65,"wj-flex-grid-column",28),h.Rb(66,"wj-flex-grid-column",28),h.Rb(67,"wj-flex-grid-column",28),h.Rb(68,"wj-flex-grid-column",28),h.Ub(),h.Ub(),h.Vb(69,"mat-tab",29),h.xc(70,Ef,5,2,"ng-template",30),h.Ub(),h.Ub(),h.Vb(71,"div",31),h.Vb(72,"div",32),h.Vb(73,"div",7),h.Vb(74,"mat-button-toggle-group",33),h.Vb(75,"mat-button-toggle",34),h.dc("click",(function(){return t._listYearDateCollectionView.moveToFirstPage()})),h.Vb(76,"mat-icon",35),h.yc(77,"navigate_before"),h.Ub(),h.Vb(78,"mat-icon"),h.yc(79,"navigate_before"),h.Ub(),h.Ub(),h.Vb(80,"mat-button-toggle",34),h.dc("click",(function(){return t._listYearDateCollectionView.moveToPreviousPage()})),h.Vb(81,"mat-icon"),h.yc(82,"navigate_before"),h.Ub(),h.Ub(),h.Vb(83,"mat-button-toggle",36),h.yc(84),h.Ub(),h.Vb(85,"mat-button-toggle",34),h.dc("click",(function(){return t._listYearDateCollectionView.moveToNextPage()})),h.Vb(86,"mat-icon"),h.yc(87,"navigate_next"),h.Ub(),h.Ub(),h.Vb(88,"mat-button-toggle",34),h.dc("click",(function(){return t._listYearDateCollectionView.moveToLastPage()})),h.Vb(89,"mat-icon",35),h.yc(90,"navigate_next"),h.Ub(),h.Vb(91,"mat-icon"),h.yc(92,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(93,"mat-divider",37),h.Vb(94,"div",38),h.Vb(95,"div",39),h.Vb(96,"div",7),h.Vb(97,"div",40),h.Vb(98,"mat-label",41),h.yc(99,"Created By:"),h.Ub(),h.Ub(),h.Vb(100,"div",42),h.Vb(101,"mat-label",41),h.yc(102),h.Ub(),h.Ub(),h.Vb(103,"div",43),h.Vb(104,"mat-label",41),h.yc(105,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(106,"div",44),h.Vb(107,"mat-label",41),h.yc(108),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(109,"div",39),h.Vb(110,"div",7),h.Vb(111,"div",40),h.Vb(112,"mat-label",41),h.yc(113,"Updated By:"),h.Ub(),h.Ub(),h.Vb(114,"div",42),h.Vb(115,"mat-label",41),h.yc(116),h.Ub(),h.Ub(),h.Vb(117,"div",43),h.Vb(118,"mat-label",41),h.yc(119,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(120,"div",44),h.Vb(121,"mat-label",41),h.yc(122),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e){const e=h.qc(42),i=h.qc(50);h.Eb(5),h.kc("disabled",t._btnSaveDisabled),h.Eb(4),h.kc("disabled",t._btnLockIsabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t.isProgressBarHidden),h.Eb(2),h.kc("hidden",!t._isComponentsShown),h.Eb(6),h.kc("ngModel",t._yearModel.YearCode),h.Eb(5),h.kc("ngModel",t._yearModel.Year)("readonly",t._isLocked),h.Eb(5),h.kc("matDatepicker",e)("ngModel",t.UIDateStart)("readonly",t._isLocked),h.Eb(1),h.kc("for",e)("disabled",t._isLocked),h.Eb(7),h.kc("matDatepicker",i)("ngModel",t.UIDateEnd)("readonly",t._isLocked),h.Eb(1),h.kc("for",i)("disabled",t._isLocked),h.Eb(5),h.kc("disabled",t._isLocked)("ngModel",t._yearModel.IsClose),h.Eb(6),h.kc("ngIf",t._isYearDateProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listYearDateCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("header","Date")("binding","YearDate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Branch")("binding","Branch")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Date Type")("binding","DateType")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","2*"),h.Eb(16),h.Bc("",t._listYearDateCollectionView.pageIndex+1," / ",t._listYearDateCollectionView.pageCount,""),h.Eb(18),h.zc(t._yearModel.CreatedByUser),h.Eb(6),h.zc(t._yearModel.CreatedDateTime),h.Eb(8),h.zc(t._yearModel.UpdatedByUser),h.Eb(6),h.zc(t._yearModel.UpdatedDateTime)}},directives:[_.a,v.a,w.a,d.c,l.l,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,xd,Ld,_r.h,_d,Ih,fh,ah,cl,Vl,hl,eh,Al,Hl,ft,fr,ul],styles:[""]}),e})(),Pf=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}YearList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/year/list",this.appSettings.defaultOptions)}))}AddYear(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/year/create","",this.appSettings.defaultOptions)}))}DeleteYear(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/year/delete/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Rf=["flexYear"];function If(e,t){1&e&&h.Rb(0,"mat-progress-bar",23),2&e&&h.kc("color","primary")("mode","indeterminate")}function Tf(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",24),h.dc("click",(function(){return h.rc(e),h.hc().EditYear()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Af(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",25),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteYear()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Bf(e,t){if(1&e&&(h.Vb(0,"mat-option",26),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let jf=(()=>{class e{constructor(e,t,i,n,o){this._yearListService=e,this._router=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialogRef=o,this._listYearObservableArray=new na,this._listYearCollectionView=new oa(this._listYearObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._btnAddDisabled=!1,this.cboShowNumberOfRows=new na,this.listPageIndex=15}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetYearListData(),yield this.createCboShowNumberOfRows()}))}createCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this.cboShowNumberOfRows.push({rowNumber:t,rowString:i})}}cboShowNumberOfRowsOnSelectedIndexChanged(){this._listYearCollectionView.pageSize=this.listPageIndex,this._listYearCollectionView.refresh(),this._listYearCollectionView.refresh()}GetYearListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listYearObservableArray=new na,this._listYearCollectionView=new oa(this._listYearObservableArray),this._listYearCollectionView.pageSize=15,this._listYearCollectionView.trackChanges=!0,yield this._listYearCollectionView.refresh(),yield this.flexYear.refresh(),this._isProgressBarHidden=!0,this._yearListSubscription=(yield this._yearListService.YearList()).subscribe(e=>{e.length>0&&(this._listYearObservableArray=e,this._listYearCollectionView=new oa(this._listYearObservableArray),this._listYearCollectionView.pageSize=15,this._listYearCollectionView.trackChanges=!0,this._listYearCollectionView.refresh(),this.flexYear.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._yearListSubscription&&this._yearListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._yearListSubscription&&this._yearListSubscription.unsubscribe())})}))}AddYear(){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addYearSubscription=(yield this._yearListService.AddYear()).subscribe(e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this.GetYearListData(),this._router.navigate(["/software/year-detail/"+e]),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully")},e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addYearSubscription&&this._addYearSubscription.unsubscribe()}))}))}EditYear(){this._router.navigate(["/software/year-detail/"+this._listYearCollectionView.currentItem.Id])}DeleteYear(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listYearCollectionView.currentItem;this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._deleteYearSubscription=(yield this._yearListService.DeleteYear(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetYearListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" Status "+e.status),null!=this._deleteYearSubscription&&this._deleteYearSubscription.unsubscribe()}))}))}ComfirmDeleteYear(){this._matDialogRef.open(sr,{width:"500px",data:{objDialogTitle:"Delete Year",objComfirmationMessage:` Delete ${this._listYearCollectionView.currentItem.Year}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteYear()})}DetailYear(e,t){this._matDialogRef.open(Mf,{width:"1200px",height:"550px",data:{objDialogTitle:t,objYearId:e},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetYearListData()})}ngOnDestroy(){null!==this._yearListSubscription&&this._yearListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Pf),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-year-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Rf,!0),2&e&&h.pc(i=h.ec())&&(t.flexYear=i.first)},decls:59,vars:42,consts:[["src","../../../../assets/menu-icons/year.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexYear",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],[3,"header","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditYear",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Year List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddYear()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.xc(16,If,1,2,"mat-progress-bar",7),h.Vb(17,"wj-flex-grid",8,9),h.Rb(19,"wj-flex-grid-filter"),h.Vb(20,"wj-flex-grid-column",10),h.xc(21,Tf,4,0,"ng-template",11),h.Ub(),h.Vb(22,"wj-flex-grid-column",10),h.xc(23,Af,4,0,"ng-template",11),h.Ub(),h.Rb(24,"wj-flex-grid-column",12),h.Rb(25,"wj-flex-grid-column",12),h.Rb(26,"wj-flex-grid-column",12),h.Rb(27,"wj-flex-grid-column",12),h.Rb(28,"wj-flex-grid-column",12),h.Rb(29,"wj-flex-grid-column",12),h.Rb(30,"wj-flex-grid-column",13),h.Ub(),h.Ub(),h.Ub(),h.Vb(31,"div",5),h.Vb(32,"div",14),h.Vb(33,"div",5),h.Vb(34,"mat-button-toggle-group",15),h.Vb(35,"mat-button-toggle",16),h.dc("click",(function(){return t._listYearCollectionView.moveToFirstPage()})),h.Vb(36,"mat-icon",17),h.yc(37,"navigate_before"),h.Ub(),h.Vb(38,"mat-icon"),h.yc(39,"navigate_before"),h.Ub(),h.Ub(),h.Vb(40,"mat-button-toggle",16),h.dc("click",(function(){return t._listYearCollectionView.moveToPreviousPage()})),h.Vb(41,"mat-icon"),h.yc(42,"navigate_before"),h.Ub(),h.Ub(),h.Vb(43,"mat-button-toggle",18),h.yc(44),h.Ub(),h.Vb(45,"mat-button-toggle",16),h.dc("click",(function(){return t._listYearCollectionView.moveToNextPage()})),h.Vb(46,"mat-icon"),h.yc(47,"navigate_next"),h.Ub(),h.Ub(),h.Vb(48,"mat-button-toggle",16),h.dc("click",(function(){return t._listYearCollectionView.moveToLastPage()})),h.Vb(49,"mat-icon",17),h.yc(50,"navigate_next"),h.Ub(),h.Vb(51,"mat-icon"),h.yc(52,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(53,"div",19),h.Vb(54,"mat-form-field",20),h.Vb(55,"mat-label"),h.yc(56,"Row"),h.Ub(),h.Vb(57,"mat-select",21),h.dc("ngModelChange",(function(e){return t.listPageIndex=e}))("selectionChange",(function(){return t.cboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(58,Bf,2,2,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._btnAddDisabled),h.Eb(11),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listYearCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Code")("binding","YearCode")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date Start")("binding","DateStart")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date End")("binding","DateEnd")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","C")("binding","IsClose")("isReadOnly",!0)("width",45),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",45),h.Eb(1),h.kc("isReadOnly",!0)("width","3*"),h.Eb(14),h.Bc(" ",t._listYearCollectionView.pageIndex+1," / ",t._listYearCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t.listPageIndex),h.Eb(1),h.kc("ngForOf",t.cboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,l.l,cl,Vl,hl,ul,Al,Hl,_r.c,_r.g,rc,c.o,c.r,l.k,fr,G.l],styles:[""]}),e})(),Hf=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}LoanList(){return Object(b.a)(this,void 0,void 0,(function*(){let e={headers:new f.c({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("access_token")})};return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/loan/list",e)}))}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/loan/user/list",this.appSettings.defaultOptions)}))}LoanStatusList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/loan/status/list",this.appSettings.defaultOptions)}))}OtherDeductionList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/loan/other/deduction/dropdown/list",this.appSettings.defaultOptions)}))}LoanPayments(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/loan/loan/payment/"+e,this.appSettings.defaultOptions)}))}EmployeeList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/change/shift/line/employee/list",this.appSettings.defaultOptions)}))}LoanDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/loan/detail/"+e,this.appSettings.defaultOptions)}))}AddLoan(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/loan/create","",this.appSettings.defaultOptions)}))}SaveLoan(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/loan/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockLoan(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/loan/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockLoan(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/loan/unlock/"+e,"",this.appSettings.defaultOptions)}))}DeleteLoan(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/loan/delete/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ff=["flexLoanPayment"];function Nf(e,t){1&e&&h.Rb(0,"mat-progress-bar",45),2&e&&h.kc("color","primary")("mode","indeterminate")}function zf(e,t){if(1&e&&(h.Vb(0,"mat-option",46),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Gf(e,t){if(1&e&&(h.Vb(0,"mat-option",47),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Yf(e,t){if(1&e&&(h.Vb(0,"mat-option",46),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Qf(e,t){if(1&e&&(h.Vb(0,"mat-option",46),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Wf(e,t){if(1&e&&(h.Vb(0,"mat-option",46),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function qf(e,t){1&e&&h.Rb(0,"mat-progress-bar",48),2&e&&h.kc("color","primary")("mode","indeterminate")}let Kf=(()=>{class e{constructor(e,t,i,n,o,a,r){this.snackBar=e,this.snackBarTemplate=t,this._loanListService=i,this._loanDetailDialogRef=n,this.caseData=o,this.decimalPipe=a,this._matDialog=r,this.title="",this.event="Close",this.inputTypeAmortiztion="text",this.inputTypeLoanAmount="text",this.inputTypePaidAmount="text",this.inputTypeBalanceAmount="text",this._loanModel={Id:0,LNNumber:"",LDDate:new Date,EmployeeId:0,Employee:"",OtherDeductionId:0,DocRef:"",Amortization:"",Remarks:"",LoanAmount:"",PaidAmount:"",BalanceAmount:"",Status:"",PreparedByUserId:0,CheckedByUserId:0,ApprovedByUserId:0,CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:"",UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:"",IsLocked:!1},this.isLDDateDataLoaded=!1,this._isLocked=!1,this.isDataLoaded=!0,this.isProgressBarHidden=!0,this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isComponentsShown=!1,this.otherDeductionListDropdown=[],this._userListDropdown=[],this._loanStatusListDropdown=[],this._listLoanPaymentObservableArray=new na,this._listLoanPaymentCollectionView=new oa(this._listLoanPaymentObservableArray),this._listPageIndex=15,this._isLoanPaymentProgressBarHidden=!1,this._isLoanPaymentDataLoaded=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.GetDeductionListData()}GetDeductionListData(){return Object(b.a)(this,void 0,void 0,(function*(){this.otherDeductionDropdownSubscription=yield(yield this._loanListService.OtherDeductionList()).subscribe(e=>{this.otherDeductionListDropdown=e,this.UserListData(),null!==this.otherDeductionDropdownSubscription&&this.otherDeductionDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this.otherDeductionDropdownSubscription&&this.otherDeductionDropdownSubscription.unsubscribe()})}))}UserListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._userDropdownSubscription=yield(yield this._loanListService.UserList()).subscribe(e=>{this._userListDropdown=e,this._loanModel.PreparedByUserId=e[0].Id,this._loanModel.CheckedByUserId=e[0].Id,this._loanModel.ApprovedByUserId=e[0].Id,this.LoanStatusListData(),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()})}))}LoanStatusListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._loanStatusDropdownSubscription=yield(yield this._loanListService.LoanStatusList()).subscribe(e=>{this._loanStatusListDropdown=e,this.GetLoanDetail(),null!==this._loanStatusDropdownSubscription&&this._loanStatusDropdownSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._loanStatusDropdownSubscription&&this._loanStatusDropdownSubscription.unsubscribe()}),this.GetLoanDetail()}))}GetLoanDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.isComponentsShown=!1,this.disableButtons(),this._LoanDetailSubscription=yield(yield this._loanListService.LoanDetail(this.caseData.objLoanId)).subscribe(e=>{let t=e;null!=t&&(this._loanModel.Id=t.Id,this._loanModel.LNNumber=t.LNNumber,this._loanModel.LDDate=t.LDDate,this._loanModel.EmployeeId=t.EmployeeId,this._loanModel.Employee=t.Employee,this._loanModel.OtherDeductionId=t.OtherDeductionId,this._loanModel.DocRef=t.DocRef,this._loanModel.Amortization=this.decimalPipe.transform(t.Amortization,"1.2-2"),this._loanModel.LoanAmount=this.decimalPipe.transform(t.LoanAmount,"1.2-2"),this._loanModel.PaidAmount=this.decimalPipe.transform(t.PaidAmount,"1.2-2"),this._loanModel.BalanceAmount=this.decimalPipe.transform(t.BalanceAmount,"1.2-2"),this._loanModel.Remarks=t.Remarks,this._loanModel.Status=t.Status,this._loanModel.PreparedByUserId=t.PreparedByUserId,this._loanModel.CheckedByUserId=t.CheckedByUserId,this._loanModel.ApprovedByUserId=t.ApprovedByUserId,this._loanModel.CreatedByUserId=t.CreatedByUserId,this._loanModel.CreatedByUser=t.CreatedByUser,this._loanModel.CreatedDateTime=t.CreatedDateTime,this._loanModel.UpdatedByUserId=t.UpdatedByUserId,this._loanModel.UpdatedByUser=t.UpdatedByUser,this._loanModel.UpdatedDateTime=t.UpdatedDateTime,this._loanModel.IsLocked=t.IsLocked),this.loadComponent(t.IsLocked),null!==this._LoanDetailSubscription&&this._LoanDetailSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._LoanDetailSubscription&&this._LoanDetailSubscription.unsubscribe()}),yield this.GetLoanPaymentListData(this._loanModel.Id)}))}GetLoanPaymentListData(e){return Object(b.a)(this,void 0,void 0,(function*(){this._listLoanPaymentObservableArray=new na,this._listLoanPaymentCollectionView=new oa(this._listLoanPaymentObservableArray),this._listLoanPaymentCollectionView.pageSize=15,this._listLoanPaymentCollectionView.trackChanges=!0,yield this._listLoanPaymentCollectionView.refresh(),yield this._flexLoanPayment.refresh(),this._isLoanPaymentProgressBarHidden=!0,this._loanPaymentCListSubscription=(yield this._loanListService.LoanPayments(e)).subscribe(e=>{e.length>0&&(this._listLoanPaymentObservableArray=e,this._listLoanPaymentCollectionView=new oa(this._listLoanPaymentObservableArray),this._listLoanPaymentCollectionView.pageSize=15,this._listLoanPaymentCollectionView.trackChanges=!0,this._listLoanPaymentCollectionView.refresh(),this._flexLoanPayment.refresh()),this._isLoanPaymentDataLoaded=!0,this._isLoanPaymentProgressBarHidden=!1,this.isComponentsShown=!0,null!=this._loanPaymentCListSubscription&&this._loanPaymentCListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._loanPaymentCListSubscription&&this._loanPaymentCListSubscription.unsubscribe()})}))}SaveLoanDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._saveLoanDetailSubscription=yield(yield this._loanListService.SaveLoan(this._loanModel.Id,this._loanModel)).subscribe(e=>{this.loadComponent(this._loanModel.IsLocked),this.isDataLoaded=!0,this.event="Save",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Save Successfully."),null!==this._saveLoanDetailSubscription&&this._saveLoanDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._loanModel.IsLocked),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._saveLoanDetailSubscription&&this._saveLoanDetailSubscription.unsubscribe()}))}))}LockLoanDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._lockLoanDetailSubscription=yield(yield this._loanListService.LockLoan(this._loanModel.Id,this._loanModel)).subscribe(e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.event="Lock",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Lock Successfully."),null!==this._lockLoanDetailSubscription&&this._lockLoanDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._lockLoanDetailSubscription&&this._lockLoanDetailSubscription.unsubscribe()}))}))}UnlockLoanDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.disableButtons(),1==this.isDataLoaded&&(this.isDataLoaded=!1,this._unlockLoanDetailSubscription=yield(yield this._loanListService.UnlockLoan(this._loanModel.Id)).subscribe(e=>{this.loadComponent(!1),this.isDataLoaded=!0,this.event="Unlock",this.snackBarTemplate.snackBarSuccess(this.snackBar,"Unlock Successfully."),null!==this._unlockLoanDetailSubscription&&this._unlockLoanDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this.isDataLoaded=!0,this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._unlockLoanDetailSubscription&&this._unlockLoanDetailSubscription.unsubscribe()}))}))}loadComponent(e){this.btnSaveDisabled=e,this.btnLockisabled=e,this.btnUnlockDisabled=!e,this._isLocked=e,this.isProgressBarHidden=!1}disableButtons(){this.btnSaveDisabled=!0,this.btnLockisabled=!0,this.btnUnlockDisabled=!0,this.isProgressBarHidden=!0}Close(){this._loanDetailDialogRef.close({event:this.event})}RemoveComma(e){return e.toString().replace(/,/g,"")}FormatValueAmortization(){this.inputTypeAmortiztion="text",this._loanModel.Amortization=this.decimalPipe.transform(""==this._loanModel.Amortization?0:this._loanModel.Amortization,"1.2-2")}AmortiztionToNumberType(){this._loanModel.Amortization=this.RemoveComma(this._loanModel.Amortization),this.inputTypeAmortiztion="number"}FormatValueLoanAmount(){this.inputTypeLoanAmount="text",this._loanModel.LoanAmount=this.decimalPipe.transform(""==this._loanModel.LoanAmount?0:this._loanModel.LoanAmount,"1.2-2")}LoanAmountToNumberType(){this._loanModel.LoanAmount=this.RemoveComma(this._loanModel.LoanAmount),this.inputTypeLoanAmount="number"}EmployeeListDialog(){0==this._isLocked&&this._matDialog.open(_b,{width:"900px",height:"500",data:{objDialogTitle:"Employee List",objPayrollGroup:"ACTIVE"},disableClose:!0}).afterClosed().subscribe(e=>{"Pick"===e.event&&(this._loanModel.EmployeeId=e.employee.Id,this._loanModel.Employee=e.employee.Value)})}activeTab(){}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(lr.a),h.Qb(cr),h.Qb(Hf),h.Qb(Wa),h.Qb(Ka),h.Qb(l.e),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-loan-detail-dialog"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Ff,!0),2&e&&h.pc(i=h.ec())&&(t._flexLoanPayment=i.first)},decls:151,vars:54,consts:[["src","../../../../assets/menu-icons/other income.png","height","35"],[1,"spacer"],["mat-raised-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","color","warn",2,"margin","5px",3,"click"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px","margin-top","3px"],[1,"text_box"],["fxFlex","60",2,"padding","5px"],["appearance","outline",2,"width","100%"],["type","text","matInput","","readonly","",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],["fxFlex","20",2,"padding","5px"],[3,"ngModel","ngModelChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["matInput","","placeholder","DocRef",3,"ngModel","readonly","ngModelChange"],["fxFlex","15",2,"padding","5px"],["matInput","","placeholder","0.00",2,"text-align","right",3,"type","ngModel","readonly","ngModelChange","focus","focusout"],["matInput","","placeholder","0.00","ui-number-mask","2",2,"text-align","right",3,"type","ngModel","readonly","ngModelChange","focus","focusout"],["matInput","","placeholder","0.00","readonly","",2,"text-align","right",3,"type","ngModel","ngModelChange"],["fxFlex","25",2,"padding","5px"],["disabled","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"padding","5px"],[2,"max-height","100%",3,"selectedTabChange"],["tabGroup",""],["label","Payments"],[2,"height","10em"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexLoanPayment",""],[3,"header","binding","isReadOnly","width"],["label","Remarks"],["fxFlex","100"],["matInput","","placeholder","Remarks","rows","5",2,"min-height","3em",3,"ngModel","readonly","ngModelChange"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","50",2,"padding","5px"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],["fxFlex","50"],[2,"width","100%",3,"color","mode"],[3,"disabled","value"],[3,"value"],[3,"color","mode"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.yc(2,"\xa0\xa0 "),h.Vb(3,"span"),h.yc(4),h.Ub(),h.Rb(5,"span",1),h.Vb(6,"button",2),h.dc("click",(function(){return t.SaveLoanDetail()})),h.Vb(7,"mat-icon"),h.yc(8,"save"),h.Ub(),h.yc(9," Save "),h.Ub(),h.Vb(10,"button",2),h.dc("click",(function(){return t.LockLoanDetail()})),h.Vb(11,"mat-icon"),h.yc(12,"lock"),h.Ub(),h.yc(13," Lock "),h.Ub(),h.Vb(14,"button",2),h.dc("click",(function(){return t.UnlockLoanDetail()})),h.Vb(15,"mat-icon"),h.yc(16,"lock_open"),h.Ub(),h.yc(17," Unlock "),h.Ub(),h.Vb(18,"button",3),h.dc("click",(function(){return t.Close()})),h.Vb(19,"mat-icon"),h.yc(20,"close"),h.Ub(),h.yc(21,"Close "),h.Ub(),h.Ub(),h.xc(22,Nf,1,2,"mat-progress-bar",4),h.Vb(23,"div",5),h.Vb(24,"div",6),h.Vb(25,"div",7),h.Vb(26,"div",8),h.Vb(27,"h2",9),h.Vb(28,"b"),h.yc(29),h.Ub(),h.Ub(),h.Ub(),h.Vb(30,"div",8),h.Vb(31,"h2",9),h.Vb(32,"b"),h.yc(33),h.Ub(),h.Ub(),h.Ub(),h.Vb(34,"div",10),h.Vb(35,"mat-form-field",11),h.Vb(36,"mat-label"),h.yc(37,"Employee"),h.Ub(),h.Vb(38,"input",12),h.dc("ngModelChange",(function(e){return t._loanModel.Employee=e})),h.Ub(),h.Vb(39,"mat-icon",13),h.dc("click",(function(){return t.EmployeeListDialog()})),h.yc(40,"keyboard_arrow_down "),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(41,"div",7),h.Vb(42,"div",14),h.Vb(43,"mat-form-field",11),h.Vb(44,"mat-label"),h.yc(45,"Other Deduction"),h.Ub(),h.Vb(46,"mat-select",15),h.dc("ngModelChange",(function(e){return t._loanModel.OtherDeductionId=e})),h.xc(47,zf,2,3,"mat-option",16),h.Ub(),h.Ub(),h.Ub(),h.Vb(48,"div",14),h.Vb(49,"mat-form-field",11),h.Vb(50,"mat-label"),h.yc(51,"DocRef"),h.Ub(),h.Vb(52,"input",17),h.dc("ngModelChange",(function(e){return t._loanModel.DocRef=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(53,"div",18),h.Vb(54,"mat-form-field",11),h.Vb(55,"mat-label"),h.yc(56,"Amortization"),h.Ub(),h.Vb(57,"input",19),h.dc("ngModelChange",(function(e){return t._loanModel.Amortization=e}))("focus",(function(){return t.AmortiztionToNumberType()}))("focusout",(function(){return t.FormatValueAmortization()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(58,"div",18),h.Vb(59,"mat-form-field",11),h.Vb(60,"mat-label"),h.yc(61,"LoanAmount"),h.Ub(),h.Vb(62,"input",20),h.dc("ngModelChange",(function(e){return t._loanModel.LoanAmount=e}))("focus",(function(){return t.LoanAmountToNumberType()}))("focusout",(function(){return t.FormatValueLoanAmount()})),h.Ub(),h.Ub(),h.Ub(),h.Vb(63,"div",18),h.Vb(64,"mat-form-field",11),h.Vb(65,"mat-label"),h.yc(66,"PaidAmount"),h.Ub(),h.Vb(67,"input",21),h.dc("ngModelChange",(function(e){return t._loanModel.PaidAmount=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(68,"div",18),h.Vb(69,"mat-form-field",11),h.Vb(70,"mat-label"),h.yc(71,"BalanceAmount"),h.Ub(),h.Vb(72,"input",21),h.dc("ngModelChange",(function(e){return t._loanModel.BalanceAmount=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(73,"div",7),h.Vb(74,"div",22),h.Vb(75,"mat-form-field",11),h.Vb(76,"mat-label"),h.yc(77,"Prepared By"),h.Ub(),h.Vb(78,"mat-select",23),h.dc("ngModelChange",(function(e){return t._loanModel.PreparedByUserId=e})),h.xc(79,Gf,2,2,"mat-option",24),h.Ub(),h.Ub(),h.Ub(),h.Vb(80,"div",22),h.Vb(81,"mat-form-field",11),h.Vb(82,"mat-label"),h.yc(83,"Checked By"),h.Ub(),h.Vb(84,"mat-select",15),h.dc("ngModelChange",(function(e){return t._loanModel.CheckedByUserId=e})),h.xc(85,Yf,2,3,"mat-option",16),h.Ub(),h.Ub(),h.Ub(),h.Vb(86,"div",22),h.Vb(87,"mat-form-field",11),h.Vb(88,"mat-label"),h.yc(89,"Approved By"),h.Ub(),h.Vb(90,"mat-select",15),h.dc("ngModelChange",(function(e){return t._loanModel.ApprovedByUserId=e})),h.xc(91,Qf,2,3,"mat-option",16),h.Ub(),h.Ub(),h.Ub(),h.Vb(92,"div",22),h.Vb(93,"mat-form-field",11),h.Vb(94,"mat-label"),h.yc(95,"Status"),h.Ub(),h.Vb(96,"mat-select",15),h.dc("ngModelChange",(function(e){return t._loanModel.Status=e})),h.xc(97,Wf,2,3,"mat-option",16),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(98,"div",7),h.Vb(99,"div",25),h.Vb(100,"mat-tab-group",26,27),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(102,"mat-tab",28),h.Rb(103,"br"),h.Vb(104,"div",29),h.xc(105,qf,1,2,"mat-progress-bar",30),h.Vb(106,"wj-flex-grid",31,32),h.Rb(108,"wj-flex-grid-filter"),h.Rb(109,"wj-flex-grid-column",33),h.Rb(110,"wj-flex-grid-column",33),h.Rb(111,"wj-flex-grid-column",33),h.Ub(),h.Ub(),h.Ub(),h.Vb(112,"mat-tab",34),h.Rb(113,"br"),h.Vb(114,"div",29),h.Vb(115,"div",7),h.Vb(116,"div",35),h.Vb(117,"mat-form-field",11),h.Vb(118,"mat-label"),h.yc(119,"Remarks"),h.Ub(),h.Vb(120,"textarea",36),h.dc("ngModelChange",(function(e){return t._loanModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(121,"mat-divider"),h.Vb(122,"div",37),h.Vb(123,"div",38),h.Vb(124,"div",7),h.Vb(125,"div",39),h.Vb(126,"mat-label",40),h.yc(127,"Created By:"),h.Ub(),h.Ub(),h.Vb(128,"div",41),h.Vb(129,"mat-label",40),h.yc(130),h.Ub(),h.Ub(),h.Vb(131,"div",42),h.Vb(132,"mat-label",40),h.yc(133,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(134,"div",43),h.Vb(135,"mat-label",40),h.yc(136),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(137,"div",44),h.Vb(138,"div",7),h.Vb(139,"div",39),h.Vb(140,"mat-label",40),h.yc(141,"Updated By:"),h.Ub(),h.Ub(),h.Vb(142,"div",41),h.Vb(143,"mat-label",40),h.yc(144),h.Ub(),h.Ub(),h.Vb(145,"div",42),h.Vb(146,"mat-label",40),h.yc(147,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(148,"div",43),h.Vb(149,"mat-label",40),h.yc(150),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(4),h.zc(t.title),h.Eb(2),h.kc("disabled",t.btnSaveDisabled),h.Eb(4),h.kc("disabled",t.btnLockisabled),h.Eb(4),h.kc("disabled",t.btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t.isProgressBarHidden),h.Eb(2),h.kc("hidden",!t.isComponentsShown),h.Eb(5),h.zc(t._loanModel.LNNumber),h.Eb(4),h.zc(t._loanModel.LDDate),h.Eb(5),h.kc("ngModel",t._loanModel.Employee),h.Eb(8),h.kc("ngModel",t._loanModel.OtherDeductionId),h.Eb(1),h.kc("ngForOf",t.otherDeductionListDropdown),h.Eb(5),h.kc("ngModel",t._loanModel.DocRef)("readonly",t._isLocked),h.Eb(5),h.lc("type",t.inputTypeAmortiztion),h.kc("ngModel",t._loanModel.Amortization)("readonly",t._isLocked),h.Eb(5),h.lc("type",t.inputTypeLoanAmount),h.kc("ngModel",t._loanModel.LoanAmount)("readonly",t._isLocked),h.Eb(5),h.lc("type",t.inputTypePaidAmount),h.kc("ngModel",t._loanModel.PaidAmount),h.Eb(5),h.lc("type",t.inputTypeBalanceAmount),h.kc("ngModel",t._loanModel.BalanceAmount),h.Eb(6),h.kc("ngModel",t._loanModel.PreparedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._loanModel.CheckedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._loanModel.ApprovedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._loanModel.Status),h.Eb(1),h.kc("ngForOf",t._loanStatusListDropdown),h.Eb(8),h.kc("ngIf",t._isLoanPaymentProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listLoanPaymentCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("header","Payroll No.")("binding","PAYNumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Payroll Other Deduction No.")("binding","PDNumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Amount")("binding","Amount")("isReadOnly",!0)("width","2*"),h.Eb(9),h.kc("ngModel",t._loanModel.Remarks)("readonly",t._isLocked),h.Eb(10),h.zc(t._loanModel.CreatedByUser),h.Eb(6),h.zc(t._loanModel.CreatedDateTime),h.Eb(8),h.zc(t._loanModel.UpdatedByUser),h.Eb(6),h.zc(t._loanModel.UpdatedDateTime))},directives:[_.a,v.a,w.a,l.l,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,_r.h,rc,l.k,fh,ah,cl,Vl,hl,ft,fr,G.l],styles:[".text_box[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();const $f=["flexLoan"];function Jf(e,t){1&e&&h.Rb(0,"mat-progress-bar",22),2&e&&h.kc("color","primary")("mode","indeterminate")}function Zf(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",23),h.dc("click",(function(){return h.rc(e),h.hc().EditLoan()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Xf(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",24),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeleteLoan()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function eg(e,t){if(1&e&&(h.Vb(0,"mat-option",25),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let tg=(()=>{class e{constructor(e,t,i,n){this._LoanListService=e,this._snackBar=t,this._snackBarTemplate=i,this._matDialogRef=n,this._listLoanObservableArray=new na,this._listLoanCollectionView=new oa(this._listLoanObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._btnAddDisabled=!1,this.cboShowNumberOfRows=new na,this.listPageIndex=15}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetLoanListData(),yield this.createCboShowNumberOfRows()}))}createCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this.cboShowNumberOfRows.push({rowNumber:t,rowString:i})}}cboShowNumberOfRowsOnSelectedIndexChanged(){this._listLoanCollectionView.pageSize=this.listPageIndex,this._listLoanCollectionView.refresh(),this._listLoanCollectionView.refresh()}GetLoanListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listLoanObservableArray=new na,this._listLoanCollectionView=new oa(this._listLoanObservableArray),this._listLoanCollectionView.pageSize=15,this._listLoanCollectionView.trackChanges=!0,yield this._listLoanCollectionView.refresh(),yield this._flexLoan.refresh(),this._isProgressBarHidden=!0,this._loanListSubscription=(yield this._LoanListService.LoanList()).subscribe(e=>{e.length>0&&(this._listLoanObservableArray=e,this._listLoanCollectionView=new oa(this._listLoanObservableArray),this._listLoanCollectionView.pageSize=15,this._listLoanCollectionView.trackChanges=!0,this._listLoanCollectionView.refresh(),this._flexLoan.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._loanListSubscription&&this._loanListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._loanListSubscription&&this._loanListSubscription.unsubscribe())})}))}AddLoan(){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addLoanSubscription=(yield this._LoanListService.AddLoan()).subscribe(e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this.GetLoanListData(),this.DetailLoan(e,"Loan Detail"),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully")},e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addLoanSubscription&&this._addLoanSubscription.unsubscribe()}))}))}EditLoan(){this.DetailLoan(this._listLoanCollectionView.currentItem.Id,"Edit Loan Detail")}DeleteLoan(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listLoanCollectionView.currentItem;this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._deleteLoanSubscription=(yield this._LoanListService.DeleteLoan(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetLoanListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deleteLoanSubscription&&this._deleteLoanSubscription.unsubscribe()}))}))}ComfirmDeleteLoan(){this._matDialogRef.open(sr,{width:"500px",data:{objDialogTitle:"Delete Loan",objComfirmationMessage:` Delete this ${this._listLoanCollectionView.currentItem.LNNumber}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeleteLoan()})}DetailLoan(e,t){this._matDialogRef.open(Kf,{width:"1200px",data:{objDialogTitle:t,objLoanId:e},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetLoanListData()})}ngOnDestroy(){null!==this._loanListSubscription&&this._loanListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Hf),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-loan-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec($f,!0),2&e&&h.pc(i=h.ec())&&(t._flexLoan=i.first)},decls:65,vars:68,consts:[["src","../../../../assets/menu-icons/loan.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexLoan",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditLoan",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Loan List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddLoan()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.xc(16,Jf,1,2,"mat-progress-bar",7),h.Vb(17,"wj-flex-grid",8,9),h.Rb(19,"wj-flex-grid-filter"),h.Vb(20,"wj-flex-grid-column",10),h.xc(21,Zf,4,0,"ng-template",11),h.Ub(),h.Vb(22,"wj-flex-grid-column",10),h.xc(23,Xf,4,0,"ng-template",11),h.Ub(),h.Rb(24,"wj-flex-grid-column",12),h.Rb(25,"wj-flex-grid-column",12),h.Rb(26,"wj-flex-grid-column",12),h.Rb(27,"wj-flex-grid-column",12),h.Rb(28,"wj-flex-grid-column",12),h.Rb(29,"wj-flex-grid-column",12),h.Rb(30,"wj-flex-grid-column",12),h.Rb(31,"wj-flex-grid-column",12),h.Rb(32,"wj-flex-grid-column",12),h.Rb(33,"wj-flex-grid-column",12),h.Rb(34,"wj-flex-grid-column",12),h.Rb(35,"wj-flex-grid-column",12),h.Rb(36,"wj-flex-grid-column",12),h.Ub(),h.Ub(),h.Ub(),h.Vb(37,"div",5),h.Vb(38,"div",13),h.Vb(39,"div",5),h.Vb(40,"mat-button-toggle-group",14),h.Vb(41,"mat-button-toggle",15),h.dc("click",(function(){return t._listLoanCollectionView.moveToFirstPage()})),h.Vb(42,"mat-icon",16),h.yc(43,"navigate_before"),h.Ub(),h.Vb(44,"mat-icon"),h.yc(45,"navigate_before"),h.Ub(),h.Ub(),h.Vb(46,"mat-button-toggle",15),h.dc("click",(function(){return t._listLoanCollectionView.moveToPreviousPage()})),h.Vb(47,"mat-icon"),h.yc(48,"navigate_before"),h.Ub(),h.Ub(),h.Vb(49,"mat-button-toggle",17),h.yc(50),h.Ub(),h.Vb(51,"mat-button-toggle",15),h.dc("click",(function(){return t._listLoanCollectionView.moveToNextPage()})),h.Vb(52,"mat-icon"),h.yc(53,"navigate_next"),h.Ub(),h.Ub(),h.Vb(54,"mat-button-toggle",15),h.dc("click",(function(){return t._listLoanCollectionView.moveToLastPage()})),h.Vb(55,"mat-icon",16),h.yc(56,"navigate_next"),h.Ub(),h.Vb(57,"mat-icon"),h.yc(58,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(59,"div",18),h.Vb(60,"mat-form-field",19),h.Vb(61,"mat-label"),h.yc(62,"Row"),h.Ub(),h.Vb(63,"mat-select",20),h.dc("ngModelChange",(function(e){return t.listPageIndex=e}))("selectionChange",(function(){return t.cboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(64,eg,2,2,"mat-option",21),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._btnAddDisabled),h.Eb(11),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listLoanCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Number")("binding","LNNumber")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","LDDate")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Other Deduction")("binding","OtherDeduction")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","DocRef")("binding","DocRef")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Amortization")("binding","Amortization")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Loan Amount")("binding","LoanAmount")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Paid Amount")("binding","PaidAmount")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Balance Amount")("binding","BalanceAmount")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Status")("binding","Status")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",50),h.Eb(14),h.Bc(" ",t._listLoanCollectionView.pageIndex+1," / ",t._listLoanCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t.listPageIndex),h.Eb(1),h.kc("ngForOf",t.cboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,l.l,cl,Vl,hl,ul,Al,Hl,_r.c,_r.g,rc,c.o,c.r,l.k,fr,G.l],styles:[""]}),e})(),ig=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollOtherIncomeList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/list/"+e,this.appSettings.defaultOptions)}))}AddPayrollOtherIncome(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/create/"+e,"",this.appSettings.defaultOptions)}))}DeletePayrollOtherIncome(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/delete/"+e,this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/payroll/group/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ng=["flexPayrollOtherIncome"];function og(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function ag(e,t){1&e&&h.Rb(0,"mat-progress-bar",24),2&e&&h.kc("color","primary")("mode","indeterminate")}function rg(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",25),h.dc("click",(function(){return h.rc(e),h.hc().EditPayrollOtherIncome()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function sg(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",26),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeletePayrollOtherIncome()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function lg(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let cg=(()=>{class e{constructor(e,t,i,n,o){this._payrollOtherIncomeService=e,this.router=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this._payrollGroupListDropdown=[],this._filterPayrollGroup="",this._listPayrollOtherIncomeObservableArray=new na,this._listPayrollOtherIncomeCollectionView=new oa(this._listPayrollOtherIncomeObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._buttonDisabled=!1,this._createCboShowNumberOfRows=new na}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetPayrollGroupDropdownListData(),yield this.CreateCboShowNumberOfRows()}))}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this._listPayrollOtherIncomeCollectionView.pageSize=this._listPageIndex,this._listPayrollOtherIncomeCollectionView.refresh(),this._listPayrollOtherIncomeCollectionView.refresh()}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=yield(yield this._payrollOtherIncomeService.PayrollGroupList()).subscribe(e=>{var t=e;if(t.length>0)for(var i=0;i<t.length;i++)this._payrollGroupListDropdown.push(t[i]);this._filterPayrollGroup=this._payrollGroupListDropdown[0].Value,this.GetPayrollOtherIncomeListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status)})}))}PayrollGroupSelectionChange(){this.GetPayrollOtherIncomeListData()}GetPayrollOtherIncomeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listPayrollOtherIncomeObservableArray=new na,this._listPayrollOtherIncomeCollectionView=new oa(this._listPayrollOtherIncomeObservableArray),this._listPayrollOtherIncomeCollectionView.pageSize=15,this._listPayrollOtherIncomeCollectionView.trackChanges=!0,yield this._listPayrollOtherIncomeCollectionView.refresh(),yield this._flexPayrollOtherIncome.refresh(),this._isProgressBarHidden=!0,this._payrollOtherIncomeListSubscription=yield(yield this._payrollOtherIncomeService.PayrollOtherIncomeList(this._filterPayrollGroup)).subscribe(e=>{e.length>0&&(this._listPayrollOtherIncomeCollectionView=e,this._listPayrollOtherIncomeCollectionView=new oa(this._listPayrollOtherIncomeCollectionView),this._listPayrollOtherIncomeCollectionView.pageSize=15,this._listPayrollOtherIncomeCollectionView.trackChanges=!0,this._listPayrollOtherIncomeCollectionView.refresh(),this._flexPayrollOtherIncome.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._payrollOtherIncomeListSubscription&&this._payrollOtherIncomeListSubscription.unsubscribe()},e=>{this._isProgressBarHidden=!1,"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._payrollOtherIncomeListSubscription&&this._payrollOtherIncomeListSubscription.unsubscribe())})}))}AddPayrollOtherIncome(){return Object(b.a)(this,void 0,void 0,(function*(){this._buttonDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addPayrollOtherIncomeSubscription=yield(yield this._payrollOtherIncomeService.AddPayrollOtherIncome(this._filterPayrollGroup)).subscribe(e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this.GetPayrollOtherIncomeListData(),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully"),this.router.navigate(["/software/payroll-other-income-detail/"+e])},e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addPayrollOtherIncomeSubscription&&this._addPayrollOtherIncomeSubscription.unsubscribe()}))}))}EditPayrollOtherIncome(){this.router.navigate(["/software/payroll-other-income-detail/"+this._listPayrollOtherIncomeCollectionView.currentItem.Id])}DeletePayrollOtherIncome(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this._isDataLoaded){this._isDataLoaded=!1;let e=this._listPayrollOtherIncomeCollectionView.currentItem;this._isProgressBarHidden=!0,this._deletePayrollOtherIncomeSubscription=yield(yield this._payrollOtherIncomeService.DeletePayrollOtherIncome(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetPayrollOtherIncomeListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deletePayrollOtherIncomeSubscription&&this._deletePayrollOtherIncomeSubscription.unsubscribe()})}}))}ComfirmDeletePayrollOtherIncome(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Change Shift",objComfirmationMessage:`Delete ${this._listPayrollOtherIncomeCollectionView.currentItem.PINumber}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeletePayrollOtherIncome()})}ngOnDestroy(){null!=this._payrollOtherIncomeListSubscription&&this._payrollOtherIncomeListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(ig),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-other-income-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(ng,!0),2&e&&h.pc(i=h.ec())&&(t._flexPayrollOtherIncome=i.first)},decls:65,vars:47,consts:[["src","../../../../assets/menu-icons/other income.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexPayrollOtherIncome",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"value"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditPayrollOtherIncome",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Payroll Other Income List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddPayrollOtherIncome()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.Vb(16,"mat-form-field",7),h.Vb(17,"mat-label"),h.yc(18,"Payroll Group"),h.Ub(),h.Vb(19,"mat-select",8),h.dc("ngModelChange",(function(e){return t._filterPayrollGroup=e}))("selectionChange",(function(){return t.PayrollGroupSelectionChange()})),h.xc(20,og,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",5),h.Vb(22,"div",10),h.xc(23,ag,1,2,"mat-progress-bar",11),h.Vb(24,"wj-flex-grid",12,13),h.Rb(26,"wj-flex-grid-filter"),h.Vb(27,"wj-flex-grid-column",14),h.xc(28,rg,4,0,"ng-template",15),h.Ub(),h.Vb(29,"wj-flex-grid-column",14),h.xc(30,sg,4,0,"ng-template",15),h.Ub(),h.Rb(31,"wj-flex-grid-column",16),h.Rb(32,"wj-flex-grid-column",16),h.Rb(33,"wj-flex-grid-column",16),h.Rb(34,"wj-flex-grid-column",16),h.Rb(35,"wj-flex-grid-column",16),h.Rb(36,"wj-flex-grid-column",16),h.Ub(),h.Ub(),h.Ub(),h.Vb(37,"div",5),h.Vb(38,"div",17),h.Vb(39,"div",5),h.Vb(40,"mat-button-toggle-group",18),h.Vb(41,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollOtherIncomeCollectionView.moveToFirstPage()})),h.Vb(42,"mat-icon",20),h.yc(43,"navigate_before"),h.Ub(),h.Vb(44,"mat-icon"),h.yc(45,"navigate_before"),h.Ub(),h.Ub(),h.Vb(46,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollOtherIncomeCollectionView.moveToPreviousPage()})),h.Vb(47,"mat-icon"),h.yc(48,"navigate_before"),h.Ub(),h.Ub(),h.Vb(49,"mat-button-toggle",21),h.yc(50),h.Ub(),h.Vb(51,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollOtherIncomeCollectionView.moveToNextPage()})),h.Vb(52,"mat-icon"),h.yc(53,"navigate_next"),h.Ub(),h.Ub(),h.Vb(54,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollOtherIncomeCollectionView.moveToLastPage()})),h.Vb(55,"mat-icon",20),h.yc(56,"navigate_next"),h.Ub(),h.Vb(57,"mat-icon"),h.yc(58,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(59,"div",22),h.Vb(60,"mat-form-field",7),h.Vb(61,"mat-label"),h.yc(62,"Row"),h.Ub(),h.Vb(63,"mat-select",8),h.dc("ngModelChange",(function(e){return t._listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(64,lg,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._buttonDisabled),h.Eb(14),h.kc("ngModel",t._filterPayrollGroup),h.Eb(1),h.kc("ngForOf",t._payrollGroupListDropdown),h.Eb(3),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listPayrollOtherIncomeCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","PI No.")("binding","PINumber")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","PIDate")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("isReadOnly",!0)("width",40),h.Eb(14),h.Bc(" ",t._listPayrollOtherIncomeCollectionView.pageIndex+1," / ",t._listPayrollOtherIncomeCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t._listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,l.l,cl,Vl,hl,ul,Al,Hl,G.l,fr],styles:[""]}),e})(),dg=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/payroll/group/list",this.appSettings.defaultOptions)}))}OtherIncomeList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/line/income/list",this.appSettings.defaultOptions)}))}YearList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/year/list",this.appSettings.defaultOptions)}))}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/user/list",this.appSettings.defaultOptions)}))}PayrollOtherIncomeDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/detail/"+e,this.appSettings.defaultOptions)}))}SavePayrollOtherIncome(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockPayrollOtherIncome(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockPayrollOtherIncome(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/unlock/"+e,"",this.appSettings.defaultOptions)}))}PayrollOtherIncomeLineList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/line/list/"+e,this.appSettings.defaultOptions)}))}AddPayrollOtherIncomeLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/line/create/",JSON.stringify(e),this.appSettings.defaultOptions)}))}UpdatePayrollOtherIncomeLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/line/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DeletePayrollOtherIncomeLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/line/delete/"+e,this.appSettings.defaultOptions)}))}EmployeeList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/line/employee/list",this.appSettings.defaultOptions)}))}ShiftsList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/line/shift/list",this.appSettings.defaultOptions)}))}BranchList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/income/line/branch/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function hg(e,t){if(1&e&&(h.Vb(0,"mat-option",17),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}let ug=(()=>{class e{constructor(e,t,i,n,o,a,r){this.dialogRef=e,this._payrollOtherIncomeDetailService=t,this.caseData=i,this._snackBar=n,this._snackBarTemplate=o,this._matDialog=a,this.decimalPipe=r,this._payrollOtherIncomeLineModel={Id:0,PIId:0,EmployeeId:0,Employee:"",OtherIncomeId:0,OtherIncome:"",Amount:"",Particulars:""},this.title="",this.inputTypeAmount="",this.isComponentHidden=!0,this._otherIncomeListDropdown=[]}ngOnInit(){this.title=this.caseData.objDialogTitle,this.OtherIncomeListData()}OtherIncomeListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._otherIncomeDropdownSubscription=(yield this._payrollOtherIncomeDetailService.OtherIncomeList()).subscribe(e=>{this._otherIncomeListDropdown=e,this._payrollOtherIncomeLineModel.OtherIncomeId=this._otherIncomeListDropdown[0].Id,null!==this._otherIncomeDropdownSubscription&&this._otherIncomeDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._otherIncomeDropdownSubscription&&this._otherIncomeDropdownSubscription.unsubscribe()}),this.loadShiftLineDetail()}))}loadShiftLineDetail(){this._payrollOtherIncomeLineModel.Id=this.caseData.objPayrollOtherIncomeLine.Id,this._payrollOtherIncomeLineModel.PIId=this.caseData.objPayrollOtherIncomeLine.PIId,this._payrollOtherIncomeLineModel.EmployeeId=this.caseData.objPayrollOtherIncomeLine.EmployeeId,this._payrollOtherIncomeLineModel.Employee=this.caseData.objPayrollOtherIncomeLine.Employee,this._payrollOtherIncomeLineModel.OtherIncome=this.caseData.objPayrollOtherIncomeLine.OtherIncome,this._payrollOtherIncomeLineModel.Amount=this.decimalPipe.transform(this.caseData.objPayrollOtherIncomeLine.Amount,"1.2-2"),this._payrollOtherIncomeLineModel.Particulars=this.caseData.objPayrollOtherIncomeLine.Particulars,0!=this._payrollOtherIncomeLineModel.Id&&(this._payrollOtherIncomeLineModel.OtherIncomeId=this.caseData.objPayrollOtherIncomeLine.OtherIncomeId),this.isComponentHidden=!1}Close(){this.dialogRef.close({event:"Close"})}Save(){return Object(b.a)(this,void 0,void 0,(function*(){0!=this._payrollOtherIncomeLineModel.EmployeeId?yield this.dialogRef.close({event:this.title,data:this._payrollOtherIncomeLineModel}):this._snackBarTemplate.snackBarError(this._snackBar,"Choose employee!")}))}EmployeeListDialog(){this._matDialog.open(_b,{width:"900px",height:"500",data:{objDialogTitle:"Employee List",objPayrollGroup:this.caseData.objPayrollGroup},disableClose:!0}).afterClosed().subscribe(e=>{"Pick"===e.event&&(this._payrollOtherIncomeLineModel.EmployeeId=e.employee.Id,this._payrollOtherIncomeLineModel.Employee=e.employee.Value)})}RemoveComma(e){return e.toString().replace(/,/g,"")}formatValueAmount(){this.inputTypeAmount="text",this._payrollOtherIncomeLineModel.Amount=this.decimalPipe.transform(""==this._payrollOtherIncomeLineModel.Amount?0:this._payrollOtherIncomeLineModel.Amount,"1.2-2")}AmountToNumberType(){this._payrollOtherIncomeLineModel.Amount=this.RemoveComma(this._payrollOtherIncomeLineModel.Amount),this.inputTypeAmount="number"}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(dg),h.Qb(Ka),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-other-income-line-dialog"]],decls:41,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body",3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["type","text","matInput","","readonly","",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","34",2,"padding","5px"],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focus","focusout"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Particulars","rows","5",2,"min-height","102px",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Rb(5,"br"),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"mat-label"),h.yc(10,"Employee"),h.Ub(),h.Vb(11,"input",6),h.dc("ngModelChange",(function(e){return t._payrollOtherIncomeLineModel.Employee=e})),h.Ub(),h.Vb(12,"mat-icon",7),h.dc("click",(function(){return t.EmployeeListDialog()})),h.yc(13,"keyboard_arrow_down"),h.Ub(),h.Ub(),h.Ub(),h.Vb(14,"div",4),h.Vb(15,"mat-form-field",5),h.Vb(16,"mat-label"),h.yc(17,"Other Income"),h.Ub(),h.Vb(18,"mat-select",8),h.dc("ngModelChange",(function(e){return t._payrollOtherIncomeLineModel.OtherIncomeId=e})),h.xc(19,hg,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Vb(20,"div",10),h.Vb(21,"mat-form-field",5),h.Vb(22,"mat-label"),h.yc(23,"Amount"),h.Ub(),h.Vb(24,"input",11),h.dc("ngModelChange",(function(e){return t._payrollOtherIncomeLineModel.Amount=e}))("focus",(function(){return t.AmountToNumberType()}))("focusout",(function(){return t.formatValueAmount()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(25,"div",3),h.Vb(26,"div",12),h.Vb(27,"mat-form-field",5),h.Vb(28,"mat-label"),h.yc(29,"Particulars"),h.Ub(),h.Vb(30,"textarea",13),h.dc("ngModelChange",(function(e){return t._payrollOtherIncomeLineModel.Particulars=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(31,"mat-divider"),h.Vb(32,"div",14),h.Vb(33,"button",15),h.dc("click",(function(){return t.Save()})),h.Vb(34,"mat-icon"),h.yc(35,"save"),h.Ub(),h.yc(36," Save "),h.Ub(),h.Vb(37,"button",16),h.dc("click",(function(){return t.Close()})),h.Vb(38,"mat-icon"),h.yc(39,"close"),h.Ub(),h.yc(40," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("hidden",t.isComponentHidden),h.Eb(7),h.kc("ngModel",t._payrollOtherIncomeLineModel.Employee),h.Eb(7),h.kc("ngModel",t._payrollOtherIncomeLineModel.OtherIncomeId),h.Eb(1),h.kc("ngForOf",t._otherIncomeListDropdown),h.Eb(5),h.lc("type",t.inputTypeAmount),h.kc("ngModel",t._payrollOtherIncomeLineModel.Amount),h.Eb(6),h.kc("ngModel",t._payrollOtherIncomeLineModel.Particulars))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,w.a,_r.h,rc,l.k,or,v.a,tr,G.l],styles:[""]}),e})();const pg=["flexPayrollOtherIncomeLine"];function bg(e,t){1&e&&h.Rb(0,"mat-progress-bar",50),2&e&&h.kc("color","primary")("mode","indeterminate")}function mg(e,t){if(1&e&&(h.Vb(0,"mat-option",51),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function fg(e,t){if(1&e&&(h.Vb(0,"mat-option",52),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function gg(e,t){if(1&e&&(h.Vb(0,"mat-option",52),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function yg(e,t){1&e&&h.Rb(0,"mat-progress-bar",53),2&e&&h.kc("color","primary")("mode","indeterminate")}function _g(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",56),h.dc("click",(function(){return h.rc(e),h.hc(2).EditPayrollOtherIncomeLine()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function vg(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",54),h.xc(1,_g,4,0,"ng-template",55),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function wg(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",57),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeletePayrollOtherIncomeLine()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Cg(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",54),h.xc(1,wg,4,0,"ng-template",55),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function Dg(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",58),h.dc("click",(function(){return h.rc(e),h.hc().AddPayrollOtherIncomeLine()})),h.Vb(1,"mat-icon"),h.yc(2,"add"),h.Ub(),h.yc(3," ADD "),h.Ub(),h.Rb(4,"br")}if(2&e){const e=h.hc();h.kc("disabled",e._btnAddPayrollOtherIncomeLineDisabled)}}let Sg=(()=>{class e{constructor(e,t,i,n,o,a,r){this._payrollOtherIncomeDetailService=e,this._activatedRoute=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this.datePipe=a,this.decimalPipe=r,this._isProgressBarHidden=!1,this._isComponentsShown=!0,this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isDataLoaded=!1,this._isLocked=!1,this._payrollGroupListDropdown=[],this._yearListDropdown=[],this._userListDropdown=[],this.totalIncomeAmount="0.00",this._payrollOtherIncomeModel={Id:0,PINumber:"",PIDate:new Date,PayrollGroup:"",YearId:0,Year:"",Remarks:"",PreparedByUserId:0,PreparedByUser:"",CheckedByUserId:0,CheckedByUser:"",ApprovedByUserId:0,ApprovedByUser:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:new Date,UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:new Date,IsLocked:!1},this._payrollOtherIncomeLineModel={Id:0,PIId:0,EmployeeId:0,Employee:"",OtherIncomeId:0,OtherIncome:"",Amount:"0",Particulars:"NA"},this._listPayrollOtherIncomeLineObservableArray=new na,this._listPayrollOtherIncomeLineCollectionView=new oa(this._listPayrollOtherIncomeLineObservableArray),this._listPageIndex=15,this._isPayrollOtherIncomeLineProgressBarHidden=!1,this._isPayrollOtherIncomeLineDataLoaded=!1,this._btnAddPayrollOtherIncomeLineDisabled=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.UserListData()}))}UserListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._userDropdownSubscription=yield(yield this._payrollOtherIncomeDetailService.UserList()).subscribe(e=>{this._userListDropdown=e,this.GetPayrollOtherIncomeDetail(),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()})}))}GetPayrollOtherIncomeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=0;this._activatedRoute.params.subscribe(t=>{e=t.id}),this._isComponentsShown=!0,this._isProgressBarHidden=!0,this.DisableButtons(),this._changePayrollOtherIncomeDetailSubscription=yield(yield this._payrollOtherIncomeDetailService.PayrollOtherIncomeDetail(e)).subscribe(e=>{let t=e;null!=t&&(this._payrollOtherIncomeModel=t,this._payrollOtherIncomeModel.PIDate=new Date(t.PIDate),this._payrollOtherIncomeLineModel.PIId=t.Id),this.loadComponent(t.IsLocked),this.GetPayrollOtherIncomeLineListData(),this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._isComponentsShown=!1,null!==this._changePayrollOtherIncomeDetailSubscription&&this._changePayrollOtherIncomeDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._changePayrollOtherIncomeDetailSubscription&&this._changePayrollOtherIncomeDetailSubscription.unsubscribe()})}))}DateFormatSelectedDate(){this._payrollOtherIncomeModel.PIDate=new Date(this.datePipe.transform(this._payrollOtherIncomeModel.PIDate,"yyyy-MM-dd"))}SavePayrollOtherIncomeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this.DateFormatSelectedDate(),this._savePayrollOtherIncomeDetailSubscription=(yield this._payrollOtherIncomeDetailService.SavePayrollOtherIncome(this._payrollOtherIncomeModel.Id,this._payrollOtherIncomeModel)).subscribe(e=>{this.loadComponent(this._payrollOtherIncomeModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._savePayrollOtherIncomeDetailSubscription&&this._savePayrollOtherIncomeDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._payrollOtherIncomeModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._savePayrollOtherIncomeDetailSubscription&&this._savePayrollOtherIncomeDetailSubscription.unsubscribe()}))}))}LockPayrollOtherIncomeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this.DateFormatSelectedDate(),this._lockPayrollOtherIncomeDetailSubscription=yield(yield this._payrollOtherIncomeDetailService.LockPayrollOtherIncome(this._payrollOtherIncomeModel.Id,this._payrollOtherIncomeModel)).subscribe(e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Lock Successfully."),null!==this._lockPayrollOtherIncomeDetailSubscription&&this._lockPayrollOtherIncomeDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._lockPayrollOtherIncomeDetailSubscription&&this._lockPayrollOtherIncomeDetailSubscription.unsubscribe()}))}))}UnlockPayrollOtherIncomeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._unlockPayrollOtherIncomeDetailSubscription=yield(yield this._payrollOtherIncomeDetailService.UnlockPayrollOtherIncome(this._payrollOtherIncomeModel.Id)).subscribe(e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Unlock Successfully."),null!==this._unlockPayrollOtherIncomeDetailSubscription&&this._unlockPayrollOtherIncomeDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._unlockPayrollOtherIncomeDetailSubscription&&this._unlockPayrollOtherIncomeDetailSubscription.unsubscribe()}))}))}loadComponent(e){this._btnAddPayrollOtherIncomeLineDisabled=e,this._btnSaveDisabled=e,this._btnLockisabled=e,this._btnUnlockDisabled=!e,this._isLocked=e,this._isProgressBarHidden=!1}DisableButtons(){this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isProgressBarHidden=!0}activeTab(){}GetPayrollOtherIncomeLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listPayrollOtherIncomeLineObservableArray=new na,this._listPayrollOtherIncomeLineCollectionView=new oa(this._listPayrollOtherIncomeLineObservableArray),this._listPayrollOtherIncomeLineCollectionView.pageSize=15,this._listPayrollOtherIncomeLineCollectionView.trackChanges=!0,yield this._listPayrollOtherIncomeLineCollectionView.refresh(),yield this.flexPayrollOtherIncomeLine.refresh(),this._isPayrollOtherIncomeLineProgressBarHidden=!0,this._PayrollOtherIncomeLineListSubscription=yield(yield this._payrollOtherIncomeDetailService.PayrollOtherIncomeLineList(this._payrollOtherIncomeModel.Id)).subscribe(e=>{e.length>0&&(this.totalIncomeAmount=this.decimalPipe.transform(this.Sum(e),"1.2-2"),this._listPayrollOtherIncomeLineObservableArray=e,this._listPayrollOtherIncomeLineCollectionView=new oa(this._listPayrollOtherIncomeLineObservableArray),this._listPayrollOtherIncomeLineCollectionView.pageSize=15,this._listPayrollOtherIncomeLineCollectionView.trackChanges=!0,this._listPayrollOtherIncomeLineCollectionView.refresh(),this.flexPayrollOtherIncomeLine.refresh()),this._isPayrollOtherIncomeLineDataLoaded=!0,this._isPayrollOtherIncomeLineProgressBarHidden=!1,null!==this._PayrollOtherIncomeLineListSubscription&&this._PayrollOtherIncomeLineListSubscription.unsubscribe()},e=>{this._isPayrollOtherIncomeLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._PayrollOtherIncomeLineListSubscription&&this._PayrollOtherIncomeLineListSubscription.unsubscribe()})}))}Sum(e){var t=0;return e.forEach(e=>{t+=e.Amount}),t}AddPayrollOtherIncomeLine(){this.DetailPayrollOtherIncomeLine(this._payrollOtherIncomeLineModel,"Add Payroll Other Income Line")}EditPayrollOtherIncomeLine(){this.DetailPayrollOtherIncomeLine(this._listPayrollOtherIncomeLineCollectionView.currentItem,"Edit Payroll Other Income Line Detail")}DeletePayrollOtherIncomeLine(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listPayrollOtherIncomeLineCollectionView.currentItem;this._isPayrollOtherIncomeLineProgressBarHidden=!0,1==this._isPayrollOtherIncomeLineDataLoaded&&(this._isPayrollOtherIncomeLineDataLoaded=!1,this._deletePayrollOtherIncomeLineSubscription=yield(yield this._payrollOtherIncomeDetailService.DeletePayrollOtherIncomeLine(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetPayrollOtherIncomeLineListData(),this._isPayrollOtherIncomeLineProgressBarHidden=!1,this._isPayrollOtherIncomeLineDataLoaded=!0},e=>{this._isPayrollOtherIncomeLineDataLoaded=!0,this._isPayrollOtherIncomeLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deletePayrollOtherIncomeLineSubscription&&this._deletePayrollOtherIncomeLineSubscription.unsubscribe()}))}))}ComfirmDeletePayrollOtherIncomeLine(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"",objComfirmationMessage:` Delete ${this._listPayrollOtherIncomeLineCollectionView.currentItem.Employee}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeletePayrollOtherIncomeLine()})}DetailPayrollOtherIncomeLine(e,t){this._matDialog.open(ug,{width:"1300px",data:{objDialogTitle:t,objPayrollGroup:this._payrollOtherIncomeModel.PayrollGroup,objPayrollOtherIncomeLine:e},disableClose:!0}).afterClosed().subscribe(e=>{"Add Payroll Other Income Line"===e.event&&(this._isPayrollOtherIncomeLineDataLoaded=!0,this.AddSavePayrollOtherIncomeLine(e.data)),"Edit Payroll Other Income Line Detail"===e.event&&(this._isPayrollOtherIncomeLineDataLoaded=!0,this.UpdatePayrollOtherIncomeLine(e.data.Id,e.data))})}ngOnDestroy(){}AddSavePayrollOtherIncomeLine(e){return Object(b.a)(this,void 0,void 0,(function*(){this._isPayrollOtherIncomeLineProgressBarHidden=!0,1==this._isPayrollOtherIncomeLineDataLoaded&&(this._isPayrollOtherIncomeLineDataLoaded=!1,this._savePayrollOtherIncomeLineSubscription=yield(yield this._payrollOtherIncomeDetailService.AddPayrollOtherIncomeLine(e)).subscribe(e=>{this._isPayrollOtherIncomeLineDataLoaded=!0,this._isPayrollOtherIncomeLineProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully"),this.GetPayrollOtherIncomeLineListData(),null!=this._savePayrollOtherIncomeLineSubscription&&this._savePayrollOtherIncomeLineSubscription.unsubscribe()},e=>{this._isPayrollOtherIncomeLineDataLoaded=!0,this._isPayrollOtherIncomeLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._savePayrollOtherIncomeLineSubscription&&this._savePayrollOtherIncomeLineSubscription.unsubscribe()}))}))}UpdatePayrollOtherIncomeLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){this._isPayrollOtherIncomeLineProgressBarHidden=!0,1==this._isPayrollOtherIncomeLineDataLoaded&&(this._isPayrollOtherIncomeLineDataLoaded=!1,this._updatePayrollOtherIncomeLineSubscription=yield(yield this._payrollOtherIncomeDetailService.UpdatePayrollOtherIncomeLine(e,t)).subscribe(e=>{this._isPayrollOtherIncomeLineDataLoaded=!0,this._isPayrollOtherIncomeLineProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Update Successfully"),this.GetPayrollOtherIncomeLineListData(),null!=this._updatePayrollOtherIncomeLineSubscription&&this._updatePayrollOtherIncomeLineSubscription.unsubscribe()},e=>{this._isPayrollOtherIncomeLineDataLoaded=!0,this._isPayrollOtherIncomeLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._updatePayrollOtherIncomeLineSubscription&&this._updatePayrollOtherIncomeLineSubscription.unsubscribe()}))}))}selectedPreparedByUser(e){this._payrollOtherIncomeModel.PreparedByUserId=e.source.value,this._payrollOtherIncomeModel.PreparedByUser=e.source.selected.viewValue}selectedCheckedByUser(e){this._payrollOtherIncomeModel.CheckedByUserId=e.source.value,this._payrollOtherIncomeModel.CheckedByUser=e.source.selected.viewValue}selectedApprovedByUser(e){this._payrollOtherIncomeModel.ApprovedByUserId=e.source.value,this._payrollOtherIncomeModel.ApprovedByUser=e.source.selected.viewValue}btnCSVClick(){var e=this.generateCSV(),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.setAttribute("download","payroll-other-income.csv"),i.click()}generateCSV(){var e,t="";if(e=this._listPayrollOtherIncomeLineCollectionView,""!=(t="Change Payroll Other Income\r\n\n")){var i='"ID","PINumber","PIDate","PayrollGroup","Year","Remarks","PreparedByUser","CheckedByUser","ApprovedByUser",';for(var n in e.items[0])i+=n+",";t+=(i=i.slice(0,-1))+"\r\n",e.moveToFirstPage();for(var o=0;o<e.pageCount;o++){for(var a=0;a<e.items.length;a++){var r='"'+this._payrollOtherIncomeModel.Id+'","'+this._payrollOtherIncomeModel.PINumber+'","'+this._payrollOtherIncomeModel.PIDate+'","'+this._payrollOtherIncomeModel.PayrollGroup+'","'+this._payrollOtherIncomeModel.Year+'","'+this._payrollOtherIncomeModel.Remarks+'","'+this._payrollOtherIncomeModel.PreparedByUser+'","'+this._payrollOtherIncomeModel.CheckedByUser+'","'+this._payrollOtherIncomeModel.ApprovedByUser+'",';for(var n in e.items[a])r+='"'+e.items[a][n]+'",';r.slice(0,r.length-1),t+=r+"\r\n"}e.moveToNextPage()}}return new Blob([t],{type:"text/csv;charset=utf-8;"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(dg),h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-other-income-detail"]],viewQuery:function(e,t){var i;1&e&&h.Ec(pg,!0),2&e&&h.pc(i=h.ec())&&(t.flexPayrollOtherIncomeLine=i.first)},decls:145,vars:51,consts:[["src","../../../../assets/menu-icons/overtime application.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","color","accent","id","btnAddEmployee",2,"margin","5px",3,"disabled","click"],["mat-flat-button","","routerLink","/software/payroll-other-income-list","color","warn",2,"margin-right","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["fxFlex","33",2,"padding","5px","margin-top","3px"],[1,"text_box"],["fxFlex","34",2,"padding","5px","margin-top","3px"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","disabled","ngModelChange"],["matSuffix","",3,"for","disabled"],["color","primary"],["datePickerPIDate",""],["disabled","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","selectionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","50s",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","AddrRemarksess","rows","5",2,"min-height","100px",3,"ngModel","readonly","ngModelChange"],[1,"detail-tab",2,"max-height","100%"],["tabGroup",""],["label","Shift Code Line"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexPayrollOtherIncomeLine",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[2,"width","100%",3,"color","mode"],[3,"value"],[3,"disabled","value"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditDTRLine",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Payroll Other Income Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SavePayrollOtherIncomeDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockPayrollOtherIncomeDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockPayrollOtherIncomeDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.dc("click",(function(){return t.btnCSVClick()})),h.Vb(18,"mat-icon"),h.yc(19,"get_app"),h.Ub(),h.yc(20," CSV "),h.Ub(),h.Vb(21,"button",4),h.Vb(22,"mat-icon"),h.yc(23,"close"),h.Ub(),h.yc(24," Close "),h.Ub(),h.Ub(),h.xc(25,bg,1,2,"mat-progress-bar",5),h.Vb(26,"div",6),h.Vb(27,"div",7),h.Vb(28,"div",8),h.Vb(29,"div",9),h.Vb(30,"div",8),h.Vb(31,"div",10),h.Vb(32,"h2",11),h.Vb(33,"b"),h.yc(34),h.Ub(),h.Ub(),h.Ub(),h.Vb(35,"div",10),h.Vb(36,"h2",11),h.Vb(37,"b"),h.yc(38),h.Ub(),h.Ub(),h.Ub(),h.Vb(39,"div",12),h.Vb(40,"h2",11),h.Vb(41,"b"),h.yc(42),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(43,"div",8),h.Vb(44,"div",13),h.Vb(45,"mat-form-field",14),h.Vb(46,"mat-label"),h.yc(47,"Date"),h.Ub(),h.Vb(48,"input",15),h.dc("ngModelChange",(function(e){return t._payrollOtherIncomeModel.PIDate=e})),h.Ub(),h.Rb(49,"mat-datepicker-toggle",16),h.Rb(50,"mat-datepicker",17,18),h.Ub(),h.Ub(),h.Vb(52,"div",13),h.Vb(53,"mat-form-field",14),h.Vb(54,"mat-label"),h.yc(55,"Prepared By"),h.Ub(),h.Vb(56,"mat-select",19),h.dc("ngModelChange",(function(e){return t._payrollOtherIncomeModel.PreparedByUserId=e})),h.xc(57,mg,2,2,"mat-option",20),h.Ub(),h.Ub(),h.Ub(),h.Vb(58,"div",13),h.Vb(59,"mat-form-field",14),h.Vb(60,"mat-label"),h.yc(61,"Checked By"),h.Ub(),h.Vb(62,"mat-select",21),h.dc("ngModelChange",(function(e){return t._payrollOtherIncomeModel.CheckedByUserId=e}))("selectionChange",(function(e){return t.selectedCheckedByUser(e)})),h.xc(63,fg,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Vb(64,"div",13),h.Vb(65,"mat-form-field",14),h.Vb(66,"mat-label"),h.yc(67,"Approved By"),h.Ub(),h.Vb(68,"mat-select",21),h.dc("ngModelChange",(function(e){return t._payrollOtherIncomeModel.ApprovedByUserId=e}))("selectionChange",(function(e){return t.selectedApprovedByUser(e)})),h.xc(69,gg,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(70,"div",23),h.Vb(71,"div",8),h.Vb(72,"div",24),h.Vb(73,"mat-form-field",14),h.Vb(74,"mat-label"),h.yc(75,"Remarks"),h.Ub(),h.Vb(76,"textarea",25),h.dc("ngModelChange",(function(e){return t._payrollOtherIncomeModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(77,"mat-tab-group",26,27),h.Vb(79,"mat-tab",28),h.xc(80,yg,1,2,"mat-progress-bar",29),h.Vb(81,"wj-flex-grid",30,31),h.Rb(83,"wj-flex-grid-filter"),h.xc(84,vg,2,3,"wj-flex-grid-column",32),h.xc(85,Cg,2,3,"wj-flex-grid-column",32),h.Rb(86,"wj-flex-grid-column",33),h.Rb(87,"wj-flex-grid-column",33),h.Rb(88,"wj-flex-grid-column",33),h.Rb(89,"wj-flex-grid-column",33),h.Ub(),h.Ub(),h.Vb(90,"mat-tab",34),h.xc(91,Dg,5,1,"ng-template",35),h.Ub(),h.Ub(),h.Vb(92,"div",36),h.Vb(93,"div",37),h.Vb(94,"div",8),h.Vb(95,"mat-button-toggle-group",38),h.Vb(96,"mat-button-toggle",39),h.dc("click",(function(){return t._listPayrollOtherIncomeLineCollectionView.moveToFirstPage()})),h.Vb(97,"mat-icon",40),h.yc(98,"navigate_before"),h.Ub(),h.Vb(99,"mat-icon"),h.yc(100,"navigate_before"),h.Ub(),h.Ub(),h.Vb(101,"mat-button-toggle",39),h.dc("click",(function(){return t._listPayrollOtherIncomeLineCollectionView.moveToPreviousPage()})),h.Vb(102,"mat-icon"),h.yc(103,"navigate_before"),h.Ub(),h.Ub(),h.Vb(104,"mat-button-toggle",41),h.yc(105),h.Ub(),h.Vb(106,"mat-button-toggle",39),h.dc("click",(function(){return t._listPayrollOtherIncomeLineCollectionView.moveToNextPage()})),h.Vb(107,"mat-icon"),h.yc(108,"navigate_next"),h.Ub(),h.Ub(),h.Vb(109,"mat-button-toggle",39),h.dc("click",(function(){return t._listPayrollOtherIncomeLineCollectionView.moveToLastPage()})),h.Vb(110,"mat-icon",40),h.yc(111,"navigate_next"),h.Ub(),h.Vb(112,"mat-icon"),h.yc(113,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(114,"div",42),h.Ub(),h.Rb(115,"mat-divider",43),h.Vb(116,"div",44),h.Vb(117,"div",9),h.Vb(118,"div",8),h.Vb(119,"div",45),h.Vb(120,"mat-label",46),h.yc(121,"Created By:"),h.Ub(),h.Ub(),h.Vb(122,"div",47),h.Vb(123,"mat-label",46),h.yc(124),h.Ub(),h.Ub(),h.Vb(125,"div",48),h.Vb(126,"mat-label",46),h.yc(127,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(128,"div",49),h.Vb(129,"mat-label",46),h.yc(130),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(131,"div",9),h.Vb(132,"div",8),h.Vb(133,"div",45),h.Vb(134,"mat-label",46),h.yc(135,"Updated By:"),h.Ub(),h.Ub(),h.Vb(136,"div",47),h.Vb(137,"mat-label",46),h.yc(138),h.Ub(),h.Ub(),h.Vb(139,"div",48),h.Vb(140,"mat-label",46),h.yc(141,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(142,"div",49),h.Vb(143,"mat-label",46),h.yc(144),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e){const e=h.qc(51);h.Eb(5),h.kc("disabled",t._btnSaveDisabled),h.Eb(4),h.kc("disabled",t._btnLockisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t._isProgressBarHidden),h.Eb(2),h.kc("hidden",t._isComponentsShown),h.Eb(7),h.zc(t._payrollOtherIncomeModel.PINumber),h.Eb(4),h.zc(t._payrollOtherIncomeModel.PayrollGroup),h.Eb(4),h.zc(t._payrollOtherIncomeModel.Year),h.Eb(6),h.kc("matDatepicker",e)("ngModel",t._payrollOtherIncomeModel.PIDate)("disabled",t._isLocked),h.Eb(1),h.kc("for",e)("disabled",t._isLocked),h.Eb(7),h.kc("ngModel",t._payrollOtherIncomeModel.PreparedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._payrollOtherIncomeModel.CheckedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._payrollOtherIncomeModel.ApprovedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(7),h.kc("ngModel",t._payrollOtherIncomeModel.Remarks)("readonly",t._isLocked),h.Eb(4),h.kc("ngIf",t._isPayrollOtherIncomeLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listPayrollOtherIncomeLineCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Other Income")("binding","OtherIncome")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Amount")("binding","Amount")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Particulars")("binding","Particulars")("isReadOnly",!0)("width","2*"),h.Eb(16),h.Bc(" ",t._listPayrollOtherIncomeLineCollectionView.pageIndex+1," / ",t._listPayrollOtherIncomeLineCollectionView.pageCount,""),h.Eb(19),h.zc(t._payrollOtherIncomeModel.CreatedByUser),h.Eb(6),h.zc(t._payrollOtherIncomeModel.CreatedDateTime),h.Eb(8),h.zc(t._payrollOtherIncomeModel.UpdatedByUser),h.Eb(6),h.zc(t._payrollOtherIncomeModel.UpdatedDateTime)}},directives:[_.a,v.a,w.a,d.c,l.l,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,rc,l.k,fh,ah,cl,Vl,hl,eh,Al,Hl,ft,fr,G.l,ul],styles:[".text_box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}"]}),e})(),xg=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollOtherDeductionList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/list/"+e,this.appSettings.defaultOptions)}))}AddPayrollOtherDeduction(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/create/"+e,"",this.appSettings.defaultOptions)}))}DeletePayrollOtherDeduction(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/delete/"+e,this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/payroll/group/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const kg=["flexPayrollOtherDeduction"];function Lg(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Vg(e,t){1&e&&h.Rb(0,"mat-progress-bar",24),2&e&&h.kc("color","primary")("mode","indeterminate")}function Og(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",25),h.dc("click",(function(){return h.rc(e),h.hc().EditPayrollOtherDeduction()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Ug(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",26),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeletePayrollOtherDeduction()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Eg(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let Mg=(()=>{class e{constructor(e,t,i,n,o){this._payrollOtherDeductionListService=e,this.router=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this._payrollGroupListDropdown=[],this._filterPayrollGroup="",this._listPayrollOtherDeductionObservableArray=new na,this._listPayrollOtherDeductionCollectionView=new oa(this._listPayrollOtherDeductionObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._buttonDisabled=!1,this._createCboShowNumberOfRows=new na}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetPayrollGroupDropdownListData(),yield this.CreateCboShowNumberOfRows()}))}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this._listPayrollOtherDeductionCollectionView.pageSize=this._listPageIndex,this._listPayrollOtherDeductionCollectionView.refresh(),this._listPayrollOtherDeductionCollectionView.refresh()}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=yield(yield this._payrollOtherDeductionListService.PayrollGroupList()).subscribe(e=>{var t=e;if(t.length>0)for(var i=0;i<t.length;i++)this._payrollGroupListDropdown.push(t[i]);this._filterPayrollGroup=this._payrollGroupListDropdown[0].Value,this.GetPayrollOtherDeductionListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status)})}))}PayrollGroupSelectionChange(){this.GetPayrollOtherDeductionListData()}GetPayrollOtherDeductionListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listPayrollOtherDeductionObservableArray=new na,this._listPayrollOtherDeductionCollectionView=new oa(this._listPayrollOtherDeductionObservableArray),this._listPayrollOtherDeductionCollectionView.pageSize=15,this._listPayrollOtherDeductionCollectionView.trackChanges=!0,yield this._listPayrollOtherDeductionCollectionView.refresh(),yield this._flexPayrollOtherDeduction.refresh(),this._isProgressBarHidden=!0,this._payrollOtherDeductionListSubscription=(yield this._payrollOtherDeductionListService.PayrollOtherDeductionList(this._filterPayrollGroup)).subscribe(e=>{e.length>0&&(this._listPayrollOtherDeductionCollectionView=e,this._listPayrollOtherDeductionCollectionView=new oa(this._listPayrollOtherDeductionCollectionView),this._listPayrollOtherDeductionCollectionView.pageSize=15,this._listPayrollOtherDeductionCollectionView.trackChanges=!0,this._listPayrollOtherDeductionCollectionView.refresh(),this._flexPayrollOtherDeduction.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._payrollOtherDeductionListSubscription&&this._payrollOtherDeductionListSubscription.unsubscribe()},e=>{this._isProgressBarHidden=!1,"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._payrollOtherDeductionListSubscription&&this._payrollOtherDeductionListSubscription.unsubscribe())})}))}AddPayrollOtherDeduction(){return Object(b.a)(this,void 0,void 0,(function*(){this._buttonDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addPayrollOtherDeductionSubscription=(yield this._payrollOtherDeductionListService.AddPayrollOtherDeduction(this._filterPayrollGroup)).subscribe(e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this.GetPayrollOtherDeductionListData(),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully"),this.router.navigate(["/software/payroll-other-deduction-detail/"+e])},e=>{this._buttonDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addPayrollOtherDeductionSubscription&&this._addPayrollOtherDeductionSubscription.unsubscribe()}))}))}EditPayrollOtherDeduction(){this.router.navigate(["/software/payroll-other-deduction-detail/"+this._listPayrollOtherDeductionCollectionView.currentItem.Id])}DeletePayrollOtherDeduction(){return Object(b.a)(this,void 0,void 0,(function*(){if(1==this._isDataLoaded){this._isDataLoaded=!1;let e=this._listPayrollOtherDeductionCollectionView.currentItem;this._isProgressBarHidden=!0,this._deletePayrollOtherDeductionSubscription=(yield this._payrollOtherDeductionListService.DeletePayrollOtherDeduction(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetPayrollOtherDeductionListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deletePayrollOtherDeductionSubscription&&this._deletePayrollOtherDeductionSubscription.unsubscribe()})}}))}ComfirmDeletePayrollOtherDeduction(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"Delete Payroll Other Deduction",objComfirmationMessage:`Delete ${this._listPayrollOtherDeductionCollectionView.currentItem.PDNumber}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeletePayrollOtherDeduction()})}ngOnDestroy(){null!=this._payrollOtherDeductionListSubscription&&this._payrollOtherDeductionListSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(xg),h.Qb(d.b),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-other-deduction-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec(kg,!0),2&e&&h.pc(i=h.ec())&&(t._flexPayrollOtherDeduction=i.first)},decls:65,vars:47,consts:[["src","../../../../assets/menu-icons/other deductions.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns"],["flexPayrollOtherDeduction",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"value"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditPayrollOtherDeduction",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Payroll Other Deduciton List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddPayrollOtherDeduction()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.Vb(16,"mat-form-field",7),h.Vb(17,"mat-label"),h.yc(18,"Payroll Group"),h.Ub(),h.Vb(19,"mat-select",8),h.dc("ngModelChange",(function(e){return t._filterPayrollGroup=e}))("selectionChange",(function(){return t.PayrollGroupSelectionChange()})),h.xc(20,Lg,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",5),h.Vb(22,"div",10),h.xc(23,Vg,1,2,"mat-progress-bar",11),h.Vb(24,"wj-flex-grid",12,13),h.Rb(26,"wj-flex-grid-filter"),h.Vb(27,"wj-flex-grid-column",14),h.xc(28,Og,4,0,"ng-template",15),h.Ub(),h.Vb(29,"wj-flex-grid-column",14),h.xc(30,Ug,4,0,"ng-template",15),h.Ub(),h.Rb(31,"wj-flex-grid-column",16),h.Rb(32,"wj-flex-grid-column",16),h.Rb(33,"wj-flex-grid-column",16),h.Rb(34,"wj-flex-grid-column",16),h.Rb(35,"wj-flex-grid-column",16),h.Rb(36,"wj-flex-grid-column",16),h.Ub(),h.Ub(),h.Ub(),h.Vb(37,"div",5),h.Vb(38,"div",17),h.Vb(39,"div",5),h.Vb(40,"mat-button-toggle-group",18),h.Vb(41,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollOtherDeductionCollectionView.moveToFirstPage()})),h.Vb(42,"mat-icon",20),h.yc(43,"navigate_before"),h.Ub(),h.Vb(44,"mat-icon"),h.yc(45,"navigate_before"),h.Ub(),h.Ub(),h.Vb(46,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollOtherDeductionCollectionView.moveToPreviousPage()})),h.Vb(47,"mat-icon"),h.yc(48,"navigate_before"),h.Ub(),h.Ub(),h.Vb(49,"mat-button-toggle",21),h.yc(50),h.Ub(),h.Vb(51,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollOtherDeductionCollectionView.moveToNextPage()})),h.Vb(52,"mat-icon"),h.yc(53,"navigate_next"),h.Ub(),h.Ub(),h.Vb(54,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollOtherDeductionCollectionView.moveToLastPage()})),h.Vb(55,"mat-icon",20),h.yc(56,"navigate_next"),h.Ub(),h.Vb(57,"mat-icon"),h.yc(58,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(59,"div",22),h.Vb(60,"mat-form-field",7),h.Vb(61,"mat-label"),h.yc(62,"Row"),h.Ub(),h.Vb(63,"mat-select",8),h.dc("ngModelChange",(function(e){return t._listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(64,Eg,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._buttonDisabled),h.Eb(14),h.kc("ngModel",t._filterPayrollGroup),h.Eb(1),h.kc("ngForOf",t._payrollGroupListDropdown),h.Eb(3),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listPayrollOtherDeductionCollectionView)("selectionMode",3)("frozenColumns",2),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","PD No.")("binding","PDNumber")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","PDDate")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("isReadOnly",!0)("width",40),h.Eb(14),h.Bc(" ",t._listPayrollOtherDeductionCollectionView.pageIndex+1," / ",t._listPayrollOtherDeductionCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t._listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,l.l,cl,Vl,hl,ul,Al,Hl,G.l,fr],styles:[""]}),e})(),Pg=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/payroll/group/list",this.appSettings.defaultOptions)}))}OtherDeductionList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/line/deduction/list",this.appSettings.defaultOptions)}))}LoanList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/line/loan/list",this.appSettings.defaultOptions)}))}YearList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/year/list",this.appSettings.defaultOptions)}))}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/user/list",this.appSettings.defaultOptions)}))}PayrollOtherDeductionDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/detail/"+e,this.appSettings.defaultOptions)}))}SavePayrollOtherDeduction(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockPayrollOtherDeduction(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockPayrollOtherDeduction(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/unlock/"+e,"",this.appSettings.defaultOptions)}))}PayrollOtherDeductionLineList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/line/list/"+e,this.appSettings.defaultOptions)}))}AddPayrollOtherDeductionLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/line/create/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UpdatePayrollOtherDeductionLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/line/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DeletePayrollOtherDeductionLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/line/delete/"+e,this.appSettings.defaultOptions)}))}EmployeeList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/line/employee/list",this.appSettings.defaultOptions)}))}ShiftsList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/line/shift/list",this.appSettings.defaultOptions)}))}BranchList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/payroll/other/deduction/line/branch/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Rg(e,t){if(1&e&&(h.Vb(0,"mat-option",17),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Ig(e,t){if(1&e&&(h.Vb(0,"mat-option",17),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}let Tg=(()=>{class e{constructor(e,t,i,n,o,a,r){this.dialogRef=e,this._payrollOtherDeductionDetailService=t,this.caseData=i,this._snackBar=n,this._snackBarTemplate=o,this._matDialog=a,this.decimalPipe=r,this._payrollOtherDeductionLineModel={Id:0,PDId:0,EmployeeId:0,Employee:"",OtherDeductionId:0,OtherDeduction:"",LNId:0,Loan:"",Amount:"",Particulars:""},this.title="",this.inputTypeAmount="",this.isComponentHidden=!0,this._payrollOtherDeductionListDropdown=[],this._loanListDropdown=[]}ngOnInit(){this.title=this.caseData.objDialogTitle,this.OtherDeductionListData()}OtherDeductionListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollOtherDeductionDropdownSubscription=(yield this._payrollOtherDeductionDetailService.OtherDeductionList()).subscribe(e=>{this._payrollOtherDeductionListDropdown=e,this._payrollOtherDeductionLineModel.OtherDeductionId=this._payrollOtherDeductionListDropdown[0].Id,null!==this._payrollOtherDeductionDropdownSubscription&&this._payrollOtherDeductionDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollOtherDeductionDropdownSubscription&&this._payrollOtherDeductionDropdownSubscription.unsubscribe()}),this.LoanListData()}))}LoanListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._loanDropdownSubscription=(yield this._payrollOtherDeductionDetailService.LoanList()).subscribe(e=>{this._loanListDropdown=e,this._payrollOtherDeductionLineModel.LNId=this._loanListDropdown[0].Id,null!==this._loanDropdownSubscription&&this._loanDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._loanDropdownSubscription&&this._loanDropdownSubscription.unsubscribe()}),this.loadPayrollOtherDeductionLineDetail()}))}loadPayrollOtherDeductionLineDetail(){setTimeout(()=>{this._payrollOtherDeductionLineModel.Id=this.caseData.objPayrollOtherDeductionLine.Id,this._payrollOtherDeductionLineModel.PDId=this.caseData.objPayrollOtherDeductionLine.PDId,this._payrollOtherDeductionLineModel.EmployeeId=this.caseData.objPayrollOtherDeductionLine.EmployeeId,this._payrollOtherDeductionLineModel.Employee=this.caseData.objPayrollOtherDeductionLine.Employee,this._payrollOtherDeductionLineModel.OtherDeduction=this.caseData.objPayrollOtherDeductionLine.OtherDeduction,this._payrollOtherDeductionLineModel.Loan=this.caseData.objPayrollOtherDeductionLine.Loan,this._payrollOtherDeductionLineModel.Amount=this.decimalPipe.transform(this.caseData.objPayrollOtherDeductionLine.Amount,"1.2-2"),this._payrollOtherDeductionLineModel.Particulars=this.caseData.objPayrollOtherDeductionLine.Particulars,0!=this._payrollOtherDeductionLineModel.Id&&(this._payrollOtherDeductionLineModel.OtherDeductionId=this.caseData.objPayrollOtherDeductionLine.OtherDeductionId,this._payrollOtherDeductionLineModel.LNId=this.caseData.objPayrollOtherDeductionLine.LNId),this.isComponentHidden=!1},100)}Close(){this.dialogRef.close({event:"Close"})}Save(){return Object(b.a)(this,void 0,void 0,(function*(){console.log(this._payrollOtherDeductionLineModel),0!=this._payrollOtherDeductionLineModel.EmployeeId?yield this.dialogRef.close({event:this.title,data:this._payrollOtherDeductionLineModel}):this._snackBarTemplate.snackBarError(this._snackBar,"Choose employee!")}))}EmployeeListDialog(){this._matDialog.open(_b,{width:"900px",height:"500",data:{objDialogTitle:"Employee List",objPayrollGroup:this.caseData.objPayrollGroup},disableClose:!0}).afterClosed().subscribe(e=>{"Pick"===e.event&&(this._payrollOtherDeductionLineModel.EmployeeId=e.employee.Id,this._payrollOtherDeductionLineModel.Employee=e.employee.Value)})}RemoveComma(e){return e.toString().replace(/,/g,"")}formatValueAmount(){this.inputTypeAmount="text",this._payrollOtherDeductionLineModel.Amount=this.decimalPipe.transform(""==this._payrollOtherDeductionLineModel.Amount?0:this._payrollOtherDeductionLineModel.Amount,"1.2-2")}AmountToNumberType(){this._payrollOtherDeductionLineModel.Amount=this.RemoveComma(this._payrollOtherDeductionLineModel.Amount),this.inputTypeAmount="number"}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Pg),h.Qb(Ka),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-other-deduction-line-dialog"]],decls:47,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body",3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","33",2,"padding","5px"],["appearance","outline",2,"width","100%"],["type","text","matInput","","readonly","",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","34",2,"padding","5px"],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focus","focusout"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Particulars","rows","5",2,"min-height","102px",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Rb(5,"br"),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"mat-label"),h.yc(10,"Employee"),h.Ub(),h.Vb(11,"input",6),h.dc("ngModelChange",(function(e){return t._payrollOtherDeductionLineModel.Employee=e})),h.Ub(),h.Vb(12,"mat-icon",7),h.dc("click",(function(){return t.EmployeeListDialog()})),h.yc(13,"keyboard_arrow_down"),h.Ub(),h.Ub(),h.Ub(),h.Vb(14,"div",4),h.Vb(15,"mat-form-field",5),h.Vb(16,"mat-label"),h.yc(17,"Other Deduction"),h.Ub(),h.Vb(18,"mat-select",8),h.dc("ngModelChange",(function(e){return t._payrollOtherDeductionLineModel.OtherDeductionId=e})),h.xc(19,Rg,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Vb(20,"div",4),h.Vb(21,"mat-form-field",5),h.Vb(22,"mat-label"),h.yc(23,"Loan"),h.Ub(),h.Vb(24,"mat-select",8),h.dc("ngModelChange",(function(e){return t._payrollOtherDeductionLineModel.LNId=e})),h.xc(25,Ig,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Vb(26,"div",10),h.Vb(27,"mat-form-field",5),h.Vb(28,"mat-label"),h.yc(29,"Amount"),h.Ub(),h.Vb(30,"input",11),h.dc("ngModelChange",(function(e){return t._payrollOtherDeductionLineModel.Amount=e}))("focus",(function(){return t.AmountToNumberType()}))("focusout",(function(){return t.formatValueAmount()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(31,"div",3),h.Vb(32,"div",12),h.Vb(33,"mat-form-field",5),h.Vb(34,"mat-label"),h.yc(35,"Particulars"),h.Ub(),h.Vb(36,"textarea",13),h.dc("ngModelChange",(function(e){return t._payrollOtherDeductionLineModel.Particulars=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(37,"mat-divider"),h.Vb(38,"div",14),h.Vb(39,"button",15),h.dc("click",(function(){return t.Save()})),h.Vb(40,"mat-icon"),h.yc(41,"save"),h.Ub(),h.yc(42," Save "),h.Ub(),h.Vb(43,"button",16),h.dc("click",(function(){return t.Close()})),h.Vb(44,"mat-icon"),h.yc(45,"close"),h.Ub(),h.yc(46," Cancel "),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("hidden",t.isComponentHidden),h.Eb(7),h.kc("ngModel",t._payrollOtherDeductionLineModel.Employee),h.Eb(7),h.kc("ngModel",t._payrollOtherDeductionLineModel.OtherDeductionId),h.Eb(1),h.kc("ngForOf",t._payrollOtherDeductionListDropdown),h.Eb(5),h.kc("ngModel",t._payrollOtherDeductionLineModel.LNId),h.Eb(1),h.kc("ngForOf",t._loanListDropdown),h.Eb(5),h.lc("type",t.inputTypeAmount),h.kc("ngModel",t._payrollOtherDeductionLineModel.Amount),h.Eb(6),h.kc("ngModel",t._payrollOtherDeductionLineModel.Particulars))},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,w.a,_r.h,rc,l.k,or,v.a,tr,G.l],styles:[""]}),e})();const Ag=["flexPayrollOtherDeductionLine"];function Bg(e,t){1&e&&h.Rb(0,"mat-progress-bar",49),2&e&&h.kc("color","primary")("mode","indeterminate")}function jg(e,t){if(1&e&&(h.Vb(0,"mat-option",50),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Hg(e,t){if(1&e&&(h.Vb(0,"mat-option",51),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Fg(e,t){if(1&e&&(h.Vb(0,"mat-option",51),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Ng(e,t){1&e&&h.Rb(0,"mat-progress-bar",52),2&e&&h.kc("color","primary")("mode","indeterminate")}function zg(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",55),h.dc("click",(function(){return h.rc(e),h.hc(2).EditPayrollOtherDeductionLine()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function Gg(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",53),h.xc(1,zg,4,0,"ng-template",54),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function Yg(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",56),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeletePayrollOtherDeductionLine()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function Qg(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",53),h.xc(1,Yg,4,0,"ng-template",54),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function Wg(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",57),h.dc("click",(function(){return h.rc(e),h.hc().AddPayrollOtherDeductionLine()})),h.Vb(1,"mat-icon"),h.yc(2,"add"),h.Ub(),h.yc(3," ADD "),h.Ub(),h.Rb(4,"br")}if(2&e){const e=h.hc();h.kc("disabled",e._btnAddPayrollOtherDeductionLineDisabled)}}let qg=(()=>{class e{constructor(e,t,i,n,o,a,r){this._payrollOtherDeductionDetailService=e,this._activatedRoute=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this.datePipe=a,this.decimalPipe=r,this._isProgressBarHidden=!1,this._isComponentsShown=!0,this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isDataLoaded=!1,this._isLocked=!1,this._payrollGroupListDropdown=[],this._yearListDropdown=[],this._userListDropdown=[],this.totalDeductionAmount="0.00",this._payrollOtherDeductionModel={Id:0,PDNumber:"",PDDate:"",PayrollGroup:"",YearId:0,Year:"",Remarks:"",PreparedByUserId:0,PreparedByUser:"",CheckedByUserId:0,CheckedByUser:"",ApprovedByUserId:0,ApprovedByUser:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:new Date,UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:new Date,IsLocked:!1},this.UIDPDDate=new Date,this._payrollOtherDeductionLineModel={Id:0,PDId:0,EmployeeId:0,Employee:"",OtherDeductionId:0,OtherDeduction:"",LNId:0,Loan:"",Amount:"0",Particulars:"NA"},this._listPayrollOtherDeductionLineObservableArray=new na,this._listPayrollOtherDeductionLineCollectionView=new oa(this._listPayrollOtherDeductionLineObservableArray),this._listPageIndex=15,this._isPayrollOtherDeductionLineProgressBarHidden=!1,this._isPayrollOtherDeductionLineDataLoaded=!1,this._btnAddPayrollOtherDeductionLineDisabled=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.UserListData()}))}PayrollGroupListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=(yield this._payrollOtherDeductionDetailService.PayrollGroupList()).subscribe(e=>{this._payrollGroupListDropdown=e,this._payrollOtherDeductionLineModel=this._payrollGroupListDropdown[0].Id,this.UserListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()})}))}UserListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._userDropdownSubscription=yield(yield this._payrollOtherDeductionDetailService.UserList()).subscribe(e=>{this._userListDropdown=e,this.GetPayrollOtherDeductionDetail(),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()})}))}GetPayrollOtherDeductionDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=0;this._activatedRoute.params.subscribe(t=>{e=t.id}),this._isComponentsShown=!0,this._isProgressBarHidden=!0,this.DisableButtons(),this._changePayrollOtherDeductionDetailSubscription=yield(yield this._payrollOtherDeductionDetailService.PayrollOtherDeductionDetail(e)).subscribe(e=>{let t=e;null!=t&&(this._payrollOtherDeductionModel=t,this.UIDPDDate=new Date(t.PDDate),this._payrollOtherDeductionLineModel.PDId=t.Id),this.loadComponent(t.IsLocked),this.GetPayrollOtherDeductionLineListData(),this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._isComponentsShown=!1,null!==this._changePayrollOtherDeductionDetailSubscription&&this._changePayrollOtherDeductionDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._changePayrollOtherDeductionDetailSubscription&&this._changePayrollOtherDeductionDetailSubscription.unsubscribe()})}))}GetUIDATEPDDate(){this._payrollOtherDeductionModel.PDDate=this.datePipe.transform(this.UIDPDDate,"yyyy-MM-dd")}SavePayrollOtherDeductionDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._savePayrollOtherDeductionDetailSubscription=(yield this._payrollOtherDeductionDetailService.SavePayrollOtherDeduction(this._payrollOtherDeductionModel.Id,this._payrollOtherDeductionModel)).subscribe(e=>{this.loadComponent(this._payrollOtherDeductionModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._savePayrollOtherDeductionDetailSubscription&&this._savePayrollOtherDeductionDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._payrollOtherDeductionModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._savePayrollOtherDeductionDetailSubscription&&this._savePayrollOtherDeductionDetailSubscription.unsubscribe()}))}))}LockPayrollOtherDeductionDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._lockPayrollOtherDeductionDetailSubscription=yield(yield this._payrollOtherDeductionDetailService.LockPayrollOtherDeduction(this._payrollOtherDeductionModel.Id,this._payrollOtherDeductionModel)).subscribe(e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Lock Successfully."),null!==this._lockPayrollOtherDeductionDetailSubscription&&this._lockPayrollOtherDeductionDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._lockPayrollOtherDeductionDetailSubscription&&this._lockPayrollOtherDeductionDetailSubscription.unsubscribe()}))}))}UnlockPayrollOtherDeductionDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._unlockPayrollOtherDeductionDetailSubscription=yield(yield this._payrollOtherDeductionDetailService.UnlockPayrollOtherDeduction(this._payrollOtherDeductionModel.Id)).subscribe(e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Unlock Successfully."),null!==this._unlockPayrollOtherDeductionDetailSubscription&&this._unlockPayrollOtherDeductionDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._unlockPayrollOtherDeductionDetailSubscription&&this._unlockPayrollOtherDeductionDetailSubscription.unsubscribe()}))}))}loadComponent(e){this._btnAddPayrollOtherDeductionLineDisabled=e,this._btnSaveDisabled=e,this._btnLockisabled=e,this._btnUnlockDisabled=!e,this._isLocked=e,this._isProgressBarHidden=!1}DisableButtons(){this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isProgressBarHidden=!0}activeTab(){}GetPayrollOtherDeductionLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listPayrollOtherDeductionLineObservableArray=new na,this._listPayrollOtherDeductionLineCollectionView=new oa(this._listPayrollOtherDeductionLineObservableArray),this._listPayrollOtherDeductionLineCollectionView.pageSize=15,this._listPayrollOtherDeductionLineCollectionView.trackChanges=!0,yield this._listPayrollOtherDeductionLineCollectionView.refresh(),yield this.flexPayrollOtherDeductionLine.refresh(),this.totalDeductionAmount="0.00",this._isPayrollOtherDeductionLineProgressBarHidden=!0,this._PayrollOtherDeductionLineListSubscription=yield(yield this._payrollOtherDeductionDetailService.PayrollOtherDeductionLineList(this._payrollOtherDeductionModel.Id)).subscribe(e=>{e.length>0&&(this.totalDeductionAmount=this.decimalPipe.transform(this.Sum(e),"1.2-2"),console.log(this.totalDeductionAmount),this._listPayrollOtherDeductionLineObservableArray=e,this._listPayrollOtherDeductionLineCollectionView=new oa(this._listPayrollOtherDeductionLineObservableArray),this._listPayrollOtherDeductionLineCollectionView.pageSize=15,this._listPayrollOtherDeductionLineCollectionView.trackChanges=!0,this._listPayrollOtherDeductionLineCollectionView.refresh(),this.flexPayrollOtherDeductionLine.refresh()),this._isPayrollOtherDeductionLineDataLoaded=!0,this._isPayrollOtherDeductionLineProgressBarHidden=!1,null!==this._PayrollOtherDeductionLineListSubscription&&this._PayrollOtherDeductionLineListSubscription.unsubscribe()},e=>{this._isPayrollOtherDeductionLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._PayrollOtherDeductionLineListSubscription&&this._PayrollOtherDeductionLineListSubscription.unsubscribe()})}))}Sum(e){var t=0;return e.forEach(e=>{t+=e.Amount}),t}AddPayrollOtherDeductionLine(){this.DetailPayrollOtherDeductionLine(this._payrollOtherDeductionLineModel,"Add Payroll Other Deduction Line")}EditPayrollOtherDeductionLine(){this.DetailPayrollOtherDeductionLine(this._listPayrollOtherDeductionLineCollectionView.currentItem,"Edit Payroll Other Deduction Line Detail")}DeletePayrollOtherDeductionLine(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listPayrollOtherDeductionLineCollectionView.currentItem;this._isPayrollOtherDeductionLineProgressBarHidden=!0,1==this._isPayrollOtherDeductionLineDataLoaded&&(this._isPayrollOtherDeductionLineDataLoaded=!1,this._deletePayrollOtherDeductionLineSubscription=yield(yield this._payrollOtherDeductionDetailService.DeletePayrollOtherDeductionLine(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetPayrollOtherDeductionLineListData(),this._isPayrollOtherDeductionLineProgressBarHidden=!1,this._isPayrollOtherDeductionLineDataLoaded=!0},e=>{this._isPayrollOtherDeductionLineDataLoaded=!0,this._isPayrollOtherDeductionLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deletePayrollOtherDeductionLineSubscription&&this._deletePayrollOtherDeductionLineSubscription.unsubscribe()}))}))}ComfirmDeletePayrollOtherDeductionLine(){this._matDialog.open(sr,{width:"500px",data:{objDialogTitle:"",objComfirmationMessage:` Delete ${this._listPayrollOtherDeductionLineCollectionView.currentItem.Employee}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeletePayrollOtherDeductionLine()})}DetailPayrollOtherDeductionLine(e,t){this._matDialog.open(Tg,{width:"1300px",data:{objDialogTitle:t,objPayrollGroup:this._payrollOtherDeductionModel.PayrollGroup,objPayrollOtherDeductionLine:e},disableClose:!0}).afterClosed().subscribe(e=>{"Add Payroll Other Deduction Line"===e.event&&(this._isPayrollOtherDeductionLineDataLoaded=!0,this.AddSavePayrollOtherDeductionLine(e.data)),"Edit Payroll Other Deduction Line Detail"===e.event&&(this._isPayrollOtherDeductionLineDataLoaded=!0,this.UpdatePayrollOtherDeductionLine(e.data.Id,e.data))})}ngOnDestroy(){}AddSavePayrollOtherDeductionLine(e){return Object(b.a)(this,void 0,void 0,(function*(){this._isPayrollOtherDeductionLineProgressBarHidden=!0,1==this._isPayrollOtherDeductionLineDataLoaded&&(this._isPayrollOtherDeductionLineDataLoaded=!1,this._savePayrollOtherDeductionLineSubscription=yield(yield this._payrollOtherDeductionDetailService.AddPayrollOtherDeductionLine(this._payrollOtherDeductionModel.Id,e)).subscribe(e=>{this._isPayrollOtherDeductionLineDataLoaded=!0,this._isPayrollOtherDeductionLineProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully"),this.GetPayrollOtherDeductionLineListData(),null!=this._savePayrollOtherDeductionLineSubscription&&this._savePayrollOtherDeductionLineSubscription.unsubscribe()},e=>{this._isPayrollOtherDeductionLineDataLoaded=!0,this._isPayrollOtherDeductionLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._savePayrollOtherDeductionLineSubscription&&this._savePayrollOtherDeductionLineSubscription.unsubscribe()}))}))}UpdatePayrollOtherDeductionLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){this._isPayrollOtherDeductionLineProgressBarHidden=!0,1==this._isPayrollOtherDeductionLineDataLoaded&&(this._isPayrollOtherDeductionLineDataLoaded=!1,this._updatePayrollOtherDeductionLineSubscription=yield(yield this._payrollOtherDeductionDetailService.UpdatePayrollOtherDeductionLine(e,t)).subscribe(e=>{this._isPayrollOtherDeductionLineDataLoaded=!0,this._isPayrollOtherDeductionLineProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Update Successfully"),this.GetPayrollOtherDeductionLineListData(),null!=this._updatePayrollOtherDeductionLineSubscription&&this._updatePayrollOtherDeductionLineSubscription.unsubscribe()},e=>{this._isPayrollOtherDeductionLineDataLoaded=!0,this._isPayrollOtherDeductionLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._updatePayrollOtherDeductionLineSubscription&&this._updatePayrollOtherDeductionLineSubscription.unsubscribe()}))}))}selectedPreparedByUser(e){this._payrollOtherDeductionModel.PreparedByUserId=e.source.value,this._payrollOtherDeductionModel.PreparedByUser=e.source.selected.viewValue}selectedCheckedByUser(e){this._payrollOtherDeductionModel.CheckedByUserId=e.source.value,this._payrollOtherDeductionModel.CheckedByUser=e.source.selected.viewValue}selectedApprovedByUser(e){this._payrollOtherDeductionModel.ApprovedByUserId=e.source.value,this._payrollOtherDeductionModel.ApprovedByUser=e.source.selected.viewValue}btnCSVClick(){var e=this.generateCSV(),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.setAttribute("download","payroll-other-income.csv"),i.click()}generateCSV(){var e,t="";if(e=this._listPayrollOtherDeductionLineCollectionView,""!=(t="Change Payroll Other Income\r\n\n")){var i='"ID","PDNumber","PDDate","PayrollGroup","Year","Remarks","PreparedByUser","CheckedByUser","ApprovedByUser",';for(var n in e.items[0])i+=n+",";t+=(i=i.slice(0,-1))+"\r\n",e.moveToFirstPage();for(var o=0;o<e.pageCount;o++){for(var a=0;a<e.items.length;a++){var r='"'+this._payrollOtherDeductionModel.Id+'","'+this._payrollOtherDeductionModel.PDNumber+'","'+this._payrollOtherDeductionModel.PDDate+'","'+this._payrollOtherDeductionModel.PayrollGroup+'","'+this._payrollOtherDeductionModel.Year+'","'+this._payrollOtherDeductionModel.Remarks+'","'+this._payrollOtherDeductionModel.PreparedByUser+'","'+this._payrollOtherDeductionModel.CheckedByUser+'","'+this._payrollOtherDeductionModel.ApprovedByUser+'",';for(var n in e.items[a])r+='"'+e.items[a][n]+'",';r.slice(0,r.length-1),t+=r+"\r\n"}e.moveToNextPage()}}return new Blob([t],{type:"text/csv;charset=utf-8;"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Pg),h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-other-deduction-detail"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Ag,!0),2&e&&h.pc(i=h.ec())&&(t.flexPayrollOtherDeductionLine=i.first)},decls:146,vars:55,consts:[["src","../../../../assets/menu-icons/other deductions.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","color","accent","id","btnAddEmployee",2,"margin","5px",3,"disabled","click"],["mat-flat-button","","routerLink","/software/payroll-other-deduction-list","color","warn",2,"margin-right","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["fxFlex","33",2,"padding","5px","margin-top","3px"],[1,"text_box"],["fxFlex","34",2,"padding","5px","margin-top","3px"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","disabled","dateInput","ngModelChange"],["matSuffix","",3,"for","disabled"],["color","primary"],["datePickerPDDate",""],["disabled","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","selectionChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","AddrRemarksess","rows","5",2,"min-height","100px",3,"ngModel","readonly","ngModelChange"],[1,"detail-tab",2,"max-height","100%"],["tabGroup",""],["label","Other Deduction Line"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexPayrollOtherDeductionLine",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[2,"width","100%",3,"color","mode"],[3,"value"],[3,"disabled","value"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditDTRLine",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Payroll Other Deduction Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SavePayrollOtherDeductionDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockPayrollOtherDeductionDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockPayrollOtherDeductionDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.dc("click",(function(){return t.btnCSVClick()})),h.Vb(18,"mat-icon"),h.yc(19,"get_app"),h.Ub(),h.yc(20," CSV "),h.Ub(),h.Vb(21,"button",4),h.Vb(22,"mat-icon"),h.yc(23,"close"),h.Ub(),h.yc(24," Close "),h.Ub(),h.Ub(),h.xc(25,Bg,1,2,"mat-progress-bar",5),h.Vb(26,"div",6),h.Vb(27,"div",7),h.Vb(28,"div",8),h.Vb(29,"div",9),h.Vb(30,"div",8),h.Vb(31,"div",10),h.Vb(32,"h2",11),h.Vb(33,"b"),h.yc(34),h.Ub(),h.Ub(),h.Ub(),h.Vb(35,"div",10),h.Vb(36,"h2",11),h.Vb(37,"b"),h.yc(38),h.Ub(),h.Ub(),h.Ub(),h.Vb(39,"div",12),h.Vb(40,"h2",11),h.Vb(41,"b"),h.yc(42),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(43,"div",8),h.Vb(44,"div",13),h.Vb(45,"mat-form-field",14),h.Vb(46,"mat-label"),h.yc(47,"Date"),h.Ub(),h.Vb(48,"input",15),h.dc("dateInput",(function(){return t.GetUIDATEPDDate()}))("ngModelChange",(function(e){return t.UIDPDDate=e})),h.Ub(),h.Rb(49,"mat-datepicker-toggle",16),h.Rb(50,"mat-datepicker",17,18),h.Ub(),h.Ub(),h.Vb(52,"div",13),h.Vb(53,"mat-form-field",14),h.Vb(54,"mat-label"),h.yc(55,"Prepared By"),h.Ub(),h.Vb(56,"mat-select",19),h.dc("ngModelChange",(function(e){return t._payrollOtherDeductionModel.PreparedByUserId=e})),h.xc(57,jg,2,2,"mat-option",20),h.Ub(),h.Ub(),h.Ub(),h.Vb(58,"div",13),h.Vb(59,"mat-form-field",14),h.Vb(60,"mat-label"),h.yc(61,"Checked By"),h.Ub(),h.Vb(62,"mat-select",21),h.dc("ngModelChange",(function(e){return t._payrollOtherDeductionModel.CheckedByUserId=e}))("selectionChange",(function(e){return t.selectedCheckedByUser(e)})),h.xc(63,Hg,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Vb(64,"div",13),h.Vb(65,"mat-form-field",14),h.Vb(66,"mat-label"),h.yc(67,"Approved By"),h.Ub(),h.Vb(68,"mat-select",21),h.dc("ngModelChange",(function(e){return t._payrollOtherDeductionModel.ApprovedByUserId=e}))("selectionChange",(function(e){return t.selectedApprovedByUser(e)})),h.xc(69,Fg,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(70,"div",9),h.Vb(71,"div",8),h.Vb(72,"div",23),h.Vb(73,"mat-form-field",14),h.Vb(74,"mat-label"),h.yc(75,"Remarks"),h.Ub(),h.Vb(76,"textarea",24),h.dc("ngModelChange",(function(e){return t._payrollOtherDeductionModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(77,"mat-tab-group",25,26),h.Vb(79,"mat-tab",27),h.xc(80,Ng,1,2,"mat-progress-bar",28),h.Vb(81,"wj-flex-grid",29,30),h.Rb(83,"wj-flex-grid-filter"),h.xc(84,Gg,2,3,"wj-flex-grid-column",31),h.xc(85,Qg,2,3,"wj-flex-grid-column",31),h.Rb(86,"wj-flex-grid-column",32),h.Rb(87,"wj-flex-grid-column",32),h.Rb(88,"wj-flex-grid-column",32),h.Rb(89,"wj-flex-grid-column",32),h.Rb(90,"wj-flex-grid-column",32),h.Ub(),h.Ub(),h.Vb(91,"mat-tab",33),h.xc(92,Wg,5,1,"ng-template",34),h.Ub(),h.Ub(),h.Vb(93,"div",35),h.Vb(94,"div",36),h.Vb(95,"div",8),h.Vb(96,"mat-button-toggle-group",37),h.Vb(97,"mat-button-toggle",38),h.dc("click",(function(){return t._listPayrollOtherDeductionLineCollectionView.moveToFirstPage()})),h.Vb(98,"mat-icon",39),h.yc(99,"navigate_before"),h.Ub(),h.Vb(100,"mat-icon"),h.yc(101,"navigate_before"),h.Ub(),h.Ub(),h.Vb(102,"mat-button-toggle",38),h.dc("click",(function(){return t._listPayrollOtherDeductionLineCollectionView.moveToPreviousPage()})),h.Vb(103,"mat-icon"),h.yc(104,"navigate_before"),h.Ub(),h.Ub(),h.Vb(105,"mat-button-toggle",40),h.yc(106),h.Ub(),h.Vb(107,"mat-button-toggle",38),h.dc("click",(function(){return t._listPayrollOtherDeductionLineCollectionView.moveToNextPage()})),h.Vb(108,"mat-icon"),h.yc(109,"navigate_next"),h.Ub(),h.Ub(),h.Vb(110,"mat-button-toggle",38),h.dc("click",(function(){return t._listPayrollOtherDeductionLineCollectionView.moveToLastPage()})),h.Vb(111,"mat-icon",39),h.yc(112,"navigate_next"),h.Ub(),h.Vb(113,"mat-icon"),h.yc(114,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(115,"div",41),h.Ub(),h.Rb(116,"mat-divider",42),h.Vb(117,"div",43),h.Vb(118,"div",9),h.Vb(119,"div",8),h.Vb(120,"div",44),h.Vb(121,"mat-label",45),h.yc(122,"Created By:"),h.Ub(),h.Ub(),h.Vb(123,"div",46),h.Vb(124,"mat-label",45),h.yc(125),h.Ub(),h.Ub(),h.Vb(126,"div",47),h.Vb(127,"mat-label",45),h.yc(128,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(129,"div",48),h.Vb(130,"mat-label",45),h.yc(131),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(132,"div",9),h.Vb(133,"div",8),h.Vb(134,"div",44),h.Vb(135,"mat-label",45),h.yc(136,"Updated By:"),h.Ub(),h.Ub(),h.Vb(137,"div",46),h.Vb(138,"mat-label",45),h.yc(139),h.Ub(),h.Ub(),h.Vb(140,"div",47),h.Vb(141,"mat-label",45),h.yc(142,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(143,"div",48),h.Vb(144,"mat-label",45),h.yc(145),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e){const e=h.qc(51);h.Eb(5),h.kc("disabled",t._btnSaveDisabled),h.Eb(4),h.kc("disabled",t._btnLockisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t._isProgressBarHidden),h.Eb(2),h.kc("hidden",t._isComponentsShown),h.Eb(7),h.zc(t._payrollOtherDeductionModel.PDNumber),h.Eb(4),h.zc(t._payrollOtherDeductionModel.PayrollGroup),h.Eb(4),h.zc(t._payrollOtherDeductionModel.Year),h.Eb(6),h.kc("matDatepicker",e)("ngModel",t.UIDPDDate)("disabled",t._isLocked),h.Eb(1),h.kc("for",e)("disabled",t._isLocked),h.Eb(7),h.kc("ngModel",t._payrollOtherDeductionModel.PreparedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._payrollOtherDeductionModel.CheckedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._payrollOtherDeductionModel.ApprovedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(7),h.kc("ngModel",t._payrollOtherDeductionModel.Remarks)("readonly",t._isLocked),h.Eb(4),h.kc("ngIf",t._isPayrollOtherDeductionLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listPayrollOtherDeductionLineCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Other Deduction")("binding","OtherDeduction")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Loan")("binding","Loan")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Amount")("binding","Amount")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Particulars")("binding","Particulars")("isReadOnly",!0)("width","2*"),h.Eb(16),h.Bc(" ",t._listPayrollOtherDeductionLineCollectionView.pageIndex+1," / ",t._listPayrollOtherDeductionLineCollectionView.pageCount,""),h.Eb(19),h.zc(t._payrollOtherDeductionModel.CreatedByUser),h.Eb(6),h.Ac("",t._payrollOtherDeductionModel.CreatedDateTime," "),h.Eb(8),h.zc(t._payrollOtherDeductionModel.UpdatedByUser),h.Eb(6),h.Ac("",t._payrollOtherDeductionModel.UpdatedDateTime," ")}},directives:[_.a,v.a,w.a,d.c,l.l,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,rc,l.k,fh,ah,cl,Vl,hl,eh,Al,Hl,ft,fr,G.l,ul],styles:[".text_box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}"]}),e})(),Kg=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/list/"+e,this.appSettings.defaultOptions)}))}AddPayroll(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/create/"+e,"",this.appSettings.defaultOptions)}))}DeletePayroll(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/delete/"+e,this.appSettings.defaultOptions)}))}PayrollGroupList(){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/payroll/group/list",this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const $g=["flexPayroll"];function Jg(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Value),h.Eb(1),h.Ac(" ",e.Value," ")}}function Zg(e,t){1&e&&h.Rb(0,"mat-progress-bar",24),2&e&&h.kc("color","primary")("mode","indeterminate")}function Xg(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",25),h.dc("click",(function(){return h.rc(e),h.hc().EditPayroll()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function ey(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",26),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmDeletePayroll()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function ty(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.rowNumber),h.Eb(1),h.Ac(" ",e.rowString," ")}}let iy=(()=>{class e{constructor(e,t,i,n,o){this._payrollListService=e,this._snackBar=t,this._snackBarTemplate=i,this._matDialogRef=n,this._router=o,this._listPayrollObservableArray=new na,this._listPayrollCollectionView=new oa(this._listPayrollObservableArray),this._listPageIndex=15,this._isProgressBarHidden=!1,this._isDataLoaded=!1,this._btnAddDisabled=!1,this._payrollGroupListDropdown=[],this._filterPayrollGroup="",this._createCboShowNumberOfRows=new na}ngOnInit(){this._isProgressBarHidden=!0,this.GetPayrollGroupDropdownListData(),this.CreateCboShowNumberOfRows()}CreateCboShowNumberOfRows(){for(var e=0;e<=4;e++){var t=0,i="";0==e?(t=15,i="Show 15"):1==e?(t=50,i="Show 50"):2==e?(t=100,i="Show 100"):3==e?(t=150,i="Show 150"):(t=200,i="Show 200"),this._createCboShowNumberOfRows.push({rowNumber:t,rowString:i})}}CboShowNumberOfRowsOnSelectedIndexChanged(){this._listPayrollCollectionView.pageSize=this._listPageIndex,this._listPayrollCollectionView.refresh(),this._listPayrollCollectionView.refresh()}GetPayrollGroupDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollGroupDropdownSubscription=(yield this._payrollListService.PayrollGroupList()).subscribe(e=>{var t=e;if(t.length>0)for(var i=0;i<t.length;i++)this._payrollGroupListDropdown.push(t[i]);this._filterPayrollGroup=this._payrollGroupListDropdown[0].Value,this.GetPayrollListData(),null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status)})}))}PayrollGroupSelectionChange(){this.GetPayrollListData()}GetPayrollListData(){return Object(b.a)(this,void 0,void 0,(function*(){try{this._listPayrollObservableArray=yield new na,this._listPayrollCollectionView=yield new oa(this._listPayrollObservableArray),this._listPayrollCollectionView.pageSize=yield 15,this._listPayrollCollectionView.trackChanges=!0,yield this._listPayrollCollectionView.refresh(),yield this._flexPayroll.refresh(),this._payrollListSubscription=(yield this._payrollListService.PayrollList(this._filterPayrollGroup)).subscribe(e=>{e.length>0&&(this._listPayrollObservableArray=e,this._listPayrollCollectionView=new oa(this._listPayrollObservableArray),this._listPayrollCollectionView.pageSize=15,this._listPayrollCollectionView.trackChanges=!0,this._listPayrollCollectionView.refresh(),this._flexPayroll.refresh()),this._isDataLoaded=!0,this._isProgressBarHidden=!1,null!=this._payrollListSubscription&&this._payrollListSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollListSubscription&&this._payrollListSubscription.unsubscribe()})}catch(Ei){console.log(Ei)}}))}AddPayroll(){return Object(b.a)(this,void 0,void 0,(function*(){this._btnAddDisabled=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._addPayrollSubscription=(yield this._payrollListService.AddPayroll(this._filterPayrollGroup)).subscribe(e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this._router.navigate(["/software/payroll-detail/"+e]),this.GetPayrollListData(),this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully")},e=>{this._btnAddDisabled=!1,this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._addPayrollSubscription&&this._addPayrollSubscription.unsubscribe()}))}))}EditPayroll(){this._router.navigate(["/software/payroll-detail/"+this._listPayrollCollectionView.currentItem.Id])}DeletePayroll(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listPayrollCollectionView.currentItem;this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._deletePayrollSubscription=(yield this._payrollListService.DeletePayroll(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetPayrollListData(),this._isProgressBarHidden=!1,this._isDataLoaded=!0},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deletePayrollSubscription&&this._deletePayrollSubscription.unsubscribe()}))}))}ComfirmDeletePayroll(){this._matDialogRef.open(sr,{width:"500px",data:{objDialogTitle:"Delete Payroll",objComfirmationMessage:` Delete ${this._listPayrollCollectionView.currentItem.PAYNumber}?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeletePayroll()})}ngOnDestroy(){null!==this._payrollGroupDropdownSubscription&&this._payrollGroupDropdownSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Kg),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(d.b))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-list"]],viewQuery:function(e,t){var i;1&e&&h.Ec($g,!0),2&e&&h.pc(i=h.ec())&&(t._flexPayroll=i.first)},decls:65,vars:42,consts:[["src","../../../../assets/menu-icons/payroll.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin","5px",3,"disabled","click"],["mat-raised-button","","routerLink","/software","color","warn",2,"margin","5px"],[1,"software-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","20",2,"padding","5px"],["appearance","outline",2,"width","100%"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","100",2,"margin","5px"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexPayroll",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"value"],[3,"color","mode"],["mat-raised-button","","color","primary","id","btnEditPayroll",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Payroll List"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddPayroll()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," Add "),h.Ub(),h.Vb(9,"button",3),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Vb(13,"div",4),h.Vb(14,"div",5),h.Vb(15,"div",6),h.Vb(16,"mat-form-field",7),h.Vb(17,"mat-label"),h.yc(18,"Payroll Group"),h.Ub(),h.Vb(19,"mat-select",8),h.dc("ngModelChange",(function(e){return t._filterPayrollGroup=e}))("selectionChange",(function(){return t.PayrollGroupSelectionChange()})),h.xc(20,Jg,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(21,"div",5),h.Vb(22,"div",10),h.xc(23,Zg,1,2,"mat-progress-bar",11),h.Vb(24,"wj-flex-grid",12,13),h.Rb(26,"wj-flex-grid-filter"),h.Vb(27,"wj-flex-grid-column",14),h.xc(28,Xg,4,0,"ng-template",15),h.Ub(),h.Vb(29,"wj-flex-grid-column",14),h.xc(30,ey,4,0,"ng-template",15),h.Ub(),h.Rb(31,"wj-flex-grid-column",16),h.Rb(32,"wj-flex-grid-column",16),h.Rb(33,"wj-flex-grid-column",16),h.Rb(34,"wj-flex-grid-column",16),h.Rb(35,"wj-flex-grid-column",16),h.Rb(36,"wj-flex-grid-column",16),h.Ub(),h.Vb(37,"div",5),h.Vb(38,"div",17),h.Vb(39,"div",5),h.Vb(40,"mat-button-toggle-group",18),h.Vb(41,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollCollectionView.moveToFirstPage()})),h.Vb(42,"mat-icon",20),h.yc(43,"navigate_before"),h.Ub(),h.Vb(44,"mat-icon"),h.yc(45,"navigate_before"),h.Ub(),h.Ub(),h.Vb(46,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollCollectionView.moveToPreviousPage()})),h.Vb(47,"mat-icon"),h.yc(48,"navigate_before"),h.Ub(),h.Ub(),h.Vb(49,"mat-button-toggle",21),h.yc(50),h.Ub(),h.Vb(51,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollCollectionView.moveToNextPage()})),h.Vb(52,"mat-icon"),h.yc(53,"navigate_next"),h.Ub(),h.Ub(),h.Vb(54,"mat-button-toggle",19),h.dc("click",(function(){return t._listPayrollCollectionView.moveToLastPage()})),h.Vb(55,"mat-icon",20),h.yc(56,"navigate_next"),h.Ub(),h.Vb(57,"mat-icon"),h.yc(58,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(59,"div",22),h.Vb(60,"mat-form-field",7),h.Vb(61,"mat-label"),h.yc(62,"Row"),h.Ub(),h.Vb(63,"mat-select",8),h.dc("ngModelChange",(function(e){return t._listPageIndex=e}))("selectionChange",(function(){return t.CboShowNumberOfRowsOnSelectedIndexChanged()})),h.xc(64,ty,2,2,"mat-option",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(5),h.kc("disabled",t._btnAddDisabled),h.Eb(14),h.kc("ngModel",t._filterPayrollGroup),h.Eb(1),h.kc("ngForOf",t._payrollGroupListDropdown),h.Eb(3),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listPayrollCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Pay No.")("binding","PAYNumber")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","PAYDate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",40),h.Eb(14),h.Bc(" ",t._listPayrollCollectionView.pageIndex+1," / ",t._listPayrollCollectionView.pageCount,""),h.Eb(13),h.kc("ngModel",t._listPageIndex),h.Eb(1),h.kc("ngForOf",t._createCboShowNumberOfRows))},directives:[_.a,v.a,w.a,d.c,li.b,li.a,_r.c,_r.g,rc,c.o,c.r,l.k,l.l,cl,Vl,hl,ul,Al,Hl,G.l,fr],styles:[""]}),e})(),ny=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}PayrollOtherIncomeList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/payroll/other/income/list/"+e,this.appSettings.defaultOptions)}))}PayrollOtherDeductionList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/payroll/other/deduction/list/"+e,this.appSettings.defaultOptions)}))}DTRList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/dtr/list/"+e,this.appSettings.defaultOptions)}))}UserList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/user/list",this.appSettings.defaultOptions)}))}PayrollDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/detail/"+e,this.appSettings.defaultOptions)}))}SavePayroll(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/save/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}LockPayroll(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/lock/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}UnlockPayroll(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/unlock/"+e,"",this.appSettings.defaultOptions)}))}PayrollLineList(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/line/list/"+e,this.appSettings.defaultOptions)}))}PayrollLineDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/line/detail/"+e,this.appSettings.defaultOptions)}))}AddPayrollLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/line/create/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}DownloadDTRPayrollLines(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/line/download/dtr/create/"+e,"",this.appSettings.defaultOptions)}))}UpdatePayrollLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.put(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/line/update/"+e,JSON.stringify(t),this.appSettings.defaultOptions)}))}CreatePayrollLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/line/create/"+e,this.appSettings.defaultOptions)}))}ComputePayrollLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/line/compute/"+e,this.appSettings.defaultOptions)}))}DeletePayrollLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.delete(this.appSettings.defaultAPIURLHost+"/api/trn/payroll/line/delete/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function oy(e,t){1&e&&h.Rb(0,"mat-progress-bar",14),2&e&&h.kc("color","primary")("mode","indeterminate")}let ay=(()=>{class e{constructor(e,t,i,n,o,a,r){this._payrollDetailService=e,this._snackBar=t,this._snackBarTemplate=i,this._matDialogRef=n,this._matDialog=o,this._caseData=a,this._decimalPipe=r,this._title="",this._event="Close",this._isComponentsHidden=!0,this._isDataLoaded=!0,this._payrollLineModel={Id:0,PAYId:0,EmployeeId:0,Employee:"",PayrollRate:"0",TotalDailyPay:"0",TotalPremiumPay:"0",TotalHolidayPay:"0",TotalOvertimePay:"0",TotalNightDifferentialPay:"0",TotalCOLA:"0",TotalAdditionalAllowance:"0",TotalLateDeduction:"0",TotalUndertimeDeduction:"0",Income:"0",TotalOtherIncomeNotTaxable:"0",TotalOtherIncomeTaxable:"0",GrossIncome:"0",SSSContribution:"0",PHICContribution:"0",HDMFContribution:"0",IncomeTaxAmount:"0",TotalOtherDeduction:"0",NetIncome:"0",SSSEmployerContribution:"0",SSSEC:"0",PHICEmployerContribution:"0",HDMFEmployerContribution:"0"},this._isProgressBarHidden=!1,this._yesOrNoChoices=[{Value:!1,Display:"NO"},{Value:!0,Display:"YES"}],this._isPayrollLineDataLoaded=!0,this._employeeListDropdown=[],this._dateTypeListDropdown=[],this._branchListDropdown=[],this._shiftsListDropdown=[],this.inputTypePayrollRate="text",this.inputTypeTotalDailyPay="text",this.inputTypeTotalPremiumPay="text",this.inputTypeTotalHolidayPay="text",this.inputTypeTotalOvertimePay="text",this.inputTypeTotalNightDifferentialPay="text",this.inputTypeTotalCOLA="text",this.inputTypeTotalAdditionalAllowance="text",this.inputTypeTotalLateDeduction="text",this.inputTypeTotalUndertimeDeduction="text",this.inputTypeIncome="text",this.inputTypeTotalOtherIncomeNotTaxable="text",this.inputTypeTotalOtherIncomeTaxable="text",this.inputTypeGrossIncome="text",this.inputTypeSSSContribution="text",this.inputTypePHICContribution="text",this.inputTypeHDMFContribution="text",this.inputTypeIncomeTaxAmount="text",this.inputTypeTotalOtherDeduction="text",this.inputTypeNetIncome="text",this.inputTypeSSSEmployerContribution="text",this.inputTypeSSSEC="text",this.inputTypePHICEmployerContribution="text",this.inputTypeHDMFEmployerContribution="text"}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){this._title=yield this._caseData.objDialogTitle,this.loadPayrollLineDetail()}))}fillLeadingZeroes(e,t){let i=e,n=t-i.length;for(;n>0;)i="0"+i,n--;return i}convertTime(e){if(""==e)return"";const[t,i]=e.split(" ");let[n,o]=t.split(":");return"12"===n&&(n="00"),"PM"===i&&(n=parseInt(n,10)+12),`${this.fillLeadingZeroes(n,2)}:${this.fillLeadingZeroes(o,2)}`}loadPayrollLineDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollLineModel.Id=this._caseData.objPayrollLine.Id,this._payrollLineModel.PAYId=this._caseData.objPayrollLine.PAYId,this._payrollLineModel.EmployeeId=this._caseData.objPayrollLine.EmployeeId,this._payrollLineModel.Employee=this._caseData.objPayrollLine.Employee,this._payrollLineModel.PayrollRate=this._decimalPipe.transform(this._caseData.objPayrollLine.PayrollRate,"1.2-2"),this._payrollLineModel.TotalDailyPay=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalDailyPay,"1.2-2"),this._payrollLineModel.TotalPremiumPay=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalPremiumPay,"1.2-2"),this._payrollLineModel.TotalHolidayPay=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalHolidayPay,"1.2-2"),this._payrollLineModel.TotalOvertimePay=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalOvertimePay,"1.2-2"),this._payrollLineModel.TotalNightDifferentialPay=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalNightDifferentialPay,"1.2-2"),this._payrollLineModel.TotalCOLA=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalCOLA,"1.2-2"),this._payrollLineModel.TotalAdditionalAllowance=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalAdditionalAllowance,"1.2-2"),this._payrollLineModel.TotalLateDeduction=this._decimalPipe.transform(this._payrollLineModel.TotalLateDeduction,"1.2-2"),this._payrollLineModel.TotalUndertimeDeduction=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalUndertimeDeduction,"1.2-2"),this._payrollLineModel.Income=this._decimalPipe.transform(this._caseData.objPayrollLine.Income,"1.2-2"),this._payrollLineModel.TotalOtherIncomeNotTaxable=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalOtherIncomeNotTaxable,"1.2-2"),this._payrollLineModel.TotalOtherIncomeTaxable=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalOtherIncomeTaxable,"1.2-2"),this._payrollLineModel.GrossIncome=this._decimalPipe.transform(this._caseData.objPayrollLine.GrossIncome,"1.2-2"),this._payrollLineModel.SSSContribution=this._decimalPipe.transform(this._caseData.objPayrollLine.SSSContribution,"1.2-2"),this._payrollLineModel.PHICContribution=this._decimalPipe.transform(this._caseData.objPayrollLine.PHICContribution,"1.2-2"),this._payrollLineModel.HDMFContribution=this._decimalPipe.transform(this._caseData.objPayrollLine.HDMFContribution,"1.2-2"),this._payrollLineModel.IncomeTaxAmount=this._decimalPipe.transform(this._caseData.objPayrollLine.IncomeTaxAmount,"1.2-2"),this._payrollLineModel.TotalOtherDeduction=this._decimalPipe.transform(this._caseData.objPayrollLine.TotalOtherDeduction,"1.2-2"),this._payrollLineModel.NetIncome=this._decimalPipe.transform(this._caseData.objPayrollLine.NetIncome,"1.2-2"),this._payrollLineModel.SSSEmployerContribution=this._decimalPipe.transform(this._caseData.objPayrollLine.SSSEmployerContribution,"1.2-2"),this._payrollLineModel.SSSEC=this._decimalPipe.transform(this._caseData.objPayrollLine.SSSEC,"1.2-2"),this._payrollLineModel.PHICEmployerContribution=this._decimalPipe.transform(this._caseData.objPayrollLine.PHICEmployerContribution,"1.2-2"),this._payrollLineModel.HDMFEmployerContribution=this._decimalPipe.transform(this._caseData.objPayrollLine.HDMFEmployerContribution,"1.2-2"),this._isComponentsHidden=!1}))}EmployeeListDialog(){this._matDialog.open(_b,{width:"900px",height:"500",data:{objDialogTitle:"Employee List",objPayrollGroup:this._caseData.objPayrollGroup},disableClose:!0}).afterClosed().subscribe(e=>{"Pick"===e.event&&(this._payrollLineModel.EmployeeId=e.employee.Id,this._payrollLineModel.Employee=e.employee.Value)})}ComputePayrollLine(){return Object(b.a)(this,void 0,void 0,(function*(){this._event="Compute",this._isProgressBarHidden=!0,console.log(this._payrollLineModel.Id),this._computePayrollLineSubscription=(yield this._payrollDetailService.ComputePayrollLine(this._payrollLineModel.Id)).subscribe(e=>{let t=e;console.log(t),this._payrollLineModel.EmployeeId=t.EmployeeId,this._payrollLineModel.Employee=t.Employee,this._payrollLineModel.PayrollRate=this._decimalPipe.transform(t.PayrollRate,"1.2-2"),this._payrollLineModel.TotalDailyPay=this._decimalPipe.transform(t.TotalDailyPay,"1.2-2"),this._payrollLineModel.TotalPremiumPay=this._decimalPipe.transform(t.TotalPremiumPay,"1.2-2"),this._payrollLineModel.TotalHolidayPay=this._decimalPipe.transform(t.TotalHolidayPay,"1.2-2"),this._payrollLineModel.TotalOvertimePay=this._decimalPipe.transform(t.TotalOvertimePay,"1.2-2"),this._payrollLineModel.TotalNightDifferentialPay=this._decimalPipe.transform(t.TotalNightDifferentialPay,"1.2-2"),this._payrollLineModel.TotalCOLA=this._decimalPipe.transform(t.TotalCOLA,"1.2-2"),this._payrollLineModel.TotalAdditionalAllowance=this._decimalPipe.transform(t.TotalAdditionalAllowance,"1.2-2"),this._payrollLineModel.TotalLateDeduction=this._decimalPipe.transform(t.TotalLateDeduction,"1.2-2"),this._payrollLineModel.TotalUndertimeDeduction=this._decimalPipe.transform(t.TotalUndertimeDeduction,"1.2-2"),this._payrollLineModel.Income=this._decimalPipe.transform(t.Income,"1.2-2"),this._payrollLineModel.TotalOtherIncomeNotTaxable=this._decimalPipe.transform(t.TotalOtherIncomeNotTaxable,"1.2-2"),this._payrollLineModel.TotalOtherIncomeTaxable=this._decimalPipe.transform(t.TotalOtherIncomeTaxable,"1.2-2"),this._payrollLineModel.GrossIncome=this._decimalPipe.transform(t.GrossIncome,"1.2-2"),this._payrollLineModel.SSSContribution=this._decimalPipe.transform(t.SSSContribution,"1.2-2"),this._payrollLineModel.PHICContribution=this._decimalPipe.transform(t.PHICContribution,"1.2-2"),this._payrollLineModel.HDMFContribution=this._decimalPipe.transform(t.HDMFContribution,"1.2-2"),this._payrollLineModel.IncomeTaxAmount=this._decimalPipe.transform(t.IncomeTaxAmount,"1.2-2"),this._payrollLineModel.TotalOtherDeduction=this._decimalPipe.transform(t.TotalOtherDeduction,"1.2-2"),this._payrollLineModel.NetIncome=this._decimalPipe.transform(t.NetIncome,"1.2-2"),this._payrollLineModel.SSSEmployerContribution=this._decimalPipe.transform(t.SSSEmployerContribution,"1.2-2"),this._payrollLineModel.SSSEC=this._decimalPipe.transform(t.SSSEC,"1.2-2"),this._payrollLineModel.PHICEmployerContribution=this._decimalPipe.transform(t.PHICEmployerContribution,"1.2-2"),this._payrollLineModel.HDMFEmployerContribution=this._decimalPipe.transform(t.HDMFEmployerContribution,"1.2-2"),this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Compute Successfully!"),null!==this._computePayrollLineSubscription&&this._computePayrollLineSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._computePayrollLineSubscription&&this._computePayrollLineSubscription.unsubscribe()})}))}GetPayrollDetailDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollLineDetailSubscription=yield(yield this._payrollDetailService.PayrollLineDetail(e)).subscribe(e=>{let t=e;null!=t&&(this._payrollLineModel=t,this._payrollLineModel.EmployeeId=t.EmployeeId,this._payrollLineModel.Employee=t.Employee,this._payrollLineModel.PayrollRate=this._decimalPipe.transform(t.PayrollRate,"1.2-2"),this._payrollLineModel.TotalDailyPay=this._decimalPipe.transform(t.TotalDailyPay,"1.2-2"),this._payrollLineModel.TotalPremiumPay=this._decimalPipe.transform(t.TotalPremiumPay,"1.2-2"),this._payrollLineModel.TotalHolidayPay=this._decimalPipe.transform(t.TotalHolidayPay,"1.2-2"),this._payrollLineModel.TotalOvertimePay=this._decimalPipe.transform(t.TotalOvertimePay,"1.2-2"),this._payrollLineModel.TotalNightDifferentialPay=this._decimalPipe.transform(t.TotalNightDifferentialPay,"1.2-2"),this._payrollLineModel.TotalCOLA=this._decimalPipe.transform(t.TotalCOLA,"1.2-2"),this._payrollLineModel.TotalAdditionalAllowance=this._decimalPipe.transform(t.TotalAdditionalAllowance,"1.2-2"),this._payrollLineModel.TotalLateDeduction=this._decimalPipe.transform(t.TotalLateDeduction,"1.2-2"),this._payrollLineModel.TotalUndertimeDeduction=this._decimalPipe.transform(t.TotalUndertimeDeduction,"1.2-2"),this._payrollLineModel.Income=this._decimalPipe.transform(t.Income,"1.2-2"),this._payrollLineModel.TotalOtherIncomeNotTaxable=this._decimalPipe.transform(t.TotalOtherIncomeNotTaxable,"1.2-2"),this._payrollLineModel.TotalOtherIncomeTaxable=this._decimalPipe.transform(t.TotalOtherIncomeTaxable,"1.2-2"),this._payrollLineModel.GrossIncome=this._decimalPipe.transform(t.GrossIncome,"1.2-2"),this._payrollLineModel.SSSContribution=this._decimalPipe.transform(t.SSSContribution,"1.2-2"),this._payrollLineModel.PHICContribution=this._decimalPipe.transform(t.PHICContribution,"1.2-2"),this._payrollLineModel.HDMFContribution=this._decimalPipe.transform(t.HDMFContribution,"1.2-2"),this._payrollLineModel.IncomeTaxAmount=this._decimalPipe.transform(t.IncomeTaxAmount,"1.2-2"),this._payrollLineModel.TotalOtherDeduction=this._decimalPipe.transform(t.TotalOtherDeduction,"1.2-2"),this._payrollLineModel.NetIncome=this._decimalPipe.transform(t.NetIncome,"1.2-2"),this._payrollLineModel.SSSEmployerContribution=this._decimalPipe.transform(t.SSSEmployerContribution,"1.2-2"),this._payrollLineModel.SSSEC=this._decimalPipe.transform(t.SSSEC,"1.2-2"),this._payrollLineModel.PHICEmployerContribution=this._decimalPipe.transform(t.PHICEmployerContribution,"1.2-2"),this._payrollLineModel.HDMFEmployerContribution=this._decimalPipe.transform(t.HDMFEmployerContribution,"1.2-2")),this._isComponentsHidden=!1,this._isProgressBarHidden=!1,null!==this._payrollLineDetailSubscription&&this._payrollLineDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollLineDetailSubscription&&this._payrollLineDetailSubscription.unsubscribe()})}))}Close(){this._matDialogRef.close({event:this._event})}ngOnDestroy(){}SavePayrollLine(){0==this._payrollLineModel.Id?this.AddPayrollLine():this.UpdatePayrollLine()}AddPayrollLine(){return Object(b.a)(this,void 0,void 0,(function*(){this._event="Update",this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._savePayrollLineSubscription=yield(yield this._payrollDetailService.AddPayrollLine(this._payrollLineModel.PAYId,this._payrollLineModel)).subscribe(e=>{this._payrollLineModel.Id=e,this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Added Successfully"),null!=this._savePayrollLineSubscription&&this._savePayrollLineSubscription.unsubscribe()},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._savePayrollLineSubscription&&this._savePayrollLineSubscription.unsubscribe()}))}))}UpdatePayrollLine(){return Object(b.a)(this,void 0,void 0,(function*(){this._event="Update",this._isProgressBarHidden=!0,1==this._isDataLoaded&&(this._isDataLoaded=!1,this._savePayrollLineSubscription=yield(yield this._payrollDetailService.UpdatePayrollLine(this._payrollLineModel.Id,this._payrollLineModel)).subscribe(e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Update Successfully"),null!=this._savePayrollLineSubscription&&this._savePayrollLineSubscription.unsubscribe()},e=>{this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._savePayrollLineSubscription&&this._savePayrollLineSubscription.unsubscribe()}))}))}RemoveComma(e){return e.toString().replace(/,/g,"")}PayrollRateFormatValueFocusOut(){this.inputTypePayrollRate="text",this._payrollLineModel.PayrollRate=this._decimalPipe.transform(""==this._payrollLineModel.PayrollRate?0:this._payrollLineModel.PayrollRate,"1.2-2")}PayrollRateToNumberTypeFocus(){this._payrollLineModel.PayrollRate=this.RemoveComma(this._payrollLineModel.PayrollRate),this.inputTypePayrollRate="number"}TotalDailyPayFormatValueFocusOut(){this.inputTypeTotalDailyPay="text",this._payrollLineModel.TotalDailyPay=this._decimalPipe.transform(""==this._payrollLineModel.TotalDailyPay?0:this._payrollLineModel.TotalDailyPay,"1.2-2")}TotalDailyPayToNumberTypeFocus(){this._payrollLineModel.TotalDailyPay=this.RemoveComma(this._payrollLineModel.TotalDailyPay),this.inputTypeTotalDailyPay="number"}TotalPremiumPayFormatValueFocusOut(){this.inputTypeTotalPremiumPay="text",this._payrollLineModel.TotalPremiumPay=this._decimalPipe.transform(""==this._payrollLineModel.TotalPremiumPay?0:this._payrollLineModel.TotalPremiumPay,"1.2-2")}TotalPremiumPayToNumberTypeFocus(){this._payrollLineModel.TotalPremiumPay=this.RemoveComma(this._payrollLineModel.TotalPremiumPay),this.inputTypeTotalPremiumPay="number"}TotalHolidayPayFormatValueFocusOut(){this.inputTypeTotalHolidayPay="text",this._payrollLineModel.TotalHolidayPay=this._decimalPipe.transform(""==this._payrollLineModel.TotalHolidayPay?0:this._payrollLineModel.TotalHolidayPay,"1.2-2")}TotalHolidayPayToNumberTypeFocus(){this._payrollLineModel.TotalHolidayPay=this.RemoveComma(this._payrollLineModel.TotalHolidayPay),this.inputTypeTotalHolidayPay="number"}TotalOvertimePayFormatValueFocusOut(){this.inputTypeTotalOvertimePay="text",this._payrollLineModel.TotalOvertimePay=this._decimalPipe.transform(""==this._payrollLineModel.TotalOvertimePay?0:this._payrollLineModel.TotalOvertimePay,"1.2-2")}TotalOvertimePayToNumberTypeFocus(){this._payrollLineModel.TotalOvertimePay=this.RemoveComma(this._payrollLineModel.TotalOvertimePay),this.inputTypeTotalOvertimePay="number"}TotalNightDifferentialPayFormatValueFocusOut(){this.inputTypeTotalNightDifferentialPay="text",this._payrollLineModel.TotalNightDifferentialPay=this._decimalPipe.transform(""==this._payrollLineModel.TotalNightDifferentialPay?0:this._payrollLineModel.TotalNightDifferentialPay,"1.2-2")}TotalNightDifferentialPayToNumberTypeFocus(){this._payrollLineModel.TotalNightDifferentialPay=this.RemoveComma(this._payrollLineModel.TotalNightDifferentialPay),this.inputTypeTotalNightDifferentialPay="number"}TotalCOLAFormatValueFocusOut(){this.inputTypeTotalCOLA="text",this._payrollLineModel.TotalCOLA=this._decimalPipe.transform(""==this._payrollLineModel.TotalCOLA?0:this._payrollLineModel.TotalCOLA,"1.2-2")}TotalCOLAToNumberTypeFocus(){this._payrollLineModel.TotalCOLA=this.RemoveComma(this._payrollLineModel.TotalCOLA),this.inputTypeTotalCOLA="number"}TotalAdditionalAllowanceFormatValueFocusOut(){this.inputTypeTotalAdditionalAllowance="text",this._payrollLineModel.TotalAdditionalAllowance=this._decimalPipe.transform(""==this._payrollLineModel.TotalAdditionalAllowance?0:this._payrollLineModel.TotalAdditionalAllowance,"1.2-2")}TotalAdditionalAllowanceToNumberTypeFocus(){this._payrollLineModel.TotalAdditionalAllowance=this.RemoveComma(this._payrollLineModel.TotalAdditionalAllowance),this.inputTypeTotalAdditionalAllowance="number"}TotalLateDeductionFormatValueFocusOut(){this.inputTypeTotalLateDeduction="text",this._payrollLineModel.TotalLateDeduction=this._decimalPipe.transform(""==this._payrollLineModel.TotalLateDeduction?0:this._payrollLineModel.TotalLateDeduction,"1.2-2")}TotalLateDeductionToNumberTypeFocus(){this._payrollLineModel.TotalLateDeduction=this.RemoveComma(this._payrollLineModel.TotalLateDeduction),this.inputTypeTotalLateDeduction="number"}TotalUndertimeDeductionFormatValueFocusOut(){this.inputTypeTotalUndertimeDeduction="text",this._payrollLineModel.TotalUndertimeDeduction=this._decimalPipe.transform(""==this._payrollLineModel.TotalUndertimeDeduction?0:this._payrollLineModel.TotalUndertimeDeduction,"1.2-2")}TotalUndertimeDeductionToNumberTypeFocus(){this._payrollLineModel.TotalUndertimeDeduction=this.RemoveComma(this._payrollLineModel.TotalUndertimeDeduction),this.inputTypeTotalUndertimeDeduction="number"}IncomeFormatValueFocusOut(){this.inputTypeIncome="text",this._payrollLineModel.Income=this._decimalPipe.transform(""==this._payrollLineModel.Income?0:this._payrollLineModel.Income,"1.2-2")}IncomeToNumberTypeFocus(){this._payrollLineModel.Income=this.RemoveComma(this._payrollLineModel.Income),this.inputTypeIncome="number"}TotalOtherIncomeNotTaxableFormatValueFocusOut(){this.inputTypeTotalOtherIncomeNotTaxable="text",this._payrollLineModel.TotalOtherIncomeNotTaxable=this._decimalPipe.transform(""==this._payrollLineModel.TotalOtherIncomeNotTaxable?0:this._payrollLineModel.TotalOtherIncomeNotTaxable,"1.2-2")}TotalOtherIncomeNotTaxableToNumberTypeFocus(){this._payrollLineModel.TotalOtherIncomeNotTaxable=this.RemoveComma(this._payrollLineModel.TotalOtherIncomeNotTaxable),this.inputTypeTotalOtherIncomeNotTaxable="number"}TotalOtherIncomeTaxableFormatValueFocusOut(){this.inputTypeTotalOtherIncomeTaxable="text",this._payrollLineModel.TotalOtherIncomeTaxable=this._decimalPipe.transform(""==this._payrollLineModel.TotalOtherIncomeTaxable?0:this._payrollLineModel.TotalOtherIncomeTaxable,"1.2-2")}TotalOtherIncomeTaxableToNumberTypeFocus(){this._payrollLineModel.TotalOtherIncomeTaxable=this.RemoveComma(this._payrollLineModel.TotalOtherIncomeTaxable),this.inputTypeTotalOtherIncomeTaxable="number"}GrossIncomeFormatValueFocusOut(){this.inputTypeGrossIncome="text",this._payrollLineModel.GrossIncome=this._decimalPipe.transform(""==this._payrollLineModel.GrossIncome?0:this._payrollLineModel.GrossIncome,"1.2-2")}GrossIncomeToNumberTypeFocus(){this._payrollLineModel.GrossIncome=this.RemoveComma(this._payrollLineModel.GrossIncome),this.inputTypeGrossIncome="number"}SSSContributionFormatValueFocusOut(){this.inputTypeSSSContribution="text",this._payrollLineModel.SSSContribution=this._decimalPipe.transform(""==this._payrollLineModel.SSSContribution?0:this._payrollLineModel.SSSContribution,"1.2-2")}SSSContributionToNumberTypeFocus(){this._payrollLineModel.SSSContribution=this.RemoveComma(this._payrollLineModel.SSSContribution),this.inputTypeSSSContribution="number"}PHICContributionFormatValueFocusOut(){this.inputTypePHICContribution="text",this._payrollLineModel.PHICContribution=this._decimalPipe.transform(""==this._payrollLineModel.PHICContribution?0:this._payrollLineModel.PHICContribution,"1.2-2")}PHICContributionToNumberTypeFocus(){this._payrollLineModel.PHICContribution=this.RemoveComma(this._payrollLineModel.PHICContribution),this.inputTypePHICContribution="number"}HDMFContributionFormatValueFocusOut(){this.inputTypeHDMFContribution="text",this._payrollLineModel.HDMFContribution=this._decimalPipe.transform(""==this._payrollLineModel.HDMFContribution?0:this._payrollLineModel.HDMFContribution,"1.2-2")}HDMFContributionToNumberTypeFocus(){this._payrollLineModel.HDMFContribution=this.RemoveComma(this._payrollLineModel.HDMFContribution),this.inputTypeHDMFContribution="number"}IncomeTaxAmountFormatValueFocusOut(){this.inputTypeIncomeTaxAmount="text",this._payrollLineModel.IncomeTaxAmount=this._decimalPipe.transform(""==this._payrollLineModel.IncomeTaxAmount?0:this._payrollLineModel.IncomeTaxAmount,"1.2-2")}IncomeTaxAmountToNumberTypeFocus(){this._payrollLineModel.IncomeTaxAmount=this.RemoveComma(this._payrollLineModel.IncomeTaxAmount),this.inputTypeIncomeTaxAmount="number"}TotalOtherDeductionFormatValueFocusOut(){this.inputTypeTotalOtherDeduction="text",this._payrollLineModel.TotalOtherDeduction=this._decimalPipe.transform(""==this._payrollLineModel.TotalOtherDeduction?0:this._payrollLineModel.TotalOtherDeduction,"1.2-2")}TotalOtherDeductionToNumberTypeFocus(){this._payrollLineModel.TotalOtherDeduction=this.RemoveComma(this._payrollLineModel.TotalOtherDeduction),this.inputTypeTotalOtherDeduction="number"}NetIncomeFormatValueFocusOut(){this.inputTypeNetIncome="text",this._payrollLineModel.NetIncome=this._decimalPipe.transform(""==this._payrollLineModel.NetIncome?0:this._payrollLineModel.NetIncome,"1.2-2")}NetIncomeToNumberTypeFocus(){this._payrollLineModel.NetIncome=this.RemoveComma(this._payrollLineModel.NetIncome),this.inputTypeNetIncome="number"}SSSEmployerContributionFormatValueFocusOut(){this.inputTypeSSSEmployerContribution="text",this._payrollLineModel.SSSEmployerContribution=this._decimalPipe.transform(""==this._payrollLineModel.SSSEmployerContribution?0:this._payrollLineModel.SSSEmployerContribution,"1.2-2")}SSSEmployerContributionToNumberTypeFocus(){this._payrollLineModel.SSSEmployerContribution=this.RemoveComma(this._payrollLineModel.SSSEmployerContribution),this.inputTypeSSSEmployerContribution="number"}SSSECFormatValueFocusOut(){this.inputTypeSSSEC="text",this._payrollLineModel.SSSEC=this._decimalPipe.transform(""==this._payrollLineModel.SSSEC?0:this._payrollLineModel.SSSEC,"1.2-2")}SSSECToNumberTypeFocus(){this._payrollLineModel.SSSEC=this.RemoveComma(this._payrollLineModel.SSSEC),this.inputTypeSSSEC="number"}PHICEmployerContributionFormatValueFocusOut(){this.inputTypePHICEmployerContribution="text",this._payrollLineModel.PHICEmployerContribution=this._decimalPipe.transform(""==this._payrollLineModel.PHICEmployerContribution?0:this._payrollLineModel.PHICEmployerContribution,"1.2-2")}PHICEmployerContributionToNumberTypeFocus(){this._payrollLineModel.PHICEmployerContribution=this.RemoveComma(this._payrollLineModel.PHICEmployerContribution),this.inputTypePHICEmployerContribution="number"}HDMFEmployerContributionFormatValueFocusOut(){this.inputTypeHDMFEmployerContribution="text",this._payrollLineModel.HDMFEmployerContribution=this._decimalPipe.transform(""==this._payrollLineModel.HDMFEmployerContribution?0:this._payrollLineModel.HDMFEmployerContribution,"1.2-2")}HDMFEmployerContributionToNumberTypeFocus(){this._payrollLineModel.HDMFEmployerContribution=this.RemoveComma(this._payrollLineModel.HDMFEmployerContribution),this.inputTypeHDMFEmployerContribution="number"}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(ny),h.Qb(lr.a),h.Qb(cr),h.Qb(Wa),h.Qb(Xa),h.Qb(Ka),h.Qb(l.e))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-line-detail-dialog"]],decls:178,vars:52,consts:[["mat-dialog-title",""],[3,"color","mode",4,"ngIf"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["type","text","matInput","","readonly","",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],["fxFlex","20",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focus","focusout"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],[3,"color","mode"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.xc(2,oy,1,2,"mat-progress-bar",1),h.Rb(3,"mat-divider"),h.Rb(4,"br"),h.Vb(5,"div",2),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"mat-label"),h.yc(10,"Employee"),h.Ub(),h.Vb(11,"input",6),h.dc("ngModelChange",(function(e){return t._payrollLineModel.Employee=e})),h.Ub(),h.Vb(12,"mat-icon",7),h.dc("click",(function(){return t.EmployeeListDialog()})),h.yc(13,"keyboard_arrow_down"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(14,"div",3),h.Vb(15,"div",8),h.Vb(16,"div",3),h.Vb(17,"div",9),h.Vb(18,"mat-form-field",5),h.Vb(19,"mat-label"),h.yc(20,"Payroll Rate"),h.Ub(),h.Vb(21,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.PayrollRate=e}))("focus",(function(){return t.PayrollRateToNumberTypeFocus()}))("focusout",(function(){return t.PayrollRateFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(22,"div",3),h.Vb(23,"div",9),h.Vb(24,"mat-form-field",5),h.Vb(25,"mat-label"),h.yc(26,"Total Daily Pay"),h.Ub(),h.Vb(27,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalDailyPay=e}))("focus",(function(){return t.TotalDailyPayToNumberTypeFocus()}))("focusout",(function(){return t.TotalDailyPayFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(28,"div",3),h.Vb(29,"div",9),h.Vb(30,"mat-form-field",5),h.Vb(31,"mat-label"),h.yc(32,"Total Premium Pay"),h.Ub(),h.Vb(33,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalPremiumPay=e}))("focus",(function(){return t.TotalPremiumPayToNumberTypeFocus()}))("focusout",(function(){return t.TotalPremiumPayFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(34,"div",3),h.Vb(35,"div",9),h.Vb(36,"mat-form-field",5),h.Vb(37,"mat-label"),h.yc(38,"Total Holiday Pay"),h.Ub(),h.Vb(39,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalHolidayPay=e}))("focus",(function(){return t.TotalHolidayPayToNumberTypeFocus()}))("focusout",(function(){return t.TotalHolidayPayFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(40,"div",3),h.Vb(41,"div",9),h.Vb(42,"mat-form-field",5),h.Vb(43,"mat-label"),h.yc(44,"Total Overtime Pay"),h.Ub(),h.Vb(45,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalOvertimePay=e}))("focus",(function(){return t.TotalOvertimePayToNumberTypeFocus()}))("focusout",(function(){return t.TotalOvertimePayFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(46,"div",8),h.Vb(47,"div",3),h.Vb(48,"div",9),h.Vb(49,"mat-form-field",5),h.Vb(50,"mat-label"),h.yc(51,"Total Night Differential Pay"),h.Ub(),h.Vb(52,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalNightDifferentialPay=e}))("focus",(function(){return t.TotalNightDifferentialPayToNumberTypeFocus()}))("focusout",(function(){return t.TotalNightDifferentialPayFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(53,"div",3),h.Vb(54,"div",9),h.Vb(55,"mat-form-field",5),h.Vb(56,"mat-label"),h.yc(57,"Total COLA"),h.Ub(),h.Vb(58,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalCOLA=e}))("focus",(function(){return t.TotalCOLAToNumberTypeFocus()}))("focusout",(function(){return t.TotalCOLAFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(59,"div",3),h.Vb(60,"div",9),h.Vb(61,"mat-form-field",5),h.Vb(62,"mat-label"),h.yc(63,"Total Additional Allowance"),h.Ub(),h.Vb(64,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalAdditionalAllowance=e}))("focus",(function(){return t.TotalAdditionalAllowanceToNumberTypeFocus()}))("focusout",(function(){return t.TotalAdditionalAllowanceFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(65,"div",3),h.Vb(66,"div",9),h.Vb(67,"mat-form-field",5),h.Vb(68,"mat-label"),h.yc(69,"Total Late Deduction"),h.Ub(),h.Vb(70,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalLateDeduction=e}))("focus",(function(){return t.TotalLateDeductionToNumberTypeFocus()}))("focusout",(function(){return t.TotalLateDeductionFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(71,"div",3),h.Vb(72,"div",9),h.Vb(73,"mat-form-field",5),h.Vb(74,"mat-label"),h.yc(75,"Total Undertime Deduction"),h.Ub(),h.Vb(76,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalUndertimeDeduction=e}))("focus",(function(){return t.TotalUndertimeDeductionToNumberTypeFocus()}))("focusout",(function(){return t.TotalUndertimeDeductionFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(77,"div",8),h.Vb(78,"div",3),h.Vb(79,"div",9),h.Vb(80,"mat-form-field",5),h.Vb(81,"mat-label"),h.yc(82,"Income"),h.Ub(),h.Vb(83,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.Income=e}))("focus",(function(){return t.IncomeToNumberTypeFocus()}))("focusout",(function(){return t.IncomeFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(84,"div",3),h.Vb(85,"div",9),h.Vb(86,"mat-form-field",5),h.Vb(87,"mat-label"),h.yc(88,"Total Other Income Not Taxable"),h.Ub(),h.Vb(89,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalOtherIncomeNotTaxable=e}))("focus",(function(){return t.TotalOtherIncomeNotTaxableToNumberTypeFocus()}))("focusout",(function(){return t.TotalOtherIncomeNotTaxableFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(90,"div",3),h.Vb(91,"div",9),h.Vb(92,"mat-form-field",5),h.Vb(93,"mat-label"),h.yc(94,"Total Other Income Taxable"),h.Ub(),h.Vb(95,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalOtherIncomeTaxable=e}))("focus",(function(){return t.TotalOtherIncomeTaxableToNumberTypeFocus()}))("focusout",(function(){return t.TotalOtherIncomeTaxableFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(96,"div",3),h.Vb(97,"div",9),h.Vb(98,"mat-form-field",5),h.Vb(99,"mat-label"),h.yc(100,"Gross Income"),h.Ub(),h.Vb(101,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.GrossIncome=e}))("focus",(function(){return t.GrossIncomeToNumberTypeFocus()}))("focusout",(function(){return t.GrossIncomeFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(102,"div",3),h.Vb(103,"div",9),h.Vb(104,"mat-form-field",5),h.Vb(105,"mat-label"),h.yc(106,"SSS Contribution"),h.Ub(),h.Vb(107,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.SSSContribution=e}))("focus",(function(){return t.SSSContributionToNumberTypeFocus()}))("focusout",(function(){return t.SSSContributionFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(108,"div",8),h.Vb(109,"div",3),h.Vb(110,"div",9),h.Vb(111,"mat-form-field",5),h.Vb(112,"mat-label"),h.yc(113,"PHIC Contribution"),h.Ub(),h.Vb(114,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.PHICContribution=e}))("focus",(function(){return t.PHICContributionToNumberTypeFocus()}))("focusout",(function(){return t.PHICContributionFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(115,"div",3),h.Vb(116,"div",9),h.Vb(117,"mat-form-field",5),h.Vb(118,"mat-label"),h.yc(119,"HDMF Contribution"),h.Ub(),h.Vb(120,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.HDMFContribution=e}))("focus",(function(){return t.HDMFContributionToNumberTypeFocus()}))("focusout",(function(){return t.HDMFContributionFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(121,"div",3),h.Vb(122,"div",9),h.Vb(123,"mat-form-field",5),h.Vb(124,"mat-label"),h.yc(125,"Income TaxAmount"),h.Ub(),h.Vb(126,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.IncomeTaxAmount=e}))("focus",(function(){return t.IncomeTaxAmountToNumberTypeFocus()}))("focusout",(function(){return t.IncomeTaxAmountFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(127,"div",3),h.Vb(128,"div",9),h.Vb(129,"mat-form-field",5),h.Vb(130,"mat-label"),h.yc(131,"Total Other Deduction"),h.Ub(),h.Vb(132,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.TotalOtherDeduction=e}))("focus",(function(){return t.TotalOtherDeductionToNumberTypeFocus()}))("focusout",(function(){return t.TotalOtherDeductionFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(133,"div",3),h.Vb(134,"div",9),h.Vb(135,"mat-form-field",5),h.Vb(136,"mat-label"),h.yc(137,"Net Income"),h.Ub(),h.Vb(138,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.NetIncome=e}))("focus",(function(){return t.NetIncomeToNumberTypeFocus()}))("focusout",(function(){return t.NetIncomeFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(139,"div",8),h.Vb(140,"div",3),h.Vb(141,"div",9),h.Vb(142,"mat-form-field",5),h.Vb(143,"mat-label"),h.yc(144,"SSS Employer Contribution"),h.Ub(),h.Vb(145,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.SSSEmployerContribution=e}))("focus",(function(){return t.SSSEmployerContributionToNumberTypeFocus()}))("focusout",(function(){return t.SSSEmployerContributionFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(146,"div",3),h.Vb(147,"div",9),h.Vb(148,"mat-form-field",5),h.Vb(149,"mat-label"),h.yc(150,"SSSEC"),h.Ub(),h.Vb(151,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.SSSEC=e}))("focus",(function(){return t.SSSECToNumberTypeFocus()}))("focusout",(function(){return t.SSSECFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(152,"div",3),h.Vb(153,"div",9),h.Vb(154,"mat-form-field",5),h.Vb(155,"mat-label"),h.yc(156,"PHIC Employer Contribution"),h.Ub(),h.Vb(157,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.PHICEmployerContribution=e}))("focus",(function(){return t.PHICEmployerContributionToNumberTypeFocus()}))("focusout",(function(){return t.PHICEmployerContributionFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(158,"div",3),h.Vb(159,"div",9),h.Vb(160,"mat-form-field",5),h.Vb(161,"mat-label"),h.yc(162,"HDMF Employer Contribution"),h.Ub(),h.Vb(163,"input",10),h.dc("ngModelChange",(function(e){return t._payrollLineModel.HDMFEmployerContribution=e}))("focus",(function(){return t.HDMFEmployerContributionToNumberTypeFocus()}))("focusout",(function(){return t.HDMFEmployerContributionFormatValueFocusOut()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(164,"mat-divider"),h.Vb(165,"div",11),h.Vb(166,"button",12),h.dc("click",(function(){return t.SavePayrollLine()})),h.Vb(167,"mat-icon"),h.yc(168,"save"),h.Ub(),h.yc(169," Save "),h.Ub(),h.Vb(170,"button",12),h.dc("click",(function(){return t.ComputePayrollLine()})),h.Vb(171,"mat-icon"),h.yc(172,"calculate"),h.Ub(),h.yc(173," Compute "),h.Ub(),h.Vb(174,"button",13),h.dc("click",(function(){return t.Close()})),h.Vb(175,"mat-icon"),h.yc(176,"close"),h.Ub(),h.yc(177," Cancel "),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(1),h.Ac(" ",t._title,"\n"),h.Eb(1),h.kc("ngIf",t._isProgressBarHidden),h.Eb(3),h.kc("hidden",t._isComponentsHidden),h.Eb(6),h.kc("ngModel",t._payrollLineModel.Employee),h.Eb(10),h.lc("type",t.inputTypePayrollRate),h.kc("ngModel",t._payrollLineModel.PayrollRate),h.Eb(6),h.lc("type",t.inputTypeTotalDailyPay),h.kc("ngModel",t._payrollLineModel.TotalDailyPay),h.Eb(6),h.lc("type",t.inputTypeTotalPremiumPay),h.kc("ngModel",t._payrollLineModel.TotalPremiumPay),h.Eb(6),h.lc("type",t.inputTypeTotalHolidayPay),h.kc("ngModel",t._payrollLineModel.TotalHolidayPay),h.Eb(6),h.lc("type",t.inputTypeTotalOvertimePay),h.kc("ngModel",t._payrollLineModel.TotalOvertimePay),h.Eb(7),h.lc("type",t.inputTypeTotalNightDifferentialPay),h.kc("ngModel",t._payrollLineModel.TotalNightDifferentialPay),h.Eb(6),h.lc("type",t.inputTypeTotalCOLA),h.kc("ngModel",t._payrollLineModel.TotalCOLA),h.Eb(6),h.lc("type",t.inputTypeTotalAdditionalAllowance),h.kc("ngModel",t._payrollLineModel.TotalAdditionalAllowance),h.Eb(6),h.lc("type",t.inputTypeTotalLateDeduction),h.kc("ngModel",t._payrollLineModel.TotalLateDeduction),h.Eb(6),h.lc("type",t.inputTypeTotalUndertimeDeduction),h.kc("ngModel",t._payrollLineModel.TotalUndertimeDeduction),h.Eb(7),h.lc("type",t.inputTypeIncome),h.kc("ngModel",t._payrollLineModel.Income),h.Eb(6),h.lc("type",t.inputTypeTotalOtherIncomeNotTaxable),h.kc("ngModel",t._payrollLineModel.TotalOtherIncomeNotTaxable),h.Eb(6),h.lc("type",t.inputTypeTotalOtherIncomeTaxable),h.kc("ngModel",t._payrollLineModel.TotalOtherIncomeTaxable),h.Eb(6),h.lc("type",t.inputTypeGrossIncome),h.kc("ngModel",t._payrollLineModel.GrossIncome),h.Eb(6),h.lc("type",t.inputTypeSSSContribution),h.kc("ngModel",t._payrollLineModel.SSSContribution),h.Eb(7),h.lc("type",t.inputTypePHICContribution),h.kc("ngModel",t._payrollLineModel.PHICContribution),h.Eb(6),h.lc("type",t.inputTypeHDMFContribution),h.kc("ngModel",t._payrollLineModel.HDMFContribution),h.Eb(6),h.lc("type",t.inputTypeIncomeTaxAmount),h.kc("ngModel",t._payrollLineModel.IncomeTaxAmount),h.Eb(6),h.lc("type",t.inputTypeTotalOtherDeduction),h.kc("ngModel",t._payrollLineModel.TotalOtherDeduction),h.Eb(6),h.lc("type",t.inputTypeNetIncome),h.kc("ngModel",t._payrollLineModel.NetIncome),h.Eb(7),h.lc("type",t.inputTypeSSSEmployerContribution),h.kc("ngModel",t._payrollLineModel.SSSEmployerContribution),h.Eb(6),h.lc("type",t.inputTypeSSSEC),h.kc("ngModel",t._payrollLineModel.SSSEC),h.Eb(6),h.lc("type",t.inputTypePHICEmployerContribution),h.kc("ngModel",t._payrollLineModel.PHICEmployerContribution),h.Eb(6),h.lc("type",t.inputTypeHDMFEmployerContribution),h.kc("ngModel",t._payrollLineModel.HDMFEmployerContribution))},directives:[ir,l.l,ft,li.b,li.a,_r.c,_r.g,vr.b,c.d,c.o,c.r,w.a,_r.h,or,v.a,tr,fr],styles:[".regular-detail[_ngcontent-%COMP%]{color:purple;font-weight:600}"]}),e})(),ry=(()=>{class e{constructor(e,t){this.comfirmMessageDialogRef=e,this.caseData=t,this.title="Delete Message Box",this.confirmationMessage="Delete this item?"}ngOnInit(){this.title=this.caseData.objDialogTitle,this.confirmationMessage=this.caseData.objComfirmationMessage}ConfirmMessageNO(){this.comfirmMessageDialogRef.close({message:"No"})}ConfirmMessageYes(){this.comfirmMessageDialogRef.close({message:"Yes"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-detail-compute-confirm-dialog"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right","id","btnYes",2,"margin-right","5px",3,"click"],["mat-flat-button","","color","warn","id","btnNo",3,"click"],[1,"fa","fa-close","fa-fw"]],template:function(e,t){1&e&&(h.Rb(0,"h3",0),h.Vb(1,"div",1),h.yc(2),h.Ub(),h.Vb(3,"div",2),h.Vb(4,"button",3),h.dc("click",(function(){return t.ConfirmMessageYes()})),h.yc(5," Yes "),h.Ub(),h.Vb(6,"button",4),h.dc("click",(function(){return t.ConfirmMessageNO()})),h.Rb(7,"i",5),h.yc(8,"No "),h.Ub(),h.Ub()),2&e&&(h.Eb(2),h.Ac(" ",t.confirmationMessage,"\n"))},directives:[ir,nr,or,v.a],styles:[""]}),e})();const sy=["flexPayrollLine"];function ly(e,t){1&e&&h.Rb(0,"mat-progress-bar",53),2&e&&h.kc("color","primary")("mode","indeterminate")}function cy(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function dy(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function hy(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function uy(e,t){if(1&e&&(h.Vb(0,"mat-option",55),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function py(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function by(e,t){if(1&e&&(h.Vb(0,"mat-option",54),h.yc(1),h.Ub()),2&e){const e=t.$implicit,i=h.hc();h.kc("disabled",i._isLocked)("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function my(e,t){1&e&&h.Rb(0,"mat-progress-bar",56),2&e&&h.kc("color","primary")("mode","indeterminate")}function fy(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",59),h.dc("click",(function(){return h.rc(e),h.hc(2).EditPayrollLine()})),h.Vb(1,"mat-icon"),h.yc(2,"edit"),h.Ub(),h.yc(3," Edit "),h.Ub()}}function gy(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",57),h.xc(1,fy,4,0,"ng-template",58),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function yy(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",60),h.dc("click",(function(){return h.rc(e),h.hc(2).ComfirmDeletePayrollLine()})),h.Vb(1,"mat-icon"),h.yc(2,"delete"),h.Ub(),h.yc(3," Delete "),h.Ub()}}function _y(e,t){1&e&&(h.Vb(0,"wj-flex-grid-column",57),h.xc(1,yy,4,0,"ng-template",58),h.Ub()),2&e&&(h.kc("isReadOnly",!0)("width",80),h.Eb(1),h.kc("cellType","Cell"))}function vy(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",61),h.dc("click",(function(){return h.rc(e),h.hc().ComfirmComputePayroll()})),h.Vb(1,"mat-icon"),h.yc(2,"get_app"),h.Ub(),h.yc(3," DTR "),h.Ub(),h.Vb(4,"button",61),h.dc("click",(function(){return h.rc(e),h.hc().AddPayrollLine()})),h.Vb(5,"mat-icon"),h.yc(6,"add"),h.Ub(),h.yc(7," ADD "),h.Ub()}if(2&e){const e=h.hc();h.kc("disabled",e._btnDownloadDTRDisabled),h.Eb(4),h.kc("disabled",e._btnAddPayrollLineDisabled)}}let wy=(()=>{class e{constructor(e,t,i,n,o,a){this._payrollDetailService=e,this._activatedRoute=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialogRef=o,this.datePipe=a,this._isProgressBarHidden=!1,this._isComponentsShown=!0,this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isDataLoaded=!1,this._isLocked=!1,this._dTRListDropdown=[],this._payrollOtherIncomeListDropdown=[],this._payrollOtherDeductionListDropdown=[],this._userListDropdown=[],this._payrollModel={Id:0,PAYNumber:"",PAYDate:"",PayrollGroup:"",YearId:0,Year:"",QuarterNumber:"",MonthNumber:"",WeekNumber:"",DTRId:0,DTR:"",PDId:0,PD:"",PIId:0,PI:"",Remarks:"",PreparedByUserId:0,PreparedByUser:"",CheckedByUserId:0,CheckedByUser:"",ApprovedByUserId:0,ApprovedByUser:"",CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:"",UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:"",IsLocked:!1},this.UIPAYDate=new Date,this._payrollLineModel={Id:0,PAYId:0,EmployeeId:0,Employee:"",PayrollRate:"0",TotalDailyPay:"0",TotalPremiumPay:"0",TotalHolidayPay:"0",TotalOvertimePay:"0",TotalNightDifferentialPay:"0",TotalCOLA:"0",TotalAdditionalAllowance:"0",TotalLateDeduction:"0",TotalUndertimeDeduction:"0",Income:"0",TotalOtherIncomeNotTaxable:"0",TotalOtherIncomeTaxable:"0",GrossIncome:"0",SSSContribution:"0",PHICContribution:"0",HDMFContribution:"0",IncomeTaxAmount:"0",TotalOtherDeduction:"0",NetIncome:"0",SSSEmployerContribution:"0",SSSEC:"0",PHICEmployerContribution:"0",HDMFEmployerContribution:"0"},this._listPayrollLineObservableArray=new na,this._listPayrollLineCollectionView=new oa(this._listPayrollLineObservableArray),this._listPageIndex=15,this._isPayrollLineProgressBarHidden=!1,this._isPayrollLineDataLoaded=!1,this._btnAddPayrollLineDisabled=!1}ngOnInit(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.GetPayrollDetail()}))}GetPayrollDetail(){return Object(b.a)(this,void 0,void 0,(function*(){let e=0;this._activatedRoute.params.subscribe(t=>{e=t.id}),this._isComponentsShown=!0,this._isProgressBarHidden=!0,this.DisableButtons(),this._payrollDetailSubscription=yield(yield this._payrollDetailService.PayrollDetail(e)).subscribe(e=>{let t=e;null!=t&&(this.payrollDetail=t,this.UIPAYDate=new Date(t.PAYDate),this._payrollLineModel.PAYId=t.Id,this.DTRListData(t.PayrollGroup)),this.loadComponent(t.IsLocked),this._isDataLoaded=!0,this._isProgressBarHidden=!1,this._isComponentsShown=!1,null!==this._payrollDetailSubscription&&this._payrollDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollDetailSubscription&&this._payrollDetailSubscription.unsubscribe()})}))}DTRListData(e){return Object(b.a)(this,void 0,void 0,(function*(){this._dTRDropdownSubscription=yield(yield this._payrollDetailService.DTRList(e)).subscribe(e=>{this._dTRListDropdown=e,this._payrollModel.DTRId=this.payrollDetail.DTRId,null!==this._dTRDropdownSubscription&&this._dTRDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._dTRDropdownSubscription&&this._dTRDropdownSubscription.unsubscribe()}),this.PayrOtheIncomeListData(e)}))}PayrOtheIncomeListData(e){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollOtherIncomeDropdownSubscription=yield(yield this._payrollDetailService.PayrollOtherIncomeList(e)).subscribe(e=>{this._payrollOtherIncomeListDropdown=e,this._payrollModel.PIId=this.payrollDetail.PIId,null!==this._payrollOtherIncomeDropdownSubscription&&this._payrollOtherIncomeDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollOtherIncomeDropdownSubscription&&this._payrollOtherIncomeDropdownSubscription.unsubscribe()}),this.PayrollOtherDeductionListData(e)}))}PayrollOtherDeductionListData(e){return Object(b.a)(this,void 0,void 0,(function*(){this._payrollOtherDeductionDropdownSubscription=yield(yield this._payrollDetailService.PayrollOtherDeductionList(e)).subscribe(e=>{this._payrollOtherDeductionListDropdown=e,this._payrollModel.PDId=this.payrollDetail.PDId,this.UserListData(),null!==this._payrollOtherDeductionDropdownSubscription&&this._payrollOtherDeductionDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollOtherDeductionDropdownSubscription&&this._payrollOtherDeductionDropdownSubscription.unsubscribe()})}))}UserListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._userDropdownSubscription=yield(yield this._payrollDetailService.UserList()).subscribe(e=>{this._userListDropdown=e,this.GetPayrollLineListData(),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._userDropdownSubscription&&this._userDropdownSubscription.unsubscribe()}),this._payrollModel=this.payrollDetail}))}GetUIDATEPAYDate(){this._payrollModel.PAYDate=this.datePipe.transform(this.UIPAYDate,"yyyy-MM-dd")}SavePayrollDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._savePayrollDetailSubscription=(yield this._payrollDetailService.SavePayroll(this._payrollModel.Id,this._payrollModel)).subscribe(e=>{this.loadComponent(this._payrollModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._savePayrollDetailSubscription&&this._savePayrollDetailSubscription.unsubscribe()},e=>{this.loadComponent(this._payrollModel.IsLocked),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._savePayrollDetailSubscription&&this._savePayrollDetailSubscription.unsubscribe()}))}))}LockPayrollDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._lockPayrollDetailSubscription=yield(yield this._payrollDetailService.LockPayroll(this._payrollModel.Id,this._payrollModel)).subscribe(e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Lock Successfully."),null!==this._lockPayrollDetailSubscription&&this._lockPayrollDetailSubscription.unsubscribe()},e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._lockPayrollDetailSubscription&&this._lockPayrollDetailSubscription.unsubscribe()}))}))}UnlockPayrollDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.DisableButtons(),1==this._isDataLoaded&&(this._isDataLoaded=!1,this._unlockPayrollDetailSubscription=yield(yield this._payrollDetailService.UnlockPayroll(this._payrollModel.Id)).subscribe(e=>{this.loadComponent(!1),this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Unlock Successfully."),null!==this._unlockPayrollDetailSubscription&&this._unlockPayrollDetailSubscription.unsubscribe()},e=>{this.loadComponent(!0),this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._unlockPayrollDetailSubscription&&this._unlockPayrollDetailSubscription.unsubscribe()}))}))}loadComponent(e){this._btnAddPayrollLineDisabled=e,this._btnSaveDisabled=e,this._btnLockisabled=e,this._btnUnlockDisabled=!e,this._isLocked=e,this._isProgressBarHidden=!1}DisableButtons(){this._btnSaveDisabled=!0,this._btnLockisabled=!0,this._btnUnlockDisabled=!0,this._isProgressBarHidden=!0}activeTab(){}GetPayrollLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listPayrollLineObservableArray=new na,this._listPayrollLineCollectionView=new oa(this._listPayrollLineObservableArray),this._listPayrollLineCollectionView.pageSize=15,this._listPayrollLineCollectionView.trackChanges=!0,yield this._listPayrollLineCollectionView.refresh(),yield this.flexPayrollLine.refresh(),this._isPayrollLineProgressBarHidden=!0,this._payrollLineListSubscription=yield(yield this._payrollDetailService.PayrollLineList(this._payrollModel.Id)).subscribe(e=>{e.length>0&&(this._listPayrollLineObservableArray=e,this._listPayrollLineCollectionView=new oa(this._listPayrollLineObservableArray),this._listPayrollLineCollectionView.pageSize=15,this._listPayrollLineCollectionView.trackChanges=!0,this._listPayrollLineCollectionView.refresh(),this.flexPayrollLine.refresh()),this._isPayrollLineDataLoaded=!0,this._isPayrollLineProgressBarHidden=!1,null!==this._payrollLineListSubscription&&this._payrollLineListSubscription.unsubscribe()},e=>{this._isPayrollLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollLineListSubscription&&this._payrollLineListSubscription.unsubscribe()})}))}AddPayrollLine(){this.DetailPayrollLine(this._payrollLineModel,"Add Payroll Line")}EditPayrollLine(){let e=this._listPayrollLineCollectionView.currentItem;this.RemoveComma(e.PayrollRate),this.RemoveComma(e.TotalDailyPay),this.RemoveComma(e.TotalPremiumPay),this.RemoveComma(e.TotalHolidayPay),this.RemoveComma(e.TotalOvertimePay),this.RemoveComma(e.TotalNightDifferentialPay),this.RemoveComma(e.TotalCOLA),this.RemoveComma(e.TotalAdditionalAllowance),this.RemoveComma(e.TotalLateDeduction),this.RemoveComma(e.TotalUndertimeDeduction),this.RemoveComma(e.Income),this.RemoveComma(e.TotalOtherIncomeNotTaxable),this.RemoveComma(e.TotalOtherIncomeTaxable),this.RemoveComma(e.GrossIncome),this.RemoveComma(e.SSSContribution),this.RemoveComma(e.PHICContribution),this.RemoveComma(e.HDMFContribution),this.RemoveComma(e.IncomeTaxAmount),this.RemoveComma(e.TotalOtherDeduction),this.RemoveComma(e.NetIncome),this.RemoveComma(e.SSSEmployerContribution),this.RemoveComma(e.SSSEC),this.RemoveComma(e.PHICEmployerContribution),this.RemoveComma(e.HDMFEmployerContribution),this.DetailPayrollLine(e,"Edit Payroll Line Detail")}DownloadDTR(){return Object(b.a)(this,void 0,void 0,(function*(){1==this._isDataLoaded&&(this._isPayrollLineProgressBarHidden=!0,this._isDataLoaded=!1,this._downlloadDTRPayrollLineSubscription=yield(yield this._payrollDetailService.DownloadDTRPayrollLines(this._payrollLineModel.PAYId)).subscribe(e=>{this.GetPayrollLineListData(),this._isDataLoaded=!0,this._isPayrollLineProgressBarHidden=!1,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Download Successfully"),null!=this._downlloadDTRPayrollLineSubscription&&this._downlloadDTRPayrollLineSubscription.unsubscribe()},e=>{this._isDataLoaded=!0,this._isPayrollLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._downlloadDTRPayrollLineSubscription&&this._downlloadDTRPayrollLineSubscription.unsubscribe()}))}))}RemoveComma(e){return e.toString().replace(",","")}DeletePayrollLine(){return Object(b.a)(this,void 0,void 0,(function*(){let e=this._listPayrollLineCollectionView.currentItem;this._isProgressBarHidden=!0,1==this._isPayrollLineDataLoaded&&(this._isPayrollLineDataLoaded=!1,this._deletePayrollLineSubscription=yield(yield this._payrollDetailService.DeletePayrollLine(e.Id)).subscribe(e=>{this._snackBarTemplate.snackBarSuccess(this._snackBar,"Delete Successfully"),this.GetPayrollLineListData(),this._isProgressBarHidden=!1,this._isPayrollLineDataLoaded=!0},e=>{this._isPayrollLineDataLoaded=!0,this._isProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error+" "+e.status),null!=this._deletePayrollLineSubscription&&this._deletePayrollLineSubscription.unsubscribe()}))}))}ComfirmDeletePayrollLine(){this._matDialogRef.open(sr,{width:"500px",data:{objDialogTitle:"Delete PayrollLine",objComfirmationMessage:` Delete ${this._listPayrollLineCollectionView.currentItem.Employee} Payroll?`},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DeletePayrollLine()})}DetailPayrollLine(e,t){null!==this._payrollLineListSubscription&&this._payrollLineListSubscription.unsubscribe(),this._matDialogRef.open(ay,{width:"1300px",data:{objDialogTitle:t,objPayrollLine:e,objPayrollGroup:this._payrollModel.PayrollGroup},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetPayrollLineListData()})}ngOnDestroy(){}UpdatePayrollLine(e,t){return Object(b.a)(this,void 0,void 0,(function*(){1==this._isDataLoaded&&(this._isDataLoaded=!1,this._savePayrollLineSubscription=yield(yield this._payrollDetailService.UpdatePayrollLine(e,t)).subscribe(e=>{this._isDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Update Successfully"),this.GetPayrollLineListData(),null!=this._savePayrollLineSubscription&&this._savePayrollLineSubscription.unsubscribe()},e=>{this._isDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error+"  Status Code: "+e.status),null!=this._savePayrollLineSubscription&&this._savePayrollLineSubscription.unsubscribe()}))}))}ComfirmComputePayroll(){this._matDialogRef.open(ry,{width:"500px",data:{objDialogTitle:"Compute",objComfirmationMessage:"Compute Payroll?"},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.DownloadDTR()})}selectedCheckedByUser(e){this._payrollModel.CheckedByUserId=e.source.value,this._payrollModel.CheckedByUser=e.source.selected.viewValue}selectedApprovedByUser(e){this._payrollModel.ApprovedByUserId=e.source.value,this._payrollModel.ApprovedByUser=e.source.selected.viewValue}btnCSVClick(){var e=this.generateCSV(),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.setAttribute("download","Payroll.csv"),i.click()}generateCSV(){var e,t="";if(e=this._listPayrollLineCollectionView,""!=(t="Daily Time Record\r\n\n")){var i='"Payroll ID","LANumber","LADate","PayrollGroup","Year","QuarterNumber","Year","MonthNumber","Payroll","LA","CS","Remarks","PreparedByUser","CheckedByUser","ApprovedByUser",';for(var n in e.items[0])i+=n+",";t+=(i=i.slice(0,-1))+"\r\n",e.moveToFirstPage();for(var o=0;o<e.pageCount;o++){for(var a=0;a<e.items.length;a++){var r='"'+this._payrollModel.Id+'","'+this._payrollModel.PAYNumber+'","'+this._payrollModel.PAYDate+'","'+this._payrollModel.PayrollGroup+'","'+this._payrollModel.Year+'","'+this._payrollModel.QuarterNumber+'","'+this._payrollModel.MonthNumber+'","'+this._payrollModel.Remarks+'","'+this._payrollModel.PreparedByUser+'","'+this._payrollModel.CheckedByUser+'","'+this._payrollModel.ApprovedByUser+'",';for(var n in e.items[a])r+='"'+e.items[a][n]+'",';r.slice(0,r.length-1),t+=r+"\r\n"}e.moveToNextPage()}}return new Blob([t],{type:"text/csv;charset=utf-8;"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(ny),h.Qb(d.a),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-payroll-detail"]],viewQuery:function(e,t){var i;1&e&&h.Ec(sy,!0),2&e&&h.pc(i=h.ec())&&(t.flexPayrollLine=i.first)},decls:198,vars:135,consts:[["src","../../../../assets/menu-icons/payroll.png","height","35"],[1,"spacer"],["mat-flat-button","","color","primary",2,"margin-right","5px",3,"disabled","click"],["mat-flat-button","","color","accent","id","btnAddCSV",2,"margin","5px",3,"disabled","click"],["mat-flat-button","","routerLink","/software/payroll-list","color","warn",2,"margin-right","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["fxFlex","33",2,"padding","5px","margin-top","3px"],[1,"text_box"],["fxFlex","34",2,"padding","5px","margin-top","3px"],["fxFlex","25",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","readonly","ngModelChange","dateInput"],["matSuffix","",3,"for","disabled"],["color","primary"],["datePickerPayrollDate",""],["matInput","",3,"ngModel","readonly","ngModelChange"],["fxFlex","33",2,"padding","5px"],[3,"ngModel","ngModelChange"],[3,"disabled","value",4,"ngFor","ngForOf"],["fxFlex","34",2,"padding","5px"],["disabled","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","selectionChange"],["fxFlex","100",2,"padding","0px 5px 5px 5px"],["matInput","","placeholder","AddrRemarksess","rows","5",2,"min-height","102px",3,"ngModel","readonly","ngModelChange"],[1,"detail-tab",2,"max-height","100%",3,"selectedTabChange"],["tabGroup",""],["label","Payroll Line"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexPayrollLine",""],[3,"isReadOnly","width",4,"ngIf"],[3,"header","binding","isReadOnly","width"],["disabled","",2,"background-color","transparent"],["mat-tab-label",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[2,"margin","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],[2,"width","100%",3,"color","mode"],[3,"disabled","value"],[3,"value"],[3,"color","mode"],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],["mat-raised-button","","color","primary","id","btnEditPayrollLine",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","warn",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"]],template:function(e,t){if(1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Payroll Detail"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.SavePayrollDetail()})),h.Vb(6,"mat-icon"),h.yc(7,"save"),h.Ub(),h.yc(8," Save "),h.Ub(),h.Vb(9,"button",2),h.dc("click",(function(){return t.LockPayrollDetail()})),h.Vb(10,"mat-icon"),h.yc(11,"lock"),h.Ub(),h.yc(12," Lock "),h.Ub(),h.Vb(13,"button",2),h.dc("click",(function(){return t.UnlockPayrollDetail()})),h.Vb(14,"mat-icon"),h.yc(15,"lock_open"),h.Ub(),h.yc(16," Unlock "),h.Ub(),h.Vb(17,"button",3),h.dc("click",(function(){return t.btnCSVClick()})),h.Vb(18,"mat-icon"),h.yc(19,"get_app"),h.Ub(),h.yc(20," CSV "),h.Ub(),h.Vb(21,"button",4),h.Vb(22,"mat-icon"),h.yc(23,"close"),h.Ub(),h.yc(24," Close "),h.Ub(),h.Ub(),h.xc(25,ly,1,2,"mat-progress-bar",5),h.Vb(26,"div",6),h.Vb(27,"div",7),h.Vb(28,"div",8),h.Vb(29,"div",9),h.Vb(30,"div",8),h.Vb(31,"div",10),h.Vb(32,"h2",11),h.Vb(33,"b"),h.yc(34),h.Ub(),h.Ub(),h.Ub(),h.Vb(35,"div",10),h.Vb(36,"h2",11),h.Vb(37,"b"),h.yc(38),h.Ub(),h.Ub(),h.Ub(),h.Vb(39,"div",12),h.Vb(40,"h2",11),h.Vb(41,"b"),h.yc(42),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(43,"div",8),h.Vb(44,"div",13),h.Vb(45,"mat-form-field",14),h.Vb(46,"mat-label"),h.yc(47,"Date"),h.Ub(),h.Vb(48,"input",15),h.dc("ngModelChange",(function(e){return t.UIPAYDate=e}))("dateInput",(function(){return t.GetUIDATEPAYDate()})),h.Ub(),h.Rb(49,"mat-datepicker-toggle",16),h.Rb(50,"mat-datepicker",17,18),h.Ub(),h.Ub(),h.Vb(52,"div",13),h.Vb(53,"mat-form-field",14),h.Vb(54,"mat-label"),h.yc(55,"Quarter No."),h.Ub(),h.Vb(56,"input",19),h.dc("ngModelChange",(function(e){return t._payrollModel.QuarterNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(57,"div",13),h.Vb(58,"mat-form-field",14),h.Vb(59,"mat-label"),h.yc(60,"Month No."),h.Ub(),h.Vb(61,"input",19),h.dc("ngModelChange",(function(e){return t._payrollModel.MonthNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Vb(62,"div",13),h.Vb(63,"mat-form-field",14),h.Vb(64,"mat-label"),h.yc(65,"Week No."),h.Ub(),h.Vb(66,"input",19),h.dc("ngModelChange",(function(e){return t._payrollModel.WeekNumber=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(67,"div",8),h.Vb(68,"div",20),h.Vb(69,"mat-form-field",14),h.Vb(70,"mat-label"),h.yc(71,"DTR"),h.Ub(),h.Vb(72,"mat-select",21),h.dc("ngModelChange",(function(e){return t._payrollModel.DTRId=e})),h.xc(73,cy,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Vb(74,"div",20),h.Vb(75,"mat-form-field",14),h.Vb(76,"mat-label"),h.yc(77,"Payroll Other Income"),h.Ub(),h.Vb(78,"mat-select",21),h.dc("ngModelChange",(function(e){return t._payrollModel.PIId=e})),h.xc(79,dy,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Vb(80,"div",23),h.Vb(81,"mat-form-field",14),h.Vb(82,"mat-label"),h.yc(83,"Payroll Other Deduction"),h.Ub(),h.Vb(84,"mat-select",21),h.dc("ngModelChange",(function(e){return t._payrollModel.PDId=e})),h.xc(85,hy,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(86,"div",9),h.Vb(87,"div",8),h.Vb(88,"div",20),h.Vb(89,"mat-form-field",14),h.Vb(90,"mat-label"),h.yc(91,"Prepared By"),h.Ub(),h.Vb(92,"mat-select",24),h.dc("ngModelChange",(function(e){return t._payrollModel.PreparedByUserId=e})),h.xc(93,uy,2,2,"mat-option",25),h.Ub(),h.Ub(),h.Ub(),h.Vb(94,"div",20),h.Vb(95,"mat-form-field",14),h.Vb(96,"mat-label"),h.yc(97,"Checked By"),h.Ub(),h.Vb(98,"mat-select",26),h.dc("ngModelChange",(function(e){return t._payrollModel.CheckedByUserId=e}))("selectionChange",(function(e){return t.selectedCheckedByUser(e)})),h.xc(99,py,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Vb(100,"div",23),h.Vb(101,"mat-form-field",14),h.Vb(102,"mat-label"),h.yc(103,"Approved By"),h.Ub(),h.Vb(104,"mat-select",26),h.dc("ngModelChange",(function(e){return t._payrollModel.ApprovedByUserId=e}))("selectionChange",(function(e){return t.selectedApprovedByUser(e)})),h.xc(105,by,2,3,"mat-option",22),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(106,"div",8),h.Vb(107,"div",27),h.Vb(108,"mat-form-field",14),h.Vb(109,"mat-label"),h.yc(110,"Remarks"),h.Ub(),h.Vb(111,"textarea",28),h.dc("ngModelChange",(function(e){return t._payrollModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(112,"mat-tab-group",29,30),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(114,"mat-tab",31),h.xc(115,my,1,2,"mat-progress-bar",32),h.Vb(116,"wj-flex-grid",33,34),h.Rb(118,"wj-flex-grid-filter"),h.xc(119,gy,2,3,"wj-flex-grid-column",35),h.xc(120,_y,2,3,"wj-flex-grid-column",35),h.Rb(121,"wj-flex-grid-column",36),h.Rb(122,"wj-flex-grid-column",36),h.Rb(123,"wj-flex-grid-column",36),h.Rb(124,"wj-flex-grid-column",36),h.Rb(125,"wj-flex-grid-column",36),h.Rb(126,"wj-flex-grid-column",36),h.Rb(127,"wj-flex-grid-column",36),h.Rb(128,"wj-flex-grid-column",36),h.Rb(129,"wj-flex-grid-column",36),h.Rb(130,"wj-flex-grid-column",36),h.Rb(131,"wj-flex-grid-column",36),h.Rb(132,"wj-flex-grid-column",36),h.Rb(133,"wj-flex-grid-column",36),h.Rb(134,"wj-flex-grid-column",36),h.Rb(135,"wj-flex-grid-column",36),h.Rb(136,"wj-flex-grid-column",36),h.Rb(137,"wj-flex-grid-column",36),h.Rb(138,"wj-flex-grid-column",36),h.Rb(139,"wj-flex-grid-column",36),h.Rb(140,"wj-flex-grid-column",36),h.Rb(141,"wj-flex-grid-column",36),h.Rb(142,"wj-flex-grid-column",36),h.Ub(),h.Ub(),h.Vb(143,"mat-tab",37),h.xc(144,vy,8,2,"ng-template",38),h.Ub(),h.Ub(),h.Vb(145,"div",39),h.Vb(146,"div",40),h.Vb(147,"div",8),h.Vb(148,"mat-button-toggle-group",41),h.Vb(149,"mat-button-toggle",42),h.dc("click",(function(){return t._listPayrollLineCollectionView.moveToFirstPage()})),h.Vb(150,"mat-icon",43),h.yc(151,"navigate_before"),h.Ub(),h.Vb(152,"mat-icon"),h.yc(153,"navigate_before"),h.Ub(),h.Ub(),h.Vb(154,"mat-button-toggle",42),h.dc("click",(function(){return t._listPayrollLineCollectionView.moveToPreviousPage()})),h.Vb(155,"mat-icon"),h.yc(156,"navigate_before"),h.Ub(),h.Ub(),h.Vb(157,"mat-button-toggle",44),h.yc(158),h.Ub(),h.Vb(159,"mat-button-toggle",42),h.dc("click",(function(){return t._listPayrollLineCollectionView.moveToNextPage()})),h.Vb(160,"mat-icon"),h.yc(161,"navigate_next"),h.Ub(),h.Ub(),h.Vb(162,"mat-button-toggle",42),h.dc("click",(function(){return t._listPayrollLineCollectionView.moveToLastPage()})),h.Vb(163,"mat-icon",43),h.yc(164,"navigate_next"),h.Ub(),h.Vb(165,"mat-icon"),h.yc(166,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(167,"div",45),h.Ub(),h.Rb(168,"mat-divider",46),h.Vb(169,"div",47),h.Vb(170,"div",9),h.Vb(171,"div",8),h.Vb(172,"div",48),h.Vb(173,"mat-label",49),h.yc(174,"Created By:"),h.Ub(),h.Ub(),h.Vb(175,"div",50),h.Vb(176,"mat-label",49),h.yc(177),h.Ub(),h.Ub(),h.Vb(178,"div",51),h.Vb(179,"mat-label",49),h.yc(180,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(181,"div",52),h.Vb(182,"mat-label",49),h.yc(183),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(184,"div",9),h.Vb(185,"div",8),h.Vb(186,"div",48),h.Vb(187,"mat-label",49),h.yc(188,"Updated By:"),h.Ub(),h.Ub(),h.Vb(189,"div",50),h.Vb(190,"mat-label",49),h.yc(191),h.Ub(),h.Ub(),h.Vb(192,"div",51),h.Vb(193,"mat-label",49),h.yc(194,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(195,"div",52),h.Vb(196,"mat-label",49),h.yc(197),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e){const e=h.qc(51);h.Eb(5),h.kc("disabled",t._btnSaveDisabled),h.Eb(4),h.kc("disabled",t._btnLockisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(4),h.kc("disabled",t._btnUnlockDisabled),h.Eb(8),h.kc("ngIf",t._isProgressBarHidden),h.Eb(2),h.kc("hidden",t._isComponentsShown),h.Eb(7),h.zc(t._payrollModel.PAYNumber),h.Eb(4),h.zc(t._payrollModel.PayrollGroup),h.Eb(4),h.zc(t._payrollModel.Year),h.Eb(6),h.kc("matDatepicker",e)("ngModel",t.UIPAYDate)("readonly",t._isLocked),h.Eb(1),h.kc("for",e)("disabled",t._isLocked),h.Eb(7),h.kc("ngModel",t._payrollModel.QuarterNumber)("readonly",t._isLocked),h.Eb(5),h.kc("ngModel",t._payrollModel.MonthNumber)("readonly",t._isLocked),h.Eb(5),h.kc("ngModel",t._payrollModel.WeekNumber)("readonly",t._isLocked),h.Eb(6),h.kc("ngModel",t._payrollModel.DTRId),h.Eb(1),h.kc("ngForOf",t._dTRListDropdown),h.Eb(5),h.kc("ngModel",t._payrollModel.PIId),h.Eb(1),h.kc("ngForOf",t._payrollOtherIncomeListDropdown),h.Eb(5),h.kc("ngModel",t._payrollModel.PDId),h.Eb(1),h.kc("ngForOf",t._payrollOtherDeductionListDropdown),h.Eb(7),h.kc("ngModel",t._payrollModel.PreparedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._payrollModel.CheckedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(5),h.kc("ngModel",t._payrollModel.ApprovedByUserId),h.Eb(1),h.kc("ngForOf",t._userListDropdown),h.Eb(6),h.kc("ngModel",t._payrollModel.Remarks)("readonly",t._isLocked),h.Eb(4),h.kc("ngIf",t._isPayrollLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listPayrollLineCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("ngIf",!t._isLocked),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width",200),h.Eb(1),h.kc("header","Payroll Rate")("binding","PayrollRate")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Daily Pay")("binding","TotalDailyPay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Premium Pay")("binding","TotalPremiumPay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Holiday Pay")("binding","TotalHolidayPay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Overtime Pay")("binding","TotalOvertimePay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Night Differential Pay")("binding","TotalNightDifferentialPay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Additional Allowance")("binding","TotalAdditionalAllowance")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Undertime Deduction")("binding","TotalUndertimeDeduction")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Income")("binding","Income")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total OtherIncome Not Taxable")("binding","TotalOtherIncomeNotTaxable")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Gross Income")("binding","GrossIncome")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","SSS Contribution")("binding","SSSContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","PHIC Contribution")("binding","PHICContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","HDMF Contribution")("binding","HDMFContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Income TaxAmount")("binding","IncomeTaxAmount")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Other Deduction")("binding","TotalOtherDeduction")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Net Income")("binding","NetIncome")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","SSS Employer Contribution")("binding","SSSEmployerContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","SSS EC")("binding","SSSEC")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","PHIC Employer Contribution")("binding","PHICEmployerContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","HDMF EmployerC ontribution")("binding","HDMFEmployerContribution")("isReadOnly",!0)("width",150),h.Eb(16),h.Bc("",t._listPayrollLineCollectionView.pageIndex+1," / ",t._listPayrollLineCollectionView.pageCount,""),h.Eb(19),h.zc(t._payrollModel.CreatedByUser),h.Eb(6),h.zc(t._payrollModel.CreatedDateTime),h.Eb(8),h.zc(t._payrollModel.UpdatedByUser),h.Eb(6),h.zc(t._payrollModel.UpdatedDateTime)}},directives:[_.a,v.a,w.a,d.c,l.l,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,rc,l.k,fh,ah,cl,Vl,hl,eh,Al,Hl,ft,fr,G.l,ul],styles:[".text_box[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border-radius:5px}"]}),e})(),Cy=(()=>{class e{constructor(e,t,i,n,o,a,r){this.dialogRef=e,this.caseData=t,this._snackBar=i,this._snackBarTemplate=n,this._matDialog=o,this.decimalPipe=a,this.datePipe=r,this.isComponentHidden=!1,this.title="",this._overtimeApplicationLineModel={Id:0,OTId:0,EmployeeId:0,Employee:"",OTDate:this.datePipe.transform(new Date,"yyyy-MM-dd"),OTHours:"00.0",Remarks:""},this.inputTypeOTHours="text",this.UIOTDate=new Date}ngOnInit(){this.title=this.caseData.objDialogTitle,this.loadOvertimeApplicationLineDetail()}loadOvertimeApplicationLineDetail(){this._overtimeApplicationLineModel.OTId=this.caseData.objDataOTId,this._overtimeApplicationLineModel.EmployeeId=this.caseData.objDataEmployeeId,console.log(this._overtimeApplicationLineModel),setTimeout(()=>{this.isComponentHidden=!1},100)}GetUIDATEOTDate(){this._overtimeApplicationLineModel.OTDate=this.datePipe.transform(this.UIOTDate,"yyyy-MM-dd"),console.log(this._overtimeApplicationLineModel.OTDate)}Close(){this.dialogRef.close({event:"Close"})}OTHoursFormatValue(){this.inputTypeOTHours="text",this._overtimeApplicationLineModel.OTHours=this.decimalPipe.transform(""==this._overtimeApplicationLineModel.OTHours?0:this._overtimeApplicationLineModel.OTHours,"1.2-2")}OTHoursToNumberType(){this._overtimeApplicationLineModel.OTHours=this.RemoveComma(this._overtimeApplicationLineModel.OTHours),this.inputTypeOTHours="number"}Save(){return Object(b.a)(this,void 0,void 0,(function*(){0!=this._overtimeApplicationLineModel.EmployeeId?yield this.dialogRef.close({event:"Save",data:this._overtimeApplicationLineModel}):this._snackBarTemplate.snackBarError(this._snackBar,"Choose employee!")}))}RemoveComma(e){return e.toString().replace(/,/g,"")}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.e),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-portal-employee-overtime-application-line-add-dialog"]],decls:36,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body",3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","ngModelChange","dateInput"],["matSuffix","",3,"for"],["color","primary"],["datePickerOTDate",""],["matInput","","placeholder","0.00","autocomplete","off",2,"text-align","right",3,"type","ngModel","ngModelChange","focus","focusout"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Remarks","rows","5",2,"min-height","102px",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){if(1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Rb(5,"br"),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"mat-label"),h.yc(10,"Date"),h.Ub(),h.Vb(11,"input",6),h.dc("ngModelChange",(function(e){return t.UIOTDate=e}))("dateInput",(function(){return t.GetUIDATEOTDate()})),h.Ub(),h.Rb(12,"mat-datepicker-toggle",7),h.Rb(13,"mat-datepicker",8,9),h.Ub(),h.Ub(),h.Vb(15,"div",4),h.Vb(16,"mat-form-field",5),h.Vb(17,"mat-label"),h.yc(18,"OT Hours"),h.Ub(),h.Vb(19,"input",10),h.dc("ngModelChange",(function(e){return t._overtimeApplicationLineModel.OTHours=e}))("focus",(function(){return t.OTHoursToNumberType()}))("focusout",(function(){return t.OTHoursFormatValue()})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(20,"div",3),h.Vb(21,"div",11),h.Vb(22,"mat-form-field",5),h.Vb(23,"mat-label"),h.yc(24,"Remarks"),h.Ub(),h.Vb(25,"textarea",12),h.dc("ngModelChange",(function(e){return t._overtimeApplicationLineModel.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(26,"mat-divider"),h.Vb(27,"div",13),h.Vb(28,"button",14),h.dc("click",(function(){return t.Save()})),h.Vb(29,"mat-icon"),h.yc(30,"save"),h.Ub(),h.yc(31," Save "),h.Ub(),h.Vb(32,"button",15),h.dc("click",(function(){return t.Close()})),h.Vb(33,"mat-icon"),h.yc(34,"close"),h.Ub(),h.yc(35," Cancel "),h.Ub(),h.Ub()),2&e){const e=h.qc(14);h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("hidden",t.isComponentHidden),h.Eb(7),h.kc("matDatepicker",e)("ngModel",t.UIOTDate),h.Eb(1),h.kc("for",e),h.Eb(7),h.lc("type",t.inputTypeOTHours),h.kc("ngModel",t._overtimeApplicationLineModel.OTHours),h.Eb(6),h.kc("ngModel",t._overtimeApplicationLineModel.Remarks)}},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,or,v.a,w.a,tr],styles:[""]}),e})(),Dy=(()=>{class e{constructor(e,t){this.appSettings=e,this.httpClient=t}EmployeeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/detail/",this.appSettings.defaultOptions)}))}CurrentYear(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/current/year",this.appSettings.defaultOptions)}))}YearList(){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/year/dropdown/list",this.appSettings.defaultOptions)}))}OvertimeApplicationList(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/overtime/application/list/"+e+"/"+t,this.appSettings.defaultOptions)}))}OvertimeApplicationDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/overtime/application/detail/"+e,this.appSettings.defaultOptions)}))}OvertimeApplicationLineList(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/overtime/application/line/list/"+e+"/"+t,this.appSettings.defaultOptions)}))}AddOvertimeApplicationLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/portal/employee/overtime/application/line/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}LeaveApplicationList(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return console.log("LA List"),yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/leave/application/list/"+e+"/"+t,this.appSettings.defaultOptions)}))}LeaveApplicationDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/leave/application/detail/"+e,this.appSettings.defaultOptions)}))}LeaveApplicationLineList(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/leave/application/line/list/"+e+"/"+t,this.appSettings.defaultOptions)}))}AddLeaveApplicationLine(e){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.post(this.appSettings.defaultAPIURLHost+"/api/portal/employee/leave/application/line/create",JSON.stringify(e),this.appSettings.defaultOptions)}))}DTRList(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/dtr/list/"+e+"/"+t,this.appSettings.defaultOptions)}))}DTRLineList(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/dtr/line/list/"+e+"/"+t,this.appSettings.defaultOptions)}))}PayrollList(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/payroll/list/"+e+"/"+t,this.appSettings.defaultOptions)}))}PayrollLineList(e,t){return Object(b.a)(this,void 0,void 0,(function*(){return yield this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/payroll/line/list/"+e+"/"+t,this.appSettings.defaultOptions)}))}LoanList(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/loan/list/"+e,this.appSettings.defaultOptions)}))}LoanDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/detail/load/"+e,this.appSettings.defaultOptions)}))}LoanPayments(e){return Object(b.a)(this,void 0,void 0,(function*(){return this.httpClient.get(this.appSettings.defaultAPIURLHost+"/api/portal/employee/loan/payment/"+e,this.appSettings.defaultOptions)}))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(m.a),h.Zb(f.a))},e.\u0275prov=h.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sy=["flexOvertimeApplicationLine"];function xy(e,t){1&e&&h.Rb(0,"mat-progress-bar",17),2&e&&h.kc("color","primary")("mode","indeterminate")}let ky=(()=>{class e{constructor(e,t,i,n,o,a){this._dialogRef=e,this.caseData=t,this._matDialog=i,this._portalEmployeeService=n,this._snackBar=o,this._snackBarTemplate=a,this.title="",this._isComponentHidden=!0,this._btnAddOvertimeApplicationLineDisabled=!1,this._listOvertimeApplicationLineObservableArray=new na,this._listOvertimeApplicationLineCollectionView=new oa(this._listOvertimeApplicationLineObservableArray),this._listOvertimeApplicationLinePageIndex=15,this._isOvertimeApplicationLineProgressBarHidden=!1,this._isOvertimeApplicationLineDataLoaded=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.LoadOvertimeApplication()}LoadOvertimeApplication(){this.overtimeApplication=this.caseData.objDataOTApplication,console.log("OT: ",this.overtimeApplication),setTimeout(()=>{this.GetOvertimeApplicationDetail()},100)}GetOvertimeApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this._isComponentHidden=!0,this._overtimeApplicationDetailSubscription=yield(yield this._portalEmployeeService.OvertimeApplicationDetail(this.caseData.objDataOTApplication.Id)).subscribe(e=>{let t=e;null!=t&&(this.overtimeApplication=t,this._btnAddOvertimeApplicationLineDisabled=t.IsLocked),this.GetOvertimeApplicationLineListData(),this._isComponentHidden=!1,null!==this._overtimeApplicationDetailSubscription&&this._overtimeApplicationDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._overtimeApplicationDetailSubscription&&this._overtimeApplicationDetailSubscription.unsubscribe()})}))}GetOvertimeApplicationLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listOvertimeApplicationLineObservableArray=new na,this._listOvertimeApplicationLineCollectionView=new oa(this._listOvertimeApplicationLineObservableArray),this._listOvertimeApplicationLineCollectionView.pageSize=15,this._listOvertimeApplicationLineCollectionView.trackChanges=!0,yield this._listOvertimeApplicationLineCollectionView.refresh(),yield this.flexOvertimeApplicationLine.refresh(),this._isOvertimeApplicationLineProgressBarHidden=!0,this._overtimeApplicationLineSubscription=yield(yield this._portalEmployeeService.OvertimeApplicationLineList(this.caseData.objDataEmployeeId,this.caseData.objDataOTApplication.Id)).subscribe(e=>{e.length>0&&(this._listOvertimeApplicationLineObservableArray=e,this._listOvertimeApplicationLineCollectionView=new oa(this._listOvertimeApplicationLineObservableArray),this._listOvertimeApplicationLineCollectionView.pageSize=15,this._listOvertimeApplicationLineCollectionView.trackChanges=!0,this._listOvertimeApplicationLineCollectionView.refresh(),this.flexOvertimeApplicationLine.refresh()),this._isOvertimeApplicationLineDataLoaded=!0,this._isOvertimeApplicationLineProgressBarHidden=!1,this._isComponentHidden=!1,null!==this._overtimeApplicationLineSubscription&&this._overtimeApplicationLineSubscription.unsubscribe()},e=>{this._isOvertimeApplicationLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._overtimeApplicationLineSubscription&&this._overtimeApplicationLineSubscription.unsubscribe()})}))}Close(){this._dialogRef.close({event:"Close"})}Save(){return Object(b.a)(this,void 0,void 0,(function*(){}))}AddOvertimeApplicationLine(){return Object(b.a)(this,void 0,void 0,(function*(){this._matDialog.open(Cy,{width:"600px",data:{objDialogTitle:"Overtime Application",objDataOTId:this.overtimeApplication.Id,objDataEmployeeId:this.caseData.objDataEmployeeId},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.AddOvertimeApplicationDetail(e.data)})}))}AddOvertimeApplicationDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){1==this._isOvertimeApplicationLineDataLoaded&&(this._isOvertimeApplicationLineDataLoaded=!1,this._addOvertimeApplicationDetailSubscription=(yield this._portalEmployeeService.AddOvertimeApplicationLine(e)).subscribe(e=>{this.GetOvertimeApplicationLineListData(),this._isOvertimeApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._addOvertimeApplicationDetailSubscription&&this._addOvertimeApplicationDetailSubscription.unsubscribe()},e=>{this._isOvertimeApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._addOvertimeApplicationDetailSubscription&&this._addOvertimeApplicationDetailSubscription.unsubscribe()}))}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(Xa),h.Qb(Dy),h.Qb(lr.a),h.Qb(cr))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-portal-employee-overtime-application-dialog"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Sy,!0),2&e&&h.pc(i=h.ec())&&(t.flexOvertimeApplicationLine=i.first)},decls:46,vars:21,consts:[["mat-dialog-title",""],[1,"spacer"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"],["mat-raised-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],["mat-dialog-content",""],[3,"hidden"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","headersVisibility"],["flexOvertimeApplicationLine",""],[3,"header","binding","isReadOnly","width"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","35",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"color","mode"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.Vb(1,"mat-toolbar"),h.Vb(2,"span"),h.yc(3),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddOvertimeApplicationLine()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," ADD "),h.Ub(),h.Vb(9,"button",3),h.dc("click",(function(){return t.Close()})),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Ub(),h.Rb(13,"mat-divider"),h.Vb(14,"div",4),h.Vb(15,"div",5),h.xc(16,xy,1,2,"mat-progress-bar",6),h.Vb(17,"wj-flex-grid",7,8),h.Rb(19,"wj-flex-grid-filter"),h.Rb(20,"wj-flex-grid-column",9),h.Rb(21,"wj-flex-grid-column",9),h.Rb(22,"wj-flex-grid-column",9),h.Ub(),h.Vb(23,"div",10),h.Vb(24,"div",11),h.Vb(25,"div",10),h.Vb(26,"mat-button-toggle-group",12),h.Vb(27,"mat-button-toggle",13),h.dc("click",(function(){return t._listOvertimeApplicationLineCollectionView.moveToFirstPage()})),h.Vb(28,"mat-icon",14),h.yc(29,"navigate_before"),h.Ub(),h.Vb(30,"mat-icon"),h.yc(31,"navigate_before"),h.Ub(),h.Ub(),h.Vb(32,"mat-button-toggle",13),h.dc("click",(function(){return t._listOvertimeApplicationLineCollectionView.moveToPreviousPage()})),h.Vb(33,"mat-icon"),h.yc(34,"navigate_before"),h.Ub(),h.Ub(),h.Vb(35,"mat-button-toggle",15),h.yc(36),h.Ub(),h.Vb(37,"mat-button-toggle",13),h.dc("click",(function(){return t._listOvertimeApplicationLineCollectionView.moveToNextPage()})),h.Vb(38,"mat-icon"),h.yc(39,"navigate_next"),h.Ub(),h.Ub(),h.Vb(40,"mat-button-toggle",13),h.dc("click",(function(){return t._listOvertimeApplicationLineCollectionView.moveToLastPage()})),h.Vb(41,"mat-icon",14),h.yc(42,"navigate_next"),h.Ub(),h.Vb(43,"mat-icon"),h.yc(44,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(45,"div",16),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(3),h.zc(t.title),h.Eb(2),h.kc("disabled",t._btnAddOvertimeApplicationLineDisabled),h.Eb(10),h.kc("hidden",t._isComponentHidden),h.Eb(1),h.kc("ngIf",t._isOvertimeApplicationLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listOvertimeApplicationLineCollectionView)("selectionMode",3)("headersVisibility",1),h.Eb(3),h.kc("header","Date")("binding","OTDate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","OT Hours")("binding","OTHours")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","3*"),h.Eb(14),h.Bc(" ",t._listOvertimeApplicationLineCollectionView.pageIndex+1," / ",t._listOvertimeApplicationLineCollectionView.pageCount,""))},directives:[ir,_.a,v.a,w.a,tr,ft,nr,l.l,cl,Vl,hl,li.b,li.a,Al,Hl,fr],styles:[""]}),e})(),Ly=(()=>{class e{constructor(e,t,i,n,o,a,r){this.dialogRef=e,this._portalEmployeeService=t,this.caseData=i,this._snackBar=n,this._snackBarTemplate=o,this._matDialog=a,this.datePipe=r,this._leaveApplicationLine={Id:0,LAId:0,EmployeeId:0,Employee:"",LADate:this.datePipe.transform(new Date,"yyyy-MM-dd"),IsHalfDay:!1,IsWithPay:!1,Remarks:""},this.UILADate=new Date,this.title="",this.isComponentHidden=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this._leaveApplicationLine.LAId=this.caseData.objDataLAId,this._leaveApplicationLine.EmployeeId=this.caseData.objDataEmployeeId,this.loadLeaveApplicationLineDetail()}loadLeaveApplicationLineDetail(){console.log(this._leaveApplicationLine),setTimeout(()=>{this.isComponentHidden=!1},100)}Close(){this.dialogRef.close({event:"Close"})}GetUIDATELADate(){this._leaveApplicationLine.LADate=this.datePipe.transform(this.UILADate,"yyyy-MM-dd"),console.log(this._leaveApplicationLine.LADate)}Save(){return Object(b.a)(this,void 0,void 0,(function*(){yield this.dialogRef.close({event:this.title,data:this._leaveApplicationLine})}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Dy),h.Qb(Ka),h.Qb(lr.a),h.Qb(cr),h.Qb(Xa),h.Qb(l.d))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-portal-employee-leave-application-line-add-dialog"]],decls:41,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","70%"],[1,"dialog-body",3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","50",2,"padding","5px"],["appearance","outline",2,"width","100%"],["matInput","",3,"matDatepicker","ngModel","ngModelChange","dateInput"],["matSuffix","",3,"for"],["color","primary"],["datePickerLADate",""],["fxFlex","25",2,"padding","23px","text-align","start","display","inline"],[2,"width","100%","border","gray 1px !important"],["color","primary",3,"ngModel","ngModelChange"],[2,"color","gray"],["fxFlex","100",2,"padding","5px"],["matInput","","placeholder","Remarks","rows","5",2,"min-height","102px",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","right"],["mat-flat-button","","color","primary","align-self","right",2,"margin-right","5px",3,"click"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"]],template:function(e,t){if(1&e&&(h.Vb(0,"h3",0),h.yc(1),h.Ub(),h.Rb(2,"mat-divider"),h.Vb(3,"div",1),h.Vb(4,"div",2),h.Rb(5,"br"),h.Vb(6,"div",3),h.Vb(7,"div",4),h.Vb(8,"mat-form-field",5),h.Vb(9,"mat-label"),h.yc(10,"Date"),h.Ub(),h.Vb(11,"input",6),h.dc("ngModelChange",(function(e){return t.UILADate=e}))("dateInput",(function(){return t.GetUIDATELADate()})),h.Ub(),h.Rb(12,"mat-datepicker-toggle",7),h.Rb(13,"mat-datepicker",8,9),h.Ub(),h.Ub(),h.Vb(15,"div",10),h.Vb(16,"div",11),h.Vb(17,"mat-checkbox",12),h.dc("ngModelChange",(function(e){return t._leaveApplicationLine.IsHalfDay=e})),h.Vb(18,"span",13),h.yc(19," Half Day"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(20,"div",10),h.Vb(21,"div",11),h.Vb(22,"mat-checkbox",12),h.dc("ngModelChange",(function(e){return t._leaveApplicationLine.IsWithPay=e})),h.Vb(23,"span",13),h.yc(24," With Pay"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(25,"div",3),h.Vb(26,"div",14),h.Vb(27,"mat-form-field",5),h.Vb(28,"mat-label"),h.yc(29,"Remarks"),h.Ub(),h.Vb(30,"textarea",15),h.dc("ngModelChange",(function(e){return t._leaveApplicationLine.Remarks=e})),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(31,"mat-divider"),h.Vb(32,"div",16),h.Vb(33,"button",17),h.dc("click",(function(){return t.Save()})),h.Vb(34,"mat-icon"),h.yc(35,"save"),h.Ub(),h.yc(36," Save "),h.Ub(),h.Vb(37,"button",18),h.dc("click",(function(){return t.Close()})),h.Vb(38,"mat-icon"),h.yc(39,"close"),h.Ub(),h.yc(40," Cancel "),h.Ub(),h.Ub()),2&e){const e=h.qc(14);h.Eb(1),h.Ac(" ",t.title,"\n"),h.Eb(3),h.kc("hidden",t.isComponentHidden),h.Eb(7),h.kc("matDatepicker",e)("ngModel",t.UILADate),h.Eb(1),h.kc("for",e),h.Eb(5),h.kc("ngModel",t._leaveApplicationLine.IsHalfDay),h.Eb(5),h.kc("ngModel",t._leaveApplicationLine.IsWithPay),h.Eb(8),h.kc("ngModel",t._leaveApplicationLine.Remarks)}},directives:[ir,ft,nr,li.b,li.a,_r.c,_r.g,vr.b,xd,c.d,c.o,c.r,Ld,_r.h,_d,Ih,or,v.a,w.a,tr],styles:[""]}),e})();const Vy=["flexLeaveApplicationLine"];function Oy(e,t){1&e&&h.Rb(0,"mat-progress-bar",17),2&e&&h.kc("color","primary")("mode","indeterminate")}let Uy=(()=>{class e{constructor(e,t,i,n,o,a){this._dialogRef=e,this.caseData=t,this._matDialog=i,this._portalEmployeeService=n,this._snackBar=o,this._snackBarTemplate=a,this.title="",this._isComponentHidden=!0,this._btnAddLeaveApplicationLineDisabled=!1,this._listLeaveApplicationLineObservableArray=new na,this._listLeaveApplicationLineCollectionView=new oa(this._listLeaveApplicationLineObservableArray),this._listLeaveApplicationLinePageIndex=15,this._isLeaveApplicationLineProgressBarHidden=!1,this._isLeaveApplicationLineDataLoaded=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.LoadLeaveApplication()}LoadLeaveApplication(){this.leaveApplication=this.caseData.objDataLAApplication,console.log("LA: ",this.leaveApplication),setTimeout(()=>{this.GetLeaveApplicationDetail()},100)}GetLeaveApplicationDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this._isComponentHidden=!0,this._leaveApplicationDetailSubscription=yield(yield this._portalEmployeeService.LeaveApplicationDetail(this.caseData.objDataLAApplication.Id)).subscribe(e=>{let t=e;null!=t&&(this.leaveApplication=t,console.log(this.leaveApplication),this._btnAddLeaveApplicationLineDisabled=t.IsLocked),this.GetLeaveApplicationLineListData(),this._isComponentHidden=!1,null!==this._leaveApplicationDetailSubscription&&this._leaveApplicationDetailSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._leaveApplicationDetailSubscription&&this._leaveApplicationDetailSubscription.unsubscribe()})}))}GetLeaveApplicationLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listLeaveApplicationLineObservableArray=new na,this._listLeaveApplicationLineCollectionView=new oa(this._listLeaveApplicationLineObservableArray),this._listLeaveApplicationLineCollectionView.pageSize=15,this._listLeaveApplicationLineCollectionView.trackChanges=!0,yield this._listLeaveApplicationLineCollectionView.refresh(),yield this.flexLeaveApplicationLine.refresh(),this._isLeaveApplicationLineProgressBarHidden=!0,console.log(this.caseData.objDataEmployeeId," ",this.leaveApplication.Id),this._leaveApplicationLineSubscription=yield(yield this._portalEmployeeService.LeaveApplicationLineList(this.caseData.objDataEmployeeId,this.leaveApplication.Id)).subscribe(e=>{e.length>0&&(this._listLeaveApplicationLineObservableArray=e,this._listLeaveApplicationLineCollectionView=new oa(this._listLeaveApplicationLineObservableArray),this._listLeaveApplicationLineCollectionView.pageSize=15,this._listLeaveApplicationLineCollectionView.trackChanges=!0,this._listLeaveApplicationLineCollectionView.refresh(),this.flexLeaveApplicationLine.refresh()),this._isLeaveApplicationLineDataLoaded=!0,this._isLeaveApplicationLineProgressBarHidden=!1,this._isComponentHidden=!1,null!==this._leaveApplicationLineSubscription&&this._leaveApplicationLineSubscription.unsubscribe()},e=>{this._isLeaveApplicationLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._leaveApplicationLineSubscription&&this._leaveApplicationLineSubscription.unsubscribe()})}))}Close(){this._dialogRef.close({event:"Close"})}Save(){return Object(b.a)(this,void 0,void 0,(function*(){}))}AddLeaveApplicationLine(){return Object(b.a)(this,void 0,void 0,(function*(){this._matDialog.open(Ly,{width:"600px",data:{objDialogTitle:"Overtime Application",objDataLAId:this.leaveApplication.Id,objDataEmployeeId:this.caseData.objDataEmployeeId},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.AddLeaveApplicationDetail(e.data)})}))}AddLeaveApplicationDetail(e){return Object(b.a)(this,void 0,void 0,(function*(){1==this._isLeaveApplicationLineDataLoaded&&(this._isLeaveApplicationLineDataLoaded=!1,this._addLeaveApplicationDetailSubscription=(yield this._portalEmployeeService.AddLeaveApplicationLine(e)).subscribe(e=>{this.GetLeaveApplicationLineListData(),this._isLeaveApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarSuccess(this._snackBar,"Save Successfully."),null!==this._addLeaveApplicationDetailSubscription&&this._addLeaveApplicationDetailSubscription.unsubscribe()},e=>{this._isLeaveApplicationLineDataLoaded=!0,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._addLeaveApplicationDetailSubscription&&this._addLeaveApplicationDetailSubscription.unsubscribe()}))}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(Xa),h.Qb(Dy),h.Qb(lr.a),h.Qb(cr))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-portal-employee-leave-application-dialog"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Vy,!0),2&e&&h.pc(i=h.ec())&&(t.flexLeaveApplicationLine=i.first)},decls:47,vars:25,consts:[["mat-dialog-title",""],[1,"spacer"],["mat-raised-button","","color","primary",2,"float","right","margin","5px",3,"disabled","click"],["mat-raised-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],["mat-dialog-content",""],[3,"hidden"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","headersVisibility"],["flexLeaveApplicationLine",""],[3,"header","binding","isReadOnly","width"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","35",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"color","mode"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.Vb(1,"mat-toolbar"),h.Vb(2,"span"),h.yc(3),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.AddLeaveApplicationLine()})),h.Vb(6,"mat-icon"),h.yc(7,"add"),h.Ub(),h.yc(8," ADD "),h.Ub(),h.Vb(9,"button",3),h.dc("click",(function(){return t.Close()})),h.Vb(10,"mat-icon"),h.yc(11,"close"),h.Ub(),h.yc(12," Close "),h.Ub(),h.Ub(),h.Ub(),h.Rb(13,"mat-divider"),h.Vb(14,"div",4),h.Vb(15,"div",5),h.xc(16,Oy,1,2,"mat-progress-bar",6),h.Vb(17,"wj-flex-grid",7,8),h.Rb(19,"wj-flex-grid-filter"),h.Rb(20,"wj-flex-grid-column",9),h.Rb(21,"wj-flex-grid-column",9),h.Rb(22,"wj-flex-grid-column",9),h.Rb(23,"wj-flex-grid-column",9),h.Ub(),h.Vb(24,"div",10),h.Vb(25,"div",11),h.Vb(26,"div",10),h.Vb(27,"mat-button-toggle-group",12),h.Vb(28,"mat-button-toggle",13),h.dc("click",(function(){return t._listLeaveApplicationLineCollectionView.moveToFirstPage()})),h.Vb(29,"mat-icon",14),h.yc(30,"navigate_before"),h.Ub(),h.Vb(31,"mat-icon"),h.yc(32,"navigate_before"),h.Ub(),h.Ub(),h.Vb(33,"mat-button-toggle",13),h.dc("click",(function(){return t._listLeaveApplicationLineCollectionView.moveToPreviousPage()})),h.Vb(34,"mat-icon"),h.yc(35,"navigate_before"),h.Ub(),h.Ub(),h.Vb(36,"mat-button-toggle",15),h.yc(37),h.Ub(),h.Vb(38,"mat-button-toggle",13),h.dc("click",(function(){return t._listLeaveApplicationLineCollectionView.moveToNextPage()})),h.Vb(39,"mat-icon"),h.yc(40,"navigate_next"),h.Ub(),h.Ub(),h.Vb(41,"mat-button-toggle",13),h.dc("click",(function(){return t._listLeaveApplicationLineCollectionView.moveToLastPage()})),h.Vb(42,"mat-icon",14),h.yc(43,"navigate_next"),h.Ub(),h.Vb(44,"mat-icon"),h.yc(45,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(46,"div",16),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(3),h.zc(t.title),h.Eb(2),h.kc("disabled",t._btnAddLeaveApplicationLineDisabled),h.Eb(10),h.kc("hidden",t._isComponentHidden),h.Eb(1),h.kc("ngIf",t._isLeaveApplicationLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listLeaveApplicationLineCollectionView)("selectionMode",3)("headersVisibility",1),h.Eb(3),h.kc("header","Date")("binding","LADate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Is Half Day")("binding","IsHalfDay")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Is With Pay")("binding","IsWithPay")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","3*"),h.Eb(14),h.Bc(" ",t._listLeaveApplicationLineCollectionView.pageIndex+1," / ",t._listLeaveApplicationLineCollectionView.pageCount,""))},directives:[ir,_.a,v.a,w.a,tr,ft,nr,l.l,cl,Vl,hl,li.b,li.a,Al,Hl,fr],styles:[""]}),e})();const Ey=["flexLoanPayment"];function My(e,t){1&e&&h.Rb(0,"mat-progress-bar",34),2&e&&h.kc("color","primary")("mode","indeterminate")}function Py(e,t){1&e&&h.Rb(0,"mat-progress-bar",35),2&e&&h.kc("color","primary")("mode","indeterminate")}let Ry=(()=>{class e{constructor(e,t,i,n,o,a,r){this.snackBar=e,this.snackBarTemplate=t,this._portalEmployeeService=i,this._loanDetailDialogRef=n,this.caseData=o,this.decimalPipe=a,this._matDialog=r,this.title="",this.event="Close",this.inputTypeAmortiztion="text",this.inputTypeLoanAmount="text",this.inputTypePaidAmount="text",this.inputTypeBalanceAmount="text",this._loanModel={Id:0,LNNumber:"",LDDate:new Date,EmployeeId:0,Employee:"",OtherDeductionId:0,OtherDeduction:"",DocRef:"",Amortization:"",Remarks:"",LoanAmount:"",PaidAmount:"",BalanceAmount:"",Status:"",PreparedByUserId:0,CheckedByUserId:0,ApprovedByUserId:0,CreatedByUserId:0,CreatedByUser:"",CreatedDateTime:"",UpdatedByUserId:0,UpdatedByUser:"",UpdatedDateTime:"",IsLocked:!1},this.isLDDateDataLoaded=!1,this._isLocked=!1,this.isComponentsShown=!1,this.isProgressBarHidden=!1,this._listLoanPaymentObservableArray=new na,this._listLoanPaymentCollectionView=new oa(this._listLoanPaymentObservableArray),this._listPageIndex=15,this._isLoanPaymentProgressBarHidden=!1,this._isLoanPaymentDataLoaded=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.GetLoanDetail()}GetLoanDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this.isComponentsShown=!1,this.isProgressBarHidden=!0,this._LoanDetailSubscription=yield(yield this._portalEmployeeService.LoanDetail(this.caseData.objLoanId)).subscribe(e=>{let t=e;console.log(t),null!=t&&(this._loanModel.Id=t.Id,this._loanModel.LNNumber=t.LNNumber,this._loanModel.LDDate=t.LDDate,this._loanModel.EmployeeId=t.EmployeeId,this._loanModel.Employee=t.Employee,this._loanModel.OtherDeductionId=t.OtherDeductionId,this._loanModel.OtherDeduction=t.OtherDeduction,this._loanModel.DocRef=t.DocRef,this._loanModel.Amortization=this.decimalPipe.transform(t.Amortization,"1.2-2"),this._loanModel.LoanAmount=this.decimalPipe.transform(t.LoanAmount,"1.2-2"),this._loanModel.PaidAmount=this.decimalPipe.transform(t.PaidAmount,"1.2-2"),this._loanModel.BalanceAmount=this.decimalPipe.transform(t.BalanceAmount,"1.2-2"),this._loanModel.Remarks=t.Remarks,this._loanModel.Status=t.Status,this._loanModel.PreparedByUser=t.PreparedByUser,this._loanModel.CheckedByUser=t.CheckedByUser,this._loanModel.ApprovedByUser=t.ApprovedByUser,this._loanModel.CreatedByUser=t.CreatedByUser,this._loanModel.CreatedDateTime=t.CreatedDateTime,this._loanModel.UpdatedByUser=t.UpdatedByUser,this._loanModel.UpdatedDateTime=t.UpdatedDateTime,this._loanModel.IsLocked=t.IsLocked,this.GetLoanPaymentListData(t.Id)),this.isProgressBarHidden=!1,null!==this._LoanDetailSubscription&&this._LoanDetailSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+" "+e.status),null!==this._LoanDetailSubscription&&this._LoanDetailSubscription.unsubscribe()})}))}GetLoanPaymentListData(e){return Object(b.a)(this,void 0,void 0,(function*(){this._listLoanPaymentObservableArray=new na,this._listLoanPaymentCollectionView=new oa(this._listLoanPaymentObservableArray),this._listLoanPaymentCollectionView.pageSize=15,this._listLoanPaymentCollectionView.trackChanges=!0,yield this._listLoanPaymentCollectionView.refresh(),yield this._flexLoanPayment.refresh(),this._isLoanPaymentProgressBarHidden=!0,this._loanPaymentCListSubscription=(yield this._portalEmployeeService.LoanPayments(e)).subscribe(e=>{e.length>0&&(this._listLoanPaymentObservableArray=e,this._listLoanPaymentCollectionView=new oa(this._listLoanPaymentObservableArray),this._listLoanPaymentCollectionView.pageSize=15,this._listLoanPaymentCollectionView.trackChanges=!0,this._listLoanPaymentCollectionView.refresh(),this._flexLoanPayment.refresh()),this._isLoanPaymentDataLoaded=!0,this._isLoanPaymentProgressBarHidden=!1,this.isComponentsShown=!0,null!=this._loanPaymentCListSubscription&&this._loanPaymentCListSubscription.unsubscribe()},e=>{this.snackBarTemplate.snackBarError(this.snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._loanPaymentCListSubscription&&this._loanPaymentCListSubscription.unsubscribe()})}))}Close(){this._loanDetailDialogRef.close({event:this.event})}RemoveComma(e){return e.toString().replace(/,/g,"")}FormatValueAmortization(){this.inputTypeAmortiztion="text",this._loanModel.Amortization=this.decimalPipe.transform(""==this._loanModel.Amortization?0:this._loanModel.Amortization,"1.2-2")}AmortiztionToNumberType(){this._loanModel.Amortization=this.RemoveComma(this._loanModel.Amortization),this.inputTypeAmortiztion="number"}FormatValueLoanAmount(){this.inputTypeLoanAmount="text",this._loanModel.LoanAmount=this.decimalPipe.transform(""==this._loanModel.LoanAmount?0:this._loanModel.LoanAmount,"1.2-2")}LoanAmountToNumberType(){this._loanModel.LoanAmount=this.RemoveComma(this._loanModel.LoanAmount),this.inputTypeLoanAmount="number"}activeTab(){}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(lr.a),h.Qb(cr),h.Qb(Dy),h.Qb(Wa),h.Qb(Ka),h.Qb(l.e),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-portal-employee-loan-dialog"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Ey,!0),2&e&&h.pc(i=h.ec())&&(t._flexLoanPayment=i.first)},decls:157,vars:37,consts:[["src","../../../../assets/menu-icons/other income.png","height","35"],[1,"spacer"],["mat-raised-button","","color","warn",2,"margin","5px",3,"click"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","40",2,"padding","5px"],["fxFlex","30",2,"padding","5px"],[1,"text_box"],["fxFlex","70",2,"padding","5px"],[3,"vertical"],["fxFlex","60",2,"padding","5px"],["fxFlex","20",2,"padding","5px"],["fxFlex","100",2,"padding","5px"],[2,"max-height","100%",3,"selectedTabChange"],["tabGroup",""],["label","Payments"],[2,"height","10em"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexLoanPayment",""],[3,"header","binding","isReadOnly","width"],["label","Remarks"],["fxFlex","10",2,"padding","5px"],["fxFlex","80",2,"padding","5px"],["fxLayout","row","fxLayout.xs","column",2,"color","gray"],["fxFlex","50",2,"padding","5px"],["fxFlex","13"],[1,"text-create-update"],["fxFlex","37"],["fxFlex","20"],["fxFlex","30"],["fxFlex","50"],[2,"width","100%",3,"color","mode"],[3,"color","mode"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.yc(2,"\xa0\xa0 "),h.Vb(3,"span"),h.yc(4),h.Ub(),h.Rb(5,"span",1),h.Vb(6,"button",2),h.dc("click",(function(){return t.Close()})),h.Vb(7,"mat-icon"),h.yc(8,"close"),h.Ub(),h.yc(9,"Close "),h.Ub(),h.Ub(),h.xc(10,My,1,2,"mat-progress-bar",3),h.Vb(11,"div",4),h.Vb(12,"div",5),h.Vb(13,"div",6),h.Vb(14,"div",7),h.Vb(15,"div",6),h.Vb(16,"div",8),h.Vb(17,"p",9),h.yc(18,"Loan No.: "),h.Ub(),h.Ub(),h.Vb(19,"div",10),h.Vb(20,"p",9),h.Vb(21,"b"),h.yc(22),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(23,"div",6),h.Vb(24,"div",8),h.Vb(25,"p",9),h.yc(26,"Date:"),h.Ub(),h.Ub(),h.Vb(27,"div",10),h.Vb(28,"p",9),h.Vb(29,"b"),h.yc(30),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(31,"div",6),h.Vb(32,"div",8),h.Vb(33,"p",9),h.yc(34,"Other Deduction:"),h.Ub(),h.Ub(),h.Vb(35,"div",10),h.Vb(36,"p",9),h.Vb(37,"b"),h.yc(38),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(39,"div",6),h.Vb(40,"div",8),h.Vb(41,"p",9),h.yc(42,"DocRef:"),h.Ub(),h.Ub(),h.Vb(43,"div",10),h.Vb(44,"p",9),h.Vb(45,"b"),h.yc(46),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(47,"mat-divider",11),h.Vb(48,"div",12),h.Vb(49,"div",6),h.Vb(50,"div",13),h.Vb(51,"p",9),h.yc(52,"Amortization:"),h.Ub(),h.Ub(),h.Vb(53,"div",8),h.Vb(54,"p",9),h.Vb(55,"b"),h.yc(56),h.Ub(),h.Ub(),h.Ub(),h.Vb(57,"div",13),h.Vb(58,"p",9),h.yc(59,"Loan Amount:"),h.Ub(),h.Ub(),h.Vb(60,"div",8),h.Vb(61,"p",9),h.Vb(62,"b"),h.yc(63),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(64,"div",6),h.Vb(65,"div",13),h.Vb(66,"p",9),h.yc(67,"PaidAmount: "),h.Ub(),h.Ub(),h.Vb(68,"div",8),h.Vb(69,"p",9),h.Vb(70,"b"),h.yc(71),h.Ub(),h.Ub(),h.Ub(),h.Vb(72,"div",13),h.Vb(73,"p",9),h.yc(74,"Balance Amount:"),h.Ub(),h.Ub(),h.Vb(75,"div",8),h.Vb(76,"p",9),h.Vb(77,"b"),h.yc(78),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(79,"div",6),h.Vb(80,"div",13),h.Vb(81,"p",9),h.yc(82,"Prepared By:"),h.Ub(),h.Ub(),h.Vb(83,"div",8),h.Vb(84,"p",9),h.Vb(85,"b"),h.yc(86),h.Ub(),h.Ub(),h.Ub(),h.Vb(87,"div",13),h.Vb(88,"p",9),h.yc(89,"Checked By:"),h.Ub(),h.Ub(),h.Vb(90,"div",8),h.Vb(91,"p",9),h.Vb(92,"b"),h.yc(93),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(94,"div",6),h.Vb(95,"div",13),h.Vb(96,"p",9),h.yc(97,"Approved By:"),h.Ub(),h.Ub(),h.Vb(98,"div",8),h.Vb(99,"p",9),h.Vb(100,"b"),h.yc(101),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(102,"div",6),h.Vb(103,"div",14),h.Vb(104,"mat-tab-group",15,16),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(106,"mat-tab",17),h.Rb(107,"br"),h.Vb(108,"div",18),h.xc(109,Py,1,2,"mat-progress-bar",19),h.Vb(110,"wj-flex-grid",20,21),h.Rb(112,"wj-flex-grid-filter"),h.Rb(113,"wj-flex-grid-column",22),h.Rb(114,"wj-flex-grid-column",22),h.Rb(115,"wj-flex-grid-column",22),h.Ub(),h.Ub(),h.Ub(),h.Vb(116,"mat-tab",23),h.Rb(117,"br"),h.Vb(118,"div",18),h.Vb(119,"div",6),h.Vb(120,"div",24),h.Vb(121,"p",9),h.yc(122,"Remarks:"),h.Ub(),h.Ub(),h.Vb(123,"div",25),h.Vb(124,"p",9),h.Vb(125,"b"),h.yc(126),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(127,"mat-divider"),h.Vb(128,"div",26),h.Vb(129,"div",27),h.Vb(130,"div",6),h.Vb(131,"div",28),h.Vb(132,"mat-label",29),h.yc(133,"Created By:"),h.Ub(),h.Ub(),h.Vb(134,"div",30),h.Vb(135,"mat-label",29),h.yc(136),h.Ub(),h.Ub(),h.Vb(137,"div",31),h.Vb(138,"mat-label",29),h.yc(139,"Created DateTime:"),h.Ub(),h.Ub(),h.Vb(140,"div",32),h.Vb(141,"mat-label",29),h.yc(142),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(143,"div",33),h.Vb(144,"div",6),h.Vb(145,"div",28),h.Vb(146,"mat-label",29),h.yc(147,"Updated By:"),h.Ub(),h.Ub(),h.Vb(148,"div",30),h.Vb(149,"mat-label",29),h.yc(150),h.Ub(),h.Ub(),h.Vb(151,"div",31),h.Vb(152,"mat-label",29),h.yc(153,"Updated DateTime:"),h.Ub(),h.Ub(),h.Vb(154,"div",32),h.Vb(155,"mat-label",29),h.yc(156),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(4),h.zc(t.title),h.Eb(6),h.kc("ngIf",t.isProgressBarHidden),h.Eb(2),h.kc("hidden",!t.isComponentsShown),h.Eb(10),h.zc(t._loanModel.LNNumber),h.Eb(8),h.zc(t._loanModel.LDDate),h.Eb(8),h.zc(t._loanModel.OtherDeduction),h.Eb(8),h.zc(t._loanModel.DocRef),h.Eb(1),h.kc("vertical",!0),h.Eb(9),h.zc(t._loanModel.Amortization),h.Eb(7),h.zc(t._loanModel.LoanAmount),h.Eb(8),h.zc(t._loanModel.PaidAmount),h.Eb(7),h.zc(t._loanModel.BalanceAmount),h.Eb(8),h.zc(t._loanModel.PreparedByUser),h.Eb(7),h.zc(t._loanModel.CheckedByUser),h.Eb(8),h.zc(t._loanModel.ApprovedByUser),h.Eb(8),h.kc("ngIf",t._isLoanPaymentProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listLoanPaymentCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("header","Payroll No.")("binding","PAYNumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Payroll Other Deduction No.")("binding","PDNumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Amount")("binding","Amount")("isReadOnly",!0)("width","2*"),h.Eb(11),h.zc(t._loanModel.Remarks),h.Eb(10),h.zc(t._loanModel.CreatedByUser),h.Eb(6),h.zc(t._loanModel.CreatedDateTime),h.Eb(8),h.zc(t._loanModel.UpdatedByUser),h.Eb(6),h.zc(t._loanModel.UpdatedDateTime))},directives:[_.a,v.a,w.a,l.l,li.b,li.a,ft,fh,ah,cl,Vl,hl,_r.g,fr],styles:[""]}),e})();const Iy=["flexDTRLine"];function Ty(e,t){1&e&&h.Rb(0,"mat-progress-bar",16),2&e&&h.kc("color","primary")("mode","indeterminate")}let Ay=(()=>{class e{constructor(e,t,i,n,o,a){this._dialogRef=e,this.caseData=t,this._matDialog=i,this._portalEmployeeService=n,this._snackBar=o,this._snackBarTemplate=a,this.title="",this._isComponentHidden=!0,this._btnAddDTRLineDisabled=!1,this._listDTRLineObservableArray=new na,this._listDTRLineCollectionView=new oa(this._listDTRLineObservableArray),this._listDTRLinePageIndex=15,this._isDTRLineProgressBarHidden=!1,this._isDTRLineDataLoaded=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.GetDTRLineListData()}GetDTRLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listDTRLineObservableArray=new na,this._listDTRLineCollectionView=new oa(this._listDTRLineObservableArray),this._listDTRLineCollectionView.pageSize=10,this._listDTRLineCollectionView.trackChanges=!0,yield this._listDTRLineCollectionView.refresh(),yield this.flexDTRLine.refresh(),this._isDTRLineProgressBarHidden=!0,console.log("DTR Id: ",this.caseData.objDataDTR.Id),this._DTRLineSubscription=yield(yield this._portalEmployeeService.DTRLineList(this.caseData.objDataEmployeeId,this.caseData.objDataDTR.Id)).subscribe(e=>{e.length>0&&(this._listDTRLineObservableArray=e,this._listDTRLineCollectionView=new oa(this._listDTRLineObservableArray),this._listDTRLineCollectionView.pageSize=10,this._listDTRLineCollectionView.trackChanges=!0,this._listDTRLineCollectionView.refresh(),this.flexDTRLine.refresh()),this._isDTRLineDataLoaded=!0,this._isDTRLineProgressBarHidden=!1,this._isComponentHidden=!1,null!==this._DTRLineSubscription&&this._DTRLineSubscription.unsubscribe()},e=>{this._isDTRLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._DTRLineSubscription&&this._DTRLineSubscription.unsubscribe()})}))}Close(){this._dialogRef.close({event:"Close"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(Xa),h.Qb(Dy),h.Qb(lr.a),h.Qb(cr))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-portal-employee-dtr-dialog"]],viewQuery:function(e,t){var i;1&e&&h.Ec(Iy,!0),2&e&&h.pc(i=h.ec())&&(t.flexDTRLine=i.first)},decls:72,vars:140,consts:[["mat-dialog-title",""],[1,"spacer"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],["mat-dialog-content",""],[3,"hidden"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","headersVisibility"],["flexDTRLine",""],[3,"header","binding","isReadOnly","width"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","35",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"color","mode"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.Vb(1,"mat-toolbar"),h.Vb(2,"span"),h.yc(3),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.Close()})),h.Vb(6,"mat-icon"),h.yc(7,"close"),h.Ub(),h.yc(8," Close "),h.Ub(),h.Ub(),h.Ub(),h.Rb(9,"mat-divider"),h.Vb(10,"div",3),h.Vb(11,"div",4),h.xc(12,Ty,1,2,"mat-progress-bar",5),h.Vb(13,"wj-flex-grid",6,7),h.Rb(15,"wj-flex-grid-filter"),h.Rb(16,"wj-flex-grid-column",8),h.Rb(17,"wj-flex-grid-column",8),h.Rb(18,"wj-flex-grid-column",8),h.Rb(19,"wj-flex-grid-column",8),h.Rb(20,"wj-flex-grid-column",8),h.Rb(21,"wj-flex-grid-column",8),h.Rb(22,"wj-flex-grid-column",8),h.Rb(23,"wj-flex-grid-column",8),h.Rb(24,"wj-flex-grid-column",8),h.Rb(25,"wj-flex-grid-column",8),h.Rb(26,"wj-flex-grid-column",8),h.Rb(27,"wj-flex-grid-column",8),h.Rb(28,"wj-flex-grid-column",8),h.Rb(29,"wj-flex-grid-column",8),h.Rb(30,"wj-flex-grid-column",8),h.Rb(31,"wj-flex-grid-column",8),h.Rb(32,"wj-flex-grid-column",8),h.Rb(33,"wj-flex-grid-column",8),h.Rb(34,"wj-flex-grid-column",8),h.Rb(35,"wj-flex-grid-column",8),h.Rb(36,"wj-flex-grid-column",8),h.Rb(37,"wj-flex-grid-column",8),h.Rb(38,"wj-flex-grid-column",8),h.Rb(39,"wj-flex-grid-column",8),h.Rb(40,"wj-flex-grid-column",8),h.Rb(41,"wj-flex-grid-column",8),h.Rb(42,"wj-flex-grid-column",8),h.Rb(43,"wj-flex-grid-column",8),h.Rb(44,"wj-flex-grid-column",8),h.Rb(45,"wj-flex-grid-column",8),h.Rb(46,"wj-flex-grid-column",8),h.Rb(47,"wj-flex-grid-column",8),h.Rb(48,"wj-flex-grid-column",8),h.Ub(),h.Vb(49,"div",9),h.Vb(50,"div",10),h.Vb(51,"div",9),h.Vb(52,"mat-button-toggle-group",11),h.Vb(53,"mat-button-toggle",12),h.dc("click",(function(){return t._listDTRLineCollectionView.moveToFirstPage()})),h.Vb(54,"mat-icon",13),h.yc(55,"navigate_before"),h.Ub(),h.Vb(56,"mat-icon"),h.yc(57,"navigate_before"),h.Ub(),h.Ub(),h.Vb(58,"mat-button-toggle",12),h.dc("click",(function(){return t._listDTRLineCollectionView.moveToPreviousPage()})),h.Vb(59,"mat-icon"),h.yc(60,"navigate_before"),h.Ub(),h.Ub(),h.Vb(61,"mat-button-toggle",14),h.yc(62),h.Ub(),h.Vb(63,"mat-button-toggle",12),h.dc("click",(function(){return t._listDTRLineCollectionView.moveToNextPage()})),h.Vb(64,"mat-icon"),h.yc(65,"navigate_next"),h.Ub(),h.Ub(),h.Vb(66,"mat-button-toggle",12),h.dc("click",(function(){return t._listDTRLineCollectionView.moveToLastPage()})),h.Vb(67,"mat-icon",13),h.yc(68,"navigate_next"),h.Ub(),h.Vb(69,"mat-icon"),h.yc(70,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(71,"div",15),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(3),h.zc(t.title),h.Eb(8),h.kc("hidden",t._isComponentHidden),h.Eb(1),h.kc("ngIf",t._isDTRLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listDTRLineCollectionView)("selectionMode",3)("headersVisibility",1),h.Eb(3),h.kc("header","Branch")("binding","Branch")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width",200),h.Eb(1),h.kc("header","Date")("binding","DTRDate")("isReadOnly",!0)("width",80),h.Eb(1),h.kc("header","Type")("binding","DateType")("isReadOnly",!0)("width",80),h.Eb(1),h.kc("header","RD")("binding","IsRestDay")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","Shift")("binding","Shift")("isReadOnly",!0)("width",80),h.Eb(1),h.kc("header","IN1")("binding","TimeIn1")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","OUT1")("binding","TimeOut1")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","IN2")("binding","TimeIn2")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","OUT2")("binding","TimeOut2")("isReadOnly",!0)("width",75),h.Eb(1),h.kc("header","OL")("binding","IsOnLeave")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","HOL")("binding","IsOnLeaveHalfDay")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","OB")("binding","IsOnOfficialBusiness")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","HOB")("binding","IsOnOfficialBusinessHalfDay")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","A")("binding","IsAbsent")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","HA")("binding","IsAbsentHalfDay")("isReadOnly",!0)("width",30),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","HRS")("binding","NumberOfHoursWorked")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","OT")("binding","OvertimeHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","ND")("binding","NightDifferentialHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","LH")("binding","LateHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","UT")("binding","UndertimeHours")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","DP")("binding","DailyPay")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","PP")("binding","PremiumPay")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","HP")("binding","HolidayPay")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","OP")("binding","OvertimePay")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","COLA")("binding","COLA")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","AA")("binding","AdditionalAllowance")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","LD")("binding","LateDeduction")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","LD")("binding","LateDeduction")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","UD")("binding","UndertimeDeduction")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","AD")("binding","AbsentDeduction")("isReadOnly",!0)("width",70),h.Eb(1),h.kc("header","NP")("binding","DailyNetPay")("isReadOnly",!0)("width",70),h.Eb(14),h.Bc(" ",t._listDTRLineCollectionView.pageIndex+1," / ",t._listDTRLineCollectionView.pageCount,""))},directives:[ir,_.a,v.a,tr,w.a,ft,nr,l.l,cl,Vl,hl,li.b,li.a,Al,Hl,fr],styles:[""]}),e})();const By=["flexPayrollLine"];function jy(e,t){1&e&&h.Rb(0,"mat-progress-bar",16),2&e&&h.kc("color","primary")("mode","indeterminate")}let Hy=(()=>{class e{constructor(e,t,i,n,o,a){this._dialogRef=e,this.caseData=t,this._matDialog=i,this._portalEmployeeService=n,this._snackBar=o,this._snackBarTemplate=a,this.title="",this._isComponentHidden=!0,this._listPayrollLineObservableArray=new na,this._listPayrollLineCollectionView=new oa(this._listPayrollLineObservableArray),this._listPayrollLinePageIndex=15,this._isPayrollLineProgressBarHidden=!1,this._isPayrollLineDataLoaded=!1}ngOnInit(){this.title=this.caseData.objDialogTitle,this.GetPayrollLineListData()}GetPayrollLineListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listPayrollLineObservableArray=new na,this._listPayrollLineCollectionView=new oa(this._listPayrollLineObservableArray),this._listPayrollLineCollectionView.pageSize=10,this._listPayrollLineCollectionView.trackChanges=!0,yield this._listPayrollLineCollectionView.refresh(),yield this.flexPayrollLine.refresh(),this._isPayrollLineProgressBarHidden=!0,this._payrollLineSubscription=yield(yield this._portalEmployeeService.PayrollLineList(this.caseData.objDataEmployeeId,this.caseData.objDataPayroll.Id)).subscribe(e=>{e.length>0&&(this._listPayrollLineObservableArray=e,this._listPayrollLineCollectionView=new oa(this._listPayrollLineObservableArray),this._listPayrollLineCollectionView.pageSize=10,this._listPayrollLineCollectionView.trackChanges=!0,this._listPayrollLineCollectionView.refresh(),this.flexPayrollLine.refresh()),this._isPayrollLineDataLoaded=!0,this._isPayrollLineProgressBarHidden=!1,this._isComponentHidden=!1,null!==this._payrollLineSubscription&&this._payrollLineSubscription.unsubscribe()},e=>{this._isPayrollLineProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._payrollLineSubscription&&this._payrollLineSubscription.unsubscribe()})}))}Close(){this._dialogRef.close({event:"Close"})}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(Wa),h.Qb(Ka),h.Qb(Xa),h.Qb(Dy),h.Qb(lr.a),h.Qb(cr))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-portal-employee-payroll-dialog"]],viewQuery:function(e,t){var i;1&e&&h.Ec(By,!0),2&e&&h.pc(i=h.ec())&&(t.flexPayrollLine=i.first)},decls:61,vars:97,consts:[["mat-dialog-title",""],[1,"spacer"],["mat-flat-button","","mat-dialog-close","","color","warn",2,"margin","5px",3,"click"],["mat-dialog-content",""],[3,"hidden"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexPayrollLine",""],[3,"header","binding","isReadOnly","width"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","35",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],[3,"color","mode"]],template:function(e,t){1&e&&(h.Vb(0,"h3",0),h.Vb(1,"mat-toolbar"),h.Vb(2,"span"),h.yc(3),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.dc("click",(function(){return t.Close()})),h.Vb(6,"mat-icon"),h.yc(7,"close"),h.Ub(),h.yc(8," Close "),h.Ub(),h.Ub(),h.Ub(),h.Rb(9,"mat-divider"),h.Vb(10,"div",3),h.Vb(11,"div",4),h.xc(12,jy,1,2,"mat-progress-bar",5),h.Vb(13,"wj-flex-grid",6,7),h.Rb(15,"wj-flex-grid-filter"),h.Rb(16,"wj-flex-grid-column",8),h.Rb(17,"wj-flex-grid-column",8),h.Rb(18,"wj-flex-grid-column",8),h.Rb(19,"wj-flex-grid-column",8),h.Rb(20,"wj-flex-grid-column",8),h.Rb(21,"wj-flex-grid-column",8),h.Rb(22,"wj-flex-grid-column",8),h.Rb(23,"wj-flex-grid-column",8),h.Rb(24,"wj-flex-grid-column",8),h.Rb(25,"wj-flex-grid-column",8),h.Rb(26,"wj-flex-grid-column",8),h.Rb(27,"wj-flex-grid-column",8),h.Rb(28,"wj-flex-grid-column",8),h.Rb(29,"wj-flex-grid-column",8),h.Rb(30,"wj-flex-grid-column",8),h.Rb(31,"wj-flex-grid-column",8),h.Rb(32,"wj-flex-grid-column",8),h.Rb(33,"wj-flex-grid-column",8),h.Rb(34,"wj-flex-grid-column",8),h.Rb(35,"wj-flex-grid-column",8),h.Rb(36,"wj-flex-grid-column",8),h.Rb(37,"wj-flex-grid-column",8),h.Ub(),h.Vb(38,"div",9),h.Vb(39,"div",10),h.Vb(40,"div",9),h.Vb(41,"mat-button-toggle-group",11),h.Vb(42,"mat-button-toggle",12),h.dc("click",(function(){return t._listPayrollLineCollectionView.moveToFirstPage()})),h.Vb(43,"mat-icon",13),h.yc(44,"navigate_before"),h.Ub(),h.Vb(45,"mat-icon"),h.yc(46,"navigate_before"),h.Ub(),h.Ub(),h.Vb(47,"mat-button-toggle",12),h.dc("click",(function(){return t._listPayrollLineCollectionView.moveToPreviousPage()})),h.Vb(48,"mat-icon"),h.yc(49,"navigate_before"),h.Ub(),h.Ub(),h.Vb(50,"mat-button-toggle",14),h.yc(51),h.Ub(),h.Vb(52,"mat-button-toggle",12),h.dc("click",(function(){return t._listPayrollLineCollectionView.moveToNextPage()})),h.Vb(53,"mat-icon"),h.yc(54,"navigate_next"),h.Ub(),h.Ub(),h.Vb(55,"mat-button-toggle",12),h.dc("click",(function(){return t._listPayrollLineCollectionView.moveToLastPage()})),h.Vb(56,"mat-icon",13),h.yc(57,"navigate_next"),h.Ub(),h.Vb(58,"mat-icon"),h.yc(59,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(60,"div",15),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(3),h.zc(t.title),h.Eb(8),h.kc("hidden",t._isComponentHidden),h.Eb(1),h.kc("ngIf",t._isPayrollLineProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listPayrollLineCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width",200),h.Eb(1),h.kc("header","Payroll Rate")("binding","PayrollRate")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Daily Pay")("binding","TotalDailyPay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Premium Pay")("binding","TotalPremiumPay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Holiday Pay")("binding","TotalHolidayPay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Overtime Pay")("binding","TotalOvertimePay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Night Differential Pay")("binding","TotalNightDifferentialPay")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Additional Allowance")("binding","TotalAdditionalAllowance")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Undertime Deduction")("binding","TotalUndertimeDeduction")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Income")("binding","Income")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total OtherIncome Not Taxable")("binding","TotalOtherIncomeNotTaxable")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Gross Income")("binding","GrossIncome")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","SSS Contribution")("binding","SSSContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","PHIC Contribution")("binding","PHICContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","HDMF Contribution")("binding","HDMFContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Income TaxAmount")("binding","IncomeTaxAmount")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Total Other Deduction")("binding","TotalOtherDeduction")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Net Income")("binding","NetIncome")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","SSS Employer Contribution")("binding","SSSEmployerContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","SSS EC")("binding","SSSEC")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","PHIC Employer Contribution")("binding","PHICEmployerContribution")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","HDMF EmployerC ontribution")("binding","HDMFEmployerContribution")("isReadOnly",!0)("width",150),h.Eb(14),h.Bc(" ",t._listPayrollLineCollectionView.pageIndex+1," / ",t._listPayrollLineCollectionView.pageCount,""))},directives:[ir,_.a,v.a,tr,w.a,ft,nr,l.l,cl,Vl,hl,li.b,li.a,Al,Hl,fr],styles:[""]}),e})();const Fy=["flexOvertimeApplication"],Ny=["flexLoan"],zy=["flexLeaveApplication"],Gy=["flexDTR"],Yy=["flexPayroll"];function Qy(e,t){1&e&&h.Rb(0,"mat-progress-bar",51),2&e&&h.kc("color","primary")("mode","indeterminate")}function Wy(e,t){if(1&e&&(h.Vb(0,"mat-option",52),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function qy(e,t){1&e&&h.Rb(0,"mat-progress-bar",53),2&e&&h.kc("color","primary")("mode","indeterminate")}function Ky(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",54),h.dc("click",(function(){return h.rc(e),h.hc().ViewOvertimeApplication()})),h.yc(1," View "),h.Ub()}}function $y(e,t){if(1&e&&(h.Vb(0,"mat-option",52),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function Jy(e,t){1&e&&h.Rb(0,"mat-progress-bar",53),2&e&&h.kc("color","primary")("mode","indeterminate")}function Zy(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",54),h.dc("click",(function(){return h.rc(e),h.hc().ViewLeaveApplication()})),h.yc(1," View "),h.Ub()}}function Xy(e,t){if(1&e&&(h.Vb(0,"mat-option",52),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function e_(e,t){1&e&&h.Rb(0,"mat-progress-bar",53),2&e&&h.kc("color","primary")("mode","indeterminate")}function t_(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",54),h.dc("click",(function(){return h.rc(e),h.hc().ViewDTR()})),h.yc(1," View "),h.Ub()}}function i_(e,t){if(1&e&&(h.Vb(0,"mat-option",52),h.yc(1),h.Ub()),2&e){const e=t.$implicit;h.kc("value",e.Id),h.Eb(1),h.Ac(" ",e.Value," ")}}function n_(e,t){1&e&&h.Rb(0,"mat-progress-bar",53),2&e&&h.kc("color","primary")("mode","indeterminate")}function o_(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",54),h.dc("click",(function(){return h.rc(e),h.hc().ViewPayroll()})),h.yc(1," View "),h.Ub()}}function a_(e,t){1&e&&h.Rb(0,"mat-progress-bar",53),2&e&&h.kc("color","primary")("mode","indeterminate")}function r_(e,t){if(1&e){const e=h.Wb();h.Vb(0,"button",54),h.dc("click",(function(){return h.rc(e),h.hc().ViewLoan()})),h.yc(1," View "),h.Ub()}}const s_=[{path:"",canActivate:[u],component:si,children:[{path:"",canActivate:[u],component:Vi},{path:"dashboard",canActivate:[u],component:Vi},{path:"company-list",canActivate:[u],component:pc},{path:"company-detail/:id",canActivate:[u],component:Dr},{path:"employee-list",canActivate:[u],component:wc},{path:"employee-detail/:id",canActivate:[u],component:pu},{path:"mandatory-tables",canActivate:[u],component:Tu},{path:"shift-code-list",canActivate:[u],component:Zu},{path:"shift-code-detail/:id",canActivate:[u],component:Yu},{path:"year-list",canActivate:[u],component:jf},{path:"year-detail/:id",canActivate:[u],component:Mf},{path:"day-type-list",canActivate:[u],component:Xu},{path:"day-type-detail/:id",canActivate:[u],component:ep},{path:"other-income",canActivate:[u],component:dp},{path:"other-deductions",canActivate:[u],component:vp},{path:"user-list",canActivate:[u],component:Ip},{path:"user-detail/:id",canActivate:[u],component:nb},{path:"leave-credits-list",canActivate:[u],component:ob},{path:"leave-credits-detail/:id",canActivate:[u],component:ab},{path:"change-shift-code-list",canActivate:[u],component:pb},{path:"change-shift-code-detail/:id",canActivate:[u],component:Ib},{path:"change-shift-code-detail",canActivate:[u],component:Ib},{path:"leave-application-list",canActivate:[u],component:zb},{path:"leave-application-detail/:id",canActivate:[u],component:im},{path:"overtime-application-list",canActivate:[u],component:dm},{path:"overtime-application-detail/:id",canActivate:[u],component:Dm},{path:"DTR-list",canActivate:[u],component:Em},{path:"DTR-detail/:id",canActivate:[u],component:rf},{path:"system-tables-list",canActivate:[u],component:_f},{path:"loan-list",canActivate:[u],component:tg},{path:"payroll-list",canActivate:[u],component:iy},{path:"payroll-detail/:id",canActivate:[u],component:wy},{path:"payroll-other-income-list",canActivate:[u],component:cg},{path:"payroll-other-income-detail/:id",canActivate:[u],component:Sg},{path:"payroll-other-deduction-list",canActivate:[u],component:Mg},{path:"payroll-other-deduction-detail/:id",canActivate:[u],component:qg},{path:"portal-employee",canActivate:[u],component:(()=>{class e{constructor(e,t,i,n){this._snackBar=e,this._snackBarTemplate=t,this._portalEmployeeService=i,this._matDialog=n,this._portalEmployeeModel={Id:0,EmployeeCode:"",IdNumber:"",BiometricIdNumber:"",FullName:"",Address:"",ContactNumber:"",ContactMobileNumber:"",PictureURL:"",PayrollGroup:"",Company:"",Branch:"",Position:""},this._isProgressBarHidden=!1,this._isComponentsShown=!1,this._isDataLoaded=!1,this._listOvertimeApplicationObservableArray=new na,this._listOvertimeApplicationCollectionView=new oa(this._listOvertimeApplicationObservableArray),this._listOvertimeApplicationPageIndex=15,this._isOvertimeApplicationProgressBarHidden=!1,this._isOvertimeApplicationDataLoaded=!1,this._listLoanObservableArray=new na,this._listLoanCollectionView=new oa(this._listLoanObservableArray),this._istLoanPageIndex=15,this.__isProgressBarHidden=!1,this.__isDataLoaded=!1,this._currentYearIdOT=0,this._currentYearIdLA=0,this._listLeaveApplicationObservableArray=new na,this._listLeaveApplicationCollectionView=new oa(this._listLeaveApplicationObservableArray),this._leaveApplicationPageIndex=15,this._isLeaveApplicationProgressBarHidden=!1,this._isLeaveApplicationDataLoaded=!1,this._currentYearIdDTR=0,this._listDTRObservableArray=new na,this._listDTRCollectionView=new oa(this._listDTRObservableArray),this._listDTRPageIndex=15,this._isDTRProgressBarHidden=!1,this._isDTRDataLoaded=!1,this._currentYearIdPayroll=0,this._listPayrollObservableArray=new na,this._listPayrollCollectionView=new oa(this._listPayrollObservableArray),this._listPayrollPageIndex=15,this._isPayrollProgressBarHidden=!1,this._isPayrollDataLoaded=!1}ngOnInit(){this.GetEmployeeDetail()}GetEmployeeDetail(){return Object(b.a)(this,void 0,void 0,(function*(){this._isProgressBarHidden=!0,this._isComponentsShown=!1,this._employeeDetailSubscription=(yield this._portalEmployeeService.EmployeeDetail()).subscribe(e=>{let t=e;console.log(t),null!==t.Id&&0!==t.Id||this._snackBarTemplate.snackBarError(this._snackBar,"Link employee to current user."),null!=t&&(this._portalEmployeeModel.Id=t.Id,this._portalEmployeeModel.EmployeeCode=t.EmployeeCode,this._portalEmployeeModel.IdNumber=t.IdNumber,this._portalEmployeeModel.BiometricIdNumber=t.BiometricIdNumber,this._portalEmployeeModel.FullName=t.FullName,this._portalEmployeeModel.Address=t.Address,this._portalEmployeeModel.ContactNumber=t.ContactNumber,this._portalEmployeeModel.ContactMobileNumber=t.ContactMobileNumber,this._portalEmployeeModel.PictureURL=t.PictureURL,this._portalEmployeeModel.PayrollGroup=t.PayrollGroup,this._portalEmployeeModel.Company=t.Company,this._portalEmployeeModel.Branch=t.Branch,this._portalEmployeeModel.Position=t.Position,this.GetOTYearDropdownListData()),this._isProgressBarHidden=!1,this._isDataLoaded=!0,this._isComponentsShown=!0,null!==this._employeeDetailSubscription&&this._employeeDetailSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._employeeDetailSubscription&&this._employeeDetailSubscription.unsubscribe())})}))}GetOTYearDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearOTListSubscription=yield(yield this._portalEmployeeService.YearList()).subscribe(e=>{this._yearOTListDropdownList=e,this._currentYearIdOT=e[0].Id,this.GetCurrentOTYear(),null!==this._yearOTListSubscription&&this._yearOTListSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearOTListSubscription&&this._yearOTListSubscription.unsubscribe()})}))}GetCurrentOTYear(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearOTCurrentSubscription=yield(yield this._portalEmployeeService.CurrentYear()).subscribe(e=>{this._currentYearIdOT=e,null!==this._yearOTCurrentSubscription&&this._yearOTCurrentSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearOTCurrentSubscription&&this._yearOTCurrentSubscription.unsubscribe()}),yield this.GetOvertimeApplicationListData()}))}activeTab(){}GetOvertimeApplicationListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listOvertimeApplicationObservableArray=new na,this._listOvertimeApplicationCollectionView=new oa(this._listOvertimeApplicationObservableArray),this._listOvertimeApplicationCollectionView.pageSize=15,this._listOvertimeApplicationCollectionView.trackChanges=!0,yield this._listOvertimeApplicationCollectionView.refresh(),yield this._flexOvertimeApplication.refresh(),this._isOvertimeApplicationProgressBarHidden=!0,console.log(this._portalEmployeeModel.Id),this._overtimeApplicationSubscription=yield(yield this._portalEmployeeService.OvertimeApplicationList(this._portalEmployeeModel.Id,this._currentYearIdOT)).subscribe(e=>{e.length>0&&(this._listOvertimeApplicationObservableArray=e,this._listOvertimeApplicationCollectionView=new oa(this._listOvertimeApplicationObservableArray),this._listOvertimeApplicationCollectionView.pageSize=15,this._listOvertimeApplicationCollectionView.trackChanges=!0,this._listOvertimeApplicationCollectionView.refresh(),this._flexOvertimeApplication.refresh()),this._isOvertimeApplicationDataLoaded=!0,this._isOvertimeApplicationProgressBarHidden=!1,null!==this._overtimeApplicationSubscription&&this._overtimeApplicationSubscription.unsubscribe()},e=>{this._isOvertimeApplicationProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._overtimeApplicationSubscription&&this._overtimeApplicationSubscription.unsubscribe()}),this.GetYearLADropdownListData()}))}ViewOvertimeApplication(){return Object(b.a)(this,void 0,void 0,(function*(){this._matDialog.open(ky,{width:"900px",data:{objDialogTitle:"Overtime Application",objDataOTApplication:this._listOvertimeApplicationCollectionView.currentItem,objDataEmployeeId:this._portalEmployeeModel.Id},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.GetOvertimeApplicationListData()})}))}GetYearLADropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearLAListSubscription=yield(yield this._portalEmployeeService.YearList()).subscribe(e=>{this._yearLAListDropdownList=e,this._currentYearIdLA=e[0].Id,this.GetCurrentLAYear(),null!==this._yearLAListSubscription&&this._yearLAListSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearLAListSubscription&&this._yearLAListSubscription.unsubscribe()})}))}GetCurrentLAYear(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearLACurrentSubscription=yield(yield this._portalEmployeeService.CurrentYear()).subscribe(e=>{this._currentYearIdLA=e,this.GetLeaveApplicationListData(),null!==this._yearLACurrentSubscription&&this._yearLACurrentSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearLACurrentSubscription&&this._yearLACurrentSubscription.unsubscribe()})}))}GetLeaveApplicationListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listLeaveApplicationObservableArray=new na,this._listLeaveApplicationCollectionView=new oa(this._listLeaveApplicationObservableArray),this._listLeaveApplicationCollectionView.pageSize=15,this._listLeaveApplicationCollectionView.trackChanges=!0,yield this._listLeaveApplicationCollectionView.refresh(),yield this._flexLeaveApplication.refresh(),this._isLeaveApplicationProgressBarHidden=!0,this._leaveApplicationSubscription=yield(yield this._portalEmployeeService.LeaveApplicationList(this._portalEmployeeModel.Id,this._currentYearIdLA)).subscribe(e=>{e.length>0&&(this._listLeaveApplicationObservableArray=e,this._listLeaveApplicationCollectionView=new oa(this._listLeaveApplicationObservableArray),this._listLeaveApplicationCollectionView.pageSize=15,this._listLeaveApplicationCollectionView.trackChanges=!0,this._listLeaveApplicationCollectionView.refresh(),this._flexLeaveApplication.refresh()),this._isLeaveApplicationDataLoaded=!0,this._isLeaveApplicationProgressBarHidden=!1,null!==this._leaveApplicationSubscription&&this._leaveApplicationSubscription.unsubscribe()},e=>{this._isLeaveApplicationProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._leaveApplicationSubscription&&this._leaveApplicationSubscription.unsubscribe()}),yield this.GetLoanListData(),yield this.GetYearDTRDropdownListData()}))}ViewLeaveApplication(){return Object(b.a)(this,void 0,void 0,(function*(){this._matDialog.open(Uy,{width:"900px",data:{objDialogTitle:"Leave Application",objDataLAApplication:this._listLeaveApplicationCollectionView.currentItem,objDataEmployeeId:this._portalEmployeeModel.Id},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.GetLeaveApplicationListData()})}))}GetYearDTRDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearDTRCurrentSubscription=yield(yield this._portalEmployeeService.YearList()).subscribe(e=>{this._yearDTRListDropdownList=e,this._currentYearIdDTR=e[0].Id,this.GetCurrentDTRYear(),null!==this._yearDTRCurrentSubscription&&this._yearDTRCurrentSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearDTRCurrentSubscription&&this._yearDTRCurrentSubscription.unsubscribe()})}))}GetCurrentDTRYear(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearDTRListSubscription=yield(yield this._portalEmployeeService.CurrentYear()).subscribe(e=>{this._currentYearIdDTR=e,this.GetDTRListData(),null!==this._yearDTRListSubscription&&this._yearDTRListSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearDTRListSubscription&&this._yearDTRListSubscription.unsubscribe()})}))}GetDTRListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listDTRObservableArray=new na,this._listDTRCollectionView=new oa(this._listDTRObservableArray),this._listDTRCollectionView.pageSize=15,this._listDTRCollectionView.trackChanges=!0,yield this._listDTRCollectionView.refresh(),yield this.flexDTR.refresh(),this._isDTRProgressBarHidden=!0,this._dtrListSubscription=yield(yield this._portalEmployeeService.DTRList(this._portalEmployeeModel.Id,this._currentYearIdDTR)).subscribe(e=>{e.length>0&&(this._listDTRObservableArray=e,this._listDTRCollectionView=new oa(this._listDTRObservableArray),this._listDTRCollectionView.pageSize=15,this._listDTRCollectionView.trackChanges=!0,this._listDTRCollectionView.refresh(),this.flexDTR.refresh()),this._isDTRDataLoaded=!0,this._isDTRProgressBarHidden=!1,this.GetYearPayrollDropdownListData(),null!==this._dtrListSubscription&&this._dtrListSubscription.unsubscribe()},e=>{this._isDTRProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._dtrListSubscription&&this._dtrListSubscription.unsubscribe()})}))}ViewDTR(){this._matDialog.open(Ay,{width:"900px",data:{objDialogTitle:"DTR Lines",objDataDTR:this._listDTRCollectionView.currentItem,objDataEmployeeId:this._portalEmployeeModel.Id},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.GetLeaveApplicationListData()})}GetYearPayrollDropdownListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearPayrollCurrentSubscription=yield(yield this._portalEmployeeService.YearList()).subscribe(e=>{this._yearDTRListDropdownList=e,this._currentYearIdPayroll=e[0].Id,this.GetCurrentPayrollYear(),null!==this._yearPayrollCurrentSubscription&&this._yearPayrollCurrentSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearPayrollCurrentSubscription&&this._yearPayrollCurrentSubscription.unsubscribe()})}))}GetCurrentPayrollYear(){return Object(b.a)(this,void 0,void 0,(function*(){this._yearPayrollListSubscription=yield(yield this._portalEmployeeService.CurrentYear()).subscribe(e=>{this._currentYearIdPayroll=e,this.GetPayrollListData(),null!==this._yearPayrollListSubscription&&this._yearPayrollListSubscription.unsubscribe()},e=>{this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._yearPayrollListSubscription&&this._yearPayrollListSubscription.unsubscribe()})}))}GetPayrollListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listPayrollObservableArray=new na,this._listPayrollCollectionView=new oa(this._listPayrollObservableArray),this._listPayrollCollectionView.pageSize=15,this._listPayrollCollectionView.trackChanges=!0,yield this._listPayrollCollectionView.refresh(),yield this.flexPayroll.refresh(),this._isPayrollProgressBarHidden=!0,this._PayrollListSubscription=yield(yield this._portalEmployeeService.PayrollList(this._portalEmployeeModel.Id,this._currentYearIdPayroll)).subscribe(e=>{e.length>0&&(this._listPayrollObservableArray=e,this._listPayrollCollectionView=new oa(this._listPayrollObservableArray),this._listPayrollCollectionView.pageSize=15,this._listPayrollCollectionView.trackChanges=!0,this._listPayrollCollectionView.refresh(),this.flexPayroll.refresh()),this._isPayrollDataLoaded=!0,this._isPayrollProgressBarHidden=!1,null!==this._PayrollListSubscription&&this._PayrollListSubscription.unsubscribe()},e=>{this._isPayrollProgressBarHidden=!1,this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+" "+e.status),null!==this._PayrollListSubscription&&this._PayrollListSubscription.unsubscribe()})}))}ViewPayroll(){this._matDialog.open(Hy,{width:"900px",data:{objDialogTitle:"Payroll Lines",objDataPayroll:this._listPayrollCollectionView.currentItem,objDataEmployeeId:this._portalEmployeeModel.Id},disableClose:!0}).afterClosed().subscribe(e=>{"Yes"==e.message&&this.GetLeaveApplicationListData()})}GetLoanListData(){return Object(b.a)(this,void 0,void 0,(function*(){this._listLoanObservableArray=new na,this._listLoanCollectionView=new oa(this._listLoanObservableArray),this._listLoanCollectionView.pageSize=15,this._listLoanCollectionView.trackChanges=!0,yield this._listLoanCollectionView.refresh(),yield this._flexLoan.refresh(),this.__isProgressBarHidden=!0,console.log("Loan: ",this._portalEmployeeModel.Id),this._loanListSubscription=(yield this._portalEmployeeService.LoanList(this._portalEmployeeModel.Id)).subscribe(e=>{e.length>0&&(this._listLoanObservableArray=e,this._listLoanCollectionView=new oa(this._listLoanObservableArray),this._listLoanCollectionView.pageSize=15,this._listLoanCollectionView.trackChanges=!0,this._listLoanCollectionView.refresh(),this._flexLoan.refresh()),this.__isDataLoaded=!0,this.__isProgressBarHidden=!1,null!=this._loanListSubscription&&this._loanListSubscription.unsubscribe()},e=>{"401"==e.status?location.reload():(this._snackBarTemplate.snackBarError(this._snackBar,e.error.Message+"  Status Code: "+e.status),null!=this._loanListSubscription&&this._loanListSubscription.unsubscribe())})}))}ViewLoan(){return Object(b.a)(this,void 0,void 0,(function*(){this._matDialog.open(Ry,{width:"1200px",data:{objDialogTitle:"Loan Detail",objLoanId:this._listLoanCollectionView.currentItem.Id},disableClose:!0}).afterClosed().subscribe(e=>{"Close"!==e.event&&this.GetLoanListData()})}))}}return e.\u0275fac=function(t){return new(t||e)(h.Qb(lr.a),h.Qb(cr),h.Qb(Dy),h.Qb(Xa))},e.\u0275cmp=h.Kb({type:e,selectors:[["app-portal-employee"]],viewQuery:function(e,t){var i;1&e&&(h.Ec(Fy,!0),h.Ec(Ny,!0),h.Ec(zy,!0),h.Ec(Gy,!0),h.Ec(Yy,!0)),2&e&&(h.pc(i=h.ec())&&(t._flexOvertimeApplication=i.first),h.pc(i=h.ec())&&(t._flexLoan=i.first),h.pc(i=h.ec())&&(t._flexLeaveApplication=i.first),h.pc(i=h.ec())&&(t.flexDTR=i.first),h.pc(i=h.ec())&&(t.flexPayroll=i.first))},decls:333,vars:218,consts:[["src","../../../../assets/menu-icons/employees.png","height","35"],[1,"spacer"],["mat-flat-button","","routerLink","/software/employee-list","color","warn",2,"margin-right","5px"],["style","width: 100%;",3,"color","mode",4,"ngIf"],[1,"software-container",2,"min-height","1000px"],[3,"hidden"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","15"],["fxFlex","100",2,"padding","5px"],[2,"width","100%",3,"src"],["fxFlex","85"],[2,"margin-left","5px",3,"vertical"],["fxFlex","55",2,"padding","5px"],["fxFlex","20",2,"padding","5px"],[1,"text_box"],["fxFlex","30",2,"padding","5px"],["fxFlex","50",2,"padding","5px"],["fxFlex","80",2,"padding","5px"],[3,"vertical"],["fxFlex","45",2,"padding","5px"],["fxFlex","25",2,"padding","5px"],["fxFlex","70",2,"padding","5px"],[2,"max-height","100%",3,"selectedTabChange"],["tabGroup",""],["label","OT Application"],["appearance","outline",2,"width","100%","font-size","smaller"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"color","mode",4,"ngIf"],[3,"itemsSource","selectionMode","headersVisibility"],["flexOvertimeApplication",""],[3,"isReadOnly","width"],["wjFlexGridCellTemplate","",3,"cellType"],[3,"header","binding","isReadOnly","width"],["fxFlex","25",2,"padding","2px"],[2,"margin-top","7px","width","100%"],[2,"width","100%",3,"click"],[2,"margin-right","-15px"],[2,"width","100%"],["fxFlex","15",2,"padding","5px"],["label","Leave Application"],["flexLeaveApplication",""],["fxLayout","row","fxLayout.xs","column",2,"margin-bottom","15px"],["label","DTR"],[3,"itemsSource","selectionMode","frozenColumns","headersVisibility"],["flexDTR",""],["label","Payroll"],["flexPayroll",""],["label","Loan"],["flexLoan",""],[3,"click"],[2,"width","100%",3,"color","mode"],[3,"value"],[3,"color","mode"],["mat-raised-button","","color","primary",2,"width","100%","font-size","11px","line-height","20px","padding-left","3px","padding-right","3px",3,"click"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar"),h.Rb(1,"img",0),h.Vb(2,"span"),h.yc(3,"\xa0\xa0 Employee Portal"),h.Ub(),h.Rb(4,"span",1),h.Vb(5,"button",2),h.Vb(6,"mat-icon"),h.yc(7,"close"),h.Ub(),h.yc(8," Close "),h.Ub(),h.Ub(),h.xc(9,Qy,1,2,"mat-progress-bar",3),h.Vb(10,"div",4),h.Vb(11,"div",5),h.Vb(12,"div",6),h.Vb(13,"div",7),h.Vb(14,"div",6),h.Vb(15,"div",8),h.Vb(16,"mat-card"),h.Rb(17,"img",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(18,"div",10),h.Vb(19,"div",6),h.Rb(20,"mat-divider",11),h.Vb(21,"div",12),h.Vb(22,"div",6),h.Vb(23,"div",13),h.Vb(24,"p",14),h.yc(25,"Employee Code: "),h.Ub(),h.Ub(),h.Vb(26,"div",15),h.Vb(27,"p",14),h.Vb(28,"b"),h.yc(29),h.Ub(),h.Ub(),h.Ub(),h.Rb(30,"div",16),h.Ub(),h.Vb(31,"div",6),h.Vb(32,"div",13),h.Vb(33,"p",14),h.yc(34,"Fullname:"),h.Ub(),h.Ub(),h.Vb(35,"div",17),h.Vb(36,"p",14),h.Vb(37,"b"),h.yc(38),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(39,"div",6),h.Vb(40,"div",13),h.Vb(41,"p",14),h.yc(42,"Address:"),h.Ub(),h.Ub(),h.Vb(43,"div",17),h.Vb(44,"p",14),h.Vb(45,"b"),h.yc(46),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(47,"div",6),h.Vb(48,"div",13),h.Vb(49,"p",14),h.yc(50,"Landline No.:"),h.Ub(),h.Ub(),h.Vb(51,"div",17),h.Vb(52,"p",14),h.Vb(53,"b"),h.yc(54),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(55,"div",6),h.Vb(56,"div",13),h.Vb(57,"p",14),h.yc(58,"Mobile No.:"),h.Ub(),h.Ub(),h.Vb(59,"div",17),h.Vb(60,"p",14),h.Vb(61,"b"),h.yc(62),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(63,"mat-divider",18),h.Vb(64,"div",19),h.Vb(65,"div",6),h.Vb(66,"div",13),h.Vb(67,"p",14),h.yc(68,"ID No.:"),h.Ub(),h.Ub(),h.Vb(69,"div",15),h.Vb(70,"p",14),h.Vb(71,"b"),h.yc(72),h.Ub(),h.Ub(),h.Ub(),h.Vb(73,"div",20),h.Vb(74,"p",14),h.yc(75,"Biometric No.: "),h.Ub(),h.Ub(),h.Vb(76,"div",20),h.Vb(77,"p",14),h.Vb(78,"b"),h.yc(79),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(80,"div",6),h.Vb(81,"div",15),h.Vb(82,"p",14),h.yc(83,"Company:"),h.Ub(),h.Ub(),h.Vb(84,"div",21),h.Vb(85,"p",14),h.Vb(86,"b"),h.yc(87),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(88,"div",6),h.Vb(89,"div",15),h.Vb(90,"p",14),h.yc(91,"Branch:"),h.Ub(),h.Ub(),h.Vb(92,"div",21),h.Vb(93,"p",14),h.Vb(94,"b"),h.yc(95),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(96,"div",6),h.Vb(97,"div",15),h.Vb(98,"p",14),h.yc(99,"Position:"),h.Ub(),h.Ub(),h.Vb(100,"div",21),h.Vb(101,"p",14),h.Vb(102,"b"),h.yc(103),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(104,"div",6),h.Vb(105,"div",15),h.Vb(106,"p",14),h.yc(107,"Payroll Group:"),h.Ub(),h.Ub(),h.Vb(108,"div",21),h.Vb(109,"p",14),h.Vb(110,"b"),h.yc(111),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(112,"br"),h.Vb(113,"mat-tab-group",22,23),h.dc("selectedTabChange",(function(){return t.activeTab()})),h.Vb(115,"mat-tab",24),h.Rb(116,"br"),h.Vb(117,"div",6),h.Vb(118,"div",13),h.Vb(119,"mat-form-field",25),h.Vb(120,"mat-label"),h.yc(121,"Year"),h.Ub(),h.Vb(122,"mat-select",26),h.dc("ngModelChange",(function(e){return t._currentYearIdOT=e})),h.xc(123,Wy,2,2,"mat-option",27),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.xc(124,qy,1,2,"mat-progress-bar",28),h.Vb(125,"wj-flex-grid",29,30),h.Rb(127,"wj-flex-grid-filter"),h.Vb(128,"wj-flex-grid-column",31),h.xc(129,Ky,2,0,"ng-template",32),h.Ub(),h.Rb(130,"wj-flex-grid-column",33),h.Rb(131,"wj-flex-grid-column",33),h.Rb(132,"wj-flex-grid-column",33),h.Rb(133,"wj-flex-grid-column",33),h.Rb(134,"wj-flex-grid-column",33),h.Ub(),h.Vb(135,"div",34),h.Vb(136,"div",6),h.Vb(137,"mat-button-toggle-group",35),h.Vb(138,"mat-button-toggle",36),h.dc("click",(function(){return t._listOvertimeApplicationCollectionView.moveToFirstPage()})),h.Vb(139,"mat-icon",37),h.yc(140,"navigate_before"),h.Ub(),h.Vb(141,"mat-icon"),h.yc(142,"navigate_before"),h.Ub(),h.Ub(),h.Vb(143,"mat-button-toggle",36),h.dc("click",(function(){return t._listOvertimeApplicationCollectionView.moveToPreviousPage()})),h.Vb(144,"mat-icon"),h.yc(145,"navigate_before"),h.Ub(),h.Ub(),h.Vb(146,"mat-button-toggle",38),h.yc(147),h.Ub(),h.Vb(148,"mat-button-toggle",36),h.dc("click",(function(){return t._listOvertimeApplicationCollectionView.moveToNextPage()})),h.Vb(149,"mat-icon"),h.yc(150,"navigate_next"),h.Ub(),h.Ub(),h.Vb(151,"mat-button-toggle",36),h.dc("click",(function(){return t._listOvertimeApplicationCollectionView.moveToLastPage()})),h.Vb(152,"mat-icon",37),h.yc(153,"navigate_next"),h.Ub(),h.Vb(154,"mat-icon"),h.yc(155,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(156,"div",39),h.Ub(),h.Vb(157,"mat-tab",40),h.Rb(158,"br"),h.Vb(159,"div",6),h.Vb(160,"div",13),h.Vb(161,"mat-form-field",25),h.Vb(162,"mat-label"),h.yc(163,"Year"),h.Ub(),h.Vb(164,"mat-select",26),h.dc("ngModelChange",(function(e){return t._currentYearIdLA=e})),h.xc(165,$y,2,2,"mat-option",27),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.xc(166,Jy,1,2,"mat-progress-bar",28),h.Vb(167,"wj-flex-grid",29,41),h.Rb(169,"wj-flex-grid-filter"),h.Vb(170,"wj-flex-grid-column",31),h.xc(171,Zy,2,0,"ng-template",32),h.Ub(),h.Rb(172,"wj-flex-grid-column",33),h.Rb(173,"wj-flex-grid-column",33),h.Rb(174,"wj-flex-grid-column",33),h.Rb(175,"wj-flex-grid-column",33),h.Rb(176,"wj-flex-grid-column",33),h.Ub(),h.Vb(177,"div",42),h.Vb(178,"div",34),h.Vb(179,"div",6),h.Vb(180,"mat-button-toggle-group",35),h.Vb(181,"mat-button-toggle",36),h.dc("click",(function(){return t._listLeaveApplicationCollectionView.moveToFirstPage()})),h.Vb(182,"mat-icon",37),h.yc(183,"navigate_before"),h.Ub(),h.Vb(184,"mat-icon"),h.yc(185,"navigate_before"),h.Ub(),h.Ub(),h.Vb(186,"mat-button-toggle",36),h.dc("click",(function(){return t._listLeaveApplicationCollectionView.moveToPreviousPage()})),h.Vb(187,"mat-icon"),h.yc(188,"navigate_before"),h.Ub(),h.Ub(),h.Vb(189,"mat-button-toggle",38),h.yc(190),h.Ub(),h.Vb(191,"mat-button-toggle",36),h.dc("click",(function(){return t._listLeaveApplicationCollectionView.moveToNextPage()})),h.Vb(192,"mat-icon"),h.yc(193,"navigate_next"),h.Ub(),h.Ub(),h.Vb(194,"mat-button-toggle",36),h.dc("click",(function(){return t._listLeaveApplicationCollectionView.moveToLastPage()})),h.Vb(195,"mat-icon",37),h.yc(196,"navigate_next"),h.Ub(),h.Vb(197,"mat-icon"),h.yc(198,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(199,"mat-tab",43),h.Rb(200,"br"),h.Vb(201,"div",6),h.Vb(202,"div",13),h.Vb(203,"mat-form-field",25),h.Vb(204,"mat-label"),h.yc(205,"Year"),h.Ub(),h.Vb(206,"mat-select",26),h.dc("ngModelChange",(function(e){return t._currentYearIdDTR=e})),h.xc(207,Xy,2,2,"mat-option",27),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.xc(208,e_,1,2,"mat-progress-bar",28),h.Vb(209,"wj-flex-grid",44,45),h.Rb(211,"wj-flex-grid-filter"),h.Vb(212,"wj-flex-grid-column",31),h.xc(213,t_,2,0,"ng-template",32),h.Ub(),h.Rb(214,"wj-flex-grid-column",33),h.Rb(215,"wj-flex-grid-column",33),h.Rb(216,"wj-flex-grid-column",33),h.Rb(217,"wj-flex-grid-column",33),h.Rb(218,"wj-flex-grid-column",33),h.Rb(219,"wj-flex-grid-column",33),h.Rb(220,"wj-flex-grid-column",33),h.Rb(221,"wj-flex-grid-column",33),h.Ub(),h.Vb(222,"div",42),h.Vb(223,"div",34),h.Vb(224,"div",6),h.Vb(225,"mat-button-toggle-group",35),h.Vb(226,"mat-button-toggle",36),h.dc("click",(function(){return t._listDTRCollectionView.moveToFirstPage()})),h.Vb(227,"mat-icon",37),h.yc(228,"navigate_before"),h.Ub(),h.Vb(229,"mat-icon"),h.yc(230,"navigate_before"),h.Ub(),h.Ub(),h.Vb(231,"mat-button-toggle",36),h.dc("click",(function(){return t._listDTRCollectionView.moveToPreviousPage()})),h.Vb(232,"mat-icon"),h.yc(233,"navigate_before"),h.Ub(),h.Ub(),h.Vb(234,"mat-button-toggle",38),h.yc(235),h.Ub(),h.Vb(236,"mat-button-toggle",36),h.dc("click",(function(){return t._listDTRCollectionView.moveToNextPage()})),h.Vb(237,"mat-icon"),h.yc(238,"navigate_next"),h.Ub(),h.Ub(),h.Vb(239,"mat-button-toggle",36),h.dc("click",(function(){return t._listDTRCollectionView.moveToLastPage()})),h.Vb(240,"mat-icon",37),h.yc(241,"navigate_next"),h.Ub(),h.Vb(242,"mat-icon"),h.yc(243,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(244,"div",39),h.Ub(),h.Ub(),h.Vb(245,"mat-tab",46),h.Rb(246,"br"),h.Vb(247,"div",6),h.Vb(248,"div",13),h.Vb(249,"mat-form-field",25),h.Vb(250,"mat-label"),h.yc(251,"Year"),h.Ub(),h.Vb(252,"mat-select",26),h.dc("ngModelChange",(function(e){return t._currentYearIdPayroll=e})),h.xc(253,i_,2,2,"mat-option",27),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.xc(254,n_,1,2,"mat-progress-bar",28),h.Vb(255,"wj-flex-grid",29,47),h.Rb(257,"wj-flex-grid-filter"),h.Vb(258,"wj-flex-grid-column",31),h.xc(259,o_,2,0,"ng-template",32),h.Ub(),h.Rb(260,"wj-flex-grid-column",33),h.Rb(261,"wj-flex-grid-column",33),h.Rb(262,"wj-flex-grid-column",33),h.Rb(263,"wj-flex-grid-column",33),h.Rb(264,"wj-flex-grid-column",33),h.Rb(265,"wj-flex-grid-column",33),h.Ub(),h.Vb(266,"div",42),h.Vb(267,"div",34),h.Vb(268,"div",6),h.Vb(269,"mat-button-toggle-group",35),h.Vb(270,"mat-button-toggle",36),h.dc("click",(function(){return t._listPayrollCollectionView.moveToFirstPage()})),h.Vb(271,"mat-icon",37),h.yc(272,"navigate_before"),h.Ub(),h.Vb(273,"mat-icon"),h.yc(274,"navigate_before"),h.Ub(),h.Ub(),h.Vb(275,"mat-button-toggle",36),h.dc("click",(function(){return t._listPayrollCollectionView.moveToPreviousPage()})),h.Vb(276,"mat-icon"),h.yc(277,"navigate_before"),h.Ub(),h.Ub(),h.Vb(278,"mat-button-toggle",38),h.yc(279),h.Ub(),h.Vb(280,"mat-button-toggle",36),h.dc("click",(function(){return t._listPayrollCollectionView.moveToNextPage()})),h.Vb(281,"mat-icon"),h.yc(282,"navigate_next"),h.Ub(),h.Ub(),h.Vb(283,"mat-button-toggle",36),h.dc("click",(function(){return t._listPayrollCollectionView.moveToLastPage()})),h.Vb(284,"mat-icon",37),h.yc(285,"navigate_next"),h.Ub(),h.Vb(286,"mat-icon"),h.yc(287,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(288,"div",39),h.Ub(),h.Ub(),h.Vb(289,"mat-tab",48),h.Rb(290,"br"),h.xc(291,a_,1,2,"mat-progress-bar",28),h.Vb(292,"wj-flex-grid",29,49),h.Rb(294,"wj-flex-grid-filter"),h.Vb(295,"wj-flex-grid-column",31),h.xc(296,r_,2,0,"ng-template",32),h.Ub(),h.Rb(297,"wj-flex-grid-column",33),h.Rb(298,"wj-flex-grid-column",33),h.Rb(299,"wj-flex-grid-column",33),h.Rb(300,"wj-flex-grid-column",33),h.Rb(301,"wj-flex-grid-column",33),h.Rb(302,"wj-flex-grid-column",33),h.Rb(303,"wj-flex-grid-column",33),h.Rb(304,"wj-flex-grid-column",33),h.Rb(305,"wj-flex-grid-column",33),h.Rb(306,"wj-flex-grid-column",33),h.Rb(307,"wj-flex-grid-column",33),h.Rb(308,"wj-flex-grid-column",33),h.Rb(309,"wj-flex-grid-column",33),h.Ub(),h.Vb(310,"div",6),h.Vb(311,"div",34),h.Vb(312,"div",6),h.Vb(313,"mat-button-toggle-group",35),h.Vb(314,"mat-button-toggle",50),h.dc("click",(function(){return t._listLoanCollectionView.moveToFirstPage()})),h.Vb(315,"mat-icon",37),h.yc(316,"navigate_before"),h.Ub(),h.Vb(317,"mat-icon"),h.yc(318,"navigate_before"),h.Ub(),h.Ub(),h.Vb(319,"mat-button-toggle",50),h.dc("click",(function(){return t._listLoanCollectionView.moveToPreviousPage()})),h.Vb(320,"mat-icon"),h.yc(321,"navigate_before"),h.Ub(),h.Ub(),h.Vb(322,"mat-button-toggle"),h.yc(323),h.Ub(),h.Vb(324,"mat-button-toggle",50),h.dc("click",(function(){return t._listLoanCollectionView.moveToNextPage()})),h.Vb(325,"mat-icon"),h.yc(326,"navigate_next"),h.Ub(),h.Ub(),h.Vb(327,"mat-button-toggle",50),h.dc("click",(function(){return t._listLoanCollectionView.moveToLastPage()})),h.Vb(328,"mat-icon",37),h.yc(329,"navigate_next"),h.Ub(),h.Vb(330,"mat-icon"),h.yc(331,"navigate_next"),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Rb(332,"div",39),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub()),2&e&&(h.Eb(9),h.kc("ngIf",t._isProgressBarHidden),h.Eb(2),h.kc("hidden",!t._isComponentsShown),h.Eb(6),h.lc("src",t._portalEmployeeModel.PictureURL,h.sc),h.Eb(3),h.kc("vertical",!0),h.Eb(9),h.zc(t._portalEmployeeModel.EmployeeCode),h.Eb(9),h.zc(t._portalEmployeeModel.FullName),h.Eb(8),h.zc(t._portalEmployeeModel.Address),h.Eb(8),h.zc(t._portalEmployeeModel.ContactNumber),h.Eb(8),h.zc(t._portalEmployeeModel.ContactMobileNumber),h.Eb(1),h.kc("vertical",!0),h.Eb(9),h.zc(t._portalEmployeeModel.IdNumber),h.Eb(7),h.zc(t._portalEmployeeModel.BiometricIdNumber),h.Eb(8),h.zc(t._portalEmployeeModel.Company),h.Eb(8),h.zc(t._portalEmployeeModel.Branch),h.Eb(8),h.zc(t._portalEmployeeModel.Position),h.Eb(8),h.zc(t._portalEmployeeModel.PayrollGroup),h.Eb(11),h.kc("ngModel",t._currentYearIdOT),h.Eb(1),h.kc("ngForOf",t._yearOTListDropdownList),h.Eb(1),h.kc("ngIf",t._isOvertimeApplicationProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listOvertimeApplicationCollectionView)("selectionMode",3)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Number")("binding","OTNumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Date")("binding","OTDate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","3*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("width","3*"),h.Eb(13),h.Bc(" ",t._listOvertimeApplicationCollectionView.pageIndex+1," / ",t._listOvertimeApplicationCollectionView.pageCount,""),h.Eb(17),h.kc("ngModel",t._currentYearIdLA),h.Eb(1),h.kc("ngForOf",t._yearLAListDropdownList),h.Eb(1),h.kc("ngIf",t._isLeaveApplicationProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listLeaveApplicationCollectionView)("selectionMode",3)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Number")("binding","LANumber")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Date")("binding","LADate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","3*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("width","3*"),h.Eb(14),h.Bc(" ",t._listLeaveApplicationCollectionView.pageIndex+1," / ",t._listLeaveApplicationCollectionView.pageCount,""),h.Eb(16),h.kc("ngModel",t._currentYearIdDTR),h.Eb(1),h.kc("ngForOf",t._yearDTRListDropdownList),h.Eb(1),h.kc("ngIf",t._isDTRProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listDTRCollectionView)("selectionMode",3)("frozenColumns",2)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","DTR No.")("binding","DTRNumber")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","DTRDate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date Start")("binding","DateStart")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date End")("binding","DateEnd")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",40),h.Eb(14),h.Bc("",t._listDTRCollectionView.pageIndex+1," / ",t._listDTRCollectionView.pageCount,""),h.Eb(17),h.kc("ngModel",t._currentYearIdPayroll),h.Eb(1),h.kc("ngForOf",t._yearPayrollListDropdownList),h.Eb(1),h.kc("ngIf",t._isPayrollProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listPayrollCollectionView)("selectionMode",3)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Pay No.")("binding","PAYNumber")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","PAYDate")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Year")("binding","Year")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("width","2*"),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",40),h.Eb(14),h.Bc(" ",t._listPayrollCollectionView.pageIndex+1," / ",t._listPayrollCollectionView.pageCount,""),h.Eb(12),h.kc("ngIf",t._isProgressBarHidden),h.Eb(1),h.kc("itemsSource",t._listLoanCollectionView)("selectionMode",3)("headersVisibility",1),h.Eb(3),h.kc("isReadOnly",!0)("width",90),h.Eb(1),h.kc("cellType","Cell"),h.Eb(1),h.kc("header","Number")("binding","LNNumber")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Date")("binding","LDDate")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Employee")("binding","Employee")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Other Deduction")("binding","OtherDeduction")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","DocRef")("binding","DocRef")("isReadOnly",!0)("width",100),h.Eb(1),h.kc("header","Amortization")("binding","Amortization")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Loan Amount")("binding","LoanAmount")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Paid Amount")("binding","PaidAmount")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Balance Amount")("binding","BalanceAmount")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Status")("binding","Status")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Remarks")("binding","Remarks")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","Prepared By")("binding","PreparedByUser")("isReadOnly",!0)("width",150),h.Eb(1),h.kc("header","L")("binding","IsLocked")("isReadOnly",!0)("width",50),h.Eb(14),h.Bc("",t._listLoanCollectionView.pageIndex+1," / ",t._listLoanCollectionView.pageCount,""))},directives:[_.a,v.a,d.c,w.a,l.l,li.b,li.a,Ed.a,ft,fh,ah,_r.c,_r.g,rc,c.o,c.r,l.k,cl,Vl,hl,ul,Al,Hl,fr,G.l],styles:[""]}),e})()}]}];let l_=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[d.e.forChild(s_)],d.e]}),e})(),c_=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[G.r,G.h],G.h]}),e})();i("vkgz");const d_={provide:new h.t("mat-autocomplete-scroll-strategy"),deps:[Y.c],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let h_=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},providers:[d_],imports:[[G.m,Y.f,G.h,l.b],W.b,G.m,G.h]}),e})(),u_=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},imports:[[_.b,Ne,w.b,v.b,Mt,Ed.c,me,mt,yr,Fl,_r.e,vr.c,rr,lr.b,Sh,sc,Vd,G.k,c_,Ah,h_],_.b,Ne,w.b,v.b,Mt,Ed.c,me,mt,yr,Fl,_r.e,vr.c,rr,lr.b,Sh,sc,Vd,G.k,c_,Ah,h_]}),e})();var p_=i("YUcS");let b_=(()=>{class e{}return e.\u0275mod=h.Ob({type:e}),e.\u0275inj=h.Nb({factory:function(t){return new(t||e)},providers:[u,Up,sr,_b,cr,l.e,l.d],imports:[[l.b,c.j,c.s,l_,u_,p_.a,bl,Ol]]}),e})()}}]);