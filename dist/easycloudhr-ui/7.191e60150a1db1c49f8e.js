(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{SuQF:function(t,e,n){"use strict";n.r(e),n.d(e,"SecurityModule",(function(){return M}));var o=n("ofXK"),i=n("3Pt+"),s=n("tyNb"),a=n("fXoL");let r=(()=>{class t{constructor(t){this.router=t}canActivate(){return null==localStorage.getItem("access_token")||(this.router.navigate(["/software/dashboard"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(s.b))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Jb({type:t,selectors:[["app-security"]],decls:1,vars:0,template:function(t,e){1&t&&a.Qb(0,"router-outlet")},directives:[s.f],styles:[""]}),t})();var c=n("XNiG"),l=n("24n0"),d=n("tk/3");let g=(()=>{class t{constructor(t,e){this.appSettings=t,this.httpClient=e,this.loginSubject=new c.a,this.loginObservable=this.loginSubject.asObservable()}login(t){this.httpClient.post(this.appSettings.defaultAPIURLHost+"/Token","username="+t.UserName+"&password="+t.Password+"&grant_type=password",this.appSettings.URLEncodedOptions).subscribe(t=>{localStorage.setItem("access_token",t.access_token),localStorage.setItem("expires_in",t.expires_in),localStorage.setItem("token_type",t.token_type),localStorage.setItem("username",t.userName),this.loginSubject.next([!0,"Login Successful."])},t=>{this.loginSubject.next([!1,t.error.error_description])})}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(l.a),a.Yb(d.a))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=n("dNgK"),p=n("/t3+"),h=n("XiUz"),m=n("Wp6s"),f=n("kmnG"),w=n("qFsG"),v=n("NFeN"),U=n("bTqV");const x=function(){return{standalone:!0}},S=[{path:"",canActivate:[r],component:b,children:[{path:"",canActivate:[r],component:b},{path:"login",canActivate:[r],component:(()=>{class t{constructor(t,e,n,o){this.loginService=t,this.router=e,this.appSettings=n,this.snackBar=o,this.loginModel={UserName:"",Password:""},this.loginDisabled=!1}login(){this.loginDisabled=!0,""===this.loginModel.UserName||""===this.loginModel.Password||(this.loginService.login(this.loginModel),this.loginSubscribe=this.loginService.loginObservable.subscribe(t=>{t[0]?(this.appSettings.snackBarSuccess(this.snackBar,"Login Successful"),setTimeout(()=>{this.router.navigate(["/software"])},500)):(this.appSettings.snackBarError(this.snackBar,t[1]),this.loginDisabled=!1),null!=this.loginSubscribe&&this.loginSubscribe.unsubscribe()}))}ngOnInit(){}ngOnDestroy(){null!=this.loginSubscribe&&this.loginSubscribe.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(g),a.Pb(s.b),a.Pb(l.a),a.Pb(u.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-login"]],decls:47,vars:11,consts:[[1,"toolbar-fixed-top"],["routerLink","/landing"],["src","../../../assets/hrlogo.png","height","40",2,"margin-top","7px"],[1,"toolbar-spacer"],[1,"login-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","30",2,"margin","5px"],["fxFlex","40",2,"margin","5px"],[2,"text-align","center","width","100%"],[3,"ngSubmit"],[2,"padding","20px"],["appearance","outline",2,"width","100%"],["matInput","","maxlength","100","placeholder","Enter your username",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["text_username",""],["matSuffix",""],["align","end"],["type","password","matInput","","maxlength","100","placeholder","Enter your password",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["text_password",""],["type","submit","mat-flat-button","","id","buttonLogin","color","primary",2,"width","100%","padding-top","10px","padding-bottom","10px",3,"disabled"],[2,"width","100%","text-align","center"],[2,"margin-top","5px","margin-bottom","20px","font-size","17px"]],template:function(t,e){if(1&t&&(a.Ub(0,"mat-toolbar",0),a.Ub(1,"a",1),a.Qb(2,"img",2),a.Tb(),a.Qb(3,"span",3),a.Tb(),a.Qb(4,"br"),a.Qb(5,"br"),a.Ub(6,"div",4),a.Ub(7,"div",5),a.Qb(8,"div",6),a.Ub(9,"div",7),a.Ub(10,"mat-card"),a.Ub(11,"mat-card-content"),a.Ub(12,"div",8),a.Ub(13,"h1"),a.wc(14,"Login"),a.Tb(),a.Tb(),a.Ub(15,"form",9),a.cc("ngSubmit",(function(){return e.login()})),a.Ub(16,"div",10),a.Ub(17,"mat-form-field",11),a.Ub(18,"mat-label"),a.wc(19,"Username"),a.Tb(),a.Ub(20,"input",12,13),a.cc("ngModelChange",(function(t){return e.loginModel.UserName=t})),a.Tb(),a.Ub(22,"mat-icon",14),a.wc(23,"vpn_key"),a.Tb(),a.Ub(24,"mat-hint",15),a.wc(25),a.Tb(),a.Tb(),a.Ub(26,"mat-form-field",11),a.Ub(27,"mat-label"),a.wc(28,"Password"),a.Tb(),a.Ub(29,"input",16,17),a.cc("ngModelChange",(function(t){return e.loginModel.Password=t})),a.Tb(),a.Ub(31,"mat-icon",14),a.wc(32,"security"),a.Tb(),a.Ub(33,"mat-hint",15),a.wc(34),a.Tb(),a.Tb(),a.Qb(35,"br"),a.Qb(36,"br"),a.Ub(37,"button",18),a.wc(38," LOGIN "),a.Tb(),a.Qb(39,"br"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Qb(40,"br"),a.Ub(41,"div",19),a.Ub(42,"p",20),a.wc(43," \xa9 2020 "),a.Ub(44,"b"),a.wc(45,"easycloudhr.com"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Qb(46,"div",6),a.Tb(),a.Tb()),2&t){const t=a.oc(21),n=a.oc(30);a.Db(20),a.jc("ngModel",e.loginModel.UserName)("ngModelOptions",a.kc(9,x))("disabled",e.loginDisabled),a.Db(5),a.yc("",t.value.length," / 100"),a.Db(4),a.jc("ngModel",e.loginModel.Password)("ngModelOptions",a.kc(10,x))("disabled",e.loginDisabled),a.Db(5),a.yc("",n.value.length," / 100"),a.Db(3),a.jc("disabled",e.loginDisabled)}},directives:[p.a,s.d,h.b,h.a,m.a,m.b,i.q,i.j,i.k,f.c,f.g,w.a,i.a,i.f,i.i,i.l,v.a,f.h,f.f,U.a],styles:[".login-container[_ngcontent-%COMP%]{margin-top:100px}.toolbar-fixed-top[_ngcontent-%COMP%]{position:fixed;top:0;z-index:1000;border-bottom:5px solid #742774}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})()}]}];let y=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(e){return new(e||t)},imports:[[s.e.forChild(S)],s.e]}),t})();var T=n("YUcS");let M=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(e){return new(e||t)},providers:[r],imports:[[o.b,i.e,i.n,y,p.b,v.b,U.b,m.c,w.b,f.e,u.b,T.a]]}),t})()}}]);