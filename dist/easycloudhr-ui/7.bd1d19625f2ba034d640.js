(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{SuQF:function(t,e,n){"use strict";n.r(e),n.d(e,"SecurityModule",(function(){return M}));var i=n("ofXK"),o=n("3Pt+"),s=n("tyNb"),a=n("fXoL");let r=(()=>{class t{constructor(t){this.router=t}canActivate(){return null==localStorage.getItem("access_token")||(this.router.navigate(["/software/dashboard"]),!1)}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(s.b))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac}),t})(),c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Jb({type:t,selectors:[["app-security"]],decls:1,vars:0,template:function(t,e){1&t&&a.Qb(0,"router-outlet")},directives:[s.f],styles:[""]}),t})();var b=n("XNiG"),l=n("24n0"),d=n("tk/3");let u=(()=>{class t{constructor(t,e){this.appSettings=t,this.httpClient=e,this.loginSubject=new b.a,this.loginObservable=this.loginSubject.asObservable()}login(t){this.httpClient.post(this.appSettings.defaultAPIURLHost+"/Token","username="+t.UserName+"&password="+t.Password+"&grant_type=password",this.appSettings.URLEncodedOptions).subscribe(t=>{localStorage.setItem("access_token",t.access_token),localStorage.setItem("expires_in",t.expires_in),localStorage.setItem("token_type",t.token_type),localStorage.setItem("username",t.userName),this.loginSubject.next([!0,"Login Successful."])},t=>{this.loginSubject.next([!1,t.error.error_description])})}}return t.\u0275fac=function(e){return new(e||t)(a.Yb(l.a),a.Yb(d.a))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n("dNgK"),p=n("XiUz"),h=n("Wp6s"),m=n("kmnG"),f=n("qFsG"),w=n("NFeN"),v=n("bTqV");const U=function(){return{standalone:!0}},S=[{path:"",canActivate:[r],component:c,children:[{path:"",canActivate:[r],component:c},{path:"login",canActivate:[r],component:(()=>{class t{constructor(t,e,n,i){this.loginService=t,this.router=e,this.appSettings=n,this.snackBar=i,this.loginModel={UserName:"",Password:""},this.loginDisabled=!1}login(){this.loginDisabled=!0,""===this.loginModel.UserName||""===this.loginModel.Password||(this.loginService.login(this.loginModel),this.loginSubscribe=this.loginService.loginObservable.subscribe(t=>{t[0]?(this.appSettings.snackBarSuccess(this.snackBar,"Login Successful"),setTimeout(()=>{this.router.navigate(["/software"])},500)):(this.appSettings.snackBarError(this.snackBar,t[1]),this.loginDisabled=!1),null!=this.loginSubscribe&&this.loginSubscribe.unsubscribe()}))}ngOnInit(){}ngOnDestroy(){null!=this.loginSubscribe&&this.loginSubscribe.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Pb(u),a.Pb(s.b),a.Pb(l.a),a.Pb(g.a))},t.\u0275cmp=a.Jb({type:t,selectors:[["app-login"]],decls:41,vars:11,consts:[[1,"login-container"],["fxLayout","row","fxLayout.xs","column"],["fxFlex","30",2,"margin","5px"],["fxFlex","40",2,"margin","5px"],[2,"text-align","center","width","100%"],[3,"ngSubmit"],[2,"padding","20px"],["appearance","outline",2,"width","100%"],["matInput","","maxlength","100","placeholder","Enter your username",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["text_username",""],["matSuffix",""],["align","end"],["type","password","matInput","","maxlength","100","placeholder","Enter your password",3,"ngModel","ngModelOptions","disabled","ngModelChange"],["text_password",""],["type","submit","mat-flat-button","","id","buttonLogin","color","primary",2,"width","100%","padding-top","10px","padding-bottom","10px",3,"disabled"],[2,"width","100%","text-align","center"],[2,"margin-top","5px","margin-bottom","20px","font-size","17px"]],template:function(t,e){if(1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Qb(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"mat-card"),a.Ub(5,"mat-card-content"),a.Ub(6,"div",4),a.Ub(7,"h1"),a.wc(8,"Easy Cloud HR"),a.Tb(),a.Tb(),a.Ub(9,"form",5),a.cc("ngSubmit",(function(){return e.login()})),a.Ub(10,"div",6),a.Ub(11,"mat-form-field",7),a.Ub(12,"mat-label"),a.wc(13,"Username"),a.Tb(),a.Ub(14,"input",8,9),a.cc("ngModelChange",(function(t){return e.loginModel.UserName=t})),a.Tb(),a.Ub(16,"mat-icon",10),a.wc(17,"vpn_key"),a.Tb(),a.Ub(18,"mat-hint",11),a.wc(19),a.Tb(),a.Tb(),a.Ub(20,"mat-form-field",7),a.Ub(21,"mat-label"),a.wc(22,"Password"),a.Tb(),a.Ub(23,"input",12,13),a.cc("ngModelChange",(function(t){return e.loginModel.Password=t})),a.Tb(),a.Ub(25,"mat-icon",10),a.wc(26,"security"),a.Tb(),a.Ub(27,"mat-hint",11),a.wc(28),a.Tb(),a.Tb(),a.Qb(29,"br"),a.Qb(30,"br"),a.Ub(31,"button",14),a.wc(32," LOGIN "),a.Tb(),a.Qb(33,"br"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Qb(34,"br"),a.Ub(35,"div",15),a.Ub(36,"p",16),a.wc(37," \xa9 2020 "),a.Ub(38,"b"),a.wc(39,"easycloudhr.com"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Qb(40,"div",2),a.Tb(),a.Tb()),2&t){const t=a.oc(15),n=a.oc(24);a.Db(14),a.jc("ngModel",e.loginModel.UserName)("ngModelOptions",a.kc(9,U))("disabled",e.loginDisabled),a.Db(5),a.yc("",t.value.length," / 100"),a.Db(4),a.jc("ngModel",e.loginModel.Password)("ngModelOptions",a.kc(10,U))("disabled",e.loginDisabled),a.Db(5),a.yc("",n.value.length," / 100"),a.Db(3),a.jc("disabled",e.loginDisabled)}},directives:[p.b,p.a,h.a,h.b,o.q,o.j,o.k,m.c,m.g,f.a,o.a,o.f,o.i,o.l,w.a,m.h,m.f,v.a],styles:[".login-container[_ngcontent-%COMP%]{margin-top:20px}"]}),t})()}]}];let y=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(e){return new(e||t)},imports:[[s.e.forChild(S)],s.e]}),t})();var x=n("/t3+"),T=n("YUcS");let M=(()=>{class t{}return t.\u0275mod=a.Nb({type:t}),t.\u0275inj=a.Mb({factory:function(e){return new(e||t)},providers:[r],imports:[[i.b,o.e,o.n,y,x.b,w.b,v.b,h.c,f.b,m.e,g.b,T.a]]}),t})()}}]);