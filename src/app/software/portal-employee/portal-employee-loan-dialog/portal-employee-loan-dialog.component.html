<mat-toolbar>
    <img src="../../../../assets/menu-icons/other income.png" height="35" />&nbsp;&nbsp;
    <span>{{title}}</span>
    <span class="spacer"></span>
    <button mat-raised-button style="margin: 5px;" (click)="Close()" color="warn">
        <!-- <mat-icon>close</mat-icon> -->
        Close
    </button>
</mat-toolbar>
<mat-progress-bar *ngIf="isProgressBarHidden" [color]="'primary'" [mode]="'indeterminate'" style="width: 100%;">
</mat-progress-bar>
<div class="software-container">
    <div [hidden]="!isComponentsShown">
        <div fxLayout="row" fxLayout.xs="column">
            <div fxFlex="40" style="padding: 5px;">
                <div fxLayout="row" fxLayout.xs="column">
                    <div fxFlex="30" style="padding: 5px;">
                        <p class="text_box">Loan No.: </p>
                    </div>
                    <div fxFlex="70" style="padding: 5px;">
                        <p class="text_box"><b>{{_loanModel.LNNumber}}</b> </p>
                    </div>

                </div>
                <div fxLayout="row" fxLayout.xs="column">
                    <div fxFlex="30" style="padding: 5px">
                        <p class="text_box">Date:</p>
                    </div>
                    <div fxFlex="70" style="padding: 5px">
                        <p class="text_box"><b>{{_loanModel.LDDate}}</b> </p>
                    </div>
                </div>
                <div fxLayout="row" fxLayout.xs="column">
                    <div fxFlex="30" style="padding: 5px">
                        <p class="text_box">Other Deduction:</p>
                    </div>
                    <div fxFlex="70" style="padding: 5px">
                        <p class="text_box"><b>{{_loanModel.OtherDeduction}}</b> </p>
                    </div>
                </div>
                <div fxLayout="row" fxLayout.xs="column">
                    <div fxFlex="30" style="padding: 5px;">
                        <p class="text_box">DocRef:</p>
                    </div>
                    <div fxFlex="70" style="padding: 5px;">
                        <p class="text_box"><b>{{_loanModel.DocRef}}</b> </p>
                    </div>
                </div>

            </div>
            <mat-divider [vertical]="true"></mat-divider>
            <div fxFlex="60" style="padding: 5px;">
                <div fxLayout="row" fxLayout.xs="column">
                    <div fxFlex="20" style="padding: 5px;">
                        <p class="text_box">Amortization:</p>
                    </div>
                    <div fxFlex="30" style="padding: 5px;">
                        <p class="text_box"><b>{{_loanModel.Amortization}}</b> </p>
                    </div>
                    <div fxFlex="20" style="padding: 5px;">
                        <p class="text_box">Loan Amount:</p>
                    </div>
                    <div fxFlex="30" style="padding: 5px;">
                        <p class="text_box"><b>{{_loanModel.LoanAmount}}</b> </p>
                    </div>
                </div>
                <div fxLayout="row" fxLayout.xs="column">
                    <div fxFlex="20" style="padding: 5px;">
                        <p class="text_box">PaidAmount:
                        </p>
                    </div>
                    <div fxFlex="30" style="padding: 5px;">
                        <p class="text_box"><b>{{_loanModel.PaidAmount}}</b>
                        </p>
                    </div>
                    <div fxFlex="20" style="padding: 5px;">
                        <p class="text_box">Balance Amount:</p>
                    </div>
                    <div fxFlex="30" style="padding: 5px;">
                        <p class="text_box"><b>{{_loanModel.BalanceAmount}}</b> </p>
                    </div>
                </div>
                <div fxLayout="row" fxLayout.xs="column">
                    <div fxFlex="20" style="padding: 5px;">
                        <p class="text_box">Prepared By:</p>
                    </div>
                    <div fxFlex="30" style="padding: 5px;">
                        <p class="text_box"><b>{{_loanModel.PreparedByUser}}</b> </p>
                    </div>
                    <div fxFlex="20" style="padding: 5px;">
                        <p class="text_box">Checked By:</p>
                    </div>
                    <div fxFlex="30" style="padding: 5px;">
                        <p class="text_box"><b>{{_loanModel.CheckedByUser}}</b> </p>
                    </div>
                </div>
                <div fxLayout="row" fxLayout.xs="column">
                    <div fxFlex="20" style="padding: 5px;">
                        <p class="text_box">Approved By:</p>
                    </div>
                    <div fxFlex="30" style="padding: 5px;">
                        <p class="text_box"><b>{{_loanModel.ApprovedByUser}}</b> </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Tabs -->
    <div fxLayout="row" fxLayout.xs="column">
        <div fxFlex="100" style="padding: 5px;">
            <mat-tab-group #tabGroup (selectedTabChange)="activeTab()" style="max-height:100%;">
                <mat-tab label="Payments">
                    <br>
                    <div style="height: 10em;">
                        <mat-progress-bar *ngIf="_isLoanPaymentProgressBarHidden" [color]="'primary'"
                            [mode]="'indeterminate'">
                        </mat-progress-bar>
                        <wj-flex-grid #flexLoanPayment [itemsSource]="_listLoanPaymentCollectionView"
                            [selectionMode]="3" [frozenColumns]="2" [headersVisibility]="1">
                            <wj-flex-grid-filter></wj-flex-grid-filter>
                            <wj-flex-grid-column [header]="'Payroll No.'" [binding]="'PAYNumber'" [isReadOnly]="true"
                                [width]="'2*'">
                            </wj-flex-grid-column>
                            <wj-flex-grid-column [header]="'Payroll Other Deduction No.'" [binding]="'PDNumber'"
                                [isReadOnly]="true" [width]="'2*'">
                            </wj-flex-grid-column>
                            <wj-flex-grid-column [header]="'Amount'" [binding]="'Amount'" [isReadOnly]="true"
                                [width]="'2*'">
                            </wj-flex-grid-column>
                        </wj-flex-grid>
                    </div>
                </mat-tab>
                <mat-tab label="Remarks">
                    <br>
                    <div style="height: 10em;">
                        <div fxLayout="row" fxLayout.xs="column">
                            <div fxFlex="10" style="padding: 5px;">
                                <p class="text_box">Remarks:</p>
                            </div>
                            <div fxFlex="80" style="padding: 5px;">
                                <p class="text_box"><b>{{_loanModel.Remarks}}</b> </p>
                            </div>
                        </div>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
    <mat-divider></mat-divider>
    <div fxLayout="row" fxLayout.xs="column" style="color: gray;">
        <div fxFlex="50" style="padding: 5px;">
            <div fxLayout="row" fxLayout.xs="column">
                <div fxFlex="13">
                    <mat-label class="text-create-update">Created By:</mat-label>
                </div>
                <div fxFlex="37">
                    <mat-label class="text-create-update">{{_loanModel.CreatedByUser}}</mat-label>
                </div>
                <div fxFlex="20">
                    <mat-label class="text-create-update">Created DateTime:</mat-label>
                </div>
                <div fxFlex="30">
                    <mat-label class="text-create-update">{{_loanModel.CreatedDateTime}}</mat-label>
                </div>
            </div>
        </div>
        <div fxFlex="50">
            <div fxLayout="row" fxLayout.xs="column">
                <div fxFlex="13">
                    <mat-label class="text-create-update">Updated By:</mat-label>
                </div>
                <div fxFlex="37">
                    <mat-label class="text-create-update">{{_loanModel.UpdatedByUser}}</mat-label>
                </div>
                <div fxFlex="20">
                    <mat-label class="text-create-update">Updated DateTime:</mat-label>
                </div>
                <div fxFlex="30">
                    <mat-label class="text-create-update">{{_loanModel.UpdatedDateTime}}</mat-label>
                </div>
            </div>
        </div>
    </div>
</div>